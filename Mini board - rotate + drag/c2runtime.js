// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';function w(){return function(){}}function aa(k){return function(n){this[k]=n}}function G(k){return function(){return this[k]}}function H(k){return function(){return k}}var ba,ca,ia,ja,ka,I,L,la,ma,na,oa,pa,N,qa,ra,sa,ta,ua,va,wa,xa,ya,P,za,Aa,Ba,Ca,Da,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La,Q,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,S,Hb,Ib={},Jb={};
"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(k){return k.__proto__}:function(k){return k.constructor.prototype});
(function(){function k(b,a,c,r){this.set(b,a,c,r)}function n(){this.gc=this.fc=this.ic=this.hc=this.xc=this.wc=this.nb=this.lb=0}function d(a,c,r,e){a<c?r<e?(h=a<r?a:r,b=c>e?c:e):(h=a<e?a:e,b=c>r?c:r):r<e?(h=c<r?c:r,b=a>e?a:e):(h=c<e?c:e,b=a>r?a:r)}function g(){this.q=this.$c=null;this.sf=0;r&&(this.$c=new Set);this.Pf=[];this.Pd=!0}function l(b){u[C++]=b}function a(){this.wb=this.Li=this.y=this.zj=0}function c(b){this.Ff=[];this.qm=this.tm=this.um=this.rm=0;this.ah(b)}function e(b,a){this.uq=b;this.tq=
a;this.cells={}}function m(b,a,c){var r;return y.length?(r=y.pop(),r.gs=b,r.x=a,r.y=c,r):new ca(b,a,c)}function f(b,a,c){this.gs=b;this.x=a;this.y=c;this.ri=new ia}ja=function(b){window.console&&window.console.log&&window.console.log(b)};ba=function(b){return b};ka=function(b){return"undefined"===typeof b};I=function(b){return"number"===typeof b};L=function(b){return"string"===typeof b};la=function(b){return 0<b&&0===(b-1&b)};ma=function(b){--b;for(var a=1;32>a;a<<=1)b|=b>>a;return b+1};na=function(b){return 0>
b?-b:b};oa=function(b,a){return b<a?b:a};pa=Math.PI;N=function(b){return 0<=b?b|0:(b|0)-1};qa=function(b){var a=b|0;return a===b?a:a+1};ra=function(b,a,c,r,e,t,h,f){var u,v,d,m;b<c?(v=b,u=c):(v=c,u=b);e<h?(m=e,d=h):(m=h,d=e);if(u<m||v>d)return!1;a<r?(v=a,u=r):(v=r,u=a);t<f?(m=t,d=f):(m=f,d=t);if(u<m||v>d)return!1;u=e-b+h-c;v=t-a+f-r;b=c-b;a=r-a;e=h-e;t=f-t;f=na(a*e-t*b);return na(e*v-t*u)>f?!1:na(b*v-a*u)<=f};k.prototype.set=function(b,a,c,r){this.left=b;this.top=a;this.right=c;this.bottom=r};k.prototype.copy=
function(b){this.left=b.left;this.top=b.top;this.right=b.right;this.bottom=b.bottom};k.prototype.width=function(){return this.right-this.left};k.prototype.height=function(){return this.bottom-this.top};k.prototype.offset=function(b,a){this.left+=b;this.top+=a;this.right+=b;this.bottom+=a;return this};k.prototype.normalize=function(){var b=0;this.left>this.right&&(b=this.left,this.left=this.right,this.right=b);this.top>this.bottom&&(b=this.top,this.top=this.bottom,this.bottom=b)};k.prototype.Tb=function(b,
a){return b>=this.left&&b<=this.right&&a>=this.top&&a<=this.bottom};k.prototype.Yq=function(b){return this.left===b.left&&this.top===b.top&&this.right===b.right&&this.bottom===b.bottom};sa=k;n.prototype.Hi=function(b){this.lb=b.left;this.nb=b.top;this.wc=b.right;this.xc=b.top;this.hc=b.right;this.ic=b.bottom;this.fc=b.left;this.gc=b.bottom};n.prototype.Ao=function(b,a){if(0===a)this.Hi(b);else{var c=Math.sin(a),r=Math.cos(a),e=b.left*c,t=b.top*c,h=b.right*c,c=b.bottom*c,f=b.left*r,u=b.top*r,v=b.right*
r,r=b.bottom*r;this.lb=f-t;this.nb=u+e;this.wc=v-t;this.xc=u+h;this.hc=v-c;this.ic=r+h;this.fc=f-c;this.gc=r+e}};n.prototype.offset=function(b,a){this.lb+=b;this.nb+=a;this.wc+=b;this.xc+=a;this.hc+=b;this.ic+=a;this.fc+=b;this.gc+=a;return this};var h=0,b=0;n.prototype.wm=function(a){d(this.lb,this.wc,this.hc,this.fc);a.left=h;a.right=b;d(this.nb,this.xc,this.ic,this.gc);a.top=h;a.bottom=b};n.prototype.Tb=function(b,a){var c=this.wc-this.lb,r=this.xc-this.nb,e=this.hc-this.lb,t=this.ic-this.nb,h=
b-this.lb,f=a-this.nb,u=c*c+r*r,v=c*e+r*t,r=c*h+r*f,d=e*e+t*t,m=e*h+t*f,p=1/(u*d-v*v),c=(d*r-v*m)*p,u=(u*m-v*r)*p;if(0<=c&&0<u&&1>c+u)return!0;c=this.fc-this.lb;r=this.gc-this.nb;u=c*c+r*r;v=c*e+r*t;r=c*h+r*f;p=1/(u*d-v*v);c=(d*r-v*m)*p;u=(u*m-v*r)*p;return 0<=c&&0<u&&1>c+u};ta=n;ua=function(b,a){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b};va=function(b,a){var c,r;a=N(a);if(!(0>a||a>=b.length)){c=a;for(r=b.length-1;c<r;c++)b[c]=b[c+1];b.length=r}};wa=function(b,a){b.length=a.length;
var c,r;c=0;for(r=a.length;c<r;c++)b[c]=a[c]};xa=function(b,a){var c,r;c=0;for(r=b.length;c<r;++c)if(b[c]===a)return c;return-1};ya=function(b,a){var c=xa(b,a);-1!==c&&va(b,c)};P=function(b){return b/(180/pa)};za=function(b){return b*(180/pa)};Aa=function(b){b%=360;0>b&&(b+=360);return b};Ba=function(b){b%=2*pa;0>b&&(b+=2*pa);return b};Ca=function(b){return Aa(za(b))};Da=function(b){return Ba(P(b))};Ea=function(b,a,c,r){return Math.atan2(r-a,c-b)};Fa=function(b,a){if(b===a)return 0;var c=Math.sin(b),
r=Math.cos(b),e=Math.sin(a),t=Math.cos(a),c=c*e+r*t;return 1<=c?0:-1>=c?pa:Math.acos(c)};Ga=function(b,a,c){var r=Math.sin(b),e=Math.cos(b),t=Math.sin(a),h=Math.cos(a);return Math.acos(r*t+e*h)>c?0<e*t-r*h?Ba(b+c):Ba(b-c):Ba(a)};Ha=function(b,a){var c=Math.sin(b),r=Math.cos(b),e=Math.sin(a),t=Math.cos(a);return 0>=r*e-c*t};Ia=function(b,a,c,r){b=c-b;a=r-a;return Math.sqrt(b*b+a*a)};Ja=function(b,a){return!b!==!a};Ka=function(b){for(var a in b)if(b.hasOwnProperty(a))return!0;return!1};La=function(b){for(var a in b)b.hasOwnProperty(a)&&
delete b[a]};var p=+new Date;Q=function(){if("undefined"!==typeof window.performance){var b=window.performance;if("undefined"!==typeof b.now)return b.now();if("undefined"!==typeof b.webkitNow)return b.webkitNow();if("undefined"!==typeof b.mozNow)return b.mozNow();if("undefined"!==typeof b.msNow)return b.msNow()}return Date.now()-p};var q=!1,s=q=!1,t=!1;"undefined"!==typeof window&&(q=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),q=!q&&/safari/i.test(navigator.userAgent),
s=/(iphone|ipod|ipad)/i.test(navigator.userAgent),t=window.c2ejecta);var r=!q&&!t&&!s&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;g.prototype.contains=function(b){return this.Ec()?!1:r?this.$c.has(b):this.q&&this.q.hasOwnProperty(b)};g.prototype.add=function(b){if(r)this.$c.has(b)||(this.$c.add(b),this.Pd=!1);else{var a=b.toString(),c=this.q;c?c.hasOwnProperty(a)||(c[a]=b,this.sf++,this.Pd=!1):(this.q={},this.q[a]=b,this.sf=1,this.Pd=!1)}};g.prototype.remove=function(b){if(!this.Ec())if(r)this.$c.has(b)&&
(this.$c["delete"](b),this.Pd=!1);else if(this.q){b=b.toString();var a=this.q;a.hasOwnProperty(b)&&(delete a[b],this.sf--,this.Pd=!1)}};g.prototype.clear=function(){this.Ec()||(r?this.$c.clear():(this.q=null,this.sf=0),this.Pf.length=0,this.Pd=!0)};g.prototype.Ec=function(){return 0===this.count()};g.prototype.count=function(){return r?this.$c.size:this.sf};var u=null,C=0;g.prototype.Ct=function(){if(!this.Pd){if(r)this.Pf.length=this.$c.size,u=this.Pf,C=0,this.$c.forEach(l),u=null,C=0;else{var b=
this.Pf;b.length=this.sf;var a,c=0,e=this.q;if(e)for(a in e)e.hasOwnProperty(a)&&(b[c++]=e[a])}this.Pd=!0}};g.prototype.Of=function(){this.Ct();return this.Pf};ia=g;new ia;a.prototype.add=function(b){this.y=b-this.zj;this.Li=this.wb+this.y;this.zj=this.Li-this.wb-this.y;this.wb=this.Li};a.prototype.reset=function(){this.wb=this.Li=this.y=this.zj=0};Ma=a;Na=function(b){return b.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};c.prototype.ah=function(b){this.oo=b;this.yi=b.length/2;this.Ff.length=b.length;
this.Aj=this.Bj=-1;this.ym=0};c.prototype.$h=function(){return!this.oo.length};c.prototype.Oa=function(){for(var b=this.Ff,a=b[0],c=a,r=b[1],e=r,t,h,f=1,u=this.yi;f<u;++f)h=2*f,t=b[h],h=b[h+1],t<a&&(a=t),t>c&&(c=t),h<r&&(r=h),h>e&&(e=h);this.rm=a;this.tm=c;this.um=r;this.qm=e};c.prototype.Hi=function(b,a,c){this.Ff.length=8;this.yi=4;var r=this.Ff;r[0]=b.left-a;r[1]=b.top-c;r[2]=b.right-a;r[3]=b.top-c;r[4]=b.right-a;r[5]=b.bottom-c;r[6]=b.left-a;r[7]=b.bottom-c;this.Bj=b.right-b.left;this.Aj=b.bottom-
b.top;this.Oa()};c.prototype.sq=function(b,a,c){if(this.Bj!==b||this.Aj!==a||this.ym!==c){this.Bj=b;this.Aj=a;this.ym=c;var r,e,t,h,f,u=0,v=1,d=this.oo,m=this.Ff;0!==c&&(u=Math.sin(c),v=Math.cos(c));c=0;for(t=this.yi;c<t;c++)r=2*c,e=r+1,h=d[r]*b,f=d[e]*a,m[r]=h*v-f*u,m[e]=f*v+h*u;this.Oa()}};c.prototype.Tb=function(b,a){var c=this.Ff;if(b===c[0]&&a===c[1])return!0;var r,e,t,h=this.yi,f=this.rm-110,u=this.um-101,v=this.tm+131,d=this.qm+120,m,p,q=0,C=0;for(r=0;r<h;r++)e=2*r,t=2*((r+1)%h),m=c[e],e=c[e+
1],p=c[t],t=c[t+1],ra(f,u,b,a,m,e,p,t)&&q++,ra(v,d,b,a,m,e,p,t)&&C++;return 1===q%2||1===C%2};Oa=c;e.prototype.Ym=function(b,a,c){var r;r=this.cells[b];return r?(r=r[a])?r:c?(r=m(this,b,a),this.cells[b][a]=r):null:c?(r=m(this,b,a),this.cells[b]={},this.cells[b][a]=r):null};e.prototype.Zl=function(b){return N(b/this.uq)};e.prototype.cm=function(b){return N(b/this.tq)};e.prototype.update=function(b,a,c){var r,e,t,h,f;if(a)for(r=a.left,e=a.right;r<=e;++r)for(t=a.top,h=a.bottom;t<=h;++t)if(!c||!c.Tb(r,
t))if(f=this.Ym(r,t,!1))f.remove(b),f.Ec()&&(f.ri.clear(),1E3>y.length&&y.push(f),this.cells[r][t]=null);if(c)for(r=c.left,e=c.right;r<=e;++r)for(t=c.top,h=c.bottom;t<=h;++t)a&&a.Tb(r,t)||this.Ym(r,t,!0).ns(b)};Pa=e;var y=[];f.prototype.Ec=function(){return this.ri.Ec()};f.prototype.ns=function(b){this.ri.add(b)};f.prototype.remove=function(b){this.ri.remove(b)};ca=f;var v="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");
Qa=function(b){return 0>=b||11<=b?"source-over":v[b-1]};Ra=function(b,a,c){if(c)switch(b.eb=c.ONE,b.Za=c.ONE_MINUS_SRC_ALPHA,a){case 1:b.eb=c.ONE;b.Za=c.ONE;break;case 3:b.eb=c.ONE;b.Za=c.ZERO;break;case 4:b.eb=c.ONE_MINUS_DST_ALPHA;b.Za=c.ONE;break;case 5:b.eb=c.DST_ALPHA;b.Za=c.ZERO;break;case 6:b.eb=c.ZERO;b.Za=c.SRC_ALPHA;break;case 7:b.eb=c.ONE_MINUS_DST_ALPHA;b.Za=c.ZERO;break;case 8:b.eb=c.ZERO;b.Za=c.ONE_MINUS_SRC_ALPHA;break;case 9:b.eb=c.DST_ALPHA;b.Za=c.ONE_MINUS_SRC_ALPHA;break;case 10:b.eb=
c.ONE_MINUS_DST_ALPHA,b.Za=c.SRC_ALPHA}};Sa=function(b){return Math.round(1E6*b)/1E6};Ta=function(b,a){return"string"!==typeof b||"string"!==typeof a||b.length!==a.length?!1:b===a?!0:b.toLowerCase()===a.toLowerCase()};Ua=function(b){b=b.target;return!b||b===document||b===window||document&&document.body&&b===document.body||Ta(b.tagName,"canvas")?!0:!1}})();var Kb="undefined"!==typeof Float32Array?Float32Array:Array;function Lb(k){var n=new Kb(3);k&&(n[0]=k[0],n[1]=k[1],n[2]=k[2]);return n}
function Mb(k){var n=new Kb(16);k&&(n[0]=k[0],n[1]=k[1],n[2]=k[2],n[3]=k[3],n[4]=k[4],n[5]=k[5],n[6]=k[6],n[7]=k[7],n[8]=k[8],n[9]=k[9],n[10]=k[10],n[11]=k[11],n[12]=k[12],n[13]=k[13],n[14]=k[14],n[15]=k[15]);return n}function Nb(k,n){n[0]=k[0];n[1]=k[1];n[2]=k[2];n[3]=k[3];n[4]=k[4];n[5]=k[5];n[6]=k[6];n[7]=k[7];n[8]=k[8];n[9]=k[9];n[10]=k[10];n[11]=k[11];n[12]=k[12];n[13]=k[13];n[14]=k[14];n[15]=k[15]}
function Ob(k,n){var d=n[0],g=n[1];n=n[2];k[0]*=d;k[1]*=d;k[2]*=d;k[3]*=d;k[4]*=g;k[5]*=g;k[6]*=g;k[7]*=g;k[8]*=n;k[9]*=n;k[10]*=n;k[11]*=n}
function Pb(k,n,d,g){g||(g=Mb());var l,a,c,e,m,f,h,b,p=k[0],q=k[1];k=k[2];a=d[0];c=d[1];l=d[2];d=n[1];f=n[2];p===n[0]&&q===d&&k===f?(k=g,k[0]=1,k[1]=0,k[2]=0,k[3]=0,k[4]=0,k[5]=1,k[6]=0,k[7]=0,k[8]=0,k[9]=0,k[10]=1,k[11]=0,k[12]=0,k[13]=0,k[14]=0,k[15]=1):(d=p-n[0],f=q-n[1],h=k-n[2],b=1/Math.sqrt(d*d+f*f+h*h),d*=b,f*=b,h*=b,n=c*h-l*f,l=l*d-a*h,a=a*f-c*d,(b=Math.sqrt(n*n+l*l+a*a))?(b=1/b,n*=b,l*=b,a*=b):a=l=n=0,c=f*a-h*l,e=h*n-d*a,m=d*l-f*n,(b=Math.sqrt(c*c+e*e+m*m))?(b=1/b,c*=b,e*=b,m*=b):m=e=c=0,
g[0]=n,g[1]=c,g[2]=d,g[3]=0,g[4]=l,g[5]=e,g[6]=f,g[7]=0,g[8]=a,g[9]=m,g[10]=h,g[11]=0,g[12]=-(n*p+l*q+a*k),g[13]=-(c*p+e*q+m*k),g[14]=-(d*p+f*q+h*k),g[15]=1)}
(function(){function k(a){this.De=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.zm=Lb([0,0,100]);this.Hn=Lb([0,0,0]);this.To=Lb([0,1,0]);this.zl=Lb([1,1,1]);this.Nm=!0;this.Hk=Mb();this.rc=Mb();this.yn=Mb();this.Ij=Mb();this.k=a;this.mn()}function n(a,c,e){this.k=a;this.bh=c;this.name=e;this.pc=a.getAttribLocation(c,"aPos");this.Zd=a.getAttribLocation(c,"aTex");this.Fn=a.getUniformLocation(c,"matP");this.mi=a.getUniformLocation(c,"matMV");this.wf=
a.getUniformLocation(c,"opacity");this.Gn=a.getUniformLocation(c,"samplerFront");this.Jg=a.getUniformLocation(c,"samplerBack");this.Je=a.getUniformLocation(c,"destStart");this.Ie=a.getUniformLocation(c,"destEnd");this.Ek=a.getUniformLocation(c,"seconds");this.Dk=a.getUniformLocation(c,"pixelWidth");this.Ck=a.getUniformLocation(c,"pixelHeight");this.Ig=a.getUniformLocation(c,"layerScale");this.Hg=a.getUniformLocation(c,"layerAngle");this.Kg=a.getUniformLocation(c,"viewOrigin");this.ks=!!(this.Dk||
this.Ck||this.Ek||this.Jg||this.Je||this.Ie||this.Ig||this.Hg||this.Kg);this.Pn=this.Qn=-999;this.pi=1;this.Mn=this.Ln=0;this.On=this.Kn=this.Jn=1;this.Sn=this.Rn=this.Nn=0;this.xk=[];this.bb=Mb();this.wf&&a.uniform1f(this.wf,1);this.Gn&&a.uniform1i(this.Gn,0);this.Jg&&a.uniform1i(this.Jg,1);this.Je&&a.uniform2f(this.Je,0,0);this.Ie&&a.uniform2f(this.Ie,1,1);this.Ig&&a.uniform1f(this.Ig,1);this.Hg&&a.uniform1f(this.Hg,0);this.Kg&&a.uniform2f(this.Kg,0,0);this.ze=!1}function d(a,c){this.type=a;this.B=
c;this.k=c.k;this.Xc=this.uc=this.eo=0;this.ba=this.Nc=null;this.Bo=[]}k.prototype.mn=function(){var a=this.k,c;this.zn=1;this.Fe=this.Xd=null;this.Eh=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.DEPTH_TEST);this.An=a.ONE;this.xn=a.ONE_MINUS_SRC_ALPHA;this.Vk=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Vk);this.mh=Array(4);this.gh=Array(4);for(c=0;4>c;c++)this.mh[c]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,
this.mh[c]),this.gh[c]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.gh[c]);this.od=0;this.ms=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.ms);this.yl=new Float32Array(16E3);this.nl=new Float32Array(16E3);this.Qs=new Float32Array(32E3);for(var e=new Uint16Array(12E3),d=c=0;12E3>c;)e[c++]=d,e[c++]=d+1,e[c++]=d+2,e[c++]=d,e[c++]=d+2,e[c++]=d+3,d+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,e,a.STATIC_DRAW);this.Wk=this.gd=0;this.Ga=[];c=this.Hj({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}","<default>");this.Ga.push(c);c=this.Hj({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}",
"<point>");this.Ga.push(c);for(var f in Qb)Qb.hasOwnProperty(f)&&this.Ga.push(this.Hj(Qb[f],"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",f));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.Od=[];this.md=0;this.Cb=!1;this.Gm=this.Bg=-1;this.lg=null;this.Ar=a.createFramebuffer();this.so=
null;this.le=Lb([0,0,0]);this.Tn=a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1];2048<this.Tn&&(this.Tn=2048);this.bd(0)};n.prototype.ul=function(a){if(this.bb[0]!==a[0]||this.bb[1]!==a[1]||this.bb[2]!==a[2]||this.bb[3]!==a[3]||this.bb[4]!==a[4]||this.bb[5]!==a[5]||this.bb[6]!==a[6]||this.bb[7]!==a[7]||this.bb[8]!==a[8]||this.bb[9]!==a[9]||this.bb[10]!==a[10]||this.bb[11]!==a[11]||this.bb[12]!==a[12]||this.bb[13]!==a[13]||this.bb[14]!==a[14]||this.bb[15]!==a[15])Nb(a,this.bb),this.k.uniformMatrix4fv(this.mi,
!1,a)};k.prototype.Hj=function(a,c,e){var d=this.k,f=d.createShader(d.FRAGMENT_SHADER);d.shaderSource(f,a.src);d.compileShader(f);if(!d.getShaderParameter(f,d.COMPILE_STATUS))return d.deleteShader(f),null;var h=d.createShader(d.VERTEX_SHADER);d.shaderSource(h,c);d.compileShader(h);if(!d.getShaderParameter(h,d.COMPILE_STATUS))return d.deleteShader(f),d.deleteShader(h),null;c=d.createProgram();d.attachShader(c,f);d.attachShader(c,h);d.linkProgram(c);if(!d.getProgramParameter(c,d.LINK_STATUS))return d.deleteShader(f),
d.deleteShader(h),d.deleteProgram(c),null;d.useProgram(c);d.deleteShader(f);d.deleteShader(h);e=new n(d,c,e);e.Sj=a.Sj||0;e.Tj=a.Tj||0;e.Fm=!!a.Fm;e.mm=!!a.mm;e.I=a.I||[];a=0;for(f=e.I.length;a<f;a++)e.I[a][1]=d.getUniformLocation(c,e.I[a][0]),e.xk.push(0),d.uniform1f(e.I[a][1],0);return e};k.prototype.bk=function(a){var c,e;c=0;for(e=this.Ga.length;c<e;c++)if(this.Ga[c].name===a)return c;return-1};k.prototype.no=function(a,c,e){var d=this.rc,f=this.Hk,h=[0,0,0,0,0,0,0,0];h[0]=d[0]*a+d[4]*c+d[12];
h[1]=d[1]*a+d[5]*c+d[13];h[2]=d[2]*a+d[6]*c+d[14];h[3]=d[3]*a+d[7]*c+d[15];h[4]=f[0]*h[0]+f[4]*h[1]+f[8]*h[2]+f[12]*h[3];h[5]=f[1]*h[0]+f[5]*h[1]+f[9]*h[2]+f[13]*h[3];h[6]=f[2]*h[0]+f[6]*h[1]+f[10]*h[2]+f[14]*h[3];h[7]=-h[2];0!==h[7]&&(h[7]=1/h[7],h[4]*=h[7],h[5]*=h[7],h[6]*=h[7],e[0]=(0.5*h[4]+0.5)*this.width,e[1]=(0.5*h[5]+0.5)*this.height)};k.prototype.Jf=function(a,c,e){if(this.width!==a||this.height!==c||e){this.Sd();this.width=a;this.height=c;this.k.viewport(0,0,a,c);c=a/c;var d=this.Hk,f;f=
1*Math.tan(45*Math.PI/360);c*=f;a=-c;e=-f;d||(d=Mb());var h=c-a,b=f-e;d[0]=2/h;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=2/b;d[6]=0;d[7]=0;d[8]=(c+a)/h;d[9]=(f+e)/b;d[10]=-1001/999;d[11]=-1;d[12]=0;d[13]=0;d[14]=-2E3/999;d[15]=0;Pb(this.zm,this.Hn,this.To,this.rc);a=[0,0];c=[0,0];this.no(0,0,a);this.no(1,1,c);this.zl[0]=1/(c[0]-a[0]);this.zl[1]=-1/(c[1]-a[1]);a=0;for(c=this.Ga.length;a<c;a++)e=this.Ga[a],e.ze=!1,e.Fn&&(this.k.useProgram(e.bh),this.k.uniformMatrix4fv(e.Fn,!1,this.Hk));this.k.useProgram(this.Ga[this.Bg].bh);
this.k.bindTexture(this.k.TEXTURE_2D,null);this.k.activeTexture(this.k.TEXTURE1);this.k.bindTexture(this.k.TEXTURE_2D,null);this.k.activeTexture(this.k.TEXTURE0);this.Fe=this.Xd=null}};k.prototype.Zc=function(){Pb(this.zm,this.Hn,this.To,this.rc);Ob(this.rc,this.zl)};k.prototype.translate=function(a,c){if(0!==a||0!==c){this.le[0]=a;this.le[1]=c;this.le[2]=0;var e=this.rc,d=this.le,f=d[0],h=d[1],d=d[2];e[12]=e[0]*f+e[4]*h+e[8]*d+e[12];e[13]=e[1]*f+e[5]*h+e[9]*d+e[13];e[14]=e[2]*f+e[6]*h+e[10]*d+e[14];
e[15]=e[3]*f+e[7]*h+e[11]*d+e[15]}};k.prototype.scale=function(a,c){if(1!==a||1!==c)this.le[0]=a,this.le[1]=c,this.le[2]=1,Ob(this.rc,this.le)};k.prototype.fl=function(a){if(0!==a){var c=this.rc,e,d=Math.sin(a);a=Math.cos(a);var f=c[0],h=c[1],b=c[2],p=c[3],q=c[4],g=c[5],t=c[6],r=c[7];e?c!==e&&(e[8]=c[8],e[9]=c[9],e[10]=c[10],e[11]=c[11],e[12]=c[12],e[13]=c[13],e[14]=c[14],e[15]=c[15]):e=c;e[0]=f*a+q*d;e[1]=h*a+g*d;e[2]=b*a+t*d;e[3]=p*a+r*d;e[4]=f*-d+q*a;e[5]=h*-d+g*a;e[6]=b*-d+t*a;e[7]=p*-d+r*a}};
k.prototype.ed=function(){for(var a=!1,c=0;16>c;c++)if(this.yn[c]!==this.rc[c]){a=!0;break}a&&(a=this.Lc(),a.type=5,a.ba?Nb(this.rc,a.ba):a.ba=Mb(this.rc),Nb(this.rc,this.yn),this.Cb=!1)};d.prototype.Mq=function(){this.k.bindTexture(this.k.TEXTURE_2D,this.Nc)};d.prototype.Nq=function(){var a=this.k;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.Nc);a.activeTexture(a.TEXTURE0)};d.prototype.Jq=function(){var a=this.eo,c=this.B;c.Eh=a;c=c.lg;c.wf&&c.pi!==a&&(c.pi=a,this.k.uniform1f(c.wf,
a))};d.prototype.Gq=function(){this.k.drawElements(this.k.TRIANGLES,this.Xc,this.k.UNSIGNED_SHORT,2*this.uc)};d.prototype.Iq=function(){this.k.blendFunc(this.uc,this.Xc)};d.prototype.Oq=function(){var a,c,e,d=this.B.Ga,f=this.B.Gm;a=0;for(c=d.length;a<c;a++)e=d[a],a===f&&e.mi?(e.ul(this.ba),e.ze=!0):e.ze=!1;Nb(this.ba,this.B.Ij)};d.prototype.Hq=function(){var a=this.k,c=this.B;this.Nc?(c.Fe===this.Nc&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),c.Fe=null,a.activeTexture(a.TEXTURE0)),
a.bindFramebuffer(a.FRAMEBUFFER,c.Ar),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.Nc,0)):(a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};d.prototype.Eq=function(){var a=this.k;0===this.uc?(a.clearColor(this.ba[0],this.ba[1],this.ba[2],this.ba[3]),a.clear(a.COLOR_BUFFER_BIT)):(a.enable(a.SCISSOR_TEST),a.scissor(this.ba[0],this.ba[1],this.ba[2],this.ba[3]),a.clearColor(0,0,0,0),a.clear(this.k.COLOR_BUFFER_BIT),
a.disable(a.SCISSOR_TEST))};d.prototype.Fq=function(){var a=this.k,c=this.B,e=c.Ga[1];a.useProgram(e.bh);!e.ze&&e.mi&&(e.ul(c.Ij),e.ze=!0);a.enableVertexAttribArray(e.pc);a.bindBuffer(a.ARRAY_BUFFER,c.Vk);a.vertexAttribPointer(e.pc,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.uc/4,this.Xc);e=c.lg;a.useProgram(e.bh);0<=e.pc&&(a.enableVertexAttribArray(e.pc),a.bindBuffer(a.ARRAY_BUFFER,c.mh[c.od]),a.vertexAttribPointer(e.pc,2,a.FLOAT,!1,0,0));0<=e.Zd&&(a.enableVertexAttribArray(e.Zd),a.bindBuffer(a.ARRAY_BUFFER,
c.gh[c.od]),a.vertexAttribPointer(e.Zd,2,a.FLOAT,!1,0,0))};d.prototype.Kq=function(){var a=this.k,c=this.B,e=c.Ga[this.uc];c.Gm=this.uc;c.lg=e;a.useProgram(e.bh);!e.ze&&e.mi&&(e.ul(c.Ij),e.ze=!0);e.wf&&e.pi!==c.Eh&&(e.pi=c.Eh,a.uniform1f(e.wf,c.Eh));0<=e.pc&&(a.enableVertexAttribArray(e.pc),a.bindBuffer(a.ARRAY_BUFFER,c.mh[c.od]),a.vertexAttribPointer(e.pc,2,a.FLOAT,!1,0,0));0<=e.Zd&&(a.enableVertexAttribArray(e.Zd),a.bindBuffer(a.ARRAY_BUFFER,c.gh[c.od]),a.vertexAttribPointer(e.Zd,2,a.FLOAT,!1,0,
0))};d.prototype.Lq=function(){var a,c,e=this.B.lg,d=this.k;a=this.ba;e.Jg&&this.B.Fe!==this.Nc&&(d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,this.Nc),this.B.Fe=this.Nc,d.activeTexture(d.TEXTURE0));var f=a[0];e.Dk&&f!==e.Qn&&(e.Qn=f,d.uniform1f(e.Dk,f));f=a[1];e.Ck&&f!==e.Pn&&(e.Pn=f,d.uniform1f(e.Ck,f));f=a[2];c=a[3];!e.Je||f===e.Ln&&c===e.Mn||(e.Ln=f,e.Mn=c,d.uniform2f(e.Je,f,c));f=a[4];c=a[5];!e.Ie||f===e.Jn&&c===e.Kn||(e.Jn=f,e.Kn=f,d.uniform2f(e.Ie,f,c));f=a[6];e.Ig&&f!==e.On&&(e.On=
f,d.uniform1f(e.Ig,f));f=a[7];e.Hg&&f!==e.Nn&&(e.Nn=f,d.uniform1f(e.Hg,f));f=a[8];c=a[9];!e.Kg||f===e.Rn&&f===e.Sn||(e.Rn=f,e.Sn=c,d.uniform2f(e.Kg,f,c));e.Ek&&d.uniform1f(e.Ek,Q()/1E3);if(e.I.length)for(a=0,c=e.I.length;a<c;a++)f=this.Bo[a],f!==e.xk[a]&&(e.xk[a]=f,d.uniform1f(e.I[a][1],f))};k.prototype.Lc=function(){this.md===this.Od.length&&this.Od.push(new d(0,this));return this.Od[this.md++]};k.prototype.Sd=function(){if(0!==this.md&&!this.k.isContextLost()){var a=this.k;0<this.Wk&&(a.bindBuffer(a.ARRAY_BUFFER,
this.Vk),a.bufferData(a.ARRAY_BUFFER,this.Qs.subarray(0,this.Wk),a.STREAM_DRAW),c&&0<=c.pc&&"<point>"===c.name&&a.vertexAttribPointer(c.pc,4,a.FLOAT,!1,0,0));if(0<this.gd){var c=this.lg;a.bindBuffer(a.ARRAY_BUFFER,this.mh[this.od]);a.bufferData(a.ARRAY_BUFFER,this.yl.subarray(0,this.gd),a.STREAM_DRAW);c&&0<=c.pc&&"<point>"!==c.name&&a.vertexAttribPointer(c.pc,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.gh[this.od]);a.bufferData(a.ARRAY_BUFFER,this.nl.subarray(0,this.gd),a.STREAM_DRAW);c&&0<=
c.Zd&&"<point>"!==c.name&&a.vertexAttribPointer(c.Zd,2,a.FLOAT,!1,0,0)}for(var e,a=0,c=this.md;a<c;a++)switch(e=this.Od[a],e.type){case 1:e.Gq();break;case 2:e.Mq();break;case 3:e.Jq();break;case 4:e.Iq();break;case 5:e.Oq();break;case 6:e.Hq();break;case 7:e.Eq();break;case 8:e.Fq();break;case 9:e.Kq();break;case 10:e.Lq();break;case 11:e.Nq()}this.Wk=this.gd=this.md=0;this.Cb=!1;this.od++;4<=this.od&&(this.od=0)}};k.prototype.Hf=function(a){if(a!==this.zn){var c=this.Lc();c.type=3;this.zn=c.eo=
a;this.Cb=!1}};k.prototype.Yb=function(a){if(a!==this.Xd){var c=this.Lc();c.type=2;this.Xd=c.Nc=a;this.Cb=!1}};k.prototype.he=function(a,c){if(a!==this.An||c!==this.xn){var e=this.Lc();e.type=4;e.uc=a;e.Xc=c;this.An=a;this.xn=c;this.Cb=!1}};k.prototype.yo=function(){this.he(this.k.ONE,this.k.ONE_MINUS_SRC_ALPHA)};k.prototype.Bi=function(a,c,e,d,f,h,b,p){15992<=this.gd&&this.Sd();var q=this.gd,g=this.yl,t=this.nl;if(this.Cb)this.Od[this.md-1].Xc+=6;else{var r=this.Lc();r.type=1;r.uc=3*(q/4);r.Xc=6;
this.Cb=!0}g[q]=a;t[q++]=0;g[q]=c;t[q++]=0;g[q]=e;t[q++]=1;g[q]=d;t[q++]=0;g[q]=f;t[q++]=1;g[q]=h;t[q++]=1;g[q]=b;t[q++]=0;g[q]=p;t[q++]=1;this.gd=q};k.prototype.fe=function(a,c,e,d,f,h,b,p,q){15992<=this.gd&&this.Sd();var g=this.gd,t=this.yl,r=this.nl;if(this.Cb)this.Od[this.md-1].Xc+=6;else{var u=this.Lc();u.type=1;u.uc=3*(g/4);u.Xc=6;this.Cb=!0}var u=q.left,C=q.top,l=q.right;q=q.bottom;t[g]=a;r[g++]=u;t[g]=c;r[g++]=C;t[g]=e;r[g++]=l;t[g]=d;r[g++]=C;t[g]=f;r[g++]=l;t[g]=h;r[g++]=q;t[g]=b;r[g++]=
u;t[g]=p;r[g++]=q;this.gd=g};k.prototype.bd=function(a){if(this.Bg!==a){if(!this.Ga[a]){if(0===this.Bg)return;a=0}var c=this.Lc();c.type=9;this.Bg=c.uc=a;this.Cb=!1}};k.prototype.Ug=function(a){a=this.Ga[a];return!(!a.Je&&!a.Ie)};k.prototype.Zk=function(a){a=this.Ga[a];return!!(a.Je||a.Ie||a.Fm)};k.prototype.Xs=function(a){a=this.Ga[a];return 0!==a.Sj||0!==a.Tj};k.prototype.Nr=function(a){return this.Ga[a].Sj};k.prototype.Or=function(a){return this.Ga[a].Tj};k.prototype.Pr=function(a,c){return this.Ga[a].I[c][2]};
k.prototype.xi=function(a){return this.Ga[a].mm};k.prototype.If=function(a,c,e,d,f,h,b,p,q,g,t,r){var u=this.Ga[this.Bg],C,l;if(u.ks||r.length){C=this.Lc();C.type=10;C.ba?Nb(this.rc,C.ba):C.ba=Mb();l=C.ba;l[0]=c;l[1]=e;l[2]=d;l[3]=f;l[4]=h;l[5]=b;l[6]=p;l[7]=q;l[8]=g;l[9]=t;C.Nc=u.Jg?a:null;if(r.length)for(e=C.Bo,e.length=r.length,a=0,c=r.length;a<c;a++)e[a]=r[a];this.Cb=!1}};k.prototype.clear=function(a,c,e,d){var f=this.Lc();f.type=7;f.uc=0;f.ba||(f.ba=Mb());f.ba[0]=a;f.ba[1]=c;f.ba[2]=e;f.ba[3]=
d;this.Cb=!1};k.prototype.clearRect=function(a,c,e,d){if(!(0>e||0>d)){var f=this.Lc();f.type=7;f.uc=1;f.ba||(f.ba=Mb());f.ba[0]=a;f.ba[1]=c;f.ba[2]=e;f.ba[3]=d;this.Cb=!1}};k.prototype.Ws=function(){this.Sd();this.k.flush()};var g=[],l={};k.prototype.En=function(a,c,e){var d;d=!1;c=!!c;var f=a.src+","+d+","+c+(d?",undefined":""),h=null;if("undefined"!==typeof a.src&&l.hasOwnProperty(f))return h=l[f],h.wh++,h;this.Sd();var b=this.k,p=la(a.width)&&la(a.height),h=b.createTexture();b.bindTexture(b.TEXTURE_2D,
h);b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var q=b.RGBA,k=b.RGBA,t=b.UNSIGNED_BYTE;if(e&&!this.De)switch(e){case 1:k=q=b.RGB;break;case 2:t=b.UNSIGNED_SHORT_4_4_4_4;break;case 3:t=b.UNSIGNED_SHORT_5_5_5_1;break;case 4:k=q=b.RGB,t=b.UNSIGNED_SHORT_5_6_5}if(!p&&d){e=document.createElement("canvas");e.width=ma(a.width);e.height=ma(a.height);var r=e.getContext("2d");r.webkitImageSmoothingEnabled=c;r.mozImageSmoothingEnabled=c;r.msImageSmoothingEnabled=c;r.imageSmoothingEnabled=c;r.drawImage(a,
0,0,a.width,a.height,0,0,e.width,e.height);b.texImage2D(b.TEXTURE_2D,0,q,k,t,e)}else b.texImage2D(b.TEXTURE_2D,0,q,k,t,a);d?(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.REPEAT),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.REPEAT)):(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE));c?(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.LINEAR),p&&this.Nm?(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR_MIPMAP_LINEAR),
b.generateMipmap(b.TEXTURE_2D)):b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR)):(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.NEAREST));b.bindTexture(b.TEXTURE_2D,null);this.Xd=null;h.hg=a.width;h.gg=a.height;h.wh=1;h.xm=f;g.push(h);return l[f]=h};k.prototype.nd=function(a,c,e,d){this.Sd();var f=this.k;this.De&&(d=!1);var h=f.createTexture();f.bindTexture(f.TEXTURE_2D,h);f.texImage2D(f.TEXTURE_2D,0,f.RGBA,a,c,0,f.RGBA,
d?f.UNSIGNED_SHORT_4_4_4_4:f.UNSIGNED_BYTE,null);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,e?f.LINEAR:f.NEAREST);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,e?f.LINEAR:f.NEAREST);f.bindTexture(f.TEXTURE_2D,null);this.Xd=null;h.hg=a;h.gg=c;g.push(h);return h};k.prototype.Ft=function(a,c,e){this.Sd();var d=this.k;this.De&&(e=!1);d.bindTexture(d.TEXTURE_2D,c);d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
!0);try{d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,e?d.UNSIGNED_SHORT_4_4_4_4:d.UNSIGNED_BYTE,a)}catch(f){console&&console.error&&console.error("Error updating WebGL texture: ",f)}d.bindTexture(d.TEXTURE_2D,null);this.Xd=null};k.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.wh&&1<a.wh?a.wh--:(this.Sd(),a===this.Xd&&(this.k.bindTexture(this.k.TEXTURE_2D,null),this.Xd=null),a===this.Fe&&(this.k.activeTexture(this.k.TEXTURE1),this.k.bindTexture(this.k.TEXTURE_2D,null),this.k.activeTexture(this.k.TEXTURE0),
this.Fe=null),ya(g,a),"undefined"!==typeof a.xm&&delete l[a.xm],this.k.deleteTexture(a)))};k.prototype.ad=function(a){if(a!==this.so){var c=this.Lc();c.type=6;this.so=c.Nc=a;this.Cb=!1}};Va=k})();
(function(){function k(){return"undefined"!==typeof jQuery?jQuery(window).width():window.innerWidth}function n(){return"undefined"!==typeof jQuery?jQuery(window).height():window.innerHeight}function d(b){if(b&&(b.getContext||b.dc)&&!b.c2runtime){b.c2runtime=this;var a=this;this.Fb=(this.Xh=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||
"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2isphonegap&&window.c2isphonegap;this.nc=!!b.dc;this.vd="undefined"!==typeof window.AppMobi||this.nc;this.Wb=!!window.c2cocoonjs;this.wd=!!window.c2ejecta;this.Wb&&(CocoonJS.App.onSuspended.addEventListener(function(){a.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){a.setSuspended(!1)}));this.wd&&(document.addEventListener("pagehide",function(){a.setSuspended(!0)}),document.addEventListener("pageshow",
function(){a.setSuspended(!1)}),document.addEventListener("resize",function(){a.setSize(window.innerWidth,window.innerHeight)}));this.la=this.nc||this.Wb||this.wd;this.De=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent);this.sn=/tizen/i.test(navigator.userAgent);this.qn=/android/i.test(navigator.userAgent)&&!this.sn&&!this.De;this.wk=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.De;this.wn=/ipad/i.test(navigator.userAgent);
this.vn=this.wk||this.wn||this.wd;this.Ds=this.wk&&/os\s6/i.test(navigator.userAgent);this.Wh=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent);this.rs=/amazonwebappplatform/i.test(navigator.userAgent);this.us=/firefox/i.test(navigator.userAgent);this.ws=/safari/i.test(navigator.userAgent)&&!this.Wh&&!this.De;this.Ud="undefined"!==typeof window.c2nodewebkit||/nodewebkit/i.test(navigator.userAgent);this.xs=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.ys=
!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.qk=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.rk=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.tn=this.xs||this.ys||this.rk;this.ss=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.rn=this.qn&&!this.Wh&&!this.Xh&&!this.us&&!this.rs&&!this.la;this.devicePixelRatio=1;this.oc=this.Fb||this.Xh||this.vd||this.Wb||this.qn||
this.vn||this.qk||this.rk||this.ss||this.sn||this.wd;this.oc||(this.oc=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));"undefined"===typeof cr_is_preview||this.Ud||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)||(this.Ud=!0);this.ts="undefined"!==typeof cr_is_preview&&-1<window.location.search.indexOf("debug");this.canvas=b;this.Am=document.getElementById("c2canvasdiv");this.ea=this.B=this.k=null;this.Wj=
"";this.Lh=!1;this.ao=this.bo=0;this.canvas.oncontextmenu=function(b){b.preventDefault&&b.preventDefault();return!1};this.canvas.onselectstart=function(b){b.preventDefault&&b.preventDefault();return!1};this.nc&&(window.c2runtime=this);this.Ud&&(window.ondragover=function(b){b.preventDefault();return!1},window.ondrop=function(b){b.preventDefault();return!1},require("nw.gui").App.clearCache());this.rn&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=b.width;
this.height=b.height;this.P=this.width;this.O=this.height;this.Ch=this.width;this.Bh=this.height;this.Dg=window.innerWidth;this.Cg=window.innerHeight;this.ga=!0;this.yg=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.n=[];this.ra=[];this.Ak={};this.Fc=[];this.Oj={};this.qd=[];this.Rf=[];this.Ri=[];this.iq=[];this.jq=[];this.Uc=new ia;this.kk=!1;this.tb=0;this.nk=!1;this.Ab=[];this.xd=this.kb=this.ki=this.jl="";this.eh=this.Eo=!1;this.Gj=this.Lg=this.Rd=this.jf=
0;this.ih=1;this.tf=new Ma;this.fi=0;this.Un=!0;this.qi=this.Nh=this.Ih=this.Ed=this.Eg=this.Vj=0;this.Ej=null;this.Gh=[];this.Nj=[];this.Hh=-1;this.Fk=[[]];this.sl=this.ni=0;this.Ai(null);this.xf=[];this.oi=-1;this.pg=this.Yn=this.Pg=0;this.fh=[];this.Oi=this.Ci=-1;this.ci=!0;this.vf=0;this.xg=!1;this.nt=0;this.fg=null;this.hs=!1;this.yk=0;this.jb=this.nf=this.al=!1;this.$n=new ia;this.Kk=new ia;this.Lk=new ia;this.$s=[];new Oa([]);new Oa([]);this.gf=[];this.Th={};this.hf={};this.ff={};this.Qf={};
this.vm={};this.Dn=this.ji=this.Gb=this.Xb=this.Cn=this.ii=this.V=null;this.Nf=this.tk=!1;this.Xj=[null,null];this.ye=0;this.$d={};this.Ji=this.uf=null;this.load();this.devicePixelRatio=(this.qf=(!this.la||this.wd)&&this.Dt&&!this.rn)?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.Ya();var c,e=this.tj&&!(this.Ud||this.tn||this.qk||this.Xh);0<this.rb&&this.setSize(k(),n(),!0);try{this.Wq&&(this.Wb||this.wd||!this.la)&&(c={alpha:e,
depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.k=b.getContext("webgl",c)||b.getContext("experimental-webgl",c))}catch(h){}if(this.k){this.la||(this.Sa=document.createElement("canvas"),jQuery(this.Sa).appendTo(this.canvas.parentNode),this.Sa.oncontextmenu=H(!1),this.Sa.onselectstart=H(!1),this.Sa.width=this.Ch,this.Sa.height=this.Bh,jQuery(this.Sa).css({width:this.Ch+"px",height:this.Bh+"px"}),this.lo(),this.Uk=this.Sa.getContext("2d"));this.B=new Va(this.k,this.oc);this.B.Jf(b.width,
b.height);this.B.Nm=0!==this.Qq;this.ea=null;this.canvas.addEventListener("webglcontextlost",function(b){b.preventDefault();a.Ls();console.log("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.B.mn();a.B.Jf(a.B.width,a.B.height,!0);a.Xb=null;a.Gb=null;a.Xj[0]=null;a.Xj[1]=null;a.Ms();a.ga=!0;console.log("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);var d,f,p,q,g,m;b=0;for(c=this.n.length;b<
c;b++)for(f=this.n[b],e=0,d=f.G.length;e<d;e++)q=f.G[e],q.Va=this.B.bk(q.id),this.Nf=this.Nf||this.B.Ug(q.Va);b=0;for(c=this.Fc.length;b<c;b++){g=this.Fc[b];e=0;for(d=g.G.length;e<d;e++)q=g.G[e],q.Va=this.B.bk(q.id);e=0;for(d=g.H.length;e<d;e++)for(m=g.H[e],f=0,p=m.G.length;f<p;f++)q=m.G[f],q.Va=this.B.bk(q.id),this.Nf=this.Nf||this.B.Ug(q.Va)}}else{if(0<this.rb&&this.nc){this.canvas=null;document.oncontextmenu=H(!1);document.onselectstart=H(!1);this.ea=AppMobi.canvas.getContext("2d");try{this.ea.samplingMode=
this.aa?"smooth":"sharp",this.ea.globalScale=1,this.ea.HTML5CompatibilityMode=!0,this.ea.imageSmoothingEnabled=this.aa}catch(l){}0!==this.width&&0!==this.height&&(this.ea.width=this.width,this.ea.height=this.height)}this.ea||(c=this.Wb?{antialias:!!this.aa,alpha:e}:{alpha:e},this.ea=b.getContext("2d",c),this.ea.webkitImageSmoothingEnabled=this.aa,this.ea.mozImageSmoothingEnabled=this.aa,this.ea.msImageSmoothingEnabled=this.aa,this.ea.imageSmoothingEnabled=this.aa);this.Uk=this.Sa=null}this.Ni=function(){a.dd(!1)};
window==window.top||this.la||this.tn||this.qk||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.Wb&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(ja("Reloading for continuous preview"),this.ki="__c2_continuouspreview",this.eh=!0),this.Ps&&!this.oc&&(jQuery(window).focus(function(){a.setSuspended(!1)}),
jQuery(window).blur(function(){a.setSuspended(!0)})));b=function(b){Ua(b)&&document.activeElement&&document.activeElement.blur&&document.activeElement.blur()};window.navigator.pointerEnabled?document.addEventListener("pointerdown",b):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",b):document.addEventListener("touchstart",b);document.addEventListener("mousedown",b);0===this.rb&&this.qf&&1<this.devicePixelRatio&&this.setSize(this.Ma,this.La,!0);this.Oo();this.ds();this.go();
this.ja={}}}function g(b){b.target.result.createObjectStore("saves",{keyPath:"slot"})}function l(b,a,c,e){var h=indexedDB.open("_C2SaveStates");h.onupgradeneeded=g;h.onerror=e;h.onsuccess=function(h){h=h.target.result;h.onerror=e;h.transaction(["saves"],"readwrite").objectStore("saves").put({slot:b,data:a}).onsuccess=c}}function a(b,a,c){var e=indexedDB.open("_C2SaveStates");e.onupgradeneeded=g;e.onerror=c;e.onsuccess=function(e){e=e.target.result;e.onerror=c;var h=e.transaction(["saves"]).objectStore("saves").get(b);
h.onsuccess=function(){h.result?a(h.result.data):a(null)}}}function c(){ja("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location+="?continuous"}function e(b){var a,c={};for(a in b)!b.hasOwnProperty(a)||b[a]instanceof ia||b[a]&&"undefined"!==typeof b[a].kv||(c[a]=b[a]);return c}d.prototype.setSize=function(b,a,c){var e=0,h=0,d=0,f=0,f=0,p=this.Ds&&this.ws&&!navigator.standalone&&!this.la&&
!this.Fb;p&&(a+=60);if(this.Dg!==b||this.Cg!==a||c){this.Dg=b;this.Cg=a;var q=this.rb,g=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.xg)&&!this.Fb;if(g||0!==this.rb||c)g&&0<this.ye&&(q=this.ye),c=this.devicePixelRatio,4<=q?(d=this.Ma/this.La,b/a>d?(d*=a,5===q?(f=d*c/this.Ma,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),d=this.Ma*f/c,f=this.La*f/c,e=(b-d)/2,h=(a-f)/2,b=d,a=f):(e=(b-d)/2,b=d)):(f=b/d,5===q?(f=f*c/this.La,1<f?f=Math.floor(f):
1>f&&(f=1/Math.ceil(1/f)),d=this.Ma*f/c,f=this.La*f/c,e=(b-d)/2,h=(a-f)/2,b=d):h=(a-f)/2,a=f),g&&!this.Ud&&(h=e=0)):this.Ud&&this.xg&&0===this.Wm&&(e=Math.floor((b-this.Ma)/2),h=Math.floor((a-this.La)/2),b=this.Ma,a=this.La),2>q&&(this.eg=c),this.qf&&this.wn&&1<c&&(1024<=b&&(b=1023),1024<=a&&(a=1023)),this.Ch=Math.round(b),this.Bh=Math.round(a),this.width=Math.round(b*c),this.height=Math.round(a*c),this.ga=!0,this.Yo?(this.P=this.width,this.O=this.height,this.mc=!0):this.width<this.Ma&&this.height<
this.La||1===q?(this.P=this.width,this.O=this.height,this.mc=!0):(this.P=this.Ma,this.O=this.La,this.mc=!1,2===q?(d=this.Ma/this.La,q=this.Dg/this.Cg,q<d?this.P=this.O*q:q>d&&(this.O=this.P/q)):3===q&&(d=this.Ma/this.La,q=this.Dg/this.Cg,q>d?this.P=this.O*q:q<d&&(this.O=this.P/q))),this.Am&&!this.la&&(jQuery(this.Am).css({width:Math.round(b)+"px",height:Math.round(a)+"px","margin-left":Math.floor(e)+"px","margin-top":Math.floor(h)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(b)+
"px",height:Math.round(a)+"px"})),this.canvas&&(this.canvas.width=Math.round(b*c),this.canvas.height=Math.round(a*c),this.wd?(this.canvas.style.left=Math.floor(e)+"px",this.canvas.style.top=Math.floor(h)+"px",this.canvas.style.width=Math.round(b)+"px",this.canvas.style.height=Math.round(a)+"px"):this.qf&&!this.la&&jQuery(this.canvas).css({width:Math.round(b)+"px",height:Math.round(a)+"px"})),this.Sa&&(this.Sa.width=Math.round(b),this.Sa.height=Math.round(a),jQuery(this.Sa).css({width:Math.round(b)+
"px",height:Math.round(a)+"px"})),this.B&&this.B.Jf(Math.round(b*c),Math.round(a*c)),this.nc&&this.ea&&(this.ea.width=Math.round(b),this.ea.height=Math.round(a)),this.ea&&(this.ea.webkitImageSmoothingEnabled=this.aa,this.ea.mozImageSmoothingEnabled=this.aa,this.ea.msImageSmoothingEnabled=this.aa,this.ea.imageSmoothingEnabled=this.aa),this.Oo(),this.la||!p&&!this.wk||window.setTimeout(function(){window.scrollTo(0,1)},100)}};d.prototype.Oo=function(){if(this.lq&&0!==this.Tk){var b="portrait";2===this.Tk&&
(b="landscape");screen.lockOrientation?screen.lockOrientation(b):screen.webkitLockOrientation?screen.webkitLockOrientation(b):screen.mozLockOrientation?screen.mozLockOrientation(b):screen.msLockOrientation&&screen.msLockOrientation(b)}};d.prototype.Ls=function(){this.tk=!0;var b,a,c;b=0;for(a=this.n.length;b<a;b++)c=this.n[b],c.Pk&&c.Pk()};d.prototype.Ms=function(){this.tk=!1;var b,a,c;b=0;for(a=this.n.length;b<a;b++)c=this.n[b],c.co&&c.co()};d.prototype.lo=function(){if(!this.la){var b=(document.mozFullScreen||
document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.xg)&&!this.Fb?jQuery(this.canvas).offset():jQuery(this.canvas).position();b.position="absolute";jQuery(this.Sa).css(b)}};var m=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;d.prototype.setSuspended=function(b){var a;if(b&&!this.yg)for(ja("[Construct 2] Suspending"),this.yg=!0,-1!==this.Ci&&m&&m(this.Ci),-1!==
this.Oi&&clearTimeout(this.Oi),b=0,a=this.fh.length;b<a;b++)this.fh[b](!0);else if(!b&&this.yg){ja("[Construct 2] Resuming");this.yg=!1;this.fi=Q();this.Eg=Q();b=this.Lg=this.Nh=0;for(a=this.fh.length;b<a;b++)this.fh[b](!1);this.dd(!1)}};d.prototype.hq=function(b){this.fh.push(b)};d.prototype.load=function(){var b=Rb();this.name=b[0];this.Vm=b[1];this.rb=b[12];this.Wm=b[12];this.Ma=b[10];this.La=b[11];this.fo=this.Ma/2;this.ho=this.La/2;this.la&&!this.wd&&(4<=b[12]||0===b[12])&&(ja("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),
this.Wm=this.rb=3);this.wl=b[18];this.Gg=b[19];0===this.Gg&&(this.uf=new Image,this.uf.src="loading-logo.png");this.Pg=b[21];this.cd=new T(this);var a,c,e,h,f,d,p,q,g;a=0;for(c=b[2].length;a<c;a++)p=b[2][a],Wa(p),g=new p[0](this),g.Ii=p[1],g.Wd=p[2],g.Vn=p[9],g.L&&g.L(),this.plugins.push(g);b=Rb();a=0;for(c=b[3].length;a<c;a++){p=b[3][a];f=p[1];g=null;e=0;for(h=this.plugins.length;e<h;e++)if(this.plugins[e]instanceof f){g=this.plugins[e];break}var m=new g.da(g);m.name=p[0];m.K=p[2];m.ik=p[3].slice(0);
m.Et=p[3].length;m.mq=p[4];m.Cr=p[5];m.Q=p[11];m.K?(m.zf=[],m.rd=this.pg++,m.ka=null):(m.zf=null,m.rd=-1,m.ka=[]);m.Kh=null;m.mf=null;m.Rm=null;m.ab=!1;m.zb=null;p[6]?(m.Jo=p[6][0],m.Ko=p[6][1],m.qt=p[6][2]):(m.Jo=null,m.Ko=0,m.qt=0);m.yb=p[7]?p[7]:null;m.index=a;m.d=[];m.Fh=[];m.ke=[new Xa(m)];m.pd=0;m.kc=null;m.Cq=0;m.Lf=!0;m.Si=Ya;m.Ph=Za;m.Mr=$a;m.A=ab;m.Wg=bb;m.ee=cb;m.Kc=db;m.Oh=eb;m.Yj=fb;m.$j=gb;m.Rb=hb;m.dn=ib;m.Cm=new Pa(this.Ma,this.La);m.nm=!0;m.om=!1;m.ja={};m.toString=jb;m.ra=[];e=0;
for(h=p[8].length;e<h;e++){q=p[8][e];var l=q[1],k=null;f=0;for(d=this.ra.length;f<d;f++)if(this.ra[f]instanceof l){k=this.ra[f];break}k||(k=new l(this),k.Wn=[],k.Jk=new ia,k.L&&k.L(),this.ra.push(k));-1===k.Wn.indexOf(m)&&k.Wn.push(m);f=new k.da(k,m);f.name=q[0];f.Q=q[2];f.L();m.ra.push(f)}m.global=p[9];m.mk=p[10];m.G=[];e=0;for(h=p[12].length;e<h;e++)m.G.push({id:p[12][e][0],name:p[12][e][1],Va:-1,Qb:!0,index:e});m.Cv=p[13];this.wl&&!m.K&&!m.mk&&g.Wd||m.L();m.name&&(this.types[m.name]=m);this.n.push(m);
g.Ii&&(e=new g.J(m),e.uid=this.Pg++,e.po=this.Yn++,e.Ae=0,e.sg=kb,e.toString=lb,e.T=p[14],e.L(),m.d.push(e),this.$d[e.uid.toString()]=e)}a=0;for(c=b[4].length;a<c;a++)for(f=b[4][a],d=this.n[f[0]],e=1,h=f.length;e<h;e++)p=this.n[f[e]],p.ka.push(d),d.zf.push(p);a=0;for(c=b[27].length;a<c;a++){f=b[27][a];d=[];e=0;for(h=f.length;e<h;e++)d.push(this.n[f[e]]);e=0;for(h=d.length;e<h;e++)d[e].ab=!0,d[e].zb=d}if(0<this.pg)for(a=0,c=this.n.length;a<c;a++)if(p=this.n[a],!p.K&&p.ka.length){p.Kh=Array(this.pg);
p.mf=Array(this.pg);p.Rm=Array(this.pg);m=[];e=k=l=q=0;for(h=p.ka.length;e<h;e++)for(g=p.ka[e],p.Kh[g.rd]=q,q+=g.Et,p.mf[g.rd]=l,l+=g.mq,p.Rm[g.rd]=k,k+=g.Cr,f=0,d=g.G.length;f<d;f++)m.push(ua({},g.G[f]));p.G=m.concat(p.G);e=0;for(h=p.G.length;e<h;e++)p.G[e].index=e}a=0;for(c=b[5].length;a<c;a++)p=b[5][a],e=new mb(this,p),this.Ak[e.name]=e,this.Fc.push(e);a=0;for(c=b[6].length;a<c;a++)p=b[6][a],e=new nb(this,p),this.Oj[e.name]=e,this.qd.push(e);a=0;for(c=this.qd.length;a<c;a++)this.qd[a].qa();a=0;
for(c=this.qd.length;a<c;a++)this.qd[a].Uo();a=0;for(c=this.Ri.length;a<c;a++)this.Ri[a].qa();this.Ri.length=0;this.kq=b[7];this.de=b[9];this.eg=1;this.Wq=b[13];this.aa=b[14];this.tj=b[15];this.Dt=b[17];this.Tk=b[20];this.lq=0<this.Tk;this.Ps=b[22];this.mc=this.Yo=b[23];this.Qq=b[24];this.Vs=b[25];this.Ki=Date.now()};var f=!1;d.prototype.Gt=function(b){b.onerror=function(a){f=b.oq=!0;console&&console.error&&console.error("Error loading image '"+b.src+"': ",a)};this.Rf.push(b)};d.prototype.Br=function(b){var a,
c;a=0;for(c=this.Rf.length;a<c;a++)if(this.Rf[a].zq===b)return this.Rf[a];return null};var h=0,b=!1;d.prototype.ds=function(){this.fg&&(h=this.fg.xv(this.kq))};d.prototype.pm=function(){var a=h,c=0,e=0,f=!0,d,v,e=0;for(d=this.Rf.length;e<d;e++){v=this.Rf[e];var p=v.yq;if(!p||0>=p)p=5E4;a+=p;!v.complete&&!v.loaded||v.oq?f=!1:c+=p}f&&this.Vs&&this.fg&&(b||(this.fg.Av(),b=!0),e=this.fg.nv(),c+=e,e<h&&(f=!1));this.Qe=0==a?0:c/a;return f};d.prototype.go=function(){if(this.ea||this.B){var b=this.ea||this.Uk;
this.Sa&&this.lo();this.Qe=0;this.Bn=-1;if(this.pm())this.es();else{var a=Date.now()-this.Ki;if(b){var c=this.width,e=this.height,h=this.devicePixelRatio;this.Sa&&(c=this.Ch,e=this.Bh,h=1);if(3!==this.Gg&&(this.Wb||500<=a&&this.Bn!=this.Qe)){b.clearRect(0,0,c,e);var a=c/2,e=e/2,c=0===this.Gg&&this.uf.complete,d=40*h,p=0,m=80*h,q;c&&(m=this.uf.width*h,q=this.uf.height*h,d=m/2,p=q/2,b.drawImage(this.uf,N(a-d),N(e-p),m,q));1>=this.Gg?(a=N(a-d)+0.5,e=N(e+(p+(c?12*h:0)))+0.5,b.fillStyle=f?"red":"DodgerBlue",
b.fillRect(a,e,Math.floor(m*this.Qe),6*h),b.strokeStyle="black",b.strokeRect(a,e,m,6*h),b.strokeStyle="white",b.strokeRect(a-1*h,e-1*h,m+2*h,8*h)):2===this.Gg&&(b.font=this.wd?"12pt ArialMT":"12pt Arial",b.fillStyle=f?"#f00":"#999",b.Bv="middle",h=Math.round(100*this.Qe)+"%",c=b.measureText?b.measureText(h):null,b.fillText(h,a-(c?c.width:0)/2,e))}this.Bn=this.Qe}setTimeout(function(b){return function(){b.go()}}(this),this.Wb?10:100)}}};d.prototype.es=function(){this.Sa&&(this.canvas.parentNode.removeChild(this.Sa),
this.Sa=this.Uk=null);this.Ki=Date.now();this.Eg=Q();var b,a,c;if(this.wl)for(b=0,a=this.n.length;b<a;b++)c=this.n[b],c.K||c.mk||!c.U.Wd||c.L();else this.ci=!1;b=0;for(a=this.Fc.length;b<a;b++)this.Fc[b].Aq();2<=this.rb&&(b=this.Ma/this.La,a=this.width/this.height,this.eg=2!==this.rb&&a>b||2===this.rb&&a<b?this.height/this.La:this.width/this.Ma);this.Vm?this.Ak[this.Vm].ml():this.Fc[0].ml();this.wl||(this.vf=1,this.trigger(T.prototype.e.Ll,null));navigator.splashscreen&&navigator.splashscreen.hide&&
navigator.splashscreen.hide();b=0;for(a=this.n.length;b<a;b++)c=this.n[b],c.Ks&&c.Ks();this.dd(!1);this.nc&&AppMobi.webview.execute("onGameReady();")};var p=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;d.prototype.dd=function(b){if(this.V){var a=Q();if(this.hs&&this.al&&29>a-this.yk)this.al=!1,this.yk=a,p?this.Ci=p(this.Ni,this.canvas):this.Oi=setTimeout(this.Ni,this.oc?1:16);else{this.al=
!0;this.yk=a;var c=this.rb,e=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.Fb;(e||this.xg)&&0<this.ye&&(c=this.ye);0<c&&(!this.vn||window.self!==window.top)&&(c=window.innerHeight,this.Dg===window.innerWidth&&this.Cg===c||this.setSize(k(),n()));this.la||(e?(this.Lh||(this.Wj=jQuery(this.canvas).css("margin")||"0",this.Lh=!0),this.Wh||this.Ud||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/
2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.Lh?(this.Wh||this.Ud||jQuery(this.canvas).css("margin",this.Wj),this.Wj="",this.Lh=!1,0===this.rb&&this.setSize(Math.round(this.bo/this.devicePixelRatio),Math.round(this.ao/this.devicePixelRatio),!0)):(this.bo=this.width,this.ao=this.height));this.ci&&(e=this.pm(),this.vf=this.Qe,e&&(this.ci=!1,this.Qe=1,this.trigger(T.prototype.e.Ll,null)));this.Hs();!this.ga&&!this.Wb||this.tk||this.eh||b||(this.ga=
!1,this.B?this.lc():this.Vc(),this.Ji&&(this.canvas&&this.canvas.toDataURL&&(this.canvas.toDataURL(this.Ji[0],this.Ji[1]),this.trigger(T.prototype.e.wp,null)),this.Ji=null));this.ov||(this.Ed++,this.Ih++,this.Nh++);this.Lg+=Q()-a;this.yg||b||(p?this.Ci=p(this.Ni,this.canvas):this.Oi=setTimeout(this.Ni,this.oc?1:16))}}};d.prototype.Hs=function(){var b,a,c,e,h,f,d,p,m;b=Q();1E3<=b-this.Eg&&(this.Eg+=1E3,this.Vj=this.Nh,this.Nh=0,this.Gj=this.Lg,this.Lg=0);this.Un&&(0!==this.fi&&(a=b-this.fi,0!==a||
this.ts?(this.Rd=a/1E3,0.5<this.Rd?this.Rd=0:0.1<this.Rd&&(this.Rd=0.1)):(10<=this.Hv&&(this.Un=!1),this.Rd=1/60)),this.fi=b);this.jf=this.Rd*this.ih;this.tf.add(this.jf);b=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.xg)&&!this.Fb;2<=this.rb||b&&0<this.ye?(a=this.Ma/this.La,c=this.width/this.height,e=this.rb,b&&0<this.ye&&(e=this.ye),this.eg=2!==e&&c>a||2===e&&c<a?this.height/this.La:this.width/this.Ma,this.V&&(this.V.wo(this.V.scrollX),
this.V.xo(this.V.scrollY))):this.eg=this.qf?this.devicePixelRatio:1;this.Ya();this.tb++;this.cd.et();this.tb--;this.Ya();this.tb++;c=this.$n.Of();b=0;for(a=c.length;b<a;b++)c[b].uv();b=0;for(a=this.n.length;b<a;b++)if(d=this.n[b],!d.K&&(d.ra.length||d.ka.length))for(c=0,e=d.d.length;c<e;c++)for(p=d.d[c],h=0,f=p.F.length;h<f;h++)p.F[h].dd();b=0;for(a=this.n.length;b<a;b++)if(d=this.n[b],!d.K&&(d.ra.length||d.ka.length))for(c=0,e=d.d.length;c<e;c++)for(p=d.d[c],h=0,f=p.F.length;h<f;h++)m=p.F[h],m.Us&&
m.Us();c=this.Kk.Of();b=0;for(a=c.length;b<a;b++)c[b].dd();this.tb--;this.js();for(b=0;this.Ej&&10>b++;)this.Jm(this.Ej);b=0;for(a=this.qd.length;b<a;b++)this.qd[b].dk=!1;this.V.ng&&this.V.ng.ya();this.$s.length=0;this.tb++;b=0;for(a=this.n.length;b<a;b++)if(d=this.n[b],!d.K&&(d.ra.length||d.ka.length))for(c=0,e=d.d.length;c<e;c++)for(p=d.d[c],h=0,f=p.F.length;h<f;h++)m=p.F[h],m.hh&&m.hh();c=this.Lk.Of();b=0;for(a=c.length;b<a;b++)c[b].hh();this.tb--};d.prototype.Jm=function(b){var a=this.V;this.V.ot();
var c,e,h,f,d,p,m;if(this.B)for(c=0,e=this.n.length;c<e;c++)d=this.n[c],d.K||!d.So||d.global&&0!==d.d.length||-1!==b.wg.indexOf(d)||d.So();a==b&&(this.cd.Mb.length=0);b.ml();c=0;for(e=this.n.length;c<e;c++)if(d=this.n[c],d.global||d.U.Ii)for(b=0,a=d.d.length;b<a;b++)if(p=d.d[b],p.Ok&&p.Ok(),p.F)for(h=0,f=p.F.length;h<f;h++)m=p.F[h],m.Ok&&m.Ok();this.ga=!0;this.Ya()};d.prototype.pl=function(b){this.Kk.add(b)};d.prototype.ol=function(b){this.Lk.add(b)};d.prototype.bn=function(b){return b&&-1!==b.Og?
this.Rd*b.Og:this.jf};d.prototype.Vc=function(){this.V.Vc(this.ea);this.nc&&this.ea.present()};d.prototype.lc=function(){this.V.lc(this.B);this.B.Ws()};d.prototype.hm=function(b){b&&this.Gh.push(b)};d.prototype.ro=function(b){ya(this.Gh,b)};d.prototype.Dc=function(b){b=b.toString();return this.$d.hasOwnProperty(b)?this.$d[b]:null};d.prototype.ne=function(b){var a,c;if(!this.Uc.contains(b)){this.Uc.add(b);if(b.ab)for(a=0,c=b.siblings.length;a<c;a++)this.ne(b.siblings[a]);this.kk&&this.Uc.Pf.push(b);
this.tb++;this.trigger(Object.getPrototypeOf(b.type.U).e.yp,b);this.tb--}};d.prototype.Ya=function(){var b,a,c,e,h,d,f,p,m,q;this.kk=!0;e=0;for(d=this.Ab.length;e<d;e++)for(b=this.Ab[e],a=b.type,a.d.push(b),h=0,f=a.ka.length;h<f;h++)a.ka[h].d.push(b),a.ka[h].Lf=!0;this.Ab.length=0;d=this.Uc.Of();for(e=0;e<d.length;e++){b=d[e];a=b.type;c=a.d;h=0;for(f=this.Gh.length;h<f;h++)this.Gh[h](b);ya(c,b);0===c.length&&(a.om=!1);b.zh&&a.Cm.update(b,b.zh,null);b.g&&(va(b.g.d,b.sb()),b.g.Pb=!0);h=0;for(f=a.ka.length;h<
f;h++)ya(a.ka[h].d,b),a.ka[h].Lf=!0;if(b.F)for(h=0,f=b.F.length;h<f;h++)c=b.F[h],c.Df&&c.Df(),c.ec.Jk.remove(b);this.$n.remove(b);this.Kk.remove(b);this.Lk.remove(b);h=0;for(f=this.cd.Mb.length;h<f;h++)if(m=this.cd.Mb[h],m.Jb.hasOwnProperty(a.index)&&ya(m.Jb[a.index].Ce,b),!a.K)for(c=0,p=a.ka.length;c<p;c++)q=a.ka[c],m.Jb.hasOwnProperty(q.index)&&ya(m.Jb[q.index].Ce,b);b.Df&&b.Df();this.$d.hasOwnProperty(b.uid.toString())&&delete this.$d[b.uid.toString()];this.qi--;64>a.Fh.length&&a.Fh.push(b);a.Lf=
!0}this.Uc.Ec()||(this.ga=!0);this.Uc.clear();this.kk=!1};d.prototype.Ah=function(b,a,c,e){if(b.K){var h=N(Math.random()*b.zf.length);return this.Ah(b.zf[h],a,c,e)}return b.kc?this.Qd(b.kc,a,!1,c,e,!1):null};var q=[];d.prototype.Qd=function(b,a,c,e,h,d){var f,p,m,g;if(!b)return null;var l=this.n[b[1]],k=l.U.Wd;if(this.ci&&k&&!l.mk||k&&!this.B&&11===b[0][11])return null;var n=a;k||(a=null);var s;l.Fh.length?(s=l.Fh.pop(),s.sc=!0,l.U.J.call(s,l)):(s=new l.U.J(l),s.sc=!1);s.uid=c&&!d?b[2]:this.Pg++;
this.$d[s.uid.toString()]=s;s.po=this.Yn++;s.Ae=l.d.length;f=0;for(p=this.Ab.length;f<p;++f)this.Ab[f].type===l&&s.Ae++;s.sg=kb;m=b[3];if(s.sc)La(s.ja);else{s.ja={};if("undefined"!==typeof cr_is_preview)for(s.pn=[],s.pn.length=m.length,f=0,p=m.length;f<p;f++)s.pn[f]=m[f][1];s.Ca=[];s.Ca.length=m.length}f=0;for(p=m.length;f<p;f++)s.Ca[f]=m[f][0];if(k){var x=b[0];s.x=ka(e)?x[0]:e;s.y=ka(h)?x[1]:h;s.z=x[2];s.width=x[3];s.height=x[4];s.depth=x[5];s.i=x[6];s.opacity=x[7];s.Db=x[8];s.Eb=x[9];s.pb=x[10];
f=x[11];!this.B&&l.G.length&&(s.pb=f);s.jg=Qa(s.pb);this.k&&Ra(s,s.pb,this.k);if(s.sc){f=0;for(p=x[12].length;f<p;f++)for(m=0,g=x[12][f].length;m<g;m++)s.oa[f][m]=x[12][f][m];s.hb.set(0,0,0,0);s.zh.set(0,0,-1,-1);s.ve.Hi(s.hb);s.xj.length=0}else{s.oa=x[12].slice(0);f=0;for(p=s.oa.length;f<p;f++)s.oa[f]=x[12][f].slice(0);s.X=[];s.Ld=[];s.Ld.length=l.G.length;s.hb=new sa(0,0,0,0);s.zh=new sa(0,0,-1,-1);s.ve=new ta;s.xj=[];s.za=ob;s.jv=pb;s.Tb=qb;s.Oa=rb;s.Fv=sb;s.sb=tb}s.ut=!1;s.xt=0;s.wt=0;s.tt=null;
14===x.length&&(s.ut=!0,s.xt=x[13][0],s.wt=x[13][1],s.tt=x[13][2]);f=0;for(p=l.G.length;f<p;f++)s.Ld[f]=!0;s.Hd=ub;s.Hd();s.Wo=!!s.X.length;s.wj=!0;s.Cj=!0;l.nm=!0;s.visible=!0;s.Og=-1;s.g=a;s.Ve=a.d.length;"undefined"===typeof s.Tc&&(s.Tc=null);this.ga=s.ig=!0}s.toString=lb;var A;f=q.length=0;for(p=l.ka.length;f<p;f++)q.push.apply(q,l.ka[f].ra);q.push.apply(q,l.ra);if(s.sc)for(f=0,p=q.length;f<p;f++){var M=q[f];A=s.F[f];A.sc=!0;M.ec.J.call(A,M,s);x=b[4][f];m=0;for(g=x.length;m<g;m++)A.T[m]=x[m];
A.L();M.ec.Jk.add(s)}else for(s.F=[],f=0,p=q.length;f<p;f++)M=q[f],A=new M.ec.J(M,s),A.sc=!1,A.T=b[4][f].slice(0),A.L(),s.F.push(A),M.ec.Jk.add(s);x=b[5];if(s.sc)for(f=0,p=x.length;f<p;f++)s.T[f]=x[f];else s.T=x.slice(0);this.Ab.push(s);a&&(a.d.push(s),1!==a.Ta||1!==a.Ua)&&(l.om=!0);this.qi++;if(l.ab){if(s.ab=!0,s.sc?s.siblings.length=0:s.siblings=[],!c&&!d){f=0;for(p=l.zb.length;f<p;f++)if(l.zb[f]!==l){if(!l.zb[f].kc)return null;s.siblings.push(this.Qd(l.zb[f].kc,n,!1,k?s.x:e,k?s.y:h,!0))}f=0;for(p=
s.siblings.length;f<p;f++)for(s.siblings[f].siblings.push(s),m=0;m<p;m++)f!==m&&s.siblings[f].siblings.push(s.siblings[m])}}else s.ab=!1,s.siblings=null;s.L();f=0;for(p=s.F.length;f<p;f++)s.F[f].Ts&&s.F[f].Ts();return s};d.prototype.td=function(b){var a,c;a=0;for(c=this.V.H.length;a<c;a++){var e=this.V.H[a];if(Ta(e.name,b))return e}return null};d.prototype.$a=function(b){b=N(b);0>b&&(b=0);b>=this.V.H.length&&(b=this.V.H.length-1);return this.V.H[b]};d.prototype.Fj=function(b){var a,c;a=0;for(c=b.length;a<
c;a++)b[a].A().M=!0};d.prototype.Wg=function(b){var a,c;a=0;for(c=b.length;a<c;a++)b[a].Wg()};d.prototype.ee=function(b){var a,c;a=0;for(c=b.length;a<c;a++)b[a].ee()};d.prototype.Kc=function(b){var a,c;a=0;for(c=b.length;a<c;a++)b[a].Kc()};d.prototype.Dd=function(b,a,c){var e=b.A(),f,h,d,p,m,q;if(e.M)for(e.M=!1,f=e.d.length=0,p=b.d.length;f<p;f++)d=b.d[f],d.Oa(),m=d.g.Y(a,c,!0),q=d.g.Y(a,c,!1),d.Tb(m,q)&&e.d.push(d);else{f=h=0;for(p=e.d.length;f<p;f++)d=e.d[f],d.Oa(),m=d.g.Y(a,c,!0),q=d.g.Y(a,c,!1),
d.Tb(m,q)&&(e.d[h]=e.d[f],h++);e.d.length=h}b.Rb();return e.ck()};new ta;new sa(0,0,0,0);d.prototype.Po=function(b,a){if(!a)return!1;var c,e,f,h,d;c=0;for(e=b.ra.length;c<e;c++)if(b.ra[c].ec instanceof a)return!0;if(!b.K)for(c=0,e=b.ka.length;c<e;c++)for(d=b.ka[c],f=0,h=d.ra.length;f<h;f++)if(d.ra[f].ec instanceof a)return!0;return!1};d.prototype.Qo=function(b){return this.Po(b,Jb.wu)};d.prototype.tl=function(b){return this.Po(b,Jb.xu)};var s=-1;d.prototype.trigger=function(b,a,c){if(!this.V)return!1;
var e=this.V.ng;if(!e)return!1;var f=!1,h,d,p;s++;var m=e.Kj;d=0;for(p=m.length;d<p;++d)h=this.Mo(b,a,m[d],c),f=f||h;h=this.Mo(b,a,e,c);s--;return f||h};d.prototype.Mo=function(b,a,c,e){var f=!1,h,d,p,m;if(a)for(p=this.rl(b,a,a.type.name,c,e),f=f||p,m=a.type.ka,h=0,d=m.length;h<d;++h)p=this.rl(b,a,m[h].name,c,e),f=f||p;else p=this.rl(b,a,"system",c,e),f=f||p;return f};d.prototype.rl=function(b,a,c,e,f){var h,d=!1,p=!1,p="undefined"!==typeof f,m=(p?e.Tm:e.No)[c];if(!m)return d;var q=null;e=0;for(h=
m.length;e<h;++e)if(m[e].method==b){q=m[e].og;break}if(!q)return d;b=p?q[f]:q;if(!b)return null;e=0;for(h=b.length;e<h;e++)f=b[e][0],p=b[e][1],p=this.yr(a,c,f,p),d=d||p;return d};d.prototype.yr=function(b,a,c,e){var f,h,d=!1;this.sl++;var p=this.Ja().Pa;p&&this.Wg(p.ie);var m=1<this.sl;this.Wg(c.ie);m&&this.Ys();var q=this.Ai(c);q.Pa=c;b&&(f=this.types[a].A(),f.M=!1,f.d.length=1,f.d[0]=b,this.types[a].Rb());b=!0;if(c.parent){a=q.Go;for(f=c.parent;f;)a.push(f),f=f.parent;a.reverse();f=0;for(h=a.length;f<
h;f++)if(!a[f].gt()){b=!1;break}}b&&(this.Ih++,c.Gc?c.ft(e):c.ya(),d=d||q.Ge);this.ti();m&&this.Rs();this.Kc(c.ie);p&&this.Kc(p.ie);0!==this.tb||0!==s||this.nk||this.Uc.Ec()&&!this.Ab.length||this.Ya();this.sl--;return d};d.prototype.Zm=function(){var b=this.Ja();return b.Pa.Ba[b.ta]};d.prototype.Ys=function(){this.ni++;this.ni>=this.Fk.length&&this.Fk.push([])};d.prototype.Rs=function(){this.ni--};d.prototype.$m=function(){return this.Fk[this.ni]};d.prototype.Ai=function(b){this.Hh++;this.Hh>=this.Nj.length&&
this.Nj.push(new vb);var a=this.Ja();a.reset(b);return a};d.prototype.ti=function(){this.Hh--};d.prototype.Ja=function(){return this.Nj[this.Hh]};d.prototype.Zs=function(b){this.oi++;this.oi>=this.xf.length&&this.xf.push(ba({name:b,index:0,dh:!1}));var a=this.an();a.name=b;a.index=0;a.dh=!1;return a};d.prototype.Ss=function(){this.oi--};d.prototype.an=function(){return this.xf[this.oi]};d.prototype.cn=function(b,a){for(var c,e,f,h,d,p;a;){c=0;for(e=a.vc.length;c<e;c++)if(p=a.vc[c],p instanceof wb&&
Ta(b,p.name))return p;a=a.parent}c=0;for(e=this.qd.length;c<e;c++)for(d=this.qd[c],f=0,h=d.Td.length;f<h;f++)if(p=d.Td[f],p instanceof wb&&Ta(b,p.name))return p;return null};d.prototype.gn=function(b){var a,c;a=0;for(c=this.Fc.length;a<c;a++)if(this.Fc[a].Q===b)return this.Fc[a];return null};d.prototype.Rh=function(b){var a,c;a=0;for(c=this.n.length;a<c;a++)if(this.n[a].Q===b)return this.n[a];return null};d.prototype.Ir=function(b){var a,c;a=0;for(c=this.gf.length;a<c;a++)if(this.gf[a].Q===b)return this.gf[a];
return null};d.prototype.js=function(){var b=this,e=this.jl,f=this.xd,h=this.ki,d=!1;this.Eo&&(d=!0,e="__c2_continuouspreview",this.Eo=!1);if(e.length){this.Ya();f=this.kt();if(window.indexedDB&&!this.Wb)l(e,f,function(){ja("Saved state to IndexedDB storage ("+f.length+" bytes)");b.xd=f;b.trigger(T.prototype.e.jj,null);b.xd="";d&&c()},function(a){try{localStorage.setItem("__c2save_"+e,f),ja("Saved state to WebStorage ("+f.length+" bytes)"),b.xd=f,b.trigger(T.prototype.e.jj,null),b.xd="",d&&c()}catch(h){ja("Failed to save game state: "+
a+"; "+h)}});else try{localStorage.setItem("__c2save_"+e,f),ja("Saved state to WebStorage ("+f.length+" bytes)"),b.xd=f,this.trigger(T.prototype.e.jj,null),b.xd="",d&&c()}catch(p){ja("Error saving to WebStorage: "+p)}this.kb=this.ki=this.jl=""}h.length&&(window.indexedDB&&!this.Wb?a(h,function(a){a?(b.kb=a,ja("Loaded state from IndexedDB storage ("+b.kb.length+" bytes)")):(b.kb=localStorage.getItem("__c2save_"+h)||"",ja("Loaded state from WebStorage ("+b.kb.length+" bytes)"));b.eh=!1;b.kb.length||
b.trigger(T.prototype.e.ij,null)},function(){b.kb=localStorage.getItem("__c2save_"+h)||"";ja("Loaded state from WebStorage ("+b.kb.length+" bytes)");b.eh=!1;b.kb.length||b.trigger(T.prototype.e.ij,null)}):(this.kb=localStorage.getItem("__c2save_"+h)||"",ja("Loaded state from WebStorage ("+this.kb.length+" bytes)"),this.eh=!1,b.kb.length||b.trigger(T.prototype.e.ij,null)),this.jl=this.ki="");this.kb.length&&(this.Ya(),this.Fs(this.kb),this.xd=this.kb,this.trigger(T.prototype.e.Dp,null),this.kb=this.xd=
"")};d.prototype.kt=function(){var b,a,c,f,h,d,p,m={c2save:!0,version:1,rt:{time:this.tf.wb,timescale:this.ih,tickcount:this.Ed,execcount:this.Ih,next_uid:this.Pg,running_layout:this.V.Q,start_time_offset:Date.now()-this.Ki},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};b=0;for(a=this.n.length;b<a;b++)if(h=this.n[b],!h.K&&!this.Qo(h)){d={instances:[]};Ka(h.ja)&&(d.ex=e(h.ja));c=0;for(f=h.d.length;c<f;c++)d.instances.push(this.il(h.d[c]));m.types[h.Q.toString()]=d}b=0;for(a=this.Fc.length;b<
a;b++)c=this.Fc[b],m.layouts[c.Q.toString()]=c.Fa();f=m.events.groups;b=0;for(a=this.gf.length;b<a;b++)c=this.gf[b],f[c.Q.toString()]=this.Th[c.tg].Sh;a=m.events.cnds;for(p in this.hf)this.hf.hasOwnProperty(p)&&(b=this.hf[p],Ka(b.ja)&&(a[p]={ex:e(b.ja)}));a=m.events.acts;for(p in this.ff)this.ff.hasOwnProperty(p)&&(b=this.ff[p],Ka(b.ja)&&(a[p]={ex:b.ja}));a=m.events.vars;for(p in this.Qf)this.Qf.hasOwnProperty(p)&&(b=this.Qf[p],b.Yh||b.parent&&!b.zg||(a[p]=b.data));m.system=this.cd.Fa();return JSON.stringify(m)};
d.prototype.qo=function(){var b,a,c,e,f,h;this.$d={};b=0;for(a=this.n.length;b<a;b++)if(c=this.n[b],!c.K)for(e=0,f=c.d.length;e<f;e++)h=c.d[e],this.$d[h.uid.toString()]=h};d.prototype.Fs=function(b){b=JSON.parse(b);if(b.c2save&&!(1<b.version)){var a=b.rt;this.tf.reset();this.tf.wb=a.time;this.ih=a.timescale;this.Ed=a.tickcount;this.Ki=Date.now()-a.start_time_offset;var c=a.running_layout;if(c!==this.V.Q)if(c=this.gn(c))this.Jm(c);else return;var e,f,h,d,p,m,q;m=b.types;for(f in m)if(m.hasOwnProperty(f)&&
(d=this.Rh(parseInt(f,10)))&&!d.K&&!this.Qo(d)){m[f].ex?d.ja=m[f].ex:La(d.ja);p=d.d;h=m[f].instances;c=0;for(e=oa(p.length,h.length);c<e;c++)this.li(p[c],h[c]);c=h.length;for(e=p.length;c<e;c++)this.ne(p[c]);c=p.length;for(e=h.length;c<e;c++){p=null;if(d.U.Wd&&(p=this.V.Qh(h[c].w.l),!p))continue;p=this.Qd(d.kc,p,!1,0,0,!0);this.li(p,h[c])}d.Lf=!0}this.Ya();this.qo();e=b.layouts;for(f in e)e.hasOwnProperty(f)&&(c=this.gn(parseInt(f,10)))&&c.Ra(e[f]);e=b.events.groups;for(f in e)e.hasOwnProperty(f)&&
(c=this.Ir(parseInt(f,10)))&&this.Th[c.tg]&&(this.Th[c.tg].Sh=e[f]);c=b.events.cnds;for(f in c)c.hasOwnProperty(f)&&this.hf.hasOwnProperty(f)&&(this.hf[f].ja=c[f].ex);c=b.events.acts;for(f in c)c.hasOwnProperty(f)&&this.ff.hasOwnProperty(f)&&(this.ff[f].ja=c[f].ex);c=b.events.vars;for(f in c)c.hasOwnProperty(f)&&this.Qf.hasOwnProperty(f)&&(this.Qf[f].data=c[f]);this.Pg=a.next_uid;this.cd.Ra(b.system);c=0;for(e=this.n.length;c<e;c++)if(d=this.n[c],!d.K)for(f=0,b=d.d.length;f<b;f++){p=d.d[f];if(d.ab)for(m=
p.sg(),a=p.siblings.length=0,h=d.zb.length;a<h;a++)q=d.zb[a],d!==q&&p.siblings.push(q.d[m]);p.Rc&&p.Rc();if(p.F)for(a=0,h=p.F.length;a<h;a++)m=p.F[a],m.Rc&&m.Rc()}this.ga=!0}};d.prototype.il=function(b,a){var c,f,h,d,p;d=b.type;h=d.U;var m={};a?m.c2=!0:m.uid=b.uid;Ka(b.ja)&&(m.ex=e(b.ja));if(b.Ca&&b.Ca.length)for(m.ivs={},c=0,f=b.Ca.length;c<f;c++)m.ivs[b.type.ik[c].toString()]=b.Ca[c];if(h.Wd){h={x:b.x,y:b.y,w:b.width,h:b.height,l:b.g.Q,zi:b.sb()};0!==b.i&&(h.a=b.i);1!==b.opacity&&(h.o=b.opacity);
0.5!==b.Db&&(h.hX=b.Db);0.5!==b.Eb&&(h.hY=b.Eb);0!==b.pb&&(h.bm=b.pb);b.visible||(h.v=b.visible);b.ig||(h.ce=b.ig);-1!==b.Og&&(h.mts=b.Og);if(d.G.length)for(h.fx=[],c=0,f=d.G.length;c<f;c++)p=d.G[c],h.fx.push({name:p.name,active:b.Ld[p.index],params:b.oa[p.index]});m.w=h}if(b.F&&b.F.length)for(m.behs={},c=0,f=b.F.length;c<f;c++)d=b.F[c],d.Fa&&(m.behs[d.type.Q.toString()]=d.Fa());b.Fa&&(m.data=b.Fa());return m};d.prototype.Kr=function(b,a){var c,e;c=0;for(e=b.ik.length;c<e;c++)if(b.ik[c]===a)return c;
return-1};d.prototype.Fr=function(b,a){var c,e;c=0;for(e=b.F.length;c<e;c++)if(b.F[c].type.Q===a)return c;return-1};d.prototype.li=function(b,a,c){var e,f,h,d,p;p=b.type;h=p.U;if(c){if(!a.c2)return}else b.uid=a.uid;a.ex?b.ja=a.ex:La(b.ja);if(f=a.ivs)for(e in f)f.hasOwnProperty(e)&&(c=this.Kr(p,parseInt(e,10)),0>c||c>=b.Ca.length||(b.Ca[c]=f[e]));if(h.Wd){h=a.w;b.g.Q!==h.l&&(c=b.g,b.g=this.V.Qh(h.l),b.g?(b.g.d.push(b),b.g.Pb=!0,ya(c.d,b),c.Pb=!0):(b.g=c,this.ne(b)));b.x=h.x;b.y=h.y;b.width=h.w;b.height=
h.h;b.Ve=h.zi;b.i=h.hasOwnProperty("a")?h.a:0;b.opacity=h.hasOwnProperty("o")?h.o:1;b.Db=h.hasOwnProperty("hX")?h.hX:0.5;b.Eb=h.hasOwnProperty("hY")?h.hY:0.5;b.visible=h.hasOwnProperty("v")?h.v:!0;b.ig=h.hasOwnProperty("ce")?h.ce:!0;b.Og=h.hasOwnProperty("mts")?h.mts:-1;b.pb=h.hasOwnProperty("bm")?h.bm:0;b.jg=Qa(b.pb);this.k&&Ra(b,b.pb,this.k);b.za();if(h.hasOwnProperty("fx"))for(c=0,f=h.fx.length;c<f;c++)d=p.$j(h.fx[c].name),0>d||(b.Ld[d]=h.fx[c].active,b.oa[d]=h.fx[c].params);b.Hd()}if(p=a.behs)for(e in p)p.hasOwnProperty(e)&&
(h=this.Fr(b,parseInt(e,10)),0>h||b.F[h].Ra(p[e]));a.data&&b.Ra(a.data)};xb=function(b){return new d(document.getElementById(b))};yb=function(b,a){return new d({dc:!0,width:b,height:a})};window.cr_createRuntime=xb;window.cr_createDCRuntime=yb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var b=document.createElement("screencanvas")||document.createElement("canvas");b.wv=!0;document.body.appendChild(b);b=new d(b);window.c2runtime=b;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,
window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return b};window.createEjectaRuntime=function(){var b=new d(document.getElementById("canvas"));window.c2runtime=b;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return b}})();window.cr_getC2Runtime=function(){var k=document.getElementById("c2canvas");return k?k.c2runtime:window.c2runtime?window.c2runtime:null};
window.cr_sizeCanvas=function(k,n){if(0!==k&&0!==n){var d=window.cr_getC2Runtime();d&&d.setSize(k,n)}};window.cr_setSuspended=function(k){var n=window.cr_getC2Runtime();n&&n.setSuspended(k)};
(function(){function k(a,c){this.b=a;this.ng=null;this.scrollX=this.b.Ma/2;this.scrollY=this.b.La/2;this.scale=1;this.i=0;this.qg=!0;this.name=c[0];this.width=c[1];this.height=c[2];this.Ro=c[3];this.Co=c[4];this.Q=c[5];var e=c[6],d,f;this.H=[];this.wg=[];d=0;for(f=e.length;d<f;d++){var h=new zb(this,e[d]);h.Zn=d;this.H.push(h)}e=c[7];this.Be=[];d=0;for(f=e.length;d<f;d++){var h=e[d],b=this.b.n[h[1]];b.kc||(b.kc=h);this.Be.push(h);-1===this.wg.indexOf(b)&&this.wg.push(b)}this.G=[];this.X=[];this.oa=
[];d=0;for(f=c[8].length;d<f;d++)this.G.push({id:c[8][d][0],name:c[8][d][1],Va:-1,Qb:!0,index:d}),this.oa.push(c[8][d][2].slice(0));this.Hd();this.Gf=new sa(0,0,1,1);this.bl=new sa(0,0,1,1);this.be={}}function n(a,c){return a.Ve-c.Ve}function d(a,c){this.D=a;this.b=a.b;this.d=[];this.scale=1;this.i=0;this.we=!1;this.Fd=new sa(0,0,0,0);this.Lo=new ta;this.Kb=this.Xa=this.Lb=this.Wa=0;this.Pb=!1;this.name=c[0];this.index=c[1];this.Q=c[2];this.visible=c[3];this.Nd=c[4];this.Ue=c[5];this.Ta=c[6];this.Ua=
c[7];this.opacity=c[8];this.Uj=c[9];this.ia=c[10];this.pb=c[11];this.Vq=c[12];this.jg="source-over";this.Za=this.eb=0;this.ge=!1;var e=c[13],d,f;this.pf=[];d=0;for(f=e.length;d<f;d++){var h=e[d],b=this.b.n[h[1]];b.kc||(b.kc=h,b.Cq=this.index);this.pf.push(h);-1===this.D.wg.indexOf(b)&&this.D.wg.push(b)}this.G=[];this.X=[];this.oa=[];d=0;for(f=c[14].length;d<f;d++)this.G.push({id:c[14][d][0],name:c[14][d][1],Va:-1,Qb:!0,index:d}),this.oa.push(c[14][d][2].slice(0));this.Hd();this.Gf=new sa(0,0,1,1);
this.bl=new sa(0,0,1,1)}k.prototype.jt=function(a){var c=a.type.Q.toString();this.be.hasOwnProperty(c)||(this.be[c]=[]);this.be[c].push(this.b.il(a))};k.prototype.jn=function(){var a=this.H[0];return!a.Ue&&1===a.opacity&&!a.Uj&&a.visible};k.prototype.Hd=function(){this.X.length=0;var a,c,e;a=0;for(c=this.G.length;a<c;a++)e=this.G[a],e.Qb&&this.X.push(e)};k.prototype.Zj=function(a){var c,e,d;c=0;for(e=this.G.length;c<e;c++)if(d=this.G[c],d.name===a)return d;return null};var g=[],l=!0;k.prototype.ml=
function(){this.Co&&(this.ng=this.b.Oj[this.Co],this.ng.Uo());this.b.V=this;this.scrollX=this.b.Ma/2;this.scrollY=this.b.La/2;var a,c,e,d,f,h,b;a=0;for(e=this.b.n.length;a<e;a++)if(c=this.b.n[a],!c.K)for(f=c.d,c=0,d=f.length;c<d;c++)if(h=f[c],h.g){var p=h.g.Zn;p>=this.H.length&&(p=this.H.length-1);h.g=this.H[p];-1===h.g.d.indexOf(h)&&h.g.d.push(h);h.g.Pb=!0}if(!l)for(a=0,e=this.H.length;a<e;++a)this.H[a].d.sort(n);g.length=0;this.nq();a=0;for(e=this.H.length;a<e;a++)h=this.H[a],h.Bq(),h.we=!0,c=h.Y(0,
0,!0,!0),d=h.Y(0,0,!1,!0),h.we=!1,this.b.de&&(c=Math.round(c),d=Math.round(d)),h.el(c,d,null);f=!1;if(!this.qg){for(b in this.be)if(this.be.hasOwnProperty(b)&&(c=this.b.Rh(parseInt(b,10)))&&!c.K&&this.b.tl(c)){d=this.be[b];a=0;for(e=d.length;a<e;a++){h=null;if(c.U.Wd&&(h=this.Qh(d[a].w.l),!h))continue;h=this.b.Qd(c.kc,h,!1,0,0,!0);this.b.li(h,d[a]);f=!0;g.push(h)}d.length=0}a=0;for(e=this.H.length;a<e;a++)this.H[a].d.sort(n),this.H[a].Pb=!0}f&&(this.b.Ya(),this.b.qo());for(a=0;a<g.length;a++)if(h=
g[a],h.type.ab)for(e=h.sg(),c=0,d=h.type.zb.length;c<d;c++)b=h.type.zb[c],h.type!==b&&(b.d.length>e?h.siblings.push(b.d[e]):b.kc&&(f=this.b.Qd(b.kc,h.g,!0,h.x,h.y,!0),this.b.Ya(),b.Si(),h.siblings.push(f),g.push(f)));a=0;for(e=this.Be.length;a<e;a++)this.b.Qd(this.Be[a],null,!0);this.b.Ej=null;this.b.Ya();if(this.b.ea&&!this.b.la)for(a=0,e=this.b.n.length;a<e;a++)b=this.b.n[a],!b.K&&b.d.length&&b.mo&&b.mo(this.b.ea);a=0;for(e=g.length;a<e;a++)h=g[a],this.b.trigger(Object.getPrototypeOf(h.type.U).e.qe,
h);g.length=0;this.b.trigger(T.prototype.e.ph,null);this.qg=!1};k.prototype.Aq=function(){var a,c,e,d,f;c=a=0;for(e=this.Be.length;a<e;a++)d=this.Be[a],f=this.b.n[d[1]],f.global?this.b.Qd(d,null,!0):(this.Be[c]=d,c++);this.Be.length=c};k.prototype.ot=function(){this.b.trigger(T.prototype.e.Cp,null);this.b.cd.Mb.length=0;var a,c,e,d,f,h;a=0;for(c=this.H.length;a<c;a++)for(this.H[a].Vo(),f=this.H[a].d,e=0,d=f.length;e<d;e++)h=f[e],h.type.global||this.b.tl(h.type)&&this.jt(h);a=0;for(c=this.H.length;a<
c;a++){f=this.H[a].d;e=0;for(d=f.length;e<d;e++)h=f[e],h.type.global||this.b.ne(h);this.b.Ya();f.length=0;this.H[a].Pb=!0}a=0;for(c=this.b.n.length;a<c;a++)if(f=this.b.n[a],!(f.global||f.U.Wd||f.U.Ii||f.K)){e=0;for(d=f.d.length;e<d;e++)this.b.ne(f.d[e]);this.b.Ya()}l=!1};k.prototype.Vc=function(a){var c,e=a,d=!1,f=!this.b.mc;f&&(this.b.ji||(this.b.ji=document.createElement("canvas"),c=this.b.ji,c.width=this.b.P,c.height=this.b.O,this.b.Dn=c.getContext("2d"),d=!0),c=this.b.ji,e=this.b.Dn,c.width!==
this.b.P&&(c.width=this.b.P,d=!0),c.height!==this.b.O&&(c.height=this.b.O,d=!0),d&&(e.webkitImageSmoothingEnabled=this.b.aa,e.mozImageSmoothingEnabled=this.b.aa,e.msImageSmoothingEnabled=this.b.aa,e.imageSmoothingEnabled=this.b.aa));e.globalAlpha=1;e.globalCompositeOperation="source-over";this.b.tj&&!this.jn()&&e.clearRect(0,0,this.b.P,this.b.O);var h,b,d=0;for(h=this.H.length;d<h;d++)b=this.H[d],b.visible&&0<b.opacity&&11!==b.pb&&b.Vc(e);f&&a.drawImage(c,0,0,this.b.width,this.b.height)};k.prototype.lc=
function(a){var c=0<this.X.length||this.b.Nf||!this.b.mc;if(c){this.b.Gb||(this.b.Gb=a.nd(this.b.P,this.b.O,this.b.aa));if(this.b.Gb.hg!==this.b.P||this.b.Gb.gg!==this.b.O)a.deleteTexture(this.b.Gb),this.b.Gb=a.nd(this.b.P,this.b.O,this.b.aa);a.ad(this.b.Gb);this.b.mc||a.Jf(this.b.P,this.b.O)}else this.b.Gb&&(a.ad(null),a.deleteTexture(this.b.Gb),this.b.Gb=null);this.b.tj&&!this.jn()&&a.clear(0,0,0,0);var e,d;e=0;for(d=this.H.length;e<d;e++)this.H[e].visible&&0<this.H[e].opacity&&this.H[e].lc(a);
c&&(0===this.X.length||1===this.X.length&&this.b.mc?(1===this.X.length?(c=this.X[0].index,a.bd(this.X[0].Va),a.If(null,1/this.b.P,1/this.b.O,0,0,1,1,this.scale,this.i,0,0,this.oa[c]),a.xi(this.X[0].Va)&&(this.b.ga=!0)):a.bd(0),this.b.mc||a.Jf(this.b.width,this.b.height),a.ad(null),a.Hf(1),a.Yb(this.b.Gb),a.yo(),a.Zc(),a.ed(),c=this.b.width/2,e=this.b.height/2,a.Bi(-c,e,c,e,c,-e,-c,-e),a.Yb(null)):this.cl(a,null,null,null))};k.prototype.rg=function(){return 0<this.X.length||this.b.Nf||!this.b.mc?this.b.Gb:
null};k.prototype.hn=function(){var a=this.H[0].Bb(),c,e,d;c=1;for(e=this.H.length;c<e;c++)d=this.H[c],(0!==d.Ta||0!==d.Ua)&&d.Bb()<a&&(a=d.Bb());return a};k.prototype.wo=function(a){if(!this.Ro){var c=this.b.P*(1/this.hn())/2;a>this.width-c&&(a=this.width-c);a<c&&(a=c)}this.scrollX!==a&&(this.scrollX=a,this.b.ga=!0)};k.prototype.xo=function(a){if(!this.Ro){var c=this.b.O*(1/this.hn())/2;a>this.height-c&&(a=this.height-c);a<c&&(a=c)}this.scrollY!==a&&(this.scrollY=a,this.b.ga=!0)};k.prototype.nq=
function(){this.wo(this.scrollX);this.xo(this.scrollY)};k.prototype.cl=function(a,c,e,d){var f=e?e.X:c?c.X:this.X,h=1,b=0,p=0,q=0;e?(h=e.g.Bb(),b=e.g.Ub(),p=e.g.Wa,q=e.g.Xa):c&&(h=c.Bb(),b=c.Ub(),p=c.Wa,q=c.Xa);var g=this.b.Xj,l,r,k,n,y=0,v=1,da,D=this.b.P,B=this.b.O,ea=D/2,fa=B/2,J=c?c.Gf:this.Gf,E=c?c.bl:this.bl,K=0,x=0,A=0,M=0,F=D,O=D,z=B,ha=B,R=k=0,U=e?e.g.Ub():0;if(e){l=0;for(r=f.length;l<r;l++)k+=a.Nr(f[l].Va),R+=a.Or(f[l].Va);n=e.hb;K=c.Da(n.left,n.top,!0);A=c.Da(n.left,n.top,!1);F=c.Da(n.right,
n.bottom,!0);z=c.Da(n.right,n.bottom,!1);0!==U&&(l=c.Da(n.right,n.top,!0),r=c.Da(n.right,n.top,!1),x=c.Da(n.left,n.bottom,!0),M=c.Da(n.left,n.bottom,!1),n=Math.min(K,F,l,x),F=Math.max(K,F,l,x),K=n,n=Math.min(A,z,r,M),z=Math.max(A,z,r,M),A=n);K-=k;A-=R;F+=k;z+=R;E.left=K/D;E.top=1-A/B;E.right=F/D;E.bottom=1-z/B;x=K=N(K);M=A=N(A);O=F=qa(F);ha=z=qa(z);x-=k;M-=R;O+=k;ha+=R;0>K&&(K=0);0>A&&(A=0);F>D&&(F=D);z>B&&(z=B);0>x&&(x=0);0>M&&(M=0);O>D&&(O=D);ha>B&&(ha=B);J.left=K/D;J.top=1-A/B;J.right=F/D;J.bottom=
1-z/B}else J.left=E.left=0,J.top=E.top=0,J.right=E.right=1,J.bottom=E.bottom=1;R=e&&((e.i||U)&&a.Ug(f[0].Va)||0!==k||0!==R||1!==e.opacity||e.type.U.Vn)||c&&!e&&1!==c.opacity;a.yo();if(R){g[y]||(g[y]=a.nd(D,B,this.b.aa));if(g[y].hg!==D||g[y].gg!==B)a.deleteTexture(g[y]),g[y]=a.nd(D,B,this.b.aa);a.bd(0);a.ad(g[y]);da=ha-M;a.clearRect(x,B-M-da,O-x,da);e?e.lc(a):(a.Yb(this.b.Xb),a.Hf(c.opacity),a.Zc(),a.translate(-ea,-fa),a.ed(),a.fe(K,z,F,z,F,A,K,A,J));E.left=E.top=0;E.right=E.bottom=1;e&&(n=J.top,J.top=
J.bottom,J.bottom=n);y=1;v=0}a.Hf(1);k=f.length-1;var U=a.Zk(f[k].Va)||!c&&!e&&!this.b.mc,ga=0;l=0;for(r=f.length;l<r;l++){g[y]||(g[y]=a.nd(D,B,this.b.aa));if(g[y].hg!==D||g[y].gg!==B)a.deleteTexture(g[y]),g[y]=a.nd(D,B,this.b.aa);a.bd(f[l].Va);ga=f[l].index;a.xi(f[l].Va)&&(this.b.ga=!0);0!=l||R?(a.If(d,1/D,1/B,E.left,E.top,E.right,E.bottom,h,b,p,q,e?e.oa[ga]:c?c.oa[ga]:this.oa[ga]),a.Yb(null),l!==k||U?(a.ad(g[y]),da=ha-M,n=B-M-da,a.clearRect(x,n,O-x,da)):(e?a.he(e.eb,e.Za):c&&a.he(c.eb,c.Za),a.ad(d)),
a.Yb(g[v]),a.Zc(),a.translate(-ea,-fa),a.ed(),a.fe(K,z,F,z,F,A,K,A,J),l!==k||U||a.Yb(null)):(a.ad(g[y]),da=ha-M,n=B-M-da,a.clearRect(x,n,O-x,da),e?(a.If(d,1/e.width,1/e.height,E.left,E.top,E.right,E.bottom,h,b,p,q,e.oa[ga]),e.lc(a)):(a.If(d,1/D,1/B,0,0,1,1,h,b,p,q,c?c.oa[ga]:this.oa[ga]),a.Yb(c?this.b.Xb:this.b.Gb),a.Zc(),a.translate(-ea,-fa),a.ed(),a.fe(K,z,F,z,F,A,K,A,J)),E.left=E.top=0,E.right=E.bottom=1,e&&!U&&(n=z,z=A,A=n));y=0===y?1:0;v=0===y?1:0}U&&(a.bd(0),e?a.he(e.eb,e.Za):c?a.he(c.eb,c.Za):
this.b.mc||(a.Jf(this.b.width,this.b.height),ea=this.b.width/2,fa=this.b.height/2,A=K=0,F=this.b.width,z=this.b.height),a.ad(d),a.Yb(g[v]),a.Zc(),a.translate(-ea,-fa),a.ed(),e&&1===f.length&&!R?a.fe(K,A,F,A,F,z,K,z,J):a.fe(K,z,F,z,F,A,K,A,J),a.Yb(null))};k.prototype.Qh=function(a){var c,e;c=0;for(e=this.H.length;c<e;c++)if(this.H[c].Q===a)return this.H[c];return null};k.prototype.Fa=function(){var a,c,e,d={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.i,w:this.width,h:this.height,fv:this.qg,
persist:this.be,fx:[],layers:{}};a=0;for(c=this.G.length;a<c;a++)e=this.G[a],d.fx.push({name:e.name,active:e.Qb,params:this.oa[e.index]});a=0;for(c=this.H.length;a<c;a++)e=this.H[a],d.layers[e.Q.toString()]=e.Fa();return d};k.prototype.Ra=function(a){var c,e,d,f;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.i=a.a;this.width=a.w;this.height=a.h;this.be=a.persist;"undefined"!==typeof a.fv&&(this.qg=a.fv);var h=a.fx;c=0;for(e=h.length;c<e;c++)if(d=this.Zj(h[c].name))d.Qb=h[c].active,this.oa[d.index]=
h[c].params;this.Hd();c=a.layers;for(f in c)c.hasOwnProperty(f)&&(a=this.Qh(parseInt(f,10)))&&a.Ra(c[f])};mb=k;d.prototype.Hd=function(){this.X.length=0;var a,c,e;a=0;for(c=this.G.length;a<c;a++)e=this.G[a],e.Qb&&this.X.push(e)};d.prototype.Zj=function(a){var c,e,d;c=0;for(e=this.G.length;c<e;c++)if(d=this.G[c],d.name===a)return d;return null};d.prototype.Bq=function(){var a,c,e,d,f,h;c=a=0;for(e=this.pf.length;a<e;a++){d=this.pf[a];f=this.b.n[d[1]];h=this.b.tl(f);f=!0;if(!h||this.D.qg)d=this.b.Qd(d,
this,!0),g.push(d),d.type.global&&(f=!1);f&&(this.pf[c]=this.pf[a],c++)}this.pf.length=c;this.b.Ya();!this.b.B&&this.G.length&&(this.pb=this.Vq);this.jg=Qa(this.pb);this.b.k&&Ra(this,this.pb,this.b.k)};d.prototype.Vo=function(){if(this.Pb){var a,c;a=0;for(c=this.d.length;a<c;a++)this.d[a].Ve=a;this.Pb=!1}};d.prototype.Bb=function(a){return this.Lr()*(this.b.mc||a?this.b.eg:1)};d.prototype.Lr=function(){return(this.scale*this.D.scale-1)*this.ia+1};d.prototype.Ub=function(){return this.we?0:Ba(this.D.i+
this.i)};d.prototype.Vc=function(a){this.ge=this.Uj||1!==this.opacity||0!==this.pb;var c=this.b.canvas,e=a,d=!1;this.ge&&(this.b.ii||(this.b.ii=document.createElement("canvas"),c=this.b.ii,c.width=this.b.P,c.height=this.b.O,this.b.Cn=c.getContext("2d"),d=!0),c=this.b.ii,e=this.b.Cn,c.width!==this.b.P&&(c.width=this.b.P,d=!0),c.height!==this.b.O&&(c.height=this.b.O,d=!0),d&&(e.webkitImageSmoothingEnabled=this.b.aa,e.mozImageSmoothingEnabled=this.b.aa,e.msImageSmoothingEnabled=this.b.aa,e.imageSmoothingEnabled=
this.b.aa),this.Ue&&e.clearRect(0,0,this.b.P,this.b.O));e.globalAlpha=1;e.globalCompositeOperation="source-over";this.Ue||(e.fillStyle="rgb("+this.Nd[0]+","+this.Nd[1]+","+this.Nd[2]+")",e.fillRect(0,0,this.b.P,this.b.O));e.save();this.we=!0;var d=this.Y(0,0,!0,!0),f=this.Y(0,0,!1,!0);this.we=!1;this.b.de&&(d=Math.round(d),f=Math.round(f));this.el(d,f,e);var h=this.Bb();e.scale(h,h);e.translate(-d,-f);for(var b,d=0,f=this.d.length;d<f;d++)h=this.d[d],h.visible&&0!==h.width&&0!==h.height&&(h.Oa(),
b=h.hb,b.right<this.Wa||b.bottom<this.Xa||b.left>this.Lb||b.top>this.Kb||(e.globalCompositeOperation=h.jg,h.Vc(e)));e.restore();this.ge&&(a.globalCompositeOperation=this.jg,a.globalAlpha=this.opacity,a.drawImage(c,0,0))};d.prototype.el=function(a,c,e){var d=this.Bb();this.Wa=a;this.Xa=c;this.Lb=a+this.b.P*(1/d);this.Kb=c+this.b.O*(1/d);a=this.Ub();0!==a&&(e&&(e.translate(this.b.P/2,this.b.O/2),e.rotate(-a),e.translate(this.b.P/-2,this.b.O/-2)),this.Fd.set(this.Wa,this.Xa,this.Lb,this.Kb),this.Fd.offset((this.Wa+
this.Lb)/-2,(this.Xa+this.Kb)/-2),this.Lo.Ao(this.Fd,a),this.Lo.wm(this.Fd),this.Fd.offset((this.Wa+this.Lb)/2,(this.Xa+this.Kb)/2),this.Wa=this.Fd.left,this.Xa=this.Fd.top,this.Lb=this.Fd.right,this.Kb=this.Fd.bottom)};d.prototype.lc=function(a){var c=this.b.P,e=this.b.O,d=0,f=0;if(this.ge=this.Uj||1!==this.opacity||0<this.X.length||0!==this.pb){this.b.Xb||(this.b.Xb=a.nd(this.b.P,this.b.O,this.b.aa));if(this.b.Xb.hg!==this.b.P||this.b.Xb.gg!==this.b.O)a.deleteTexture(this.b.Xb),this.b.Xb=a.nd(this.b.P,
this.b.O,this.b.aa);a.ad(this.b.Xb);this.Ue&&a.clear(0,0,0,0)}this.Ue||a.clear(this.Nd[0]/255,this.Nd[1]/255,this.Nd[2]/255,1);this.we=!0;var f=this.Y(0,0,!0,!0),h=this.Y(0,0,!1,!0);this.we=!1;this.b.de&&(f=Math.round(f),h=Math.round(h));this.el(f,h,null);h=this.Bb();a.Zc();a.scale(h,h);a.fl(-this.Ub());a.translate((this.Wa+this.Lb)/-2,(this.Xa+this.Kb)/-2);a.ed();var b,p,q;b=0;for(p=this.d.length;b<p;b++)if(q=this.d[b],q.visible&&0!==q.width&&0!==q.height&&(q.Oa(),d=q.hb,!(d.right<this.Wa||d.bottom<
this.Xa||d.left>this.Lb||d.top>this.Kb)))if(q.Wo)if(d=q.X[0].Va,f=q.X[0].index,1!==q.X.length||a.Zk(d)||a.Xs(d)||(q.i||q.g.Ub())&&a.Ug(d)||1!==q.opacity||q.type.U.Vn)this.D.cl(a,this,q,this.ge?this.b.Xb:this.D.rg()),a.Zc(),a.scale(h,h),a.fl(-this.Ub()),a.translate((this.Wa+this.Lb)/-2,(this.Xa+this.Kb)/-2),a.ed();else{a.bd(d);a.he(q.eb,q.Za);a.xi(d)&&(this.b.ga=!0);var g=0,l=0,r=0,k=0;a.Ug(d)&&(d=q.hb,g=this.Da(d.left,d.top,!0),l=this.Da(d.left,d.top,!1),r=this.Da(d.right,d.bottom,!0),d=this.Da(d.right,
d.bottom,!1),g/=c,l=1-l/e,r/=c,k=1-d/e);a.If(this.ge?this.b.Xb:this.D.rg(),1/q.width,1/q.height,g,l,r,k,this.Bb(),this.Ub(),this.Wa,this.Xa,q.oa[f]);q.lc(a)}else a.bd(0),a.he(q.eb,q.Za),q.lc(a);this.ge&&(d=this.X.length?this.X[0].Va:0,f=this.X.length?this.X[0].index:0,0===this.X.length||1===this.X.length&&!a.Zk(d)&&1===this.opacity?(1===this.X.length?(a.bd(d),a.If(this.D.rg(),1/this.b.P,1/this.b.O,0,0,1,1,this.Bb(),this.Ub(),this.Wa,this.Xa,this.oa[f]),a.xi(d)&&(this.b.ga=!0)):a.bd(0),a.ad(this.D.rg()),
a.Hf(this.opacity),a.Yb(this.b.Xb),a.he(this.eb,this.Za),a.Zc(),a.ed(),c=this.b.P/2,e=this.b.O/2,a.Bi(-c,e,c,e,c,-e,-c,-e),a.Yb(null)):this.D.cl(a,this,null,this.D.rg()))};d.prototype.Y=function(a,c,e,d){var f=this.b.devicePixelRatio;this.b.qf&&(a*=f,c*=f);var f=this.b.fo,h=this.b.ho,f=(this.D.scrollX-f)*this.Ta+f,h=(this.D.scrollY-h)*this.Ua+h,b=1/this.Bb(!d);d?(f-=this.b.P*b/2,h-=this.b.O*b/2):(f-=this.b.width*b/2,h-=this.b.height*b/2);f+=a*b;h+=c*b;c=this.Ub();0!==c&&(f-=this.D.scrollX,h-=this.D.scrollY,
a=Math.cos(c),c=Math.sin(c),d=f*a-h*c,h=h*a+f*c,f=d+this.D.scrollX,h+=this.D.scrollY);return e?f:h};d.prototype.Da=function(a,c,e){var d=this.Ub();if(0!==d){a-=this.D.scrollX;c-=this.D.scrollY;var f=Math.cos(-d),d=Math.sin(-d),h=a*f-c*d;c=c*f+a*d;a=h+this.D.scrollX;c+=this.D.scrollY}f=this.b.fo;d=this.b.ho;f=(this.D.scrollX-f)*this.Ta+f;d=(this.D.scrollY-d)*this.Ua+d;h=1/this.Bb(!1);f-=this.b.P*h/2;d-=this.b.O*h/2;f=(a-f)/h;return e?f:(c-d)/h};d.prototype.Fa=function(){var a,c,e,d={s:this.scale,a:this.i,
vl:this.Wa,vt:this.Xa,vr:this.Lb,vb:this.Kb,v:this.visible,bc:this.Nd,t:this.Ue,px:this.Ta,py:this.Ua,o:this.opacity,zr:this.ia,fx:[],instances:[]};a=0;for(c=this.G.length;a<c;a++)e=this.G[a],d.fx.push({name:e.name,active:e.Qb,params:this.oa[e.index]});return d};d.prototype.Ra=function(a){var c,e;this.scale=a.s;this.i=a.a;this.Wa=a.vl;this.Xa=a.vt;this.Lb=a.vr;this.Kb=a.vb;this.visible=a.v;this.Nd=a.bc;this.Ue=a.t;this.Ta=a.px;this.Ua=a.py;this.opacity=a.o;this.ia=a.zr;var d=a.fx;a=0;for(c=d.length;a<
c;a++)if(e=this.Zj(d[a].name))e.Qb=d[a].active,this.oa[e.index]=d[a].params;this.Hd();this.d.sort(n);this.Pb=!0};zb=d})();
(function(){function k(b,a){var c,e=b.length;switch(e){case 0:return!0;case 1:return b[0]===a[0];case 2:return b[0]===a[0]&&b[1]===a[1];default:for(c=0;c<e;c++)if(b[c]!==a[c])return!1;return!0}}function n(b,a){return b.index-a.index}function d(b){var a,c,e,d;2===b.length?b[0].index>b[1].index&&(a=b[0],b[0]=b[1],b[1]=a):2<b.length&&b.sort(n);b.length>=q.length&&(q.length=b.length+1);q[b.length]||(q[b.length]=[]);d=q[b.length];a=0;for(c=d.length;a<c;a++)if(e=d[a],k(b,e))return e;d.push(b);return b}
function g(b,a){this.b=b;this.No={};this.Tm={};this.dk=!1;this.ln=new ia;this.Kj=[];this.uj=[];this.name=a[0];var c=a[1];this.Td=[];var e,d;e=0;for(d=c.length;e<d;e++)this.nn(c[e],null,this.Td)}function l(b){this.type=b;this.d=[];this.$=[];this.M=!0}function a(b,a,c){this.sheet=b;this.parent=a;this.b=b.b;this.W=[];this.ie=[];this.kn=this.Pi=this.ql=this.hk=this.group=this.ll=!1;this.Ba=[];this.Ac=[];this.vc=[];this.tg="";this.Sh=this.hk=this.group=!1;this.Em=null;c[1]&&(this.tg=c[1][1].toLowerCase(),
this.group=!0,this.hk=!!c[1][0],this.Em=[],this.Sh=this.hk,this.b.gf.push(this),this.b.Th[this.tg]=this);this.Gc=c[2];this.Q=c[4];this.group||(this.b.vm[this.Q.toString()]=this);var e=c[5];b=0;for(a=e.length;b<a;b++){var d=new Ab(this,e[b]);d.index=b;this.Ba.push(d);this.im(d.type)}e=c[6];b=0;for(a=e.length;b<a;b++)d=new Bb(this,e[b]),d.index=b,this.Ac.push(d);if(8===c.length)for(c=c[7],b=0,a=c.length;b<a;b++)this.sheet.nn(c[b],this,this.vc);this.Zh=!1;this.Ba.length&&(this.Zh=null==this.Ba[0].type&&
this.Ba[0].Qa==T.prototype.e.lp)}function c(b,a){var c,e,d;if(b&&(-1===a.indexOf(b)&&a.push(b),b.ab))for(c=0,e=b.zb.length;c<e;c++)d=b.zb[c],b!==d&&-1===a.indexOf(d)&&a.push(d)}function e(b,a){this.Sb=b;this.sheet=b.sheet;this.b=b.b;this.I=[];this.fa=[];this.ja={};this.index=-1;this.dg=!1;this.Qa=a[1];this.trigger=0<a[3];this.Sm=2===a[3];this.jk=a[5];this.Es=a[6];this.Q=a[7];this.b.hf[this.Q.toString()]=this;-1===a[0]?(this.type=null,this.ya=this.hl,this.ue=null,this.cc=-1):(this.type=this.b.n[a[0]],
this.ya=this.Es?this.ht:this.gl,a[2]?(this.ue=this.type.Oh(a[2]),this.cc=this.type.Yj(a[2])):(this.ue=null,this.cc=-1),this.Sb.parent&&this.Sb.parent.Gi());this.Sm&&(this.ya=this.it);if(10===a.length){var c,e,d=a[9];c=0;for(e=d.length;c<e;c++){var f=new Cb(this,d[c]);this.I.push(f)}this.fa.length=d.length}}function m(b,a){this.Sb=b;this.sheet=b.sheet;this.b=b.b;this.I=[];this.fa=[];this.ja={};this.index=-1;this.dg=!1;this.Qa=a[1];-1===a[0]?(this.type=null,this.ya=this.hl,this.ue=null,this.cc=-1):
(this.type=this.b.n[a[0]],this.ya=this.gl,a[2]?(this.ue=this.type.Oh(a[2]),this.cc=this.type.Yj(a[2])):(this.ue=null,this.cc=-1));this.Q=a[3];this.b.ff[this.Q.toString()]=this;if(6===a.length){var c,e,d=a[5];c=0;for(e=d.length;c<e;c++){var f=new Cb(this,d[c]);this.I.push(f)}this.fa.length=d.length}}function f(b,a){this.u=b;this.Sb=b.Sb;this.sheet=b.sheet;this.b=b.b;this.type=a[0];this.Wc=null;this.je=0;this.get=null;this.Dm=0;this.D=null;this.key=0;this.object=null;this.index=0;this.kh=this.Te=this.kh=
this.Te=this.Um=this.xe=this.lh=null;this.yc=!1;var c,e,d;switch(a[0]){case 0:case 7:this.Wc=new Db(this,a[1]);this.je=0;this.get=this.Ur;break;case 1:this.Wc=new Db(this,a[1]);this.je=0;this.get=this.Vr;break;case 5:this.Wc=new Db(this,a[1]);this.je=0;this.get=this.Zr;break;case 3:case 8:this.Dm=a[1];this.get=this.Sr;break;case 6:this.D=this.b.Ak[a[1]];this.get=this.$r;break;case 9:this.key=a[1];this.get=this.Yr;break;case 4:this.object=this.b.n[a[1]];this.get=this.as;this.Sb.im(this.object);this.u instanceof
Bb?this.Sb.Gi():this.Sb.parent&&this.Sb.parent.Gi();break;case 10:this.index=a[1];b.type.K?(this.get=this.Wr,this.yc=!0):this.get=this.Xr;break;case 11:this.lh=a[1];this.xe=null;this.get=this.Tr;break;case 2:case 12:this.Um=a[1];this.get=this.Rr;break;case 13:for(this.get=this.cs,this.Te=[],this.kh=[],c=1,e=a.length;c<e;c++)d=new Cb(this.u,a[c]),this.Te.push(d),this.kh.push(0)}}function h(b,a,c){this.sheet=b;this.parent=a;this.b=b.b;this.W=[];this.name=c[1];this.gk=c[3];this.zg=!!c[4];this.Yh=!!c[5];
this.Q=c[6];this.b.Qf[this.Q.toString()]=this;this.data=this.gk;this.parent?(this.Ke=this.zg||this.Yh?-1:this.b.nt++,this.b.jq.push(this)):(this.Ke=-1,this.b.iq.push(this))}function b(b,a,c){this.sheet=b;this.parent=a;this.b=b.b;this.W=[];this.vg=null;this.ls=c[1];this.Qb=!0}function p(){this.Go=[];this.reset(null)}var q=[];g.prototype.toString=G("name");g.prototype.nn=function(b,a,c){switch(b[0]){case 0:b=new Eb(this,a,b);if(b.Gc)for(c.push(b),c=0,a=b.Ba.length;c<a;c++)b.Ba[c].trigger&&this.on(b,
c);else b.un()?this.on(b,0):c.push(b);break;case 1:b=new wb(this,a,b);c.push(b);break;case 2:b=new Fb(this,a,b),c.push(b)}};g.prototype.qa=function(){var b,a;b=0;for(a=this.Td.length;b<a;b++)this.Td[b].qa(b<a-1&&this.Td[b+1].Zh)};g.prototype.Uo=function(){this.Kj.length=0;this.uj.length=0;this.gm(this);this.uj.length=0};g.prototype.gm=function(b){var a,c,e,d,f=b.Kj,h=b.uj,p=this.ln.Of();a=0;for(c=p.length;a<c;++a)e=p[a],d=e.vg,!e.Qb||b===d||-1<h.indexOf(d)||(h.push(d),d.gm(b),f.push(d))};g.prototype.ya=
function(b){this.b.vv||(this.dk=!0,b||(this.b.nk=!0));var a,c;a=0;for(c=this.Td.length;a<c;a++){var e=this.Td[a];e.ya();this.b.Fj(e.W);this.b.Uc.Ec()&&!this.b.Ab.length||this.b.Ya()}b||(this.b.nk=!1)};g.prototype.on=function(b,a){b.Gc||this.b.Ri.push(b);var c,e,d=b.Ba[a],f;f=d.type?d.type.name:"system";var h=(c=d.Sm)?this.Tm:this.No;h[f]||(h[f]=[]);f=h[f];h=d.Qa;if(c){if(d.I.length&&(d=d.I[0],1===d.type&&2===d.Wc.type)){d=d.Wc.value.toLowerCase();c=0;for(e=f.length;c<e;c++)if(f[c].method==h){c=f[c].og;
c[d]?c[d].push([b,a]):c[d]=[[b,a]];return}c={};c[d]=[[b,a]];f.push({method:h,og:c})}}else{c=0;for(e=f.length;c<e;c++)if(f[c].method==h){f[c].og.push([b,a]);return}Sb&&h===Sb.prototype.e.Ze?f.unshift({method:h,og:[[b,a]]}):f.push({method:h,og:[[b,a]]})}};nb=g;l.prototype.ck=function(){return this.M?this.type.d.length:this.d.length};l.prototype.ib=function(){return this.M?this.type.d:this.d};l.prototype.Oe=function(b){b&&(b.b.Ja().Pa.Gc?(this.M&&(this.d.length=0,wa(this.$,b.type.d),this.M=!1),b=this.$.indexOf(b),
-1!==b&&(this.d.push(this.$[b]),this.$.splice(b,1))):(this.M=!1,this.d.length=1,this.d[0]=b))};Xa=l;window._c2hh_="7D411AF2A209E605333BECE836F523824A3967F9";a.prototype.qa=function(b){var a,c=this.parent;if(this.group)for(this.Pi=!0;c;){if(!c.group){this.Pi=!1;break}c=c.parent}this.ql=!this.un()&&(!this.parent||this.parent.group&&this.parent.Pi);this.kn=!!b;this.ie=this.W.slice(0);for(c=this.parent;c;){b=0;for(a=c.W.length;b<a;b++)this.gq(c.W[b]);c=c.parent}this.W=d(this.W);this.ie=d(this.ie);b=0;
for(a=this.Ba.length;b<a;b++)this.Ba[b].qa();b=0;for(a=this.Ac.length;b<a;b++)this.Ac[b].qa();b=0;for(a=this.vc.length;b<a;b++)this.vc[b].qa(b<a-1&&this.vc[b+1].Zh)};a.prototype.im=function(b){c(b,this.W)};a.prototype.gq=function(b){c(b,this.ie)};a.prototype.Gi=function(){this.ll=!0;this.parent&&this.parent.Gi()};a.prototype.un=function(){return this.Ba.length?this.Ba[0].trigger:!1};a.prototype.ya=function(){var b,a=!1,c,d=this.b,e=this.b.Ja();e.Pa=this;var f=this.Ba;this.Zh||(e.Mj=!1);if(this.Gc){0===
f.length&&(a=!0);e.ta=0;for(b=f.length;e.ta<b;e.ta++)f[e.ta].trigger||(c=f[e.ta].ya())&&(a=!0);(e.Ge=a)&&this.Fi()}else{e.ta=0;for(b=f.length;e.ta<b;e.ta++)if(c=f[e.ta].ya(),!c){e.Ge=!1;!this.ql||d.Uc.Ec()&&!d.Ab.length||d.Ya();return}e.Ge=!0;this.Fi()}this.Xq(e)};a.prototype.Xq=function(b){b.Ge&&this.kn&&(b.Mj=!0);!this.ql||this.b.Uc.Ec()&&!this.b.Ab.length||this.b.Ya()};a.prototype.ft=function(b){this.b.Ja().Pa=this;this.Ba[b].ya()&&(this.Fi(),this.b.Ja().Ge=!0)};a.prototype.Fi=function(){var b=
this.b.Ja(),a;b.ac=0;for(a=this.Ac.length;b.ac<a;b.ac++)if(this.Ac[b.ac].ya())return;this.uo()};a.prototype.ct=function(){var b=this.b.Ja(),a;for(a=this.Ac.length;b.ac<a;b.ac++)if(this.Ac[b.ac].ya())return;this.uo()};a.prototype.uo=function(){if(this.vc.length){var b,a,c,e,d=this.vc.length-1;this.b.Ai(this);if(this.ll)for(b=0,a=this.vc.length;b<a;b++)c=this.vc[b],(e=!this.Pi||!this.group&&b<d)&&this.b.ee(c.W),c.ya(),e?this.b.Kc(c.W):this.b.Fj(c.W);else for(b=0,a=this.vc.length;b<a;b++)this.vc[b].ya();
this.b.ti()}};a.prototype.gt=function(){var b=this.b.Ja();b.Pa=this;var a=!1,c;b.ta=0;for(c=this.Ba.length;b.ta<c;b.ta++)if(this.Ba[b.ta].ya())a=!0;else if(!this.Gc)return!1;return this.Gc?a:!0};a.prototype.Ad=function(){this.b.Ih++;var b=this.b.Ja().ta,a=this.b.Ai(this);if(!this.Gc)for(a.ta=b+1,b=this.Ba.length;a.ta<b;a.ta++)if(!this.Ba[a.ta].ya()){this.b.ti();return}this.Fi();this.b.ti()};a.prototype.vs=function(b){var a=b.index;if(0===a)return!0;for(--a;0<=a;--a)if(this.Ba[a].type===b.type)return!1;
return!0};Eb=a;e.prototype.qa=function(){var b,a,c;b=0;for(a=this.I.length;b<a;b++)c=this.I[b],c.qa(),c.yc&&(this.dg=!0)};e.prototype.it=H(!0);e.prototype.hl=function(){var b,a;b=0;for(a=this.I.length;b<a;b++)this.fa[b]=this.I[b].get();return Ja(this.Qa.apply(this.b.cd,this.fa),this.jk)};e.prototype.ht=function(){var b,a;b=0;for(a=this.I.length;b<a;b++)this.fa[b]=this.I[b].get();b=this.Qa.apply(this.ue?this.ue:this.type,this.fa);this.type.Rb();return b};e.prototype.gl=function(){var b,a,c,e,d,f,h,
p,q=this.type,g=q.A(),m=this.Sb.Gc&&!this.trigger;a=0;var l=q.ab,s=q.K,k=q.rd,n=this.cc,t=-1<n,F=this.dg,O=this.I,z=this.fa,ha=this.jk,R=this.Qa,U;if(F)for(a=0,d=O.length;a<d;++a)f=O[a],f.yc||(z[a]=f.get(0));else for(a=0,d=O.length;a<d;++a)z[a]=O[a].get(0);if(g.M){g.d.length=0;g.$.length=0;U=q.d;b=0;for(e=U.length;b<e;++b){p=U[b];if(F)for(a=0,d=O.length;a<d;++a)f=O[a],f.yc&&(z[a]=f.get(b));t?(a=0,s&&(a=p.type.mf[k]),a=R.apply(p.F[n+a],z)):a=R.apply(p,z);(h=Ja(a,ha))?g.d.push(p):m&&g.$.push(p)}q.finish&&
q.finish(!0);g.M=!1;q.Rb();return g.ck()}c=0;U=(h=m&&!this.Sb.vs(this))?g.$:g.d;var ga=!1;b=0;for(e=U.length;b<e;++b){p=U[b];if(F)for(a=0,d=O.length;a<d;++a)f=O[a],f.yc&&(z[a]=f.get(b));t?(a=0,s&&(a=p.type.mf[k]),a=R.apply(p.F[n+a],z)):a=R.apply(p,z);if(Ja(a,ha))if(ga=!0,h){if(g.d.push(p),l)for(a=0,d=p.siblings.length;a<d;a++)f=p.siblings[a],f.type.A().d.push(f)}else{U[c]=p;if(l)for(a=0,d=p.siblings.length;a<d;a++)f=p.siblings[a],f.type.A().d[c]=f;c++}else if(h){U[c]=p;if(l)for(a=0,d=p.siblings.length;a<
d;a++)f=p.siblings[a],f.type.A().$[c]=f;c++}else if(m&&(g.$.push(p),l))for(a=0,d=p.siblings.length;a<d;a++)f=p.siblings[a],f.type.A().$.push(f)}U.length=c;if(l)for(s=q.zb,b=0,e=s.length;b<e;b++)p=s[b].A(),h?p.$.length=c:p.d.length=c;c=ga;if(h&&!ga)for(b=0,e=g.d.length;b<e;b++){p=g.d[b];if(F)for(a=0,d=O.length;a<d;a++)f=O[a],f.yc&&(z[a]=f.get(b));a=t?R.apply(p.F[n],z):R.apply(p,z);if(Ja(a,ha)){ga=!0;break}}q.finish&&q.finish(c||m);return m?ga:g.ck()};Ab=e;m.prototype.qa=function(){var b,a,c;b=0;for(a=
this.I.length;b<a;b++)c=this.I[b],c.qa(),c.yc&&(this.dg=!0)};m.prototype.hl=function(){var b,a;b=0;for(a=this.I.length;b<a;b++)this.fa[b]=this.I[b].get();return this.Qa.apply(this.b.cd,this.fa)};m.prototype.gl=function(){var b=this.type.A().ib(),a=this.type.K,c=this.type.rd,e=this.cc,d=-1<e,f=this.dg,h=this.I,p=this.fa,q=this.Qa,g,m,l,s,k,n;if(f)for(m=0,s=h.length;m<s;++m)k=h[m],k.yc||(p[m]=k.get(0));else for(m=0,s=h.length;m<s;++m)p[m]=h[m].get(0);g=0;for(l=b.length;g<l;++g){n=b[g];if(f)for(m=0,
s=h.length;m<s;++m)k=h[m],k.yc&&(p[m]=k.get(g));d?(m=0,a&&(m=n.type.mf[c]),q.apply(n.F[e+m],p)):q.apply(n,p)}return!1};Bb=m;var s=[],t=-1;f.prototype.qa=function(){var b,a;if(11===this.type)this.xe=this.b.cn(this.lh,this.Sb.parent);else if(13===this.type)for(b=0,a=this.Te.length;b<a;b++)this.Te[b].qa();this.Wc&&this.Wc.qa()};f.prototype.Is=function(b){this.yc||!b||b.U.Ii||(this.yc=!0)};f.prototype.zo=function(){this.yc=!0};f.prototype.Ea=function(){t++;s.length===t&&s.push(new Gb);return s[t]};f.prototype.xa=
function(){t--};f.prototype.Ur=function(b){this.je=b||0;b=this.Ea();this.Wc.get(b);this.xa();return b.data};f.prototype.Vr=function(b){this.je=b||0;b=this.Ea();this.Wc.get(b);this.xa();return L(b.data)?b.data:""};f.prototype.as=G("object");f.prototype.Sr=G("Dm");f.prototype.Zr=function(b){this.je=b||0;b=this.Ea();this.Wc.get(b);this.xa();return b.Ka()?this.b.$a(b.data):this.b.td(b.data)};f.prototype.$r=G("D");f.prototype.Yr=G("key");f.prototype.Xr=G("index");f.prototype.Wr=function(b){b=b||0;var a=
this.u.type,c=null,c=a.A(),e=c.ib();if(e.length)c=e[b%e.length].type;else if(c.$.length)c=c.$[b%c.$.length].type;else if(a.d.length)c=a.d[b%a.d.length].type;else return 0;return this.index+c.Kh[a.rd]};f.prototype.Tr=G("xe");f.prototype.Rr=G("Um");f.prototype.cs=function(){var b,a;b=0;for(a=this.Te.length;b<a;b++)this.kh[b]=this.Te[b].get();return this.kh};Cb=f;h.prototype.qa=function(){this.W=d(this.W)};h.prototype.lt=function(b){var a=this.b.$m();this.parent&&!this.zg&&a?(this.Ke>=a.length&&(a.length=
this.Ke+1),a[this.Ke]=b):this.data=b};h.prototype.Qr=function(){var b=this.b.$m();return!this.parent||this.zg||!b||this.Yh?this.data:this.Ke>=b.length||"undefined"===typeof b[this.Ke]?this.gk:b[this.Ke]};h.prototype.ya=function(){!this.parent||this.zg||this.Yh||this.lt(this.gk)};wb=h;b.prototype.toString=function(){return"include:"+this.vg.toString()};b.prototype.qa=function(){this.vg=this.b.Oj[this.ls];this.sheet.ln.add(this);this.W=d(this.W);for(var b=this.parent;b;)b.group&&b.Em.push(this),b=b.parent;
this.At()};b.prototype.ya=function(){this.parent&&this.b.Wg(this.b.n);this.vg.dk||this.vg.ya(!0);this.parent&&this.b.Kc(this.b.n)};b.prototype.At=function(){for(var b=this.parent;b;){if(b.group&&!b.Sh){this.Qb=!1;return}b=b.parent}this.Qb=!0};Fb=b;p.prototype.reset=function(b){this.Pa=b;this.ac=this.ta=0;this.Go.length=0;this.Mj=this.Ge=!1};p.prototype.lk=function(){return this.Pa.ll?!0:this.ta<this.Pa.Ba.length-1?!!this.Pa.W.length:!1};vb=p})();
(function(){function k(d,g){this.u=d;this.b=d.b;this.type=g[0];this.get=[this.jr,this.fr,this.sr,this.xr,this.Zq,this.tr,this.nr,this.cr,this.mr,this.rr,this.$q,this.qr,this.dr,this.or,this.kr,this.lr,this.gr,this.hr,this.br,this.ur,this.Om,this.ir,this.Om,this.er][this.type];var l=null;this.ub=this.I=this.fa=this.Qa=this.Mi=this.Na=this.first=this.value=null;this.cc=-1;this.ud=null;this.xl=-1;this.xe=this.lh=null;this.Zg=!1;switch(this.type){case 0:case 1:case 2:this.value=g[1];break;case 3:this.first=
new Db(d,g[1]);break;case 18:this.first=new Db(d,g[1]);this.Na=new Db(d,g[2]);this.Mi=new Db(d,g[3]);break;case 19:this.Qa=g[1];this.Qa!==T.prototype.S.random&&this.Qa!==T.prototype.S.xq||this.u.zo();this.fa=[];this.I=[];3===g.length?(l=g[2],this.fa.length=l.length+1):this.fa.length=1;break;case 20:this.ub=this.b.n[g[1]];this.cc=-1;this.Qa=g[2];this.Zg=g[3];Tb&&this.Qa===Tb.prototype.S.dp&&this.u.zo();this.ud=g[4]?new Db(d,g[4]):null;this.fa=[];this.I=[];6===g.length?(l=g[5],this.fa.length=l.length+
1):this.fa.length=1;break;case 21:this.ub=this.b.n[g[1]];this.Zg=g[2];this.ud=g[3]?new Db(d,g[3]):null;this.xl=g[4];break;case 22:this.ub=this.b.n[g[1]];this.ub.Oh(g[2]);this.cc=this.ub.Yj(g[2]);this.Qa=g[3];this.Zg=g[4];this.ud=g[5]?new Db(d,g[5]):null;this.fa=[];this.I=[];7===g.length?(l=g[6],this.fa.length=l.length+1):this.fa.length=1;break;case 23:this.lh=g[1],this.xe=null}this.u.Is(this.ub);4<=this.type&&17>=this.type&&(this.first=new Db(d,g[1]),this.Na=new Db(d,g[2]));if(l){var a,c;a=0;for(c=
l.length;a<c;a++)this.I.push(new Db(d,l[a]))}}function n(d,g){this.type=d||S.Xe;this.data=g||0;this.Af=null;this.type==S.Xe&&(this.data=Math.floor(this.data))}k.prototype.qa=function(){23===this.type&&(this.xe=this.u.b.cn(this.lh,this.u.Sb.parent));this.first&&this.first.qa();this.Na&&this.Na.qa();this.Mi&&this.Mi.qa();this.ud&&this.ud.qa();if(this.I){var d,g;d=0;for(g=this.I.length;d<g;d++)this.I[d].qa()}};k.prototype.ur=function(d){this.fa[0]=d;d=this.u.Ea();var g,l;g=0;for(l=this.I.length;g<l;g++)this.I[g].get(d),
this.fa[g+1]=d.data;this.u.xa();this.Qa.apply(this.b.cd,this.fa)};k.prototype.Om=function(d){var g=this.ub.A(),l=g.ib();if(!l.length)if(g.$.length)l=g.$;else{this.Zg?d.Zb(""):d.C(0);return}this.fa[0]=d;d.Af=this.ub;d=this.u.Ea();var a,g=0;for(a=this.I.length;g<a;g++)this.I[g].get(d),this.fa[g+1]=d.data;g=this.u.je;this.ud&&(this.ud.get(d),d.Ka()&&(g=d.data,l=this.ub.d));this.u.xa();g%=l.length;0>g&&(g+=l.length);l=l[g];-1<this.cc?(d=0,this.ub.K&&(d=l.type.mf[this.ub.rd]),this.Qa.apply(l.F[this.cc+
d],this.fa)):this.Qa.apply(l,this.fa)};k.prototype.ir=function(d){var g=this.ub.A(),l=g.ib();if(!l.length)if(g.$.length)l=g.$;else{this.Zg?d.Zb(""):d.C(0);return}g=this.u.je;if(this.ud){var a=this.u.Ea();this.ud.get(a);if(a.Ka()){g=a.data;l=this.ub.d;g%=l.length;0>g&&(g+=l.length);l=l[g].Ca[this.xl];L(l)?d.Zb(l):d.j(l);this.u.xa();return}this.u.xa()}g%=l.length;0>g&&(g+=l.length);l=l[g];g=0;this.ub.K&&(g=l.type.Kh[this.ub.rd]);l=l.Ca[this.xl+g];L(l)?d.Zb(l):d.j(l)};k.prototype.jr=function(d){d.type=
S.Xe;d.data=this.value};k.prototype.fr=function(d){d.type=S.We;d.data=this.value};k.prototype.sr=function(d){d.type=S.uh;d.data=this.value};k.prototype.xr=function(d){this.first.get(d);d.Ka()&&(d.data=-d.data)};k.prototype.Zq=function(d){this.first.get(d);var g=this.u.Ea();this.Na.get(g);d.Ka()&&g.Ka()&&(d.data+=g.data,g.rf()&&d.yf());this.u.xa()};k.prototype.tr=function(d){this.first.get(d);var g=this.u.Ea();this.Na.get(g);d.Ka()&&g.Ka()&&(d.data-=g.data,g.rf()&&d.yf());this.u.xa()};k.prototype.nr=
function(d){this.first.get(d);var g=this.u.Ea();this.Na.get(g);d.Ka()&&g.Ka()&&(d.data*=g.data,g.rf()&&d.yf());this.u.xa()};k.prototype.cr=function(d){this.first.get(d);var g=this.u.Ea();this.Na.get(g);d.Ka()&&g.Ka()&&(d.data/=g.data,d.yf());this.u.xa()};k.prototype.mr=function(d){this.first.get(d);var g=this.u.Ea();this.Na.get(g);d.Ka()&&g.Ka()&&(d.data%=g.data,g.rf()&&d.yf());this.u.xa()};k.prototype.rr=function(d){this.first.get(d);var g=this.u.Ea();this.Na.get(g);d.Ka()&&g.Ka()&&(d.data=Math.pow(d.data,
g.data),g.rf()&&d.yf());this.u.xa()};k.prototype.$q=function(d){this.first.get(d);var g=this.u.Ea();this.Na.get(g);d.Ka()?g.bi()?d.Zb(d.data.toString()+g.data):d.data&&g.data?d.C(1):d.C(0):d.bi()&&(d.data=g.bi()?d.data+g.data:d.data+(Math.round(1E10*g.data)/1E10).toString());this.u.xa()};k.prototype.qr=function(d){this.first.get(d);var g=this.u.Ea();this.Na.get(g);d.Ka()&&g.Ka()&&(d.data||g.data?d.C(1):d.C(0));this.u.xa()};k.prototype.br=function(d){this.first.get(d);d.data?this.Na.get(d):this.Mi.get(d)};
k.prototype.dr=function(d){this.first.get(d);var g=this.u.Ea();this.Na.get(g);d.C(d.data===g.data?1:0);this.u.xa()};k.prototype.or=function(d){this.first.get(d);var g=this.u.Ea();this.Na.get(g);d.C(d.data!==g.data?1:0);this.u.xa()};k.prototype.kr=function(d){this.first.get(d);var g=this.u.Ea();this.Na.get(g);d.C(d.data<g.data?1:0);this.u.xa()};k.prototype.lr=function(d){this.first.get(d);var g=this.u.Ea();this.Na.get(g);d.C(d.data<=g.data?1:0);this.u.xa()};k.prototype.gr=function(d){this.first.get(d);
var g=this.u.Ea();this.Na.get(g);d.C(d.data>g.data?1:0);this.u.xa()};k.prototype.hr=function(d){this.first.get(d);var g=this.u.Ea();this.Na.get(g);d.C(d.data>=g.data?1:0);this.u.xa()};k.prototype.er=function(d){var g=this.xe.Qr();I(g)?d.j(g):d.Zb(g)};Db=k;n.prototype.rf=function(){return this.type===S.We};n.prototype.Ka=function(){return this.type===S.Xe||this.type===S.We};n.prototype.bi=function(){return this.type===S.uh};n.prototype.yf=function(){this.rf()||(this.bi()&&(this.data=parseFloat(this.data)),
this.type=S.We)};n.prototype.C=function(d){this.type=S.Xe;this.data=Math.floor(d)};n.prototype.j=function(d){this.type=S.We;this.data=d};n.prototype.Zb=function(d){this.type=S.uh;this.data=d};n.prototype.$g=function(d){I(d)?(this.type=S.We,this.data=d):L(d)?(this.type=S.uh,this.data=d.toString()):(this.type=S.Xe,this.data=0)};Gb=n;S={Xe:0,We:1,uh:2}})();function T(k){this.b=k;this.Mb=[]}
T.prototype.Fa=function(){var k={},n,d,g,l,a,c,e,m;k.waits=[];var f=k.waits,h;n=0;for(d=this.Mb.length;n<d;n++){c=this.Mb[n];h={t:c.time,st:c.mt,s:c.Do,ev:c.mg.Q,sm:[],sols:{}};c.mg.Ac[c.ac]&&(h.act=c.mg.Ac[c.ac].Q);g=0;for(l=c.W.length;g<l;g++)h.sm.push(c.W[g].Q);for(a in c.Jb)if(c.Jb.hasOwnProperty(a)){e=this.b.n[parseInt(a,10)];m={sa:c.Jb[a].vo,insts:[]};g=0;for(l=c.Jb[a].Ce.length;g<l;g++)m.insts.push(c.Jb[a].Ce[g].uid);h.sols[e.Q.toString()]=m}f.push(h)}return k};
T.prototype.Ra=function(k){k=k.waits;var n,d,g,l,a,c,e,m,f,h,b;n=this.Mb.length=0;for(d=k.length;n<d;n++)if(c=k[n],m=this.b.vm[c.ev.toString()]){f=-1;g=0;for(l=m.Ac.length;g<l;g++)if(m.Ac[g].Q===c.act){f=g;break}if(-1!==f){e={Jb:{},W:[],Hm:!1};e.time=c.t;e.mt=c.st||"";e.Do=!!c.s;e.mg=m;e.ac=f;g=0;for(l=c.sm.length;g<l;g++)(m=this.b.Rh(c.sm[g]))&&e.W.push(m);for(a in c.sols)if(c.sols.hasOwnProperty(a)&&(m=this.b.Rh(parseInt(a,10)))){f=c.sols[a];h={vo:f.sa,Ce:[]};g=0;for(l=f.insts.length;g<l;g++)(b=
this.b.Dc(f.insts[g]))&&h.Ce.push(b);e.Jb[m.index.toString()]=h}this.Mb.push(e)}}};
(function(){function k(){}function n(){}function d(){}var g=T.prototype;k.prototype.ph=H(!0);k.prototype.Cp=H(!0);k.prototype.ep=function(a,e,d){return Hb(a,e,d)};k.prototype.Cl=function(a,e,d){var f=this.b.Ja(),h=f.Pa,f=f.lk();a=this.b.Zs(a);if(d<e)if(f)for(;e>=d&&!a.dh;--e)this.b.ee(h.W),a.index=e,h.Ad(),this.b.Kc(h.W);else for(;e>=d&&!a.dh;--e)a.index=e,h.Ad();else if(f)for(;e<=d&&!a.dh;++e)this.b.ee(h.W),a.index=e,h.Ad(),this.b.Kc(h.W);else for(;e<=d&&!a.dh;++e)a.index=e,h.Ad();this.b.Ss();return!1};
k.prototype.lp=function(){var a=this.b.Ja();return a.Mj?!1:!a.Ge};k.prototype.Ll=H(!0);k.prototype.wp=H(!0);k.prototype.jj=H(!0);k.prototype.Dp=H(!0);k.prototype.ij=H(!0);g.e=new k;n.prototype.fp=function(a,d,g,f){if(d&&a&&(d=this.b.Ah(a,d,g,f))){this.b.tb++;var h;this.b.trigger(Object.getPrototypeOf(a.U).e.qe,d);if(d.ab)for(g=0,f=d.siblings.length;g<f;g++)h=d.siblings[g],this.b.trigger(Object.getPrototypeOf(h.type.U).e.qe,h);this.b.tb--;a=a.A();a.M=!1;a.d.length=1;a.d[0]=d;if(d.ab)for(g=0,f=d.siblings.length;g<
f;g++)h=d.siblings[g],a=h.type.A(),a.M=!1,a.d.length=1,a.d[0]=h}};var l=[],a=[];g.R=new n;d.prototype["int"]=function(a,d){L(d)?(a.C(parseInt(d,10)),isNaN(a.data)&&(a.data=0)):a.C(d)};d.prototype["float"]=function(a,d){L(d)?(a.j(parseFloat(d)),isNaN(a.data)&&(a.data=0)):a.j(d)};d.prototype.random=function(a,d,g){void 0===g?a.j(Math.random()*d):a.j(Math.random()*(g-d)+d)};d.prototype.sqrt=function(a,d){a.j(Math.sqrt(d))};d.prototype.abs=function(a,d){a.j(Math.abs(d))};d.prototype.round=function(a,
d){a.C(Math.round(d))};d.prototype.floor=function(a,d){a.C(Math.floor(d))};d.prototype.ceil=function(a,d){a.C(Math.ceil(d))};d.prototype.sin=function(a,d){a.j(Math.sin(P(d)))};d.prototype.cos=function(a,d){a.j(Math.cos(P(d)))};d.prototype.tan=function(a,d){a.j(Math.tan(P(d)))};d.prototype.acos=function(a,d){a.j(za(Math.acos(d)))};d.prototype.max=function(a){var d=arguments[1];"number"!==typeof d&&(d=0);var g,f,h;g=2;for(f=arguments.length;g<f;g++)h=arguments[g],"number"===typeof h&&d<h&&(d=h);a.j(d)};
d.prototype.min=function(a){var d=arguments[1];"number"!==typeof d&&(d=0);var g,f,h;g=2;for(f=arguments.length;g<f;g++)h=arguments[g],"number"===typeof h&&d>h&&(d=h);a.j(d)};d.prototype.jf=function(a){a.j(this.b.jf)};d.prototype.ih=function(a){a.j(this.b.ih)};d.prototype.time=function(a){a.j(this.b.tf.wb)};d.prototype.Ed=function(a){a.C(this.b.Ed)};d.prototype.qi=function(a){a.C(this.b.qi)};d.prototype.Vj=function(a){a.C(this.b.Vj)};d.prototype.In=function(a,d){var g,f,h;if(this.b.xf.length)if(d){f=
0;for(h=this.b.xf.length;f<h;f++)if(g=this.b.xf[f],g.name===d){a.C(g.index);return}a.C(0)}else g=this.b.an(),a.C(g?g.index:-1);else a.C(0)};d.prototype.i=function(a,d,g,f,h){a.j(za(Ea(d,g,f,h)))};d.prototype.left=function(a,d,g){a.Zb(L(d)?d.substr(0,g):"")};d.prototype.right=function(a,d,g){a.Zb(L(d)?d.substr(d.length-g):"")};d.prototype.replace=function(a,d,g,f){L(d)&&L(g)&&L(f)?a.Zb(d.replace(RegExp(Na(g),"gi"),f)):a.Zb(L(d)?d:"")};d.prototype.xq=function(a){var d=N(Math.random()*(arguments.length-
1));a.$g(arguments[d+1])};d.prototype.Gj=function(a){a.j(this.b.Gj/1E3)};d.prototype.vf=function(a){a.j(this.b.vf)};g.S=new d;g.et=function(){var c,d,g,f,h,b,p=this.b.Ja();c=0;for(g=this.Mb.length;c<g;c++){f=this.Mb[c];if(-1===f.time){if(!f.Do)continue}else if(f.time>this.b.tf.wb)continue;p.Pa=f.mg;p.ac=f.ac;p.ta=0;for(d in f.Jb)f.Jb.hasOwnProperty(d)&&(h=this.b.n[parseInt(d,10)].A(),b=f.Jb[d],h.M=b.vo,wa(h.d,b.Ce),h=b,h.Ce.length=0,a.push(h));f.mg.ct();this.b.Fj(f.W);f.Hm=!0}d=c=0;for(g=this.Mb.length;c<
g;c++)f=this.Mb[c],this.Mb[d]=f,f.Hm?(La(f.Jb),f.W.length=0,l.push(f)):d++;this.Mb.length=d}})();
(function(){Wa=function(k){var d=k[0].prototype,g=k[1],l=k[3],a=k[4],c=k[5],e=k[6],m=k[7];k=k[8];d.e||(d.e={});d.R||(d.R={});d.S||(d.S={});var f=d.e,h=d.R,d=d.S;l&&(f.St=function(b,a){return Hb(this.x,b,a)},f.Tt=function(b,a){return Hb(this.y,b,a)},f.ku=function(){var b=this.g;this.Oa();var a=this.hb;return!(a.right<b.Wa||a.bottom<b.Xa||a.left>b.Lb||a.top>b.Kb)},f.lu=function(){this.Oa();var b=this.hb,a=this.b.V;return 0>b.right||0>b.bottom||b.left>a.width||b.top>a.height},f.zu=function(b,a,c){var d=
this.A(),e=d.ib();if(!e.length)return!1;var f=e[0],h=f,g=Ia(f.x,f.y,a,c),l,m,k;l=1;for(m=e.length;l<m;l++)if(f=e[l],k=Ia(f.x,f.y,a,c),0===b&&k<g||1===b&&k>g)g=k,h=f;d.Oe(h);return!0},h.Su=function(b){this.x!==b&&(this.x=b,this.za())},h.Tu=function(b){this.y!==b&&(this.y=b,this.za())},h.Nu=function(b,a){if(this.x!==b||this.y!==a)this.x=b,this.y=a,this.za()},h.Ou=function(b,a){var c=b.Mr(this);if(c){var d;c.ak?(d=c.ak(a,!0),c=c.ak(a,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.za()}},
h.su=function(b){0!==b&&(this.x+=Math.cos(this.i)*b,this.y+=Math.sin(this.i)*b,this.za())},h.ru=function(b,a){0!==a&&(this.x+=Math.cos(P(b))*a,this.y+=Math.sin(P(b))*a,this.za())},d.Xl=function(b){b.j(this.x)},d.$l=function(b){b.j(this.y)},d.jf=function(b){b.j(this.b.bn(this))});a&&(f.Rt=function(b,a){return Hb(this.width,b,a)},f.Ot=function(b,a){return Hb(this.height,b,a)},h.sh=function(b){this.width!==b&&(this.width=b,this.za())},h.oj=function(b){this.height!==b&&(this.height=b,this.za())},h.Pu=
function(b,a){if(this.width!==b||this.height!==a)this.width=b,this.height=a,this.za()},d.Wl=function(b){b.j(this.width)},d.El=function(b){b.j(this.height)},d.Lt=function(b){this.Oa();b.j(this.hb.left)},d.Nt=function(b){this.Oa();b.j(this.hb.top)},d.Mt=function(b){this.Oa();b.j(this.hb.right)},d.Kt=function(b){this.Oa();b.j(this.hb.bottom)});c&&(f.Jt=function(b,a){return Fa(this.i,P(a))<=P(b)},f.gu=function(b){return Ha(this.i,P(b))},f.eu=function(b,a){var c=Da(b),d=Da(a),e=Ba(this.i);return Ha(d,
c)?Ha(e,c)&&!Ha(e,d):!(!Ha(e,c)&&Ha(e,d))},h.Iu=function(b){b=P(Aa(b));isNaN(b)||this.i===b||(this.i=b,this.za())},h.Eu=function(b){0===b||isNaN(b)||(this.i+=P(b),this.i=Ba(this.i),this.za())},h.Fu=function(b){0===b||isNaN(b)||(this.i-=P(b),this.i=Ba(this.i),this.za())},h.Gu=function(b,a){var c=Ga(this.i,P(a),P(b));isNaN(c)||this.i===c||(this.i=c,this.za())},h.Hu=function(b,a,c){b=Ga(this.i,Math.atan2(c-this.y,a-this.x),P(b));isNaN(b)||this.i===b||(this.i=b,this.za())},h.Qu=function(b,a){var c=Math.atan2(a-
this.y,b-this.x);isNaN(c)||this.i===c||(this.i=c,this.za())},d.It=function(b){b.j(Ca(this.i))});g||(f.Pt=function(b,a,c){return Hb(this.Ca[b],a,c)},f.fu=function(b){return this.Ca[b]},f.Au=function(b,a){var c=this.A(),d=c.ib();if(!d.length)return!1;var e=d[0],f=e,h=e.Ca[a],g,l,m;g=1;for(l=d.length;g<l;g++)if(e=d[g],m=e.Ca[a],0===b&&m<h||1===b&&m>h)h=m,f=e;c.Oe(f);return!0},f.yu=function(b){var a,c,d,e,f;if(this.b.Zm().jk){f=this.A();if(f.M)for(f.M=!1,f.d.length=0,f.$.length=0,d=this.d,a=0,c=d.length;a<
c;a++)e=d[a],e.uid===b?f.$.push(e):f.d.push(e);else{d=a=0;for(c=f.d.length;a<c;a++)e=f.d[a],f.d[d]=e,e.uid===b?f.$.push(e):d++;f.d.length=d}this.Rb();return!!f.d.length}e=this.b.Dc(b);if(!e)return!1;f=this.A();if(!f.M&&-1===f.d.indexOf(e))return!1;if(this.K)for(b=e.type.ka,a=0,c=b.length;a<c;a++){if(b[a]===this)return f.Oe(e),this.Rb(),!0}else if(e.type===this)return f.Oe(e),this.Rb(),!0;return!1},f.qe=H(!0),f.yp=H(!0),h.Mu=function(b,a){var c=this.Ca;I(c[b])?c[b]=I(a)?a:parseFloat(a):L(c[b])&&(c[b]=
L(a)?a:a.toString())},h.Ht=function(b,a){var c=this.Ca;I(c[b])?c[b]=I(a)?c[b]+a:c[b]+parseFloat(a):L(c[b])&&(c[b]=L(a)?c[b]+a:c[b]+a.toString())},h.Vu=function(b,a){var c=this.Ca;I(c[b])&&(c[b]=I(a)?c[b]-a:c[b]-parseFloat(a))},h.Ju=function(b,a){this.Ca[b]=a?1:0},h.Xu=function(b){this.Ca[b]=1-this.Ca[b]},h.jp=function(){this.b.ne(this)},h.tp||(h.tp=function(b){var a,c;try{a=JSON.parse(b)}catch(d){return}this.b.li(this,a,!0);this.Rc&&this.Rc();if(this.F)for(b=0,a=this.F.length;b<a;++b)c=this.F[b],
c.Rc&&c.Rc()}),d.Wt=function(b){var a=b.Af.d.length,c,d,e;c=0;for(d=this.b.Ab.length;c<d;c++)e=this.b.Ab[c],b.Af.K?0<=e.type.ka.indexOf(b.Af)&&a++:e.type===b.Af&&a++;b.C(a)},d.Cu=function(b){b.C(b.Af.A().ib().length)},d.Yu=function(b){b.C(this.uid)},d.au=function(b){b.C(this.sg())},d.Zo||(d.Zo=function(b){b.Zb(JSON.stringify(this.b.il(this,!0)))}));e&&(f.nu=G("visible"),h.Ru=function(b){!b!==!this.visible&&(this.visible=b,this.b.ga=!0)},f.Qt=function(b,a){return Hb(Sa(100*this.opacity),b,a)},h.Vp=
function(b){b/=100;0>b?b=0:1<b&&(b=1);b!==this.opacity&&(this.opacity=b,this.b.ga=!0)},d.Opacity=function(b){b.j(Sa(100*this.opacity))});m&&(f.ju=function(b){return b?this.g===b:!1},f.Bu=function(b){var a=this.A(),c=a.ib();if(!c.length)return!1;var d=c[0],e=d,f,h;f=1;for(h=c.length;f<h;f++)if(d=c[f],0===b){if(d.g.index>e.g.index||d.g.index===e.g.index&&d.sb()>e.sb())e=d}else if(d.g.index<e.g.index||d.g.index===e.g.index&&d.sb()<e.sb())e=d;a.Oe(e);return!0},h.vu=function(){var b=this.sb();b!==this.g.d.length-
1&&(va(this.g.d,b),this.g.d.push(this),this.b.ga=!0,this.g.Pb=!0)},h.tu=function(){var b=this.sb();0!==b&&(va(this.g.d,b),this.g.d.unshift(this),this.b.ga=!0,this.g.Pb=!0)},h.uu=function(b){b&&b!=this.g&&(va(this.g.d,this.sb()),this.g.Pb=!0,this.g=b,this.Ve=b.d.length,b.d.push(this),this.b.ga=!0)},h.gv=function(b,a){var c=0===b;if(a){var d=a.Ph(this);if(d&&d.uid!==this.uid){this.g.index!==d.g.index&&(va(this.g.d,this.sb()),this.g.Pb=!0,this.g=d.g,this.Ve=d.g.d.length,d.g.d.push(this));var e=this.sb(),
d=d.sb();va(this.g.d,e);e<d&&d--;c&&d++;d===this.g.d.length?this.g.d.push(this):this.g.d.splice(d,0,this);this.g.Pb=!0;this.b.ga=!0}}},d.qu=function(b){b.C(this.g.Zn)},d.pu=function(b){b.Zb(this.g.name)},d.dv=function(b){b.C(this.sb())});k&&(h.Ku=function(b,a){if(this.b.B){var c=this.type.$j(a);if(!(0>c)){var d=1===b;this.Ld[c]!==d&&(this.Ld[c]=d,this.Hd(),this.b.ga=!0)}}},h.Lu=function(b,a,c){if(this.b.B){var d=this.type.$j(b);0>d||(b=this.type.G[d],d=this.oa[d],a=Math.floor(a),0>a||a>=d.length||
(1===this.b.B.Pr(b.Va,a)&&(c/=100),d[a]!==c&&(d[a]=c,b.Qb&&(this.b.ga=!0))))}})};ob=function(){this.Cj=this.wj=!0;this.type.nm=!0;this.b.ga=!0;var k,d,g=this.xj;k=0;for(d=g.length;k<d;++k)g[k](this)};pb=function(k){k&&this.xj.push(k)};rb=function(){if(this.wj){var k=this.hb,d=this.ve;k.set(this.x,this.y,this.x+this.width,this.y+this.height);k.offset(-this.Db*this.width,-this.Eb*this.height);this.i?(k.offset(-this.x,-this.y),d.Ao(k,this.i),d.offset(this.x,this.y),d.wm(k)):d.Hi(k);k.normalize();this.wj=
!1}};var k=new sa(0,0,0,0);sb=function(){if(this.Cj&&this.ig){this.Oa();var n=this.type.Cm,d=this.zh,g=this.hb;k.set(n.Zl(g.left),n.cm(g.top),n.Zl(g.right),n.cm(g.bottom));d.Yq(k)||(d.right<d.left?n.update(this,null,k):n.update(this,d,k),d.copy(k),this.Cj=!1)}};qb=function(k,d){return this.hb.Tb(k,d)&&this.ve.Tb(k,d)?this.Tc&&!this.Tc.$h()?(this.Tc.sq(this.width,this.height,this.i),this.Tc.Tb(k-this.x,d-this.y)):!0:!1};kb=function(){this.type.Si();return this.Ae};tb=function(){this.g.Vo();return this.Ve};
ub=function(){this.X.length=0;var k,d;k=0;for(d=this.Ld.length;k<d;k++)this.Ld[k]&&this.X.push(this.type.G[k]);this.Wo=!!this.X.length};lb=function(){return"Inst"+this.po};Za=function(k){if(k&&k.ab&&k.type!=this){var d,g,l;d=0;for(g=k.siblings.length;d<g;d++)if(l=k.siblings[d],l.type==this)return l}k=this.A().ib();return k.length?k[0]:null};$a=function(k){var d=this.A().ib();return d.length?d[k.sg()%d.length]:null};Ya=function(){if(this.Lf&&!this.K){var k,d;k=0;for(d=this.d.length;k<d;k++)this.d[k].Ae=
k;var g=k,l=this.b.Ab;k=0;for(d=l.length;k<d;++k)l[k].type===this&&(l[k].Ae=g++);this.Lf=!1}};ib=function(k){if(k<this.d.length)return this.d[k];k-=this.d.length;var d=this.b.Ab,g,l;g=0;for(l=d.length;g<l;++g)if(d[g].type===this){if(0===k)return d[g];--k}return null};ab=function(){return this.ke[this.pd]};bb=function(){this.pd++;this.pd===this.ke.length?this.ke.push(new Xa(this)):this.ke[this.pd].M=!0};cb=function(){this.pd++;this.pd===this.ke.length&&this.ke.push(new Xa(this));var k=this.ke[this.pd],
d=this.ke[this.pd-1];d.M?k.M=!0:(k.M=!1,wa(k.d,d.d),wa(k.$,d.$))};db=function(){this.pd--};eb=function(k){var d,g,l,a,c,e=0;if(!this.K)for(d=0,g=this.ka.length;d<g;d++)for(c=this.ka[d],l=0,a=c.ra.length;l<a;l++){if(k===c.ra[l].name)return this.ja.lastBehIndex=e,c.ra[l];e++}d=0;for(g=this.ra.length;d<g;d++){if(k===this.ra[d].name)return this.ja.lastBehIndex=e,this.ra[d];e++}return null};fb=function(k){return this.Oh(k)?this.ja.lastBehIndex:-1};gb=function(k){var d,g;d=0;for(g=this.G.length;d<g;d++)if(this.G[d].name===
k)return d;return-1};hb=function(){if(this.ab&&!this.K){var k,d,g,l,a,c,e;this.Si();c=this.A();var m=c.M,f=(k=this.b.Ja())&&k.Pa&&k.Pa.Gc;k=0;for(d=this.zb.length;k<d;k++)if(a=this.zb[k],a!==this&&(a.Si(),e=a.A(),e.M=m,!m)){e.d.length=c.d.length;g=0;for(l=c.d.length;g<l;g++)e.d[g]=a.dn(c.d[g].Ae);if(f)for(e.$.length=c.$.length,g=0,l=c.$.length;g<l;g++)e.$[g]=a.dn(c.$[g].Ae)}}};jb=function(){return"Type"+this.Q};Hb=function(k,d,g){if("undefined"===typeof k||"undefined"===typeof g)return!1;switch(d){case 0:return k===
g;case 1:return k!==g;case 2:return k<g;case 3:return k<=g;case 4:return k>g;case 5:return k>=g;default:return!1}}})();var Qb={};function V(k){this.b=k}
(function(){function k(){}var n=V.prototype;n.da=function(d){this.U=d;this.b=d.b};n.da.prototype.L=w();n.J=function(d){this.type=d;this.b=d.b};n.J.prototype.L=function(){var d=this;window.addEventListener("resize",function(){d.b.trigger(V.prototype.e.Kp,d)});"undefined"!==typeof navigator.onLine&&(window.addEventListener("online",function(){d.b.trigger(V.prototype.e.Gp,d)}),window.addEventListener("offline",function(){d.b.trigger(V.prototype.e.Fp,d)}));"undefined"!==typeof window.applicationCache&&
(window.applicationCache.addEventListener("updateready",function(){d.b.vf=1;d.b.trigger(V.prototype.e.Ql,d)}),window.applicationCache.addEventListener("progress",function(g){d.b.vf=g.loaded/g.total}));this.b.nc||(document.addEventListener("appMobi.device.update.available",function(){d.b.trigger(V.prototype.e.Ql,d)}),document.addEventListener("backbutton",function(){d.b.trigger(V.prototype.e.cj,d)}),document.addEventListener("menubutton",function(){d.b.trigger(V.prototype.e.Ml,d)}),document.addEventListener("searchbutton",
function(){d.b.trigger(V.prototype.e.Np,d)}),document.addEventListener("tizenhwkey",function(g){var k;switch(g.keyName){case "back":k=d.b.trigger(V.prototype.e.cj,d);!k&&window.tizen&&window.tizen.application.getCurrentApplication().exit();break;case "menu":(k=d.b.trigger(V.prototype.e.Ml,d))||g.preventDefault()}}));this.b.rk&&(WinJS.Application.onbackclick=function(){return!!d.b.trigger(V.prototype.e.cj,d)});this.b.hq(function(g){g?d.b.trigger(V.prototype.e.Hp,d):d.b.trigger(V.prototype.e.Ip,d)})};
k.prototype.Gp=H(!0);k.prototype.Fp=H(!0);k.prototype.Ql=H(!0);k.prototype.Ip=H(!0);k.prototype.Hp=H(!0);k.prototype.Kp=H(!0);k.prototype.cj=H(!0);k.prototype.Ml=H(!0);k.prototype.Np=H(!0);n.e=new k;n.R=new (w());n.S=new (w())})();function Tb(k){this.b=k}
(function(){function k(){this.name="";this.Yg=0;this.ae=[]}function n(){e++;e===c.length&&c.push(new k);return c[e]}function d(){}function g(){}function l(){}var a=Tb.prototype;a.da=function(a){this.U=a;this.b=a.b};a.da.prototype.L=w();a.J=function(a){this.type=a;this.b=a.b};var c=[],e=-1;a.J.prototype.L=function(){var a=this;window.c2_callFunction=function(c,d){var b,p,g,k=n();k.name=c.toLowerCase();k.Yg=0;if(d)for(k.ae.length=d.length,b=0,p=d.length;b<p;++b)g=d[b],k.ae[b]="number"===typeof g||"string"===
typeof g?g:"boolean"===typeof g?g?1:0:0;else k.ae.length=0;a.b.trigger(Tb.prototype.e.oh,a,k.name);e--;return k.Yg}};d.prototype.oh=function(a){var d=0>e?null:c[e];return d?Ta(a,d.name):!1};a.e=new d;g.prototype.CallFunction=function(a,c){var d=n();d.name=a.toLowerCase();d.Yg=0;wa(d.ae,c);this.b.trigger(Tb.prototype.e.oh,this,d.name);e--};a.R=new g;l.prototype.Pp=function(a,d){d=N(d);var h=0>e?null:c[e];h?0<=d&&d<h.ae.length?a.$g(h.ae[d]):a.C(0):a.C(0)};l.prototype.dp=function(a,c){var d=n();d.name=
c.toLowerCase();d.Yg=0;d.ae.length=0;var b,p;b=2;for(p=arguments.length;b<p;b++)d.ae.push(arguments[b]);this.b.trigger(Tb.prototype.e.oh,this,d.name);e--;a.$g(d.Yg)};a.S=new l})();function Ub(k){this.b=k}
(function(){function k(){}function n(){}var d=Ub.prototype;d.da=function(d){this.U=d;this.b=d.b};d.da.prototype.L=w();d.J=function(d){this.type=d;this.b=d.b};var g=d.J.prototype;g.L=function(){this.pt=this.T[0];this.As=1==this.T[1];this.Rj=this.Qj=0;this.Pj="";this.Pm=this.Qm=0};g.Xo=function(d){null==d?d=0:this.As&&(d=eval("("+d+")"));return d};d.e=new k;k.prototype.mp=function(d){for(var a=this.pt,a=a||",",c=RegExp("(\\"+a+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+a+"\\r\\n]*))","gi"),e=
[[]],g=null;g=c.exec(d);){var f=g[1];f.length&&f!=a&&e.push([]);g=g[2]?g[2].replace(/""/g,'"'):g[3];e[e.length-1].push(g)}d=e.length;a=e[0].length;g=this.b.Ja();c=g.Pa;g=g.lk();this.Qm=a;this.Pm=d;if(g)for(f=0;f<d;f++)for(this.Rj=f,g=0;g<a;g++)this.b.ee(c.W),this.Qj=g,this.Pj=this.Xo(e[f][g]),c.Ad(),this.b.Kc(c.W);else for(f=0;f<d;f++)for(this.Rj=f,g=0;g<a;g++)this.Qj=g,this.Pj=this.Xo(e[f][g]),c.Ad();return!1};d.R=new (w());d.S=new n;n.prototype.hp=function(d){d.C(this.Qj)};n.prototype.ip=function(d){d.C(this.Rj)};
n.prototype.Bl=function(d){d.$g(this.Pj)};n.prototype.Wl=function(d){d.C(this.Qm)};n.prototype.El=function(d){d.C(this.Pm)}})();function W(k){this.b=k}
(function(){function k(b){for(var a in b)return!1;return!0}function n(b){for(var a in b)delete b[a]}function d(b){b.ja.hasOwnProperty("rex_minb")||(b.ja.rex_minb={});return b.ja.rex_minb}function g(){}function l(){}function a(){}var c=W.prototype;c.da=function(b){this.U=b;this.b=b.b};var e=c.da.prototype;e.L=function(){this.D=null;this.yd=-1};e.Aa=function(){if(null!=this.D)return this.D;var b=this.b.types,a,c;for(a in b)if(c=b[a].d[0],Vb&&c instanceof Vb.prototype.J||Ib.nj&&c instanceof Ib.nj.prototype.J||
Ib.mj&&c instanceof Ib.mj.prototype.J)return this.D=c;return null};e.Zi=function(b,a,c,d,e,f){if(null!=b&&null!=e){var h=this.Aa(),g=h.oe(a,c,d);a=h.pe(a,c,d);return window.Zf.call(this,b,e,g,a,f)}};c.J=function(b){this.type=b;this.b=b.b};var e=c.J.prototype,m,f=[];e.L=function(){this.yh="BOARD";this.Cs=1==this.T[1];this.vi=this.x;this.wi=this.y;this.uk=!1;this.Hb=new W.bj;this.qc=new W.bj;this.Tl();this.Ng=function(b){return function(a){b.Nk(a)}}(this);this.b.hm(this.Ng);this.b.ol(this);this.ai=
0;this.$f=-1};e.Tl=function(){this.N={};this.q={};this.Ag={};this.Gk(null);this.$b={}};e.Gk=function(b,a,c){this.Hb.te(b,a,c);null!=b&&this.qc.te(b,a,c)};e.Nk=function(b){this.tc(b.uid);this.Hb.p===b&&(this.Hb.te(null),this.qc.te(null))};e.Df=function(){var b,a;for(b in this.q)a=this.xb(b),null!=a&&this.b.ne(a);this.b.ro(this.Ng)};e.Bm=function(){var b=this.x,a=this.y;if(b!=this.vi||a!=this.wi){var c,d,e;for(c in this.q)d=this.xb(c),null!=d&&(e=this.$b[c],d.x=b+e.x,d.y=a+e.y,d.za());this.vi=b;this.wi=
a}};e.km=function(b){var a=b.uid;this.$b.hasOwnProperty(a)||(this.$b[a]={x:0,y:0});this.$b[a].x=b.x-this.x;this.$b[a].y=b.y-this.y};e.hh=function(){this.Cs&&this.Bm()};e.Vc=w();e.lc=w();e.Sf=function(b,a,c){b=this.N[b];return null!=b&&(b=b[a],null!=b)?b[c]:null};e.Ha=function(b){return this.q[b]};e.xb=function(b){return null==this.Ha(b)?null:this.b.Dc(b)};e.jm=function(b,a,c,d){this.N.hasOwnProperty(b)||(this.N[b]={});b=this.N[b];b.hasOwnProperty(a)||(b[a]={});b[a][c]=d};e.bt=function(b,a,c){if(this.N.hasOwnProperty(b)){var d=
this.N[b];if(d.hasOwnProperty(a)){var e=d[a];e.hasOwnProperty(c)&&(delete e[c],k(e)&&delete d[a],k(d)&&delete this.N[b])}}};e.tc=function(b,a){var c=this.xb(b);if(null!=c){a&&(this.$f=b,this.b.trigger(Wb.prototype.e.dj,this));var e=this.Ha(b);delete this.q[b];0==e.z&&delete this.Ag[b];this.bt(e.x,e.y,e.z);delete this.$b[b];d(c).minb_uid=null}};e.Md=function(b,a,c,e){if(null!=b){var f=b.uid;this.tc(this.Sf(a,c,e),!0);this.jm(a,c,e,f);this.q[f]={x:a,y:c,z:e};0==e&&(this.Ag[f]=this.q[f]);d(b).minb_uid=
this.uid;this.km(b)}};e.me=function(b,a,c,d,e){var f=this.type.Aa();if(null!=b&&null!=f){var h=f.kd,g=f.Qc;f.cf(this.x);f.df(this.y);var k=this;b=this.type.Zi(b,a,c,d,e,function(b){k.Md(b,a,c,d)});f.cf(h);f.df(g);return b}};e.qp=function(b,a,c){return b.Vd(a,c)};e.$i=function(b,a,c,d,e){return b.Vd(c,d)?b.$h(c,d,e):!1};e.Fl=function(b,a,c,d){if(!b.Vd(c,d))return!1;this.ai=!1;this.b.trigger(W.prototype.e.Nl,this);return this.ai};e.Xi=function(b,a,c,d,e,f){switch(f){case 0:return!0;case 1:return this.qp(b,
c,d);case 2:return this.$i(b,a,c,d,e);case 3:return this.Fl(b,a,c,d,e);default:return this.$i(b,a,c,d,e)}};e.Wi=function(b,a,c,d){if(null==b)return!1;if(0==d)return!0;var e,f,h,g;for(e in this.q)if(f=this.Ha(e),h=f.x+a,g=f.y+c,f=f.z,!this.Xi(b,parseInt(e),h,g,f,d))return!1;return!0};e.rh=function(b,a,c,d,e,f){if(null!=b){this.qh();debugger;if((d=this.Wi(b,a,c,d))&&!f){this.Gk(b,a,c);var h,g;for(h in this.Ag)g=this.xb(h),null!=g&&(f=this.Ha(h),b.Md(g,f.x+a,f.y+c,f.z));for(h in this.q)this.Ag.hasOwnProperty(h)||
(g=this.xb(h),null!=g&&(f=this.Ha(h),b.Md(g,f.x+a,f.y+c,f.z)));e&&(b=b.Aa(),this.x=b.oe(a,c,0),this.y=b.pe(a,c,0),this.Bm())}this.Pq(d);return d}};e.Pq=function(b){this.uk=b;this.b.trigger(b?W.prototype.e.Ol:W.prototype.e.Jp,this)};e.qh=function(){var b=this.Hb.p;if(null!=b){for(var a in this.q)b.tc(a);this.Gk(null)}};e.Pe=function(b,a,c){var d;if(!c){var e=this;d=function(b){return null!=e.Ha(b)}}return window.bf.call(this,b,a,d)};var h={};e.dq=function(){var b,a,c,d;a=this.q;n(h);c=!1;for(b in a)a=
this.xb(b),null!=a&&(c=a.type,d=c.A(),h.hasOwnProperty(c.name)||(d.M=!1,d.d.length=0,h[c.name]=!0),d.d.push(a),c=!0);n(h);return c};e.io=function(b){f.length=0;for(var a in this.q)f.push(parseInt(a));b=this.Pe(f,b);f.length=0;return b};e.Fl=function(b,a,c){var d=b.Nb;b=b.Ob;var e,f,h;for(h in this.q){e=this.Ha(h);f=e.x+a;e=e.y+c;if(0>f||f>d||0>e||e>b)return!1;this.ai=!1;this.b.trigger(W.prototype.e.Nl,this);if(!this.ai)return!1}return!0};e.Fa=function(){var b,a={},c;for(b in this.q)a[b]={},c=this.q[b],
a[b].x=c.x,a[b].y=c.y,a[b].z=c.z;c={};for(b in this.$b)c[b]={},c[b].x=this.$b[b].x,c[b].y=this.$b[b].y;return{pre_x:this.vi,pre_y:this.wi,xyz2uid:this.N,uid2xyz:a,uid2pdxy:c,luid:null!=this.type.D?this.type.D.uid:-1,mb:this.Hb.Fa(),mbl:this.qc.Fa(),pq:this.uk}};e.Ra=function(b){this.vi=b.pre_x;this.wi=b.pre_y;this.N=b.xyz2uid;this.type.yd=b.luid;this.Hb.Ra(b.mb);this.qc.Ra(b.mbl);n(this.q);var a,c=b.uid2xyz;for(a in c)this.q[a]={},this.q[a].x=c[a].x,this.q[a].y=c[a].y,this.q[a].z=c[a].z,0==c[a].z&&
(this.Ag[a]=this.q[a]);n(this.$b);c=b.uid2pdxy;for(a in c)this.$b[a]={},this.$b[a].x=c[a].x,this.$b[a].y=c[a].y;this.uk=b.pq};e.Rc=function(){this.type.D=-1===this.type.yd?null:this.b.Dc(this.type.yd);this.type.yd=-1;this.Hb.p=-1===this.Hb.Re?null:this.b.Dc(this.Hb.Re);this.Hb.Re=-1;this.qc.p=-1===this.qc.Re?null:this.b.Dc(this.qc.Re);this.qc.Re=-1};c.e=new g;g.prototype.Wi=function(b,a,c,d){if(b)return this.Wi(b.Ph(),a,c,d)};g.prototype.Qp=function(b){if(b){null==m&&(m=new window.Ul);b=b.A().ib();
var a,c=b.length;for(a=0;a<c;a++){var e=d(b[a]).minb_uid;null!=e&&m.nh(e)}b=window.bf.call(this,m.Z,this.b.Zm().type);m.Yi();b&&(b=this.b.Ja(),a=b.Pa,b.lk()?(this.b.ee(a.W),a.Ad(),this.b.Kc(a.W)):a.Ad());return!1}};g.prototype.aj=function(b){if(!b)return!1;b=b.Ph();return this.Hb.p===b};g.prototype.Nl=H(!0);g.prototype.dj=function(b){f.length=0;f.push(this.$f);b=this.Pe(f,b);f.length=0;return b};g.prototype.Sl=function(b){return this.io(b)};g.prototype.Ol=H(!0);g.prototype.Jp=H(!0);c.R=new l;l.prototype.me=
function(b,a,c,d,e){this.me(b,a,c,d,e)};l.prototype.rh=function(b,a,c,d,e){b&&this.rh(b.Ph(),a,c,e,d,!1)};l.prototype.qh=function(){this.qh()};l.prototype.Sl=function(b){this.io(b)};c.S=new a;a.prototype.Hl=function(b){b.C(this.Hb.hd)};a.prototype.Il=function(b){b.C(this.Hb.jd)}})();
(function(){function k(){this.p=null;this.Re=this.jd=this.hd=-1}var n=k.prototype;n.te=function(d,g,k){this.p=d;this.hd=null==d?-1:g;this.jd=null==d?-1:k};n.Fa=function(){return{uid:null==this.p?-1:this.p.uid,LOX:this.hd,LOY:this.jd}};n.Ra=function(d){this.hd=d.LOX;this.jd=d.LOY;this.Re=d.uid};W.bj=k})();
null==window.Zf&&(window.Zf=function(k,n,d,g,l){if(n&&k&&(n=this.b.Ah(k,n,d,g))){this.b.tb++;l&&l(n);this.b.trigger(Object.getPrototypeOf(k.U).e.qe,n);if(n.ab)for(l=0,d=n.siblings.length;l<d;l++)g=n.siblings[l],this.b.trigger(Object.getPrototypeOf(g.type.U).e.qe,g);this.b.tb--;k=k.A();k.M=!1;k.d.length=1;k.d[0]=n;if(n.ab)for(l=0,d=n.siblings.length;l<d;l++)g=n.siblings[l],k=g.type.A(),k.M=!1,k.d.length=1,k.d[0]=g;return n}});
null==window.bf&&(window.bf=function(k,n,d){var g=n.A();g.d.length=0;g.M=!1;var l=n.K,a,c,e;l&&(a=n.zf,c=a.length);var m,f=k.length;for(e=0;e<f;e++){m=k[e];var h=this.b.Dc(m);if(null!=h&&(null==d||d(m))){var b=h.type.name;if(l)for(m=0;m<c;m++){if(b==a[m].name){g.d.push(h);break}}else b==n.name&&g.d.push(h)}}n.Rb();return 0<g.d.length});
(function(){if(null==window.Ul){var k=function(){this.ca={};this.Z=[]},n=k.prototype;n.Yi=function(){for(var d in this.ca)delete this.ca[d];this.Z.length=0};n.Vt=function(d){var g,k;k=this.ca;for(g in k)delete this.ca[g];k=d.ca;for(g in k)this.ca[g]=k[g];wa(this.Z,d.Z)};n.Up=function(d){this.Yi();this.nh(d)};n.nh=function(d){if("number"==typeof d)null==this.ca[d]&&(this.ca[d]=!0,this.Z.push(d));else{var g,k,a=d.length;for(g=0;g<a;g++)k=d[g],null==this.ca[k]&&(this.ca[k]=!0,this.Z.push(k))}};n.Du=
function(d,g){if("number"==typeof d)null==this.ca[d]?this.ca[d]=!0:va(this.Z,this.Z.indexOf(d)),g?this.Z.unshift(d):this.Z.push(d);else{var k,a,c=d.length;for(k=0;k<c;k++)a=d[k],null==this.ca[a]?this.ca[a]=!0:va(this.Z,this.Z.indexOf(a));g?this.Z.unshift.apply(this.Z,d):this.Z.push.apply(this.Z,d)}};n.cu=function(d,g){if("number"==typeof d)null==this.ca[d]?this.ca[d]=!0:va(this.Z,this.Z.indexOf(d));else{var k,a,c=d.length;for(k=0;k<c;k++)a=d[k],null==this.ca[a]?this.ca[a]=!0:va(this.Z,this.Z.indexOf(a))}k=
this.Z;a=g;c=k.length;a>c&&(a=c);if("object"!=typeof d)if(0==a)k.unshift(d);else if(a==c)k.push(d);else{var e,c=k.length;k.length+=1;for(e=c;e>a;e--)k[e]=k[e-1];k[a]=d}else if(0==a)k.unshift.apply(k,d);else if(a==c)k.push.apply(k,d);else{e=k.length-1;var c=a,m=d.length;for(k.length+=m;e>=c;e--)k[e+m]=k[e];for(e=0;e<m;e++)k[e+a]=d[e]}};n.Rp=function(d){if("number"==typeof d)null!=this.ca[d]&&(delete this.ca[d],va(this.Z,this.Z.indexOf(d)));else{var g,k,a=d.length;for(g=0;g<a;g++)k=d[g],null!=this.ca[k]&&
(delete this.ca[k],va(this.Z,this.Z.indexOf(k)))}};n.Zu=function(d){return this.Z.indexOf(d)};n.bu=function(d){var g=this.Z;return d<g.length?g[d]:-1};n.av=function(d){d=d.ca;for(var g in d)this.nh(parseInt(g))};n.Ut=function(d){this.Rp(d.Z)};n.du=function(d){var g,k=this.ca,a={};for(g in k)a[g]=!0;this.Yi();k=d.ca;for(g in k)null!=a[g]&&this.nh(parseInt(g))};n.mu=function(d){d=d.ca;var g,k=!0;for(g in d)if(!(g in this.ca)){k=!1;break}return k};n.$t=G("ca");n.Xt=G("Z");n.hu=function(d){return null!=
this.ca[d]};n.Wu=function(){return JSON.stringify(this.Z)};n.ou=function(d){this.Up(JSON.parse(d))};n.Uu=function(d){var g=this.Z,k=g.length,a,c;if(0!=k)for(;--k;)a=null==d?Math.random():d.random(),a=Math.floor(a*(k+1)),c=g[k],g[k]=g[a],g[a]=c};window.Ul=k}})();function X(k){this.b=k}
(function(){function k(){}function n(){}var d=X.prototype;d.da=function(d){this.U=d;this.b=d.b};d.da.prototype.L=w();d.J=function(d){this.type=d;this.b=d.b};var g=d.J.prototype;g.L=function(){this.mode=this.T[0];var d=this.T[1];this.Ef=""!=d?JSON.parse(d):{};this.ef=[];this.ob={};this.Fo();this.Di=-1};X.pj=null;g.fm=function(d){var a;this.ef.length=0;var c,e=0;for(a in d)c=d[a],0<c&&(e+=c);for(a in d)c=d[a],0<c&&this.ef.push({rate:c/e,pattern:a})};g.aq=function(){var d=X.pj;return null==d?Math.random():
d.random()};g.em=function(d){var a=this.aq(),c="",e,g=d.length;for(e=0;e<g;e++)if(a-=d[e].rate,0>a){c=d[e].pattern;break}return c};g.Fo=function(){var d,a;for(d in this.ob)delete this.ob[d];for(d in this.Ef)a=this.Ef[d],0<a&&(this.ob[d]=this.Ef[d]);1==this.mode&&this.fm(this.ob);this.Xg=!1};g.bs=function(){var d;this.Xg&&this.Fo();if(null==d)if(0==this.mode){this.fm(this.ob);d=this.em(this.ef);if(null!=d){var a=this.ob[d]-1;0>=a?delete this.ob[d]:this.ob[d]=a}var a=this.ob,c=!0,e;for(e in a){c=!1;
break}c&&(this.Xg=!0)}else d=this.em(this.ef);else this.ob.hasOwnProperty(d)?0==this.mode&&(a=this.ob[d]-1,0>=a?delete this.ob[d]:this.ob[d]=a):d="";return d};g.Fa=function(){var d=X.pj;return{m:this.mode,pats:this.Ef,pr:this.ef,spats:this.ob,rstf:this.Xg,randomuid:null!=d?d.uid:-1}};g.Ra=function(d){this.mode=d.m;this.Ef=d.pats;this.ef=d.pr;this.ob=d.spats;this.Xg=d.rstf;this.Di=d.randomuid};g.Rc=function(){var d;d=-1===this.Di?null:this.b.Dc(this.Di);this.Di=-1;X.pj=d};d.e=new (w());d.R=new k;k.prototype.Jd=
function(d,a){""!=d&&(this.Ef[d]=a,this.Xg=!0)};d.S=new n;n.prototype.Rl=function(d){d.Zb(this.bs())}})();function Wb(k){this.b=k}
(function(){function k(a){for(var b in a)delete a[b]}function n(){}function d(){}function g(){}var l=Wb.prototype;l.da=function(a){this.U=a;this.b=a.b};l.da.prototype.L=w();l.J=function(a){this.type=a;this.b=a.b};var a=l.J.prototype,c=[];a.L=function(){this.yh="BOARD";this.N=[];this.to(this.T[0]-1,this.T[1]-1);this.D=null;this.$f=this.yd=-1;this.Ng=function(a){return function(b){a.Nk(b)}}(this);this.b.hm(this.Ng)};a.Df=function(){this.b.ro(this.Ng)};a.Nk=function(a){this.tc(a.uid)};a.Aa=function(){if(null!=
this.D)return this.D;var a=this.b.types,b,c;for(b in a)if(c=a[b].d[0],Vb&&c instanceof Vb.prototype.J||Ib.nj&&c instanceof Ib.nj.prototype.J||Ib.mj&&c instanceof Ib.mj.prototype.J)return this.D=c;return null};a.to=function(a,b){0<=a&&(this.Nb=a);0<=b&&(this.Ob=b);this.N.length=a+1;var c,d;for(c=0;c<=a;c++)for(this.N[c]=[],this.N[c].length=b+1,d=0;d<=b;d++)this.N[c][d]={};null==this.q?this.q={}:k(this.q)};a.zv=function(a){if(this.Nb!=a){if(this.Nb<a){var b,c,d=this.Ob;this.N.length=a;for(b=this.Nb+
1;b<=a;b++)for(this.N[b]=[],this.N[b].length=d+1,c=0;c<=d;c++)this.N[b][c]={}}else{var d=this.Ob,e,f;for(b=this.Nb;b>a;b--)for(c=0;c<=d;c++)for(e in f=this.N[b][c],f)this.tc(f[e],!0);this.N.length=a+1}this.Nb=a}};a.yv=function(a){if(this.Ob!=a){if(this.Ob<a){var b,c,d=this.Nb;for(b=0;b<=d;b++)for(this.N[b].length=a+1,c=this.Ob+1;c<=a;c++)this.N[b][c]={}}else{var d=this.Nb,e,f;for(b=0;b<=d;b++){for(c=this.Ob;c>a;c--)for(e in f=this.N[b][c],f)this.tc(f[e],!0);this.N[b].length=a+1}}this.Ob=a}};a.Vd=
function(a,b,c){var d=0<=a&&0<=b&&a<=this.Nb&&b<=this.Ob;d&&null!=c&&(d=c in this.N[a][b]);return d};a.$h=function(a,b,c){return this.Vd(a,b)?0==c?null==this.N[a][b][0]:null!=this.N[a][b][0]&&null==this.N[a][b][c]:!1};a.Sf=function(a,b,c){return this.Vd(a,b,c)?this.N[a][b][c]:null};a.Vi=function(a,b){return this.Vd(a,b)?this.N[a][b]:null};a.Gv=function(a,b){var c=0,d=this.Vi(a,b);if(null!=d)for(var e in d)c+=1;return c};a.qv=function(a,b){var c=this.Ha(a);return null==c?null:c.z==b?a:this.Sf(c.x,
c.y,b)};a.Lj=function(a,b){var c=0,d=this.Ha(a);if(null==d)return null;var e=this.Aa(),f=e.np(d.x,d.y,b),e=e.op(d.y,b);null==c&&(c=d.z);return this.Sf(f,e,c)};a.Ha=function(a){return this.q[a]};a.xb=function(a,b){return b||null!==this.Ha(a)?this.b.Dc(a):null};a.Zi=function(a,b,c,d,e,f){if(null!=a&&null!=e){var g=this.Aa(),k=g.oe(b,c,d);b=g.pe(b,c,d);return window.Zf.call(this,a,e,k,b,f)}};a.Vl=function(a,b){var c=this.Ha(a),d=this.Ha(b);if(null==c||null==d)return!1;var e=this.xb(a),f=this.xb(b);this.tc(a);
this.tc(b);this.Md(e,d.x,d.y,d.z);this.Md(f,c.x,c.y,c.z);return!0};a.Md=function(a,b,c,d){null!=a&&this.Vd(b,c)&&(a="number"!=typeof a?a.uid:a,null!=this.xb(a)&&this.tc(a),this.tc(this.Sf(b,c,d),!0),this.N[b][c][d]=a,this.q[a]={x:b,y:c,z:d},this.b.trigger(Wb.prototype.e.xp,this))};a.tc=function(a,b){if(null!=a){var c=this.Ha(a);null!=c&&(b&&(this.$f=a,this.b.trigger(Wb.prototype.e.dj,this)),delete this.q[a],delete this.N[c.x][c.y][c.z])}};a.rv=function(a,b,c,d){"number"==typeof a&&(a=this.xb(a));
null!=a&&(this.tc(a.uid),this.Md(a,b,c,d))};a.Dv=function(a,b){var c=this.Ha(a),d=this.Ha(b);return null==c||null==d?!1:this.Aa().Jl(c,d)};var e={x:0,y:0,z:0},m={x:0,y:0,z:0};a.pv=function(a,b,c,d){e.x=a;e.y=b;m.x=c;m.y=d;return this.Aa().Jl(e,m)};a.me=function(a,b,c,d,e){if(0==d||this.Vd(b,c,0)){var f=this;return this.Zi(a,b,c,d,e,function(a){f.Md(a,b,c,d)})}};a.cq=function(a,b){var c=a.A().ib(),d=b.A().ib(),e,f,g;c.length>d.length?(e=b,f=a,g=d):(e=a,f=b,g=c,c=d);var d=this.b,k=d.Ja().Pa,m=e===f,
l=g.length,v,n,D,B,ea,fa,J,E;for(v=0;v<l;v++)if(D=g[v],B=D.uid,ea=this.Ha(B),null!=ea)for(n in ea=this.Vi(ea.x,ea.y),ea)fa=ea[n],fa!=B&&(fa=this.xb(fa),-1!=c.indexOf(fa)&&(d.ee(k.W),J=e.A(),E=f.A(),J.M=!1,E.M=!1,m?(J.d.length=2,J.d[0]=D,J.d[1]=fa):(J.d.length=1,J.d[0]=D,E.d.length=1,E.d[0]=fa),k.Ad(),d.Kc(k.W)))};a.Pe=function(a,b,c){var d;if(!c){var e=this;d=function(b){return null!=e.Ha(b)}}return window.bf.call(this,a,b,d)};var f={};a.dq=function(){var a,b,c,d;b=this.q;k(f);c=!1;for(a in b)b=this.xb(a),
c=b.type,d=c.A(),c.name in f||(d.M=!1,d.d.length=0,f[c.name]=c),d.d.push(b),c=!0;for(var e in f)f[e].Rb();k(f);return c};a.hv=function(a,b,d){b=this.Vi(b,d);if(null==b)return!1;c.length=0;for(var e in b)c.push(b[e]);a=this.Pe(c,a);c.length=0;return a};a.fq=function(a,b){c.length=0;var d=b.length,e,f,g;for(e=0;e<d;e++)if(f=b[e],f="number"==typeof f?f:f.uid,f=this.Ha(f),null!=f&&(f=this.Vi(f.x,f.y),null!=f))for(g in f)c.push(f[g]);d=this.Pe(c,a);c.length=0;return d};a.tv=function(a,b){var c=this.Aa(),
d=c.Xf(a,b),c=c.Yf(a,b);return 0<=d&&0<=c&&d<=this.Nb&&c<=this.Ob};a.iv=function(a,b,d,e){b=this.Sf(b,d,e);if(null==b)return!1;c.length=0;c.push(b);a=this.Pe(c,a);c.length=0;return a};a.sv=function(a,b,c){if(null==a)return!1;var d=this.Aa();a=a.uid;var e=[],f;if(-1==b)for(f=d.Dl(),b=0;b<f;b++)d=this.Lj(a,b),null!=d&&e.push(d);else d=this.Lj(a,b),null!=d&&e.push(this.Lj(a,b));return this.fq(c,e)};a.Fa=function(){var a,b={},c;for(a in this.q)b[a]={},c=this.q[a],b[a].x=c.x,b[a].y=c.y,b[a].z=c.z;a=this.Aa();
return{luid:null!=a?a.uid:-1,mx:this.Nb,my:this.Ob,xyz2uid:this.N,uid2xyz:b}};a.Ra=function(a){this.yd=a.luid;this.Nb=a.mx;this.Ob=a.my;this.N=a.xyz2uid;k(this.q);var b;a=a.uid2xyz;var c;for(b in a)this.q[b]={},c=a[b],this.q[b].x=c.x,this.q[b].y=c.y,this.q[b].z=c.z};a.Rc=function(){this.D=-1===this.yd?null:this.b.Dc(this.yd);this.yd=-1};l.e=new n;n.prototype.$i=function(a,b,c){return this.$h(a,b,c)};n.prototype.xp=function(a,b){this.cq(a,b);return!1};n.prototype.dj=function(a){c.length=0;c.push(this.$f);
a=this.Pe(c,a);c.length=0;return a};n.prototype.aj=function(a){if(!a)return!1;a=a.A().ib();var b,c=a.length,d;for(b=0;b<c;b++)if(d=a[b].uid,!(d in this.q))return!1;return!0};l.R=new d;d.prototype.Tl=function(a,b){this.to(a-1,b-1)};d.prototype.gp=function(a,b,c,d){this.me(a,b,c,0,d)};d.prototype.me=function(a,b,c,d,e){this.me(a,b,c,d,e)};d.prototype.Vl=function(a,b){this.Vl(a,b)};l.S=new g;g.prototype.oe=function(a,b,c,d){b=this.Aa().oe(b,c,d);a.j(b)};g.prototype.pe=function(a,b,c,d){b=this.Aa().pe(b,
c,d);a.j(b)};g.prototype.Xf=function(a,b,c){b=this.Aa().Xf(b,c);if(0>b||b>this.Nb)b=-1;a.C(b)};g.prototype.Yf=function(a,b,c){b=this.Aa().Yf(b,c);if(0>b||b>this.Ob)b=-1;a.C(b)};g.prototype.cp=function(a){a.C(this.Nb+1)};g.prototype.$o=function(a){a.C(this.Ob+1)}})();
null==window.Zf&&(window.Zf=function(k,n,d,g,l){if(n&&k&&(n=this.b.Ah(k,n,d,g))){this.b.tb++;l&&l(n);this.b.trigger(Object.getPrototypeOf(k.U).e.qe,n);if(n.ab)for(l=0,d=n.siblings.length;l<d;l++)g=n.siblings[l],this.b.trigger(Object.getPrototypeOf(g.type.U).e.qe,g);this.b.tb--;k=k.A();k.M=!1;k.d.length=1;k.d[0]=n;if(n.ab)for(l=0,d=n.siblings.length;l<d;l++)g=n.siblings[l],k=g.type.A(),k.M=!1,k.d.length=1,k.d[0]=g;return n}});
null==window.bf&&(window.bf=function(k,n,d){var g=n.A();g.d.length=0;g.M=!1;var l=n.K,a,c,e;l&&(a=n.zf,c=a.length);var m,f=k.length;for(e=0;e<f;e++){m=k[e];var h=this.b.Dc(m);if(null!=h&&(null==d||d(m))){var b=h.type.name;if(l)for(m=0;m<c;m++){if(b==a[m].name){g.d.push(h);break}}else b==n.name&&g.d.push(h)}}n.Rb();return 0<g.d.length});function Vb(k){this.b=k}
(function(){function k(a,c,b,d){var e;0==d?e=1==a&&0==c?0:0==a&&1==c?1:-1==a&&0==c?2:0==a&&-1==c?3:1==a&&1==c?4:-1==a&&1==c?5:-1==a&&-1==c?6:1==a&&-1==c?7:null:1==d?e=1==a&&0==c?0:0==a&&1==c?1:-1==a&&0==c?2:0==a&&-1==c?3:1==a&&1==c?4:-1==a&&1==c?5:-1==a&&-1==c?6:1==a&&-1==c?7:null:2==d&&(e=b&1?1==a&&-1==c?0:1==a&&1==c?1:0==a&&1==c?2:0==a&&-1==c?3:0==a&&2==c?4:-1==a&&0==c?5:0==a&&-2==c?6:1==a&&-0==c?7:null:0==a&&-1==c?0:0==a&&1==c?1:-1==a&&1==c?2:-1==a&&-1==c?3:0==a&&2==c?4:-1==a&&0==c?5:0==a&&-2==
c?6:1==a&&-0==c?7:null);return e}function n(){}var d=Vb.prototype;d.da=function(a){this.U=a;this.b=a.b};d.da.prototype.L=w();d.J=function(a){this.type=a;this.b=a.b};var g=d.J.prototype;g.L=function(){this.yh="LAYOUT";this.ma=this.T[0];this.cf(this.T[1]);this.df(this.T[2]);this.sh(this.T[3]);this.oj(this.T[4]);this.sk=1==this.T[5]};g.cf=aa("kd");g.df=aa("Qc");g.Yt=G("kd");g.Zt=G("Qc");g.sh=function(a){this.width=a;this.ug=a/2};g.oj=function(a){this.height=a;this.of=a/2};g.oe=function(a,c){var b;0==
this.ma?b=a*this.width:1==this.ma?b=(a-c)*this.ug:2==this.ma&&(b=a*this.width,c&1&&(b+=this.ug));return b+this.kd};g.pe=function(a,c){var b;0==this.ma?b=c*this.height:1==this.ma?b=(a+c)*this.of:2==this.ma&&(b=c*this.of);return b+this.Qc};g.Xf=function(a,c){var b;0==this.ma?(a-=this.kd,b=Math.round(a/this.width)):1==this.ma?(a-=this.kd,c-=this.Qc,b=0.5*(Math.round(c/this.of)+Math.round(a/this.ug))):2==this.ma&&(b=Math.round((c-this.Qc)/this.of),a-=this.kd,b&1&&(a-=this.ug),b=Math.round(a/this.width));
return b};g.Yf=function(a,c){var b;0==this.ma?(c-=this.Qc,b=Math.round(c/this.height)):1==this.ma?(a-=this.kd,c-=this.Qc,b=0.5*(Math.round(c/this.of)-Math.round(a/this.ug))):2==this.ma&&(b=Math.round((c-this.Qc)/this.of));return b};var l=[1,0,-1,0,1,-1,-1,1],a=[0,-1,-1,0,0,-1,0,1],c=[1,0,0,1,0,-1,0,1];g.np=function(d,e,b){var g;0==this.ma?g=l[b]:1==this.ma?g=l[b]:2==this.ma&&(g=e&1?c[b]:a[b]);return d+g};var e=[0,1,0,-1,1,1,-1,-1],m=[1,1,-1,-1,2,0,-2,0];g.op=function(a,c){var b;0==this.ma?b=e[c]:
1==this.ma?b=e[c]:2==this.ma&&(b=m[c]);return a+b};g.Dl=function(){return this.sk?8:4};g.cv=function(a,c){var b=this.$p(a,c);return null==b?-1:4>b?90*b:90*(b-4)+45};g.$p=function(a,c){var b=c.x-a.x,d=c.y-a.y,e=Math.max(Math.abs(b),Math.abs(d));0!=e&&(b/=e,d/=e);return k(b,d,a.y,this.ma)};g.Jl=function(a,c){return k(c.x-a.x,c.y-a.y,a.y,this.ma)};g.rp=function(a,c,b){var d;switch(this.ma){case 0:case 1:switch(b){case 1:d=-c;break;case 2:d=-a;break;case 3:d=c;break;default:d=a}}return d};g.sp=function(a,
c,b){var d;switch(this.ma){case 0:case 1:switch(b){case 1:d=a;break;case 2:d=-c;break;case 3:d=-a;break;default:d=c}}return d};g.Fa=function(){return{iso:this.ma,w:this.width,h:this.height,ox:this.kd,oy:this.Qc,is8d:this.sk}};g.Ra=function(a){this.ma=a.iso;this.sh(a.w);this.oj(a.h);this.cf(a.ox);this.df(a.oy);this.sk=a.is8d};d.e=new (w());d.R=new (w());d.S=new n;n.prototype.Wl=function(a){a.j(this.width)};n.prototype.El=function(a){a.j(this.height)}})();function Sb(k){this.b=k}
(function(){function k(){if(0===this.Jj.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var c=a.getContext("2d");this.Kf?c.drawImage(this.fb,this.Bf,this.Cf,this.width,this.height,0,0,this.width,this.height):c.drawImage(this.fb,0,0,this.width,this.height);this.Jj=a.toDataURL("image/png")}return this.Jj}function n(){}function d(){}var g=Sb.prototype;g.da=function(a){this.U=a;this.b=a.b};var l=g.da.prototype;l.L=function(){if(!this.K){var a,c,b,d,e,g,m,l,n;this.Bc=
[];this.Vh=!1;a=0;for(c=this.yb.length;a<c;a++){e=this.yb[a];m={};m.name=e[0];m.speed=e[1];m.loop=e[2];m.dl=e[3];m.Ei=e[4];m.jo=e[5];m.Q=e[6];m.frames=[];b=0;for(d=e[7].length;b<d;b++)g=e[7][b],l={},l.Jo=g[0],l.Ko=g[1],l.Bf=g[2],l.Cf=g[3],l.width=g[4],l.height=g[5],l.duration=g[6],l.Db=g[7],l.Eb=g[8],l.ek=g[9],l.si=g[10],l.ko=g[11],l.Kf=0!==l.width,l.Jj="",l.lv=k,n={left:0,top:0,right:1,bottom:1},l.kl=n,l.Id=null,(n=this.b.Br(g[0]))?l.fb=n:(l.fb=new Image,l.fb.idtkLoadDisposed=!0,l.fb.src=g[0],l.fb.zq=
g[0],l.fb.yq=g[1],l.fb.qq=null,this.b.Gt(l.fb)),m.frames.push(l),this.Bc.push(l);this.yb[a]=m}}};l.Bt=function(){var a,c,b;a=0;for(c=this.d.length;a<c;a++)b=this.d[a],b.Dh=b.jc.Id};l.Pk=function(){if(!this.K){var a,c,b;a=0;for(c=this.Bc.length;a<c;++a)b=this.Bc[a],b.fb.qq=null,b.Id=null}};l.co=function(){if(!this.K&&this.d.length){var a,c,b;a=0;for(c=this.Bc.length;a<c;++a)b=this.Bc[a],b.Id=this.b.B.En(b.fb,this.b.aa,b.ko);this.Bt()}};l.Gs=function(){if(!this.K&&!this.Vh&&this.b.B){var a,c,b;a=0;
for(c=this.Bc.length;a<c;++a)b=this.Bc[a],b.Id=this.b.B.En(b.fb,this.b.aa,b.ko);this.Vh=!0}};l.So=function(){if(!this.K&&!this.d.length&&this.Vh){var a,c,b;a=0;for(c=this.Bc.length;a<c;++a)b=this.Bc[a],this.b.B.deleteTexture(b.Id),b.Id=null;this.Vh=!1}};var a=[];l.mo=function(c){var d,b,e;d=a.length=0;for(b=this.Bc.length;d<b;++d)e=this.Bc[d].fb,-1===a.indexOf(e)&&(c.drawImage(e,0,0),a.push(e))};g.J=function(a){this.type=a;this.b=a.b;a=this.type.yb[0].frames[0].si;this.sc?this.Tc.ah(a):this.Tc=new Oa(a)};
var c=g.J.prototype;c.L=function(){this.visible=0===this.T[0];this.fk=this.ok=!1;this.ig=0!==this.T[3];1===this.type.yb.length&&1===this.type.yb[0].frames.length||0===this.type.yb[0].speed||(this.b.pl(this),this.ok=!0);this.na=this.Xm(this.T[1])||this.type.yb[0];this.r=this.T[2];0>this.r&&(this.r=0);this.r>=this.na.frames.length&&(this.r=this.na.frames.length-1);var a=this.na.frames[this.r];this.Tc.ah(a.si);this.Db=a.Db;this.Eb=a.Eb;this.kg=this.na.speed;this.sc?this.Sc.reset():this.Sc=new Ma;this.sd=
this.Sc.wb;this.se=!0;this.ld=0;this.re=!0;this.Dj=this.lm="";this.vq=0;this.xh=-1;this.type.Gs();var c,b,d,e,g,k,m,a=0;for(c=this.type.yb.length;a<c;a++)for(e=this.type.yb[a],b=0,d=e.frames.length;b<d;b++)g=e.frames[b],0===g.width&&(g.width=g.fb.width,g.height=g.fb.height),g.Kf&&(m=g.fb,k=g.kl,k.left=g.Bf/m.width,k.top=g.Cf/m.height,k.right=(g.Bf+g.width)/m.width,k.bottom=(g.Cf+g.height)/m.height,0===g.Bf&&0===g.Cf&&g.width===m.width&&g.height===m.height&&(g.Kf=!1));this.jc=this.na.frames[this.r];
this.Dh=this.jc.Id};c.Fa=function(){var a={a:this.na.Q,f:this.r,cas:this.kg,fs:this.sd,ar:this.ld,at:this.Sc.wb};this.se||(a.ap=this.se);this.re||(a.af=this.re);return a};c.Ra=function(a){var c=this.Er(a.a);c&&(this.na=c);this.r=a.f;0>this.r&&(this.r=0);this.r>=this.na.frames.length&&(this.r=this.na.frames.length-1);this.kg=a.cas;this.sd=a.fs;this.ld=a.ar;this.Sc.reset();this.Sc.wb=a.at;this.se=a.hasOwnProperty("ap")?a.ap:!0;this.re=a.hasOwnProperty("af")?a.af:!0;this.jc=this.na.frames[this.r];this.Dh=
this.jc.Id;this.Tc.ah(this.jc.si);this.Db=this.jc.Db;this.Eb=this.jc.Eb};c.vj=function(a){this.r=a?0:this.na.frames.length-1;this.se=!1;this.lm=this.na.name;this.fk=!0;this.b.trigger(Sb.prototype.e.vp,this);this.b.trigger(Sb.prototype.e.up,this);this.fk=!1;this.ld=0};c.mv=function(){return this.Sc.wb};c.dd=function(){this.Sc.add(this.b.bn(this));this.Dj.length&&this.Dq();0<=this.xh&&this.Im();var a=this.Sc.wb,c=this.na,b=c.frames[this.r],d=b.duration/this.kg;this.se&&a>=this.sd+d&&(this.re?this.r++:
this.r--,this.sd+=d,this.r>=c.frames.length&&(c.jo?(this.re=!1,this.r=c.frames.length-2):c.loop?this.r=c.Ei:(this.ld++,this.ld>=c.dl?this.vj(!1):this.r=c.Ei)),0>this.r&&(c.jo?(this.r=1,this.re=!0,c.loop||(this.ld++,this.ld>=c.dl&&this.vj(!0))):c.loop?this.r=c.Ei:(this.ld++,this.ld>=c.dl?this.vj(!0):this.r=c.Ei)),0>this.r?this.r=0:this.r>=c.frames.length&&(this.r=c.frames.length-1),a>this.sd+c.frames[this.r].duration/this.kg&&(this.sd=a),a=c.frames[this.r],this.Ze(b,a),this.b.ga=!0)};c.Xm=function(a){var c,
b,d;c=0;for(b=this.type.yb.length;c<b;c++)if(d=this.type.yb[c],Ta(d.name,a))return d;return null};c.Er=function(a){var c,b,d;c=0;for(b=this.type.yb.length;c<b;c++)if(d=this.type.yb[c],d.Q===a)return d;return null};c.Dq=function(){var a=this.na.frames[this.r],c=this.Xm(this.Dj);this.Dj="";!c||Ta(c.name,this.na.name)&&this.se||(this.na=c,this.kg=c.speed,0>this.r&&(this.r=0),this.r>=this.na.frames.length&&(this.r=this.na.frames.length-1),1===this.vq&&(this.r=0),this.se=!0,this.sd=this.Sc.wb,this.re=
!0,this.Ze(a,this.na.frames[this.r]),this.b.ga=!0)};c.Im=function(){var a=this.na.frames[this.r],c=this.r;this.r=N(this.xh);0>this.r&&(this.r=0);this.r>=this.na.frames.length&&(this.r=this.na.frames.length-1);c!==this.r&&(this.Ze(a,this.na.frames[this.r]),this.sd=this.Sc.wb,this.b.ga=!0);this.xh=-1};c.Ze=function(a,c){var b=a.width,d=a.height,e=c.width,g=c.height;b!=e&&(this.width*=e/b);d!=g&&(this.height*=g/d);this.Db=c.Db;this.Eb=c.Eb;this.Tc.ah(c.si);this.za();this.jc=c;this.Dh=c.Id;b=0;for(d=
this.F.length;b<d;b++)e=this.F[b],e.Ns&&e.Ns(a,c);this.b.trigger(Sb.prototype.e.Ze,this)};c.Vc=function(a){a.globalAlpha=this.opacity;var c=this.jc,b=c.Kf,d=c.fb,e=this.x,g=this.y,k=this.width,m=this.height;if(0===this.i&&0<=k&&0<=m)e-=this.Db*k,g-=this.Eb*m,this.b.de&&(e=Math.round(e),g=Math.round(g)),b?a.drawImage(d,c.Bf,c.Cf,c.width,c.height,e,g,k,m):a.drawImage(d,e,g,k,m);else{this.b.de&&(e=Math.round(e),g=Math.round(g));a.save();var l=0<k?1:-1,n=0<m?1:-1;a.translate(e,g);1===l&&1===n||a.scale(l,
n);a.rotate(this.i*l*n);e=0-this.Db*na(k);g=0-this.Eb*na(m);b?a.drawImage(d,c.Bf,c.Cf,c.width,c.height,e,g,na(k),na(m)):a.drawImage(d,e,g,na(k),na(m));a.restore()}};c.lc=function(a){a.Yb(this.Dh);a.Hf(this.opacity);var c=this.jc,b=this.ve;if(this.b.de){var d=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;c.Kf?a.fe(b.lb+d,b.nb+e,b.wc+d,b.xc+e,b.hc+d,b.ic+e,b.fc+d,b.gc+e,c.kl):a.Bi(b.lb+d,b.nb+e,b.wc+d,b.xc+e,b.hc+d,b.ic+e,b.fc+d,b.gc+e)}else c.Kf?a.fe(b.lb,b.nb,b.wc,b.xc,b.hc,b.ic,b.fc,b.gc,
c.kl):a.Bi(b.lb,b.nb,b.wc,b.xc,b.hc,b.ic,b.fc,b.gc)};c.Jr=function(a){var c=this.jc,b,d;b=0;for(d=c.ek.length;b<d;b++)if(Ta(a,c.ek[b][0]))return b;return-1};c.ak=function(a,c){var b=this.jc,d=b.ek,e;e=L(a)?this.Jr(a):a-1;e=N(e);if(0>e||e>=d.length)return c?this.x:this.y;var g=(d[e][1]-b.Db)*this.width,d=d[e][2],d=(d-b.Eb)*this.height,b=Math.cos(this.i);e=Math.sin(this.i);var k=g*b-d*e,d=d*b+g*e,g=k+this.x,d=d+this.y;return c?g:d};var e=new ia,m=!1;l.finish=function(a){if(m){if(a){var c=this.b.Ja().Pa.Gc;
a=null.A();var b=e.Of(),d,g;if(a.M){a.M=!1;a.d.length=b.length;d=0;for(g=b.length;d<g;d++)a.d[d]=b[d];if(c)for(d=a.$.length=0,g=null.d.length;d<g;d++)b=null.d[d],e.contains(b)||a.$.push(b)}else if(c)for(c=a.d.length,a.d.length=c+b.length,d=0,g=b.length;d<g;d++)a.d[c+d]=b[d],ya(a.$,b[d]);else wa(a.d,b);null.Rb()}e.clear();m=!1}};n.prototype.up=function(a){return Ta(this.lm,a)};n.prototype.vp=H(!0);n.prototype.Ze=H(!0);g.e=new n;d.prototype.Tp=function(a){this.xh=a;this.ok||(this.b.pl(this),this.ok=
!0);this.fk||this.Im()};g.R=new d;g.S=new (w())})();function Xb(k){this.b=k}
(function(){function k(){return a.length?a.pop():{}}function n(c){var d,g;d=0;for(g=c.length;d<g;d++)a.push(c[d]);c.length=0}var d=Xb.prototype;d.L=function(){d.R.sh=function(a){this.width!==a&&(this.width=a,this.Mf=!0,this.za())}};d.da=function(a){this.U=a;this.b=a.b};var g=d.da.prototype;g.L=w();g.Pk=function(){if(!this.K){var a,d,g;a=0;for(d=this.d.length;a<d;a++)g=this.d[a],g.Yc=null,g.Me=null,g.Ib=null}};d.J=function(a){this.type=a;this.b=a.b;this.sc?this.Yd.length=0:this.Yd=[];this.Mf=!0};g=
d.J.prototype;g.L=function(){this.text=this.T[0];this.visible=0===this.T[1];this.font=this.T[2];this.color=this.T[3];this.Uh=this.T[4];this.Ui=this.T[5];this.Al=0===this.T[7];this.zk=this.hi=this.width;this.gi=this.height;this.Bk=this.T[8];this.Mh=this.lf="";this.Ho=this.Io=this.Vg=0;this.Os();this.Ib=this.Me=this.Yc=null;this.Xn=!1;this.Fg=this.b.Ed;this.sc?this.Gf.set(0,0,1,1):this.Gf=new sa(0,0,1,1);this.b.B&&this.b.pl(this)};g.Os=function(){var a=this.font.split(" "),d;for(d=0;d<a.length;d++)if("pt"===
a[d].substr(a[d].length-2,2)){this.Vg=parseInt(a[d].substr(0,a[d].length-2));this.$k=Math.ceil(96*(this.Vg/72))+4;0<d&&(this.Mh=a[d-1]);this.lf=a[d+1];for(d+=2;d<a.length;d++)this.lf+=" "+a[d];break}};g.Fa=function(){return{t:this.text,f:this.font,c:this.color,ha:this.Uh,va:this.Ui,wr:this.Al,lho:this.Bk,fn:this.lf,fs:this.Mh,ps:this.Vg,pxh:this.$k,tw:this.Io,th:this.Ho,lrt:this.Fg}};g.Ra=function(a){this.text=a.t;this.font=a.f;this.color=a.c;this.Uh=a.ha;this.Ui=a.va;this.Al=a.wr;this.Bk=a.lho;this.lf=
a.fn;this.Mh=a.fs;this.Vg=a.ps;this.$k=a.pxh;this.Io=a.tw;this.Ho=a.th;this.Fg=a.lrt;this.Mf=!0;this.zk=this.hi=this.width;this.gi=this.height};g.dd=function(){if(this.b.B&&this.Ib&&300<=this.b.Ed-this.Fg){var a=this.g;this.Oa();var d=this.hb;if(d.right<a.Wa||d.bottom<a.Xa||d.left>a.Lb||d.top>a.Kb)this.b.B.deleteTexture(this.Ib),this.Yc=this.Me=this.Ib=null}};g.Df=function(){this.Yc=this.Me=null;this.b.B&&this.Ib&&this.b.B.deleteTexture(this.Ib);this.Ib=null};g.Ev=function(){this.font=this.Mh+" "+
this.Vg.toString()+"pt "+this.lf;this.Mf=!0;this.b.ga=!0};g.Vc=function(a,d){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=d?1:this.opacity;var g=1;d&&(g=this.g.Bb(),a.save(),a.scale(g,g));if(this.Mf||this.width!==this.zk)this.type.U.Yp(this.text,this.Yd,a,this.width,this.Al),this.Mf=!1,this.zk=this.width;this.Oa();var g=d?0:this.ve.lb,f=d?0:this.ve.nb;this.b.de&&(g=g+0.5|0,f=f+0.5|0);0===this.i||d||(a.save(),a.translate(g,f),a.rotate(this.i),f=g=0);var h=f+this.height,
b=this.$k,b=b+this.Bk,k,l;1===this.Ui?f+=Math.max(this.height/2-this.Yd.length*b/2,0):2===this.Ui&&(f+=Math.max(this.height-this.Yd.length*b-2,0));for(l=0;l<this.Yd.length&&!(k=g,1===this.Uh?k=g+(this.width-this.Yd[l].width)/2:2===this.Uh&&(k=g+(this.width-this.Yd[l].width)),a.fillText(this.Yd[l].text,k,f),f+=b,f>=h-b);l++);(0!==this.i||d)&&a.restore();this.Fg=this.b.Ed};g.lc=function(a){if(!(1>this.width||1>this.height)){var d=this.Mf||this.Xn;this.Xn=!1;var g=this.g.Bb(),f=this.g.Ub(),h=this.Gf,
b=g*this.width,k=g*this.height,l=Math.ceil(b),n=Math.ceil(k),t=this.b.P/2,r=this.b.O/2;this.Me||(this.Yc=document.createElement("canvas"),this.Yc.width=l,this.Yc.height=n,this.hi=l,this.gi=n,d=!0,this.Me=this.Yc.getContext("2d"));if(l!==this.hi||n!==this.gi)this.Yc.width=l,this.Yc.height=n,this.Ib&&(a.deleteTexture(this.Ib),this.Ib=null),d=!0;d&&(this.Me.clearRect(0,0,l,n),this.Vc(this.Me,!0),this.Ib||(this.Ib=a.nd(l,n,this.b.aa,this.b.oc)),a.Ft(this.Yc,this.Ib,this.b.oc));this.hi=l;this.gi=n;a.Yb(this.Ib);
a.Hf(this.opacity);a.Zc();a.translate(-t,-r);a.ed();var u=this.ve,d=this.g.Da(u.lb,u.nb,!0),t=this.g.Da(u.lb,u.nb,!1),r=this.g.Da(u.wc,u.xc,!0),C=this.g.Da(u.wc,u.xc,!1),y=this.g.Da(u.hc,u.ic,!0),v=this.g.Da(u.hc,u.ic,!1),da=this.g.Da(u.fc,u.gc,!0),u=this.g.Da(u.fc,u.gc,!1);if(this.b.de||0===this.i&&0===f)var D=(d+0.5|0)-d,B=(t+0.5|0)-t,d=d+D,t=t+B,r=r+D,C=C+B,y=y+D,v=v+B,da=da+D,u=u+B;0===this.i&&0===f?(r=d+l,C=t,y=r,v=t+n,da=d,u=v,h.right=1,h.bottom=1):(h.right=b/l,h.bottom=k/n);a.fe(d,t,r,C,y,
v,da,u,h);a.Zc();a.scale(g,g);a.fl(-this.g.Ub());a.translate((this.g.Wa+this.g.Lb)/-2,(this.g.Xa+this.g.Kb)/-2);a.ed();this.Fg=this.b.Ed}};var l=[];d.Wp=function(a){l.length=0;for(var d="",g,f=0;f<a.length;)if(g=a.charAt(f),"\n"===g)d.length&&(l.push(d),d=""),l.push("\n"),++f;else if(" "===g||"\t"===g||"-"===g){do d+=a.charAt(f),f++;while(f<a.length&&(" "===a.charAt(f)||"\t"===a.charAt(f)));l.push(d);d=""}else f<a.length&&(d+=g,f++);d.length&&l.push(d)};var a=[];d.Yp=function(a,d,g,f,h){if(a&&a.length)if(2>=
f)n(d);else{if(100>=a.length&&-1===a.indexOf("\n")){var b=g.measureText(a).width;if(b<=f){n(d);d.push(k());d[0].text=a;d[0].width=b;return}}this.Zp(a,d,g,f,h)}else n(d)};d.Zp=function(c,d,g,f,h){h&&(this.Wp(c),c=l);var b="",p,n,s,t=0;for(s=0;s<c.length;s++)"\n"===c[s]?(t>=d.length&&d.push(k()),n=d[t],n.text=b,n.width=g.measureText(b).width,t++,b=""):(p=b,b+=c[s],n=g.measureText(b).width,n>=f&&(t>=d.length&&d.push(k()),n=d[t],n.text=p,n.width=g.measureText(p).width,t++,b=c[s],h||" "!==b||(b="")));
b.length&&(t>=d.length&&d.push(k()),n=d[t],n.text=b,n.width=g.measureText(b).width,t++);for(s=t;s<d.length;s++)a.push(d[s]);d.length=t};d.e=new (w());d.R=new (w());d.S=new (w())})();function Y(k){this.b=k}
(function(){function k(a){f=a.x;h=a.y;b=a.z}function n(a){p=a.x;q=a.y;s=a.z}function d(a,b,c,d){var e;e=t.length?t.pop():new g;e.init(a,b,c,d);return e}function g(){this.Mc=this.id=this.y=this.x=this.Cd=this.Bd=this.He=this.time=this.Se=0;this.Oc=this.Gd=!1}function l(){}function a(){}var c=Y.prototype;c.da=function(a){this.U=a;this.b=a.b};c.da.prototype.L=w();c.J=function(a){this.type=a;this.b=a.b;this.touches=[];this.Le=!1};var e=c.J.prototype,m={left:0,top:0};e.qb=function(a){var b,c;b=0;for(c=
this.touches.length;b<c;b++)if(this.touches[b].id===a)return b;return-1};var f=0,h=0,b=0,p=0,q=0,s=0,t=[];g.prototype.init=function(a,b,c,d){var e=Q();this.Se=this.He=this.time=e;this.Bd=a;this.Cd=b;this.x=a;this.y=b;this.id=c;this.Mc=d;this.Oc=this.Gd=!1};g.prototype.update=function(a,b,c){this.He=this.time;this.time=a;this.x=b;this.y=c;!this.Oc&&15<=Ia(this.Bd,this.Cd,this.x,this.y)&&(this.Oc=!0)};g.prototype.Ik=function(a,b){!this.Gd&&500<=Q()-this.Se&&!this.Oc&&15>Ia(this.Bd,this.Cd,this.x,this.y)&&
(this.Gd=!0,a.pa=this.Mc,a.gb=this.id,a.Vb=b,a.b.trigger(Y.prototype.e.gj,a),a.ua=this.x,a.wa=this.y,a.b.trigger(Y.prototype.e.hj,a),a.Vb=0)};var r=-1E3,u=-1E3,C=-1E4;g.prototype.Mg=function(a,b){if(!this.Gd){var c=Q();333>=c-this.Se&&!this.Oc&&15>Ia(this.Bd,this.Cd,this.x,this.y)&&(a.pa=this.Mc,a.gb=this.id,a.Vb=b,666>=c-C&&25>Ia(r,u,this.x,this.y)?(a.b.trigger(Y.prototype.e.ej,a),a.ua=this.x,a.wa=this.y,a.b.trigger(Y.prototype.e.fj,a),u=r=-1E3,C=-1E4):(a.b.trigger(Y.prototype.e.kj,a),a.ua=this.x,
a.wa=this.y,a.b.trigger(Y.prototype.e.lj,a),r=this.x,u=this.y,C=c),a.Vb=0)}};e.L=function(){this.pk=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Vb=this.gb=this.pa=this.wa=this.ua=this.cg=this.bg=this.ag=this.sj=this.rj=this.qj=this.Jc=this.Ic=this.Hc=0;this.Ti=0!==this.T[0];var a=0<this.b.rb?document:this.b.canvas,b=document;this.b.nc?b=a=window.Canvas:this.b.Wb&&(b=a=window);var c=this;window.navigator.pointerEnabled?(a.addEventListener("pointerdown",function(a){c.Rg(a)},
!1),a.addEventListener("pointermove",function(a){c.Qg(a)},!1),b.addEventListener("pointerup",function(a){c.zd(a,!1)},!1),b.addEventListener("pointercancel",function(a){c.zd(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.b.canvas.addEventListener("gesturehold",function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",function(a){a.preventDefault()},
!1))):window.navigator.msPointerEnabled?(a.addEventListener("MSPointerDown",function(a){c.Rg(a)},!1),a.addEventListener("MSPointerMove",function(a){c.Qg(a)},!1),b.addEventListener("MSPointerUp",function(a){c.zd(a,!1)},!1),b.addEventListener("MSPointerCancel",function(a){c.zd(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1))):(a.addEventListener("touchstart",function(a){c.Tg(a)},
!1),a.addEventListener("touchmove",function(a){c.Sg(a)},!1),b.addEventListener("touchend",function(a){c.Ne(a,!1)},!1),b.addEventListener("touchcancel",function(a){c.Ne(a,!0)},!1));if(this.pk){var d=function(a){a=a.reading;c.ag=a.accelerationX;c.bg=a.accelerationY;c.cg=a.accelerationZ},e=function(a){a=a.reading;c.Hc=a.yawDegrees;c.Ic=a.pitchDegrees;c.Jc=a.rollDegrees},f=Windows.Devices.Sensors.Accelerometer.getDefault();f&&(f.reportInterval=Math.max(f.minimumReportInterval,16),f.addEventListener("readingchanged",
d));var g=Windows.Devices.Sensors.Inclinometer.getDefault();g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),g.addEventListener("readingchanged",e));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?(f&&f.removeEventListener("readingchanged",d),g&&g.removeEventListener("readingchanged",e)):(f&&f.addEventListener("readingchanged",d),g&&g.addEventListener("readingchanged",e))},!1)}else window.addEventListener("deviceorientation",function(a){c.Hc=a.alpha||
0;c.Ic=a.beta||0;c.Jc=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(c.qj=a.accelerationIncludingGravity.x||0,c.rj=a.accelerationIncludingGravity.y||0,c.sj=a.accelerationIncludingGravity.z||0);a.acceleration&&(c.ag=a.acceleration.x||0,c.bg=a.acceleration.y||0,c.cg=a.acceleration.z||0)},!1);this.Ti&&!this.b.la&&(jQuery(document).mousemove(function(a){c.Rk(a)}),jQuery(document).mousedown(function(a){c.Qk(a)}),jQuery(document).mouseup(function(a){c.Sk(a)}));
this.b.vd&&!this.b.nc&&AppMobi.accelerometer.watchAcceleration(k,{frequency:40,adjustForRotation:!0});this.b.Fb&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(n,null,{frequency:40});this.b.ol(this)};e.Qg=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&a.preventDefault();var b=this.qb(a.pointerId),c=Q();if(0<=b){var d=this.b.la?m:jQuery(this.b.canvas).offset(),b=this.touches[b];2>c-b.time||
b.update(c,a.pageX-d.left,a.pageY-d.top)}}};e.Rg=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&Ua(a)&&a.preventDefault();var b=this.b.la?m:jQuery(this.b.canvas).offset(),c=a.pageX-b.left,b=a.pageY-b.top;Q();this.pa=this.touches.length;this.gb=a.pointerId;this.touches.push(d(c,b,a.pointerId,this.pa));this.b.jb=!0;this.b.trigger(Y.prototype.e.Wf,this);this.b.trigger(Y.prototype.e.zc,this);this.ua=c;this.wa=b;this.b.trigger(Y.prototype.e.$e,this);this.b.jb=
!1}};e.zd=function(a,b){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&Ua(a)&&a.preventDefault();var c=this.qb(a.pointerId);this.pa=0<=c?this.touches[c].Mc:-1;this.gb=0<=c?this.touches[c].id:-1;this.b.jb=!0;this.b.trigger(Y.prototype.e.Vf,this);this.b.trigger(Y.prototype.e.Pc,this);0<=c&&(b||this.touches[c].Mg(this,c),100>t.length&&t.push(this.touches[c]),this.touches.splice(c,1));this.b.jb=!1}};e.Sg=function(a){a.preventDefault&&a.preventDefault();var b=Q(),
c,d,e,f;c=0;for(d=a.changedTouches.length;c<d;c++)if(e=a.changedTouches[c],f=this.qb(e.identifier),0<=f){var g=this.b.la?m:jQuery(this.b.canvas).offset();f=this.touches[f];2>b-f.time||f.update(b,e.pageX-g.left,e.pageY-g.top)}};e.Tg=function(a){a.preventDefault&&Ua(a)&&a.preventDefault();var b=this.b.la?m:jQuery(this.b.canvas).offset();Q();this.b.jb=!0;var c,e,f,g;c=0;for(e=a.changedTouches.length;c<e;c++)if(f=a.changedTouches[c],g=this.qb(f.identifier),-1===g){g=f.pageX-b.left;var h=f.pageY-b.top;
this.pa=this.touches.length;this.gb=f.identifier;this.touches.push(d(g,h,f.identifier,this.pa));this.b.trigger(Y.prototype.e.Wf,this);this.b.trigger(Y.prototype.e.zc,this);this.ua=g;this.wa=h;this.b.trigger(Y.prototype.e.$e,this)}this.b.jb=!1};e.Ne=function(a,b){a.preventDefault&&Ua(a)&&a.preventDefault();this.b.jb=!0;var c,d,e;c=0;for(d=a.changedTouches.length;c<d;c++)e=a.changedTouches[c],e=this.qb(e.identifier),0<=e&&(this.pa=this.touches[e].Mc,this.gb=this.touches[e].id,this.b.trigger(Y.prototype.e.Vf,
this),this.b.trigger(Y.prototype.e.Pc,this),b||this.touches[e].Mg(this,e),100>t.length&&t.push(this.touches[e]),this.touches.splice(e,1));this.b.jb=!1};e.Dr=function(){return this.b.vd&&0===this.Hc&&0!==b?90*b:this.b.Fb&&0===this.Hc&&0!==s?90*s:this.Hc};e.Gr=function(){return this.b.vd&&0===this.Ic&&0!==h?-90*h:this.b.Fb&&0===this.Ic&&0!==q?-90*q:this.Ic};e.Hr=function(){return this.b.vd&&0===this.Jc&&0!==f?90*f:this.b.Fb&&0===this.Jc&&0!==p?90*p:this.Jc};e.Qk=function(a){a.preventDefault&&this.b.nf&&
!this.b.oc&&a.preventDefault();this.Tg({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.Le=!0};e.Rk=function(a){this.Le&&this.Sg({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};e.Sk=function(a){a.preventDefault&&this.b.nf&&!this.b.oc&&a.preventDefault();this.b.nf=!0;this.Ne({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.Le=!1};e.hh=function(){var a,b,c,d=Q();a=0;for(b=this.touches.length;a<b;++a)c=this.touches[a],c.time<=d-50&&(c.He=d),c.Ik(this,
a)};l.prototype.zc=H(!0);l.prototype.Pc=H(!0);l.prototype.Ye=function(){return this.touches.length};l.prototype.$e=function(a){return a?this.b.Dd(a,this.ua,this.wa):!1};var y=[];l.prototype.Gl=function(a){if(!a)return!1;var b=a.A(),c=b.ib(),d,e,f,g,h,k;f=0;for(g=c.length;f<g;f++){var m=c[f];m.Oa();h=0;for(k=this.touches.length;h<k;h++)if(e=this.touches[h],d=m.g.Y(e.x,e.y,!0),e=m.g.Y(e.x,e.y,!1),m.Tb(d,e)){y.push(m);break}}return y.length?(b.M=!1,wa(b.d,y),a.Rb(),y.length=0,!0):!1};l.prototype.Wf=
function(a){a=Math.floor(a);return a===this.pa};l.prototype.Vf=function(a){a=Math.floor(a);return a===this.pa};l.prototype.gj=H(!0);l.prototype.kj=H(!0);l.prototype.ej=H(!0);l.prototype.hj=function(a){return a?this.b.Dd(a,this.ua,this.wa):!1};l.prototype.lj=function(a){return a?this.b.Dd(a,this.ua,this.wa):!1};l.prototype.fj=function(a){return a?this.b.Dd(a,this.ua,this.wa):!1};c.e=new l;a.prototype.Xl=function(a,b){var c=this.Vb;if(0>c||c>=this.touches.length)a.j(0);else{var d,e,f,g,h;ka(b)?(d=this.b.$a(0),
e=d.scale,f=d.ia,g=d.Ta,h=d.i,d.scale=1,d.ia=1,d.Ta=1,d.i=0,a.j(d.Y(this.touches[c].x,this.touches[c].y,!0)),d.scale=e,d.ia=f,d.Ta=g,d.i=h):(d=I(b)?this.b.$a(b):this.b.td(b))?a.j(d.Y(this.touches[c].x,this.touches[c].y,!0)):a.j(0)}};a.prototype.Yl=function(a,b,c){b=this.qb(b);if(0>b)a.j(0);else{b=this.touches[b];var d,e,f,g;ka(c)?(c=this.b.$a(0),d=c.scale,e=c.ia,f=c.Ta,g=c.i,c.scale=1,c.ia=1,c.Ta=1,c.i=0,a.j(c.Y(b.x,b.y,!0)),c.scale=d,c.ia=e,c.Ta=f,c.i=g):(c=I(c)?this.b.$a(c):this.b.td(c))?a.j(c.Y(b.x,
b.y,!0)):a.j(0)}};a.prototype.$l=function(a,b){var c=this.Vb;if(0>c||c>=this.touches.length)a.j(0);else{var d,e,f,g,h;ka(b)?(d=this.b.$a(0),e=d.scale,f=d.ia,g=d.Ua,h=d.i,d.scale=1,d.ia=1,d.Ua=1,d.i=0,a.j(d.Y(this.touches[c].x,this.touches[c].y,!1)),d.scale=e,d.ia=f,d.Ua=g,d.i=h):(d=I(b)?this.b.$a(b):this.b.td(b))?a.j(d.Y(this.touches[c].x,this.touches[c].y,!1)):a.j(0)}};a.prototype.am=function(a,b,c){b=this.qb(b);if(0>b)a.j(0);else{b=this.touches[b];var d,e,f,g;ka(c)?(c=this.b.$a(0),d=c.scale,e=c.ia,
f=c.Ua,g=c.i,c.scale=1,c.ia=1,c.Ua=1,c.i=0,a.j(c.Y(b.x,b.y,!1)),c.scale=d,c.ia=e,c.Ua=f,c.i=g):(c=I(c)?this.b.$a(c):this.b.td(c))?a.j(c.Y(b.x,b.y,!1)):a.j(0)}};c.S=new a})();function Z(k){this.b=k}
(function(){function k(a){f=a.x;h=a.y;b=a.z}function n(a){p=a.x;q=a.y;s=a.z}function d(a,b,c,d){var e;e=t.length?t.pop():new g;e.init(a,b,c,d);return e}function g(){this.Mc=this.id=this.y=this.x=this.Cd=this.Bd=this.He=this.time=this.Se=0;this.Oc=this.Gd=!1}function l(){}function a(){}var c=Z.prototype;c.da=function(a){this.U=a;this.b=a.b};c.da.prototype.L=w();c.J=function(a){this.type=a;this.b=a.b;this.touches=[];this.Le=!1;this.yh="TOUCHWRAP";this.Kd=!1;this.Ia=[];this.Jh={value:0,$g:aa("value"),
C:aa("value"),j:aa("value")}};var e=c.J.prototype,m={left:0,top:0};e.qb=function(a){var b,c;b=0;for(c=this.touches.length;b<c;b++)if(this.touches[b].id===a)return b;return-1};var f=0,h=0,b=0,p=0,q=0,s=0,t=[];g.prototype.init=function(a,b,c,d){var e=Q();this.Se=this.He=this.time=e;this.Bd=a;this.Cd=b;this.x=a;this.y=b;this.id=c;this.Mc=d;this.Oc=this.Gd=!1};g.prototype.update=function(a,b,c){this.He=this.time;this.time=a;this.x=b;this.y=c;!this.Oc&&15<=Ia(this.Bd,this.Cd,this.x,this.y)&&(this.Oc=!0)};
g.prototype.Ik=function(a,b){!this.Gd&&500<=Q()-this.Se&&!this.Oc&&15>Ia(this.Bd,this.Cd,this.x,this.y)&&(this.Gd=!0,a.pa=this.Mc,a.gb=this.id,a.Vb=b,a.b.trigger(Z.prototype.e.gj,a),a.ua=this.x,a.wa=this.y,a.b.trigger(Z.prototype.e.hj,a),a.Vb=0)};var r=-1E3,u=-1E3,C=-1E4;g.prototype.Mg=function(a,b){if(!this.Gd){var c=Q();333>=c-this.Se&&!this.Oc&&15>Ia(this.Bd,this.Cd,this.x,this.y)&&(a.pa=this.Mc,a.gb=this.id,a.Vb=b,666>=c-C&&25>Ia(r,u,this.x,this.y)?(a.b.trigger(Z.prototype.e.ej,a),a.ua=this.x,
a.wa=this.y,a.b.trigger(Z.prototype.e.fj,a),u=r=-1E3,C=-1E4):(a.b.trigger(Z.prototype.e.kj,a),a.ua=this.x,a.wa=this.y,a.b.trigger(Z.prototype.e.lj,a),r=this.x,u=this.y,C=c),a.Vb=0)}};e.L=function(){this.pk=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Vb=this.gb=this.pa=this.wa=this.ua=this.cg=this.bg=this.ag=this.sj=this.rj=this.qj=this.Jc=this.Ic=this.Hc=0;this.Ti=0!==this.T[0];var a=0<this.b.rb?document:this.b.canvas,b=document;this.b.nc?b=a=window.Canvas:this.b.Wb&&(b=
a=window);var c=this;window.navigator.pointerEnabled?(a.addEventListener("pointerdown",function(a){c.Rg(a)},!1),a.addEventListener("pointermove",function(a){c.Qg(a)},!1),b.addEventListener("pointerup",function(a){c.zd(a,!1)},!1),b.addEventListener("pointercancel",function(a){c.zd(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.b.canvas.addEventListener("gesturehold",
function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",function(a){a.preventDefault()},!1))):window.navigator.msPointerEnabled?(a.addEventListener("MSPointerDown",function(a){c.Rg(a)},!1),a.addEventListener("MSPointerMove",function(a){c.Qg(a)},!1),b.addEventListener("MSPointerUp",function(a){c.zd(a,!1)},!1),b.addEventListener("MSPointerCancel",function(a){c.zd(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",
function(a){a.preventDefault()},!1))):(a.addEventListener("touchstart",function(a){c.Tg(a)},!1),a.addEventListener("touchmove",function(a){c.Sg(a)},!1),b.addEventListener("touchend",function(a){c.Ne(a,!1)},!1),b.addEventListener("touchcancel",function(a){c.Ne(a,!0)},!1));if(this.pk){var d=function(a){a=a.reading;c.ag=a.accelerationX;c.bg=a.accelerationY;c.cg=a.accelerationZ},e=function(a){a=a.reading;c.Hc=a.yawDegrees;c.Ic=a.pitchDegrees;c.Jc=a.rollDegrees},f=Windows.Devices.Sensors.Accelerometer.getDefault();
f&&(f.reportInterval=Math.max(f.minimumReportInterval,16),f.addEventListener("readingchanged",d));var g=Windows.Devices.Sensors.Inclinometer.getDefault();g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),g.addEventListener("readingchanged",e));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?(f&&f.removeEventListener("readingchanged",d),g&&g.removeEventListener("readingchanged",e)):(f&&f.addEventListener("readingchanged",d),g&&g.addEventListener("readingchanged",
e))},!1)}else window.addEventListener("deviceorientation",function(a){c.Hc=a.alpha||0;c.Ic=a.beta||0;c.Jc=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(c.qj=a.accelerationIncludingGravity.x||0,c.rj=a.accelerationIncludingGravity.y||0,c.sj=a.accelerationIncludingGravity.z||0);a.acceleration&&(c.ag=a.acceleration.x||0,c.bg=a.acceleration.y||0,c.cg=a.acceleration.z||0)},!1);this.Ti&&!this.b.la&&(jQuery(document).mousemove(function(a){c.Rk(a)}),jQuery(document).mousedown(function(a){c.Qk(a)}),
jQuery(document).mouseup(function(a){c.Sk(a)}));this.b.vd&&!this.b.nc&&AppMobi.accelerometer.watchAcceleration(k,{frequency:40,adjustForRotation:!0});this.b.Fb&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(n,null,{frequency:40});this.b.ol(this);this.enable=1==this.T[1];this.ei=this.di=null};e.Qg=function(a){if(this.enable&&a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){this.Kd=!1;a.preventDefault&&a.preventDefault();
var b=this.qb(a.pointerId),c=Q();if(0<=b){var d=this.b.la?m:jQuery(this.b.canvas).offset(),b=this.touches[b];2>c-b.time||b.update(c,a.pageX-d.left,a.pageY-d.top)}}};e.Rg=function(a){if(this.enable&&a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){this.Kd=!1;a.preventDefault&&a.preventDefault();var b=this.b.la?m:jQuery(this.b.canvas).offset(),c=a.pageX-b.left,b=a.pageY-b.top;Q();this.pa=this.touches.length;this.gb=a.pointerId;this.touches.push(d(c,b,a.pointerId,this.pa));this.b.jb=
!0;this.b.trigger(Z.prototype.e.Wf,this);this.b.trigger(Z.prototype.e.zc,this);this.ua=c;this.wa=b;this.b.trigger(Z.prototype.e.$e,this);c=this.Ia.length;for(a=0;a<c;a++)this.Ia[a].zc&&this.Ia[a].zc(this.gb,this.ua,this.wa);this.b.jb=!1}};e.zd=function(a,b){if(this.enable&&a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){this.Kd=!1;a.preventDefault&&a.preventDefault();var c=this.qb(a.pointerId);this.pa=0<=c?this.touches[c].Mc:-1;this.gb=0<=c?this.touches[c].id:-1;this.b.jb=!0;this.b.trigger(Z.prototype.e.Vf,
this);this.b.trigger(Z.prototype.e.Pc,this);0<=c&&(this.di=this.touches[c].x,this.ei=this.touches[c].y,this.b.trigger(Z.prototype.e.Pl,this));var d=this.Ia.length,e;for(e=0;e<d;e++)this.Ia[e].Pc&&this.Ia[e].Pc(this.gb);0<=c&&(b||this.touches[c].Mg(this,c),100>t.length&&t.push(this.touches[c]),this.touches.splice(c,1));this.b.jb=!1}};e.Sg=function(a){if(this.enable){a.preventDefault&&a.preventDefault();var b=Q(),c,d,e,f,g=this.Ia.length;c=0;for(d=a.changedTouches.length;c<d;c++)if(e=a.changedTouches[c],
f=this.qb(e.identifier),0<=f){var h=this.b.la?m:jQuery(this.b.canvas).offset();f=this.touches[f];if(!(2>b-f.time))for(f.update(b,e.pageX-h.left,e.pageY-h.top),f=0;f<g;f++)this.Ia[f].Op&&this.Ia[f].Op(e.identifier,e.pageX-h.left,e.pageY-h.top)}}};e.Tg=function(a){if(this.enable){a.preventDefault&&a.preventDefault();var b=this.b.la?m:jQuery(this.b.canvas).offset();Q();this.b.jb=!0;var c,e,f,g,h=this.Ia.length;c=0;for(e=a.changedTouches.length;c<e;c++)if(f=a.changedTouches[c],g=this.qb(f.identifier),
-1===g){g=f.pageX-b.left;var k=f.pageY-b.top;this.pa=this.touches.length;this.gb=f.identifier;this.touches.push(d(g,k,f.identifier,this.pa));this.b.trigger(Z.prototype.e.Wf,this);this.b.trigger(Z.prototype.e.zc,this);this.ua=g;this.wa=k;this.b.trigger(Z.prototype.e.$e,this);for(f=0;f<h;f++)this.Ia[f].zc&&this.Ia[f].zc(this.gb,this.ua,this.wa)}this.b.jb=!1}};e.Ne=function(a,b){if(this.enable){a.preventDefault&&a.preventDefault();this.b.jb=!0;var c,d,e,f=this.Ia.length,g;c=0;for(d=a.changedTouches.length;c<
d;c++)if(e=a.changedTouches[c],e=this.qb(e.identifier),0<=e){this.pa=this.touches[e].Mc;this.gb=this.touches[e].id;this.b.trigger(Z.prototype.e.Vf,this);this.b.trigger(Z.prototype.e.Pc,this);this.di=this.touches[e].x;this.ei=this.touches[e].y;this.b.trigger(Z.prototype.e.Pl,this);for(g=0;g<f;g++)this.Ia[g].Pc&&this.Ia[g].Pc(this.gb);b||this.touches[e].Mg(this,e);100>t.length&&t.push(this.touches[e]);this.touches.splice(e,1)}this.b.jb=!1}};e.Dr=function(){return this.b.vd&&0===this.Hc&&0!==b?90*b:
this.b.Fb&&0===this.Hc&&0!==s?90*s:this.Hc};e.Gr=function(){return this.b.vd&&0===this.Ic&&0!==h?-90*h:this.b.Fb&&0===this.Ic&&0!==q?-90*q:this.Ic};e.Hr=function(){return this.b.vd&&0===this.Jc&&0!==f?90*f:this.b.Fb&&0===this.Jc&&0!==p?90*p:this.Jc};e.Qk=function(a){this.enable&&(this.Le=this.Kd=!0,a.preventDefault&&this.b.nf&&!this.b.oc&&a.preventDefault(),a={changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]},this.touches.length=0,this.Tg(a))};e.Rk=function(a){this.enable&&(this.Kd=!0,
a={changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]},0==this.touches.length?this.dm(a):this.Sg(a))};e.Sk=function(a){this.enable&&(this.Kd=!0,this.Le=!1,a.preventDefault&&this.b.nf&&!this.b.oc&&a.preventDefault(),this.b.nf=!0,a={changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]},this.Ne(a),this.dm(a))};e.hh=function(){if(this.enable){var a,b,c,d=Q();a=0;for(b=this.touches.length;a<b;++a)c=this.touches[a],c.time<=d-50&&(c.He=d),c.Ik(this,a);this.ei=this.di=null}};l.prototype.zc=
H(!0);l.prototype.Pc=H(!0);l.prototype.Ye=function(){return this.Ye()};l.prototype.$e=function(a){return a?this.b.Dd(a,this.ua,this.wa):!1};var y=[];l.prototype.Gl=function(a){if(this.Ye()){if(!a)return!1;var b=a.A(),c=b.ib(),d,e,f,g,h,k;f=0;for(g=c.length;f<g;f++){var m=c[f];m.Oa();h=0;for(k=this.touches.length;h<k;h++)if(e=this.touches[h],d=m.g.Y(e.x,e.y,!0),e=m.g.Y(e.x,e.y,!1),m.Tb(d,e)){y.push(m);break}}return y.length?(b.M=!1,wa(b.d,y),a.Rb(),y.length=0,!0):!1}};l.prototype.Wf=function(a){a=
Math.floor(a);return a===this.pa};l.prototype.Vf=function(a){a=Math.floor(a);return a===this.pa};l.prototype.gj=H(!0);l.prototype.kj=H(!0);l.prototype.ej=H(!0);l.prototype.hj=function(a){return a?this.b.Dd(a,this.ua,this.wa):!1};l.prototype.lj=function(a){return a?this.b.Dd(a,this.ua,this.wa):!1};l.prototype.fj=function(a){return a?this.b.Dd(a,this.ua,this.wa):!1};l.prototype.Pl=function(a){return a?this.b.Dd(a,this.di,this.ei):!1};c.e=new l;c.R=new (w());a.prototype.Xl=function(a,b){var c=this.Vb;
if(0>c||c>=this.touches.length)a.j(0);else{var d,e,f,g,h;ka(b)?(d=this.b.$a(0),e=d.scale,f=d.ia,g=d.Ta,h=d.i,d.scale=this.b.V.scale,d.ia=1,d.Ta=1,d.i=this.b.V.i,a.j(d.Y(this.touches[c].x,this.touches[c].y,!0)),d.scale=e,d.ia=f,d.Ta=g,d.i=h):(d=I(b)?this.b.$a(b):this.b.td(b))?a.j(d.Y(this.touches[c].x,this.touches[c].y,!0)):a.j(0)}};a.prototype.Yl=function(a,b,c){b=this.qb(b);if(0>b)a.j(0);else{b=this.touches[b];var d,e,f,g;ka(c)?(c=this.b.$a(0),d=c.scale,e=c.ia,f=c.Ta,g=c.i,c.scale=this.b.V.scale,
c.ia=1,c.Ta=1,c.i=this.b.V.i,a.j(c.Y(b.x,b.y,!0)),c.scale=d,c.ia=e,c.Ta=f,c.i=g):(c=I(c)?this.b.$a(c):this.b.td(c))?a.j(c.Y(b.x,b.y,!0)):a.j(0)}};a.prototype.$l=function(a,b){var c=this.Vb;if(0>c||c>=this.touches.length)a.j(0);else{var d,e,f,g,h;ka(b)?(d=this.b.$a(0),e=d.scale,f=d.ia,g=d.Ua,h=d.i,d.scale=this.b.V.scale,d.ia=1,d.Ua=1,d.i=this.b.V.i,a.j(d.Y(this.touches[c].x,this.touches[c].y,!1)),d.scale=e,d.ia=f,d.Ua=g,d.i=h):(d=I(b)?this.b.$a(b):this.b.td(b))?a.j(d.Y(this.touches[c].x,this.touches[c].y,
!1)):a.j(0)}};a.prototype.am=function(a,b,c){b=this.qb(b);if(0>b)a.j(0);else{b=this.touches[b];var d,e,f,g;ka(c)?(c=this.b.$a(0),d=c.scale,e=c.ia,f=c.Ua,g=c.i,c.scale=this.b.V.scale,c.ia=1,c.Ua=1,c.i=this.b.V.i,a.j(c.Y(b.x,b.y,!1)),c.scale=d,c.ia=e,c.Ua=f,c.i=g):(c=I(c)?this.b.$a(c):this.b.td(c))?a.j(c.Y(b.x,b.y,!1)):a.j(0)}};c.S=new a;e.dm=function(a){a.preventDefault&&a.preventDefault();var b=this.b.la?m:jQuery(this.b.canvas).offset();Q();var c,e,f;c=0;for(e=a.changedTouches.length;c<e;c++){f=a.changedTouches[c];
var g=f.pageX-b.left,h=f.pageY-b.top;this.pa=this.touches.length;this.touches.push(d(g,h,f.identifier,this.pa))}};e.pp=function(a){this.Ia.push(a)};e.$u=function(a){var b,c=this.Ia.length,d;for(b=0;b<c;b++)if(d=this.Ia[b],a===d){va(this.Ia,b);break}};e.bv=G("Ti");e.iu=G("Kd");e.Ye=function(){return this.Kd?this.Le:this.touches.length}})();function Yb(k){this.b=k}
(function(){function k(a){var d,k;d=0;for(k=a.F.length;d<k;d++)if(a.F[d]instanceof g.J)return a.F[d];return null}function n(){}function d(){}var g=Yb.prototype;g.da=function(a,d){this.ec=a;this.Mk=d;this.b=a.b};var l=g.da.prototype;l.L=function(){this.Uf=this.Tf=this.jh=null;this.yj=[]};l.bp=function(){if(0==this.yj.length&&Wb){var a=this.b.types,d,g;for(d in a)g=a[d],g instanceof Wb.prototype.da&&this.yj.push(g)}};l.Xp=function(){if(null==this.jh){var a=this.b.types,d,g;for(d in a)if(g=a[d].d[0],
null!=g&&"TOUCHWRAP"==g.yh){this.jh=g;this.Tf=Z.prototype.S.Yl;this.Uf=Z.prototype.S.am;this.jh.pp(this);break}}};var a=[];l.yt=function(c,d){var g=this.Mk.d,f,h=g.length,b;for(f=a.length=0;f<h;f++)b=k(g[f]),b.vh&&!b.Cc.Ee&&b.Ye(c,d)&&a.push(b);return a};l.zc=function(a,d,g){d=this.yt(d,g);if(0!=d.length&&(g=d.length,0!=g)){var f,h,b=d[0],k=b.p,l;for(f=1;f<g;f++)if(h=d[f],l=h.p,l.g.index>k.g.index||l.g.index==k.g.index&&l.sb()>k.sb())b=h,k=l;b.Rq(a);this.b.trigger(Yb.prototype.e.Ap,b.p);d.length=
0}};l.Pc=function(a){var d=this.Mk.d,g,f=d.length,h;for(g=0;g<f;g++)h=d[g],h=k(h),h.Cc.Qi==a&&h.Uq()};g.J=function(a,d){this.type=a;this.ec=a.ec;this.p=d;this.b=a.b;a.Xp();a.bp()};l=g.J.prototype;l.L=function(){this.vh=1==this.T[0];this.Cc={Qi:-1,Xk:0,Yk:0,Lm:0,Mm:0,Ee:!1,Sq:0,Tq:0,os:0,qs:0,Bs:!1};this.cb=new W.bj};l.dd=function(){if(this.vh&&this.Cc.Ee){var a=this.p,d=this.Cc,g=this.Tf(),f=this.Uf();if(d.Xk!=g||d.Yk!=f){this.p.x=g+d.Lm;this.p.y=f+d.Mm;var h=this.zt(),b=h!=this.cb.p&&null!=h,k=this.cb.hd,
l=this.cb.jd;if(null!=h){var n=h.Aa(),t=n.Xf(this.p.x,this.p.y),r=n.Yf(this.p.x,this.p.y);this.p.x=n.oe(t,r,0);this.p.y=n.pe(t,r,0);this.cb.te(h,t,r)}else this.cb.te(null);this.p.za();b&&this.b.trigger(Yb.prototype.e.zp,a);(b||this.cb.hd!=k||this.cb.jd!=l)&&this.b.trigger(Yb.prototype.e.Ep,a);d.Xk=g;d.Yk=f}}};l.zs=function(a){var d=a.Aa(),g=d.Xf(this.p.x,this.p.y),d=d.Yf(this.p.x,this.p.y),f,h,b,k;for(f in this.p.q)if(h=this.p.q[f],b=h.x+g,k=h.y+d,h=h.z,this.p.Xi(a,parseInt(f),b,k,h,1))return!0;return!1};
l.zt=function(){var a=this.type.yj,d=a.length,g;for(g=0;g<d;g++){var f=a[g].d,h,b=f.length;for(h=0;h<b;h++)if(this.zs(f[h]))return f[h]}return null};l.Tf=function(){if(!this.Cc.Ee)return 0;var a=this.type.jh;this.type.Tf.call(a,a.Jh,this.Cc.Qi,this.p.g.index);return a.Jh.value};l.Uf=function(){if(!this.Cc.Ee)return 0;var a=this.type.jh;this.type.Uf.call(a,a.Jh,this.Cc.Qi,this.p.g.index);return a.Jh.value};l.Rq=function(a){this.kp(a);this.dd()};l.kp=function(a){var d=this.p,g=this.Cc;g.Ee=!0;g.Qi=
a;a=this.Tf();var f=this.Uf();g.Lm=d.x-a;g.Mm=d.y-f;g.Xk=null;g.Yk=null;g.Sq=a;g.Tq=f;g.os=d.x;g.qs=d.y;g.Bs=!1};l.Uq=function(){this.Cc.Ee&&(this.Cc.Ee=!1,this.b.trigger(Yb.prototype.e.Bp,this.p),null!=this.cb.p&&this.b.trigger(Yb.prototype.e.Kl,this.p),this.cb.te(null))};l.Ye=function(a,d){var g=this.p,f=g.q,h,b,k;for(h in f)if(f=g.xb(h),null!=f&&(f.Oa(),b=f.g.Y(a,d,!0),k=f.g.Y(a,d,!1),f.Tb(b,k)))return!0;return!1};l.Fa=function(){return{en:this.vh}};l.Ra=function(a){this.vh=a.en};g.e=new n;n.prototype.Ap=
H(!0);n.prototype.Bp=H(!0);n.prototype.Ep=H(!0);n.prototype.Kl=function(a){if(null==this.cb.p||this.cb.p.type!==a)return!1;a.A().Oe(this.cb.p);return!0};n.prototype.zp=function(a){if(null==this.cb.p||this.cb.p.type!==a)return!1;a.A().Oe(this.cb.p);return!0};g.R=new (w());g.S=new d;d.prototype.Hl=function(a){a.C(this.cb.hd)};d.prototype.Il=function(a){a.C(this.cb.jd)}})();function Zb(k){this.b=k}
(function(){function k(a,c){a%=c;0>a&&(a+=c);return a}function n(){}function d(){}var g=Zb.prototype;g.da=function(a,c){this.ec=a;this.Mk=c;this.b=a.b};g.da.prototype.L=w();g.J=function(a,c){this.type=a;this.ec=a.ec;this.p=c;this.b=a.b};var l=g.J.prototype;l.L=function(){this.kf=this.T[0];this.vk=!1};l.dd=w();l.Js=function(a){var c=this.p;c.q=a;c.N={};var d,g;for(d in a)g=a[d],c.jm(g.x,g.y,g.z,parseInt(d))};l.wq=function(){var a=this.p,c=a.type.Aa(),d=c.kd,g=c.Qc;c.cf(a.x);c.df(a.y);var f,h,b;for(f in a.q)h=
parseInt(f),b=a.xb(h),null!=b&&(h=a.Ha(h),b.x=c.oe(h.x,h.y,h.z),b.y=c.pe(h.x,h.y,h.z),b.za(),a.km(b));c.cf(d);c.df(g)};l.bq=function(a,c){var d=this.p,g=d.type.Aa(),f=d.qc,h,b,k={};for(h in this.p.q){b=this.p.q[h];var l={};l.x=g.rp(b.x,b.y,a);l.y=g.sp(b.x,b.y,a);l.z=b.z;if(null!=c&&!d.Xi(f.p,parseInt(h),l.x+f.hd,l.y+f.jd,l.z,c))return null;k[h]=l}return k};l.dt=function(a,c,d){var g=this.p.type.Aa().Dl();a=k(a,g);if(0==a)this.Km(!0);else{var f=this.p,h=null!=f.Hb.p;h||(c=null);h&&f.qh();c=this.bq(a,
c);var b=null!=c;b&&(this.kf+=a,this.kf=k(this.kf,g),this.Js(c),d&&this.wq());h&&f.rh(f.qc.p,f.qc.hd,f.qc.jd,!1);this.Km(b)}};l.Km=function(a){this.vk=a;this.b.trigger(a?Zb.prototype.e.Lp:Zb.prototype.e.Mp,this.p)};l.Fa=function(){return{fd:this.kf,rq:this.vk}};l.Ra=function(a){this.kf=a.fd;this.vk=a.rq};g.e=new n;n.prototype.Lp=H(!0);n.prototype.Mp=H(!0);g.R=new d;d.prototype.Sp=function(a,c,d){this.dt(a,d,c)};g.S=new (w())})();
function Rb(){return[null,null,[[V,!0,!1,!1,!1,!1,!1,!1,!1,!1],[Tb,!0,!1,!1,!1,!1,!1,!1,!1,!1],[Wb,!1,!1,!1,!1,!1,!1,!1,!1,!1],[Vb,!1,!1,!1,!1,!1,!1,!1,!1,!1],[Ub,!0,!1,!1,!1,!1,!1,!1,!1,!1],[W,!1,!0,!0,!1,!1,!1,!1,!1,!1],[X,!1,!1,!1,!1,!1,!1,!1,!1,!1],[Z,!0,!1,!1,!1,!1,!1,!1,!1,!1],[Sb,!1,!0,!0,!0,!0,!0,!0,!0,!1],[Xb,!1,!0,!0,!0,!0,!0,!0,!0,!1],[Y,!0,!1,!1,!1,!1,!1,!1,!1,!1]],[["t0",Sb,!1,[],0,0,null,[["Default",5,!1,1,0,!1,0x3c46c921e5c91,[["images/tile-sheet0.png",93,0,0,40,40,1,0.5,0.5,[],[],
1]]]],[],!1,!1,0xe9077d5dfb7d2,[],null],["t1",Wb,!1,[],0,0,null,null,[],!0,!1,0x59f33abffb9c1,[],null],["t2",Vb,!1,[],0,0,null,null,[],!0,!1,7670131726580767,[],null],["t3",V,!1,[],0,0,null,null,[],!1,!1,0x41190fa64ae5c,[],null,[]],["t4",Sb,!1,[],0,0,null,[["Default",0,!1,1,0,!1,0x7b476b330fa6a,[["images/chess-sheet0.png",225,1,1,40,40,1,0.5,0.5,[],[],0],["images/chess-sheet0.png",225,43,1,40,40,1,0.5,0.5,[],[],0],["images/chess-sheet0.png",225,85,1,40,40,1,0.5,0.5,[],[],0],["images/chess-sheet0.png",
225,1,43,40,40,1,0.5,0.5,[],[],0],["images/chess-sheet0.png",225,43,43,40,40,1,0.5,0.5,[],[],0],["images/chess-sheet0.png",225,85,43,40,40,1,0.5,0.5,[],[],0],["images/chess-sheet0.png",225,1,85,40,40,1,0.5,0.5,[],[],0],["images/chess-sheet0.png",225,43,85,40,40,1,0.5,0.5,[],[],0],["images/chess-sheet0.png",225,85,85,40,40,1,0.5,0.5,[],[],0]]]],[],!1,!1,5157654684634582,[],null],["t5",W,!1,[],2,0,null,null,[["Rotate",Zb,8691043617601155],["TouchCtrl",Yb,0x6ed68d2ef14f1]],!1,!1,0x8a7598d5e38fb,[],null],
["t6",Tb,!1,[],0,0,null,null,[],!1,!1,6416056118696871,[],null,[]],["t7",Ub,!1,[],0,0,null,null,[],!1,!1,5549305587302591,[],null,[",",1]],["t8",X,!1,[],0,0,null,null,[],!0,!1,0x9fbf1eddf0779,[],null],["t9",Y,!1,[],0,0,null,null,[],!1,!1,5994289459265268,[],null,[1]],["t10",Z,!1,[],0,0,null,null,[],!1,!1,0x8b2cd881c2955,[],null,[1,1]],["t11",Xb,!1,[],0,0,null,null,[],!1,!1,7915482000633885,[],null]],[],[["Layout 1",854,480,!1,"Main",8770506342314294,[["Layer 0",0,7770643623437114,!0,[0,0,0],!1,1,
1,1,!1,1,0,0,[[[511,355,0,324,112,0,0,1,0,0,0,0,[]],11,11,[],[],["Click empty space to rotate chess, drag chess into board to put it, click chess on board to destroy",0,"12pt Arial","rgb(255,255,255)",0,0,0,0,0]]],[]]],[[null,1,1,[],[],[10,10]],[null,2,3,[],[],[0,24,24,42,42,0]],[null,8,8,[],[],[0,""]]],[]],["resource",1708,960,!1,null,5480032574127203,[["Layer 0",0,0xdc142d82a696c,!0,[255,255,255],!1,1,1,1,!1,1,0,0,[[[49,58,0,40,40,0,0,1,0.5,0.5,0,0,[]],0,0,[],[],[0,"Default",0,1]],[[46,136,0,40,
40,0,0,0.4000000059604645,0.5,0.5,0,0,[]],4,2,[],[],[0,"Default",0,1]],[[49,186,0,100,100,0,0,1,0,0,0,0,[]],5,4,[],[[0],[1]],["rgb(100,100,200)",1]]],[]]],[],[]]],[["Main",[[2,"Mini board",!1],[0,null,!1,null,0x7e4d9d8f18ce5,[[-1,T.prototype.e.ph,null,1,!1,!1,!1,7156848735726971,!1],[-1,T.prototype.e.Cl,null,0,!0,!1,!1,7574339122106749,!1,[[1,[2,"y"]],[0,[0,0]],[0,[5,[20,1,Wb.prototype.S.$o,!1,null],[0,1]]]]],[-1,T.prototype.e.Cl,null,0,!0,!1,!1,325397507374735,!1,[[1,[2,"x"]],[0,[0,0]],[0,[5,[20,
1,Wb.prototype.S.cp,!1,null],[0,1]]]]]],[[1,Wb.prototype.R.gp,null,9978317443466480,!1,[[4,0],[0,[19,T.prototype.S.In,[[2,"x"]]]],[0,[19,T.prototype.S.In,[[2,"y"]]]],[5,[0,0]]]]]],[0,null,!1,null,0xf55dbd4acb737,[[-1,T.prototype.e.ph,null,1,!1,!1,!1,9452168536708716,!1]],[[8,X.prototype.R.Jd,null,5652693021967703,!1,[[1,[2,"1,1,1\n1,1,1\n1,1,1"]],[0,[0,1]]]],[8,X.prototype.R.Jd,null,0x5aeb9b0b4e170,!1,[[1,[2,"2,2,0\n0,2,0\n0,2,2"]],[0,[0,1]]]],[8,X.prototype.R.Jd,null,7132092765840971,!1,[[1,[2,"0,3,0\n3,3,3\n0,3,0"]],
[0,[0,1]]]],[8,X.prototype.R.Jd,null,9592453028400752,!1,[[1,[2,"0,4,4\n0,4,0\n0,4,4"]],[0,[0,1]]]],[8,X.prototype.R.Jd,null,8785738892476393,!1,[[1,[2,"0,0,0\n5,5,5\n0,5,0"]],[0,[0,1]]]],[8,X.prototype.R.Jd,null,0xcc8032678813f,!1,[[1,[2,"6,0,6\n0,6,0\n6,0,6"]],[0,[0,1]]]],[8,X.prototype.R.Jd,null,4576550301107351,!1,[[1,[2,"7,0\n7,0\n7,7"]],[0,[0,1]]]],[8,X.prototype.R.Jd,null,629944812772456,!1,[[1,[2,"0,8,0\n0,8,0\n0,8,0"]],[0,[0,1]]]]]],[0,null,!1,null,0x75e0981f27f1,[[-1,T.prototype.e.ph,null,
1,!1,!1,!1,0x6d59a3c1d972d,!1]],[[6,Tb.prototype.R.CallFunction,null,6978746988032189,!1,[[1,[2,"CreateChess"]],[13,[7,[20,8,X.prototype.S.Rl,!0,null]]]]]]]]],["Mini board",[[0,null,!1,null,0x5c784827785bb,[[6,Tb.prototype.e.oh,null,2,!1,!1,!1,5371494971517436,!1,[[1,[2,"CreateChess"]]]]],[[-1,T.prototype.R.fp,null,9534523394617736,!1,[[4,5],[5,[0,0]],[0,[0,700]],[0,[0,200]]]]],[[0,null,!1,null,555952336715815,[[7,Ub.prototype.e.mp,null,0,!0,!1,!1,6253950611489684,!1,[[1,[20,6,Tb.prototype.S.Pp,!1,
null,[[0,0]]]]]],[-1,T.prototype.e.ep,null,0,!1,!1,!1,7503312977752109,!1,[[7,[20,7,Ub.prototype.S.Bl,!1,null]],[8,1],[7,[0,0]]]]],[[5,W.prototype.R.me,null,0xc17f4018f5e1b,!1,[[4,4],[0,[5,[20,7,Ub.prototype.S.hp,!1,null],[0,1]]],[0,[5,[20,7,Ub.prototype.S.ip,!1,null],[0,1]]],[7,[0,1]],[5,[0,0]]]],[4,Sb.prototype.R.Tp,null,9914322941172786,!1,[[0,[5,[20,7,Ub.prototype.S.Bl,!1,null],[0,1]]]]]]]]],[0,null,!1,null,0xd4aa91101e64e,[[5,Yb.prototype.e.Kl,"TouchCtrl",1,!1,!1,!1,0xa7a04b167684d,!1,[[4,1]]]],
[[5,W.prototype.R.rh,null,7907746858500268,!1,[[4,1],[0,[22,5,"TouchCtrl",Yb.prototype.S.Hl,!1,null]],[0,[22,5,"TouchCtrl",Yb.prototype.S.Il,!1,null]],[3,1],[3,2]]]]],[0,null,!1,null,430241283040795,[[5,W.prototype.e.Ol,null,1,!1,!1,!1,9043055840477214,!1],[5,W.prototype.e.Sl,null,0,!1,!1,!1,8852635129447756,!1,[[4,4]]]],[[4,Sb.prototype.R.Vp,null,8713256137832683,!1,[[0,[0,100]]]],[6,Tb.prototype.R.CallFunction,null,7615889768836418,!1,[[1,[2,"CreateChess"]],[13,[7,[20,8,X.prototype.S.Rl,!0,null]]]]]]],
[0,null,!1,null,0x78bb17eba41e0,[[9,Y.prototype.e.$e,null,1,!1,!1,!1,8746293571549566,!1,[[4,4]]],[5,W.prototype.e.Qp,null,0,!1,!1,!0,6851341750580606,!1,[[4,4]]],[5,W.prototype.e.aj,null,0,!1,!1,!1,8528621092382057,!1,[[4,1]]]],[[5,W.prototype.R.jp,null,326312105912731,!1]]],[0,null,!1,null,0x63ea5e1504a6d,[[9,Y.prototype.e.zc,null,1,!1,!1,!1,6162519275294437,!1],[9,Y.prototype.e.Gl,null,0,!1,!0,!1,0xbc98ef6ee5bda,!1,[[4,4]]],[5,W.prototype.e.aj,null,0,!1,!0,!1,9386629041203192,!1,[[4,1]]]],[[5,
Zb.prototype.R.Sp,"Rotate",0xc11b46cb581c7,!1,[[3,1],[3,1],[3,0]]]]]]]],[],"media/",!1,854,480,4,!0,!0,!0,"1.0.0.0",!0,!1,0,0,12,!1,!0,1,!0,"Mini board - rotate + drag",[]]};
