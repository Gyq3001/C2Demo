// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var aa,ba,ea,y,fa,ha,ia,P,ja,ka,na,sa,ta,ua,Q,va,wa,xa,ya,S,za,Aa,Ba,Ca,Da,T,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,U,Tb,Ub={},Vb={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(f){return f.__proto__}:function(f){return f.constructor.prototype});
(function(){function f(h,a,d,c){this.set(h,a,d,c)}function m(){this.Qc=this.Pc=this.Sc=this.Rc=this.md=this.ld=this.Gc=this.Fc=0}function q(h,a,d,c){h<a?d<c?(x=h<d?h:d,z=a>c?a:c):(x=h<c?h:c,z=a>d?a:d):d<c?(x=a<d?a:d,z=h>c?h:c):(x=a<c?a:c,z=h>d?h:d)}function u(){this.items=this.ic=null;this.lf=0;K&&(this.ic=new Set);this.Ge=[];this.Tc=!0}function v(h){Y[B++]=h}function r(){this.Qa=this.Wg=this.y=this.ph=0}function b(h){this.xe=[];this.yj=this.Aj=this.Bj=this.zj=0;this.Xp(h)}function a(h,a){this.wh=
h;this.vh=a;this.cells={}}function g(h,a){this.wh=h;this.vh=a;this.cells={}}function e(h,a,d){var c;return ca.length?(c=ca.pop(),c.$h=h,c.x=a,c.y=d,c):new aa(h,a,d)}function d(h,a,d){this.$h=h;this.x=a;this.y=d;this.xa=new ba}function c(h,a,d){var c;return w.length?(c=w.pop(),c.$h=h,c.x=a,c.y=d,c):new ea(h,a,d)}function n(h,a,d){this.$h=h;this.x=a;this.y=d;this.xa=[];this.ke=!0;this.fc=new ba;this.Ke=!1}function k(h,a){return h.Sb-a.Sb}y=function(h){window.console&&window.console.log&&window.console.log(h)};
fa=function(h){window.console&&window.console.error&&window.console.error(h)};ha=function(h){return"undefined"===typeof h};ia=function(h){return"number"===typeof h};P=function(h){return"string"===typeof h};ja=function(h){return 0>h?-h:h};ka=function(h,a){return h<a?h:a};na=Math.PI;sa=function(h){return 0<=h?h|0:(h|0)-1};ta=function(h){var a=h|0;return a===h?a:a+1};ua=function(h,a,d,c,l,k,n,p){var e,g,b,t;h<d?(g=h,e=d):(g=d,e=h);l<n?(t=l,b=n):(t=n,b=l);if(e<t||g>b)return!1;a<c?(g=a,e=c):(g=c,e=a);
k<p?(t=k,b=p):(t=p,b=k);if(e<t||g>b)return!1;e=l-h+n-d;g=k-a+p-c;h=d-h;a=c-a;l=n-l;k=p-k;p=ja(a*l-k*h);return ja(l*g-k*e)>p?!1:ja(h*g-a*e)<=p};f.prototype.set=function(h,a,d,c){this.left=h;this.top=a;this.right=d;this.bottom=c};f.prototype.rd=function(h){this.left=h.left;this.top=h.top;this.right=h.right;this.bottom=h.bottom};f.prototype.width=function(){return this.right-this.left};f.prototype.height=function(){return this.bottom-this.top};f.prototype.offset=function(h,a){this.left+=h;this.top+=
a;this.right+=h;this.bottom+=a;return this};f.prototype.normalize=function(){var h=0;this.left>this.right&&(h=this.left,this.left=this.right,this.right=h);this.top>this.bottom&&(h=this.top,this.top=this.bottom,this.bottom=h)};f.prototype.Tb=function(h,a){return h>=this.left&&h<=this.right&&a>=this.top&&a<=this.bottom};f.prototype.Ve=function(h){return this.left===h.left&&this.top===h.top&&this.right===h.right&&this.bottom===h.bottom};Q=f;m.prototype.Sg=function(h){this.Fc=h.left;this.Gc=h.top;this.ld=
h.right;this.md=h.top;this.Rc=h.right;this.Sc=h.bottom;this.Pc=h.left;this.Qc=h.bottom};m.prototype.Ol=function(h,a){if(0===a)this.Sg(h);else{var d=Math.sin(a),c=Math.cos(a),l=h.left*d,k=h.top*d,e=h.right*d,d=h.bottom*d,p=h.left*c,n=h.top*c,g=h.right*c,c=h.bottom*c;this.Fc=p-k;this.Gc=n+l;this.ld=g-k;this.md=n+e;this.Rc=g-d;this.Sc=c+e;this.Pc=p-d;this.Qc=c+l}};m.prototype.offset=function(h,a){this.Fc+=h;this.Gc+=a;this.ld+=h;this.md+=a;this.Rc+=h;this.Sc+=a;this.Pc+=h;this.Qc+=a;return this};var x=
0,z=0;m.prototype.Dj=function(h){q(this.Fc,this.ld,this.Rc,this.Pc);h.left=x;h.right=z;q(this.Gc,this.md,this.Sc,this.Qc);h.top=x;h.bottom=z};m.prototype.Tb=function(h,a){var d=this.Fc,c=this.Gc,l=this.ld-d,k=this.md-c,e=this.Rc-d,p=this.Sc-c,n=h-d,g=a-c,b=l*l+k*k,t=l*e+k*p,k=l*n+k*g,f=e*e+p*p,x=e*n+p*g,m=1/(b*f-t*t),l=(f*k-t*x)*m,b=(b*x-t*k)*m;if(0<=l&&0<b&&1>l+b)return!0;l=this.Pc-d;k=this.Qc-c;b=l*l+k*k;t=l*e+k*p;k=l*n+k*g;m=1/(b*f-t*t);l=(f*k-t*x)*m;b=(b*x-t*k)*m;return 0<=l&&0<b&&1>l+b};va=m;
wa=function(h,a){for(var d in a)a.hasOwnProperty(d)&&(h[d]=a[d]);return h};xa=function(h,a){var d,c;a=sa(a);if(!(0>a||a>=h.length)){d=a;for(c=h.length-1;d<c;d++)h[d]=h[d+1];ya(h,c)}};ya=function(h,a){h.length=a};S=function(h){ya(h,0)};za=function(h,a){S(h);var d,c;d=0;for(c=a.length;d<c;++d)h[d]=a[d]};Aa=function(h,a){h.push.apply(h,a)};Ba=function(h,a){var d,c;d=0;for(c=h.length;d<c;++d)if(h[d]===a)return d;return-1};Ca=function(h,a){var d=Ba(h,a);-1!==d&&xa(h,d)};Da=function(h,a,d){return h<a?a:
h>d?d:h};T=function(h){return h/(180/na)};Ea=function(h){return 180/na*h};Fa=function(h){h%=360;0>h&&(h+=360);return h};Ga=function(h){h%=2*na;0>h&&(h+=2*na);return h};Ha=function(h){return Fa(Ea(h))};Ia=function(h){return Ga(T(h))};Ja=function(h,a,d,c){return Math.atan2(c-a,d-h)};Ka=function(h,a){if(h===a)return 0;var d=Math.sin(h),c=Math.cos(h),l=Math.sin(a),k=Math.cos(a),d=d*l+c*k;return 1<=d?0:-1>=d?na:Math.acos(d)};La=function(h,a,d){var c=Math.sin(h),l=Math.cos(h),k=Math.sin(a),e=Math.cos(a);
return Math.acos(c*k+l*e)>d?0<l*k-c*e?Ga(h+d):Ga(h-d):Ga(a)};Ma=function(h,a){var d=Math.sin(h),c=Math.cos(h),l=Math.sin(a),k=Math.cos(a);return 0>=c*l-d*k};Na=function(h,a,d,c){h=d-h;a=c-a;return Math.sqrt(h*h+a*a)};Oa=function(h,a){return!h!==!a};Pa=function(h){for(var a in h)if(h.hasOwnProperty(a))return!0;return!1};Ra=function(h){for(var a in h)h.hasOwnProperty(a)&&delete h[a]};var L=+new Date;Sa=function(){if("undefined"!==typeof window.performance){var h=window.performance;if("undefined"!==
typeof h.now)return h.now();if("undefined"!==typeof h.webkitNow)return h.webkitNow();if("undefined"!==typeof h.mozNow)return h.mozNow();if("undefined"!==typeof h.msNow)return h.msNow()}return Date.now()-L};var l=!1,t=l=!1,O=!1;"undefined"!==typeof window&&(l=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),l=!l&&/safari/i.test(navigator.userAgent),t=/(iphone|ipod|ipad)/i.test(navigator.userAgent),O=window.c2ejecta);var K=!l&&!O&&!t&&"undefined"!==typeof Set&&"undefined"!==
typeof Set.prototype.forEach;u.prototype.contains=function(h){return this.tc()?!1:K?this.ic.has(h):this.items&&this.items.hasOwnProperty(h)};u.prototype.add=function(h){if(K)this.ic.has(h)||(this.ic.add(h),this.Tc=!1);else{var a=h.toString(),d=this.items;d?d.hasOwnProperty(a)||(d[a]=h,this.lf++,this.Tc=!1):(this.items={},this.items[a]=h,this.lf=1,this.Tc=!1)}};u.prototype.remove=function(h){if(!this.tc())if(K)this.ic.has(h)&&(this.ic["delete"](h),this.Tc=!1);else if(this.items){h=h.toString();var a=
this.items;a.hasOwnProperty(h)&&(delete a[h],this.lf--,this.Tc=!1)}};u.prototype.clear=function(){this.tc()||(K?this.ic.clear():(this.items=null,this.lf=0),S(this.Ge),this.Tc=!0)};u.prototype.tc=function(){return 0===this.count()};u.prototype.count=function(){return K?this.ic.size:this.lf};var Y=null,B=0;u.prototype.jq=function(){if(!this.Tc){if(K)S(this.Ge),Y=this.Ge,B=0,this.ic.forEach(v),Y=null,B=0;else{var h=this.Ge;S(h);var a,d=0,c=this.items;if(c)for(a in c)c.hasOwnProperty(a)&&(h[d++]=c[a])}this.Tc=
!0}};u.prototype.Ud=function(){this.jq();return this.Ge};ba=u;new ba;Ta=function(h,a){K?Ua(h,a.ic):Va(h,a.Ud())};Ua=function(h,a){var d,c,l,k;c=d=0;for(l=h.length;d<l;++d)k=h[d],a.has(k)||(h[c++]=k);ya(h,c)};Va=function(h,a){var d,c,l,k;c=d=0;for(l=h.length;d<l;++d)k=h[d],-1===Ba(a,k)&&(h[c++]=k);ya(h,c)};r.prototype.add=function(h){this.y=h-this.ph;this.Wg=this.Qa+this.y;this.ph=this.Wg-this.Qa-this.y;this.Qa=this.Wg};r.prototype.reset=function(){this.Qa=this.Wg=this.y=this.ph=0};Wa=r;Xa=function(h){return h.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,
"\\$&")};b.prototype.Xp=function(h){this.zl=h;this.Kg=h.length/2;this.xe.length=h.length;this.qh=this.rh=-1;this.Fj=0};b.prototype.ip=function(){return!this.zl.length};b.prototype.Ha=function(){for(var h=this.xe,a=h[0],d=a,c=h[1],l=c,k,e,p=1,n=this.Kg;p<n;++p)e=2*p,k=h[e],e=h[e+1],k<a&&(a=k),k>d&&(d=k),e<c&&(c=e),e>l&&(l=e);this.zj=a;this.Aj=d;this.Bj=c;this.yj=l};b.prototype.Sg=function(h,a,d){this.xe.length=8;this.Kg=4;var c=this.xe;c[0]=h.left-a;c[1]=h.top-d;c[2]=h.right-a;c[3]=h.top-d;c[4]=h.right-
a;c[5]=h.bottom-d;c[6]=h.left-a;c[7]=h.bottom-d;this.rh=h.right-h.left;this.qh=h.bottom-h.top;this.Ha()};b.prototype.Ym=function(h,a,d){if(this.rh!==h||this.qh!==a||this.Fj!==d){this.rh=h;this.qh=a;this.Fj=d;var c,l,k,e,p,n=0,g=1,b=this.zl,t=this.xe;0!==d&&(n=Math.sin(d),g=Math.cos(d));d=0;for(k=this.Kg;d<k;d++)c=2*d,l=c+1,e=b[c]*h,p=b[l]*a,t[c]=e*g-p*n,t[l]=p*g+e*n;this.Ha()}};b.prototype.Tb=function(h,a){var d=this.xe;if(h===d[0]&&a===d[1])return!0;var c,l,k,e=this.Kg,p=this.zj-110,n=this.Bj-101,
g=this.Aj+131,b=this.yj+120,t,f,x=0,m=0;for(c=0;c<e;c++)l=2*c,k=(c+1)%e*2,t=d[l],l=d[l+1],f=d[k],k=d[k+1],ua(p,n,h,a,t,l,f,k)&&x++,ua(g,b,h,a,t,l,f,k)&&m++;return 1===x%2||1===m%2};Ya=b;a.prototype.Zc=function(h,a,d){var c;c=this.cells[h];return c?(c=c[a])?c:d?(c=e(this,h,a),this.cells[h][a]=c):null:d?(c=e(this,h,a),this.cells[h]={},this.cells[h][a]=c):null};a.prototype.Ra=function(h){return sa(h/this.wh)};a.prototype.Sa=function(h){return sa(h/this.vh)};a.prototype.update=function(h,a,d){var c,l,
k,e,p;if(a)for(c=a.left,l=a.right;c<=l;++c)for(k=a.top,e=a.bottom;k<=e;++k)if(!d||!d.Tb(c,k))if(p=this.Zc(c,k,!1))p.remove(h),p.tc()&&(p.xa.clear(),1E3>ca.length&&ca.push(p),this.cells[c][k]=null);if(d)for(c=d.left,l=d.right;c<=l;++c)for(k=d.top,e=d.bottom;k<=e;++k)a&&a.Tb(c,k)||this.Zc(c,k,!0).ei(h)};a.prototype.Bl=function(h,a){var d,c,l,k,e,p;d=this.Ra(h.left);l=this.Sa(h.top);c=this.Ra(h.right);for(e=this.Sa(h.bottom);d<=c;++d)for(k=l;k<=e;++k)(p=this.Zc(d,k,!1))&&p.dump(a)};Za=a;g.prototype.Zc=
function(h,a,d){var k;k=this.cells[h];return k?(k=k[a])?k:d?(k=c(this,h,a),this.cells[h][a]=k):null:d?(k=c(this,h,a),this.cells[h]={},this.cells[h][a]=k):null};g.prototype.Ra=function(h){return sa(h/this.wh)};g.prototype.Sa=function(h){return sa(h/this.vh)};g.prototype.update=function(h,a,d){var c,k,l,e,p;if(a)for(c=a.left,k=a.right;c<=k;++c)for(l=a.top,e=a.bottom;l<=e;++l)if(!d||!d.Tb(c,l))if(p=this.Zc(c,l,!1))p.remove(h),p.tc()&&(p.reset(),1E3>w.length&&w.push(p),this.cells[c][l]=null);if(d)for(c=
d.left,k=d.right;c<=k;++c)for(l=d.top,e=d.bottom;l<=e;++l)a&&a.Tb(c,l)||this.Zc(c,l,!0).ei(h)};g.prototype.Bl=function(h,a,d,c,k){var l,e;h=this.Ra(h);a=this.Sa(a);d=this.Ra(d);for(l=this.Sa(c);h<=d;++h)for(c=a;c<=l;++c)(e=this.Zc(h,c,!1))&&e.dump(k)};g.prototype.np=function(h){var a,d,c,k,l;a=h.left;c=h.top;d=h.right;for(k=h.bottom;a<=d;++a)for(h=c;h<=k;++h)if(l=this.Zc(a,h,!1))l.ke=!1};$a=g;var ca=[];d.prototype.tc=function(){return this.xa.tc()};d.prototype.ei=function(h){this.xa.add(h)};d.prototype.remove=
function(h){this.xa.remove(h)};d.prototype.dump=function(h){Aa(h,this.xa.Ud())};aa=d;var w=[];n.prototype.tc=function(){if(!this.xa.length)return!0;if(this.xa.length>this.fc.count())return!1;this.Lh();return!0};n.prototype.ei=function(h){this.fc.contains(h)?(this.fc.remove(h),this.fc.tc()&&(this.Ke=!1)):this.xa.length?(this.xa[this.xa.length-1].$b()>h.$b()&&(this.ke=!1),this.xa.push(h)):(this.xa.push(h),this.ke=!0)};n.prototype.remove=function(h){this.fc.add(h);this.Ke=!0;30<=this.fc.count()&&this.Lh()};
n.prototype.Lh=function(){this.Ke&&(this.fc.count()===this.xa.length?this.reset():(Ta(this.xa,this.fc),this.fc.clear(),this.Ke=!1))};n.prototype.Jn=function(){this.ke||(this.xa.sort(k),this.ke=!0)};n.prototype.reset=function(){S(this.xa);this.ke=!0;this.fc.clear();this.Ke=!1};n.prototype.dump=function(h){this.Lh();this.Jn();this.xa.length&&h.push(this.xa)};ea=n;var C="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");ab=
function(h){return 0>=h||11<=h?"source-over":C[h-1]};bb=function(h,a,d){if(d)switch(h.Oa=d.ONE,h.La=d.ONE_MINUS_SRC_ALPHA,a){case 1:h.Oa=d.ONE;h.La=d.ONE;break;case 3:h.Oa=d.ONE;h.La=d.ZERO;break;case 4:h.Oa=d.ONE_MINUS_DST_ALPHA;h.La=d.ONE;break;case 5:h.Oa=d.DST_ALPHA;h.La=d.ZERO;break;case 6:h.Oa=d.ZERO;h.La=d.SRC_ALPHA;break;case 7:h.Oa=d.ONE_MINUS_DST_ALPHA;h.La=d.ZERO;break;case 8:h.Oa=d.ZERO;h.La=d.ONE_MINUS_SRC_ALPHA;break;case 9:h.Oa=d.DST_ALPHA;h.La=d.ONE_MINUS_SRC_ALPHA;break;case 10:h.Oa=
d.ONE_MINUS_DST_ALPHA,h.La=d.SRC_ALPHA}};cb=function(h){return Math.round(1E6*h)/1E6};db=function(h,a){return"string"!==typeof h||"string"!==typeof a||h.length!==a.length?!1:h===a?!0:h.toLowerCase()===a.toLowerCase()};eb=function(h){h=h.target;return!h||h===document||h===window||document&&document.body&&h===document.body||db(h.tagName,"canvas")?!0:!1}})();var Wb="undefined"!==typeof Float32Array?Float32Array:Array;function Xb(f){var m=new Wb(3);f&&(m[0]=f[0],m[1]=f[1],m[2]=f[2]);return m}
function Yb(f){var m=new Wb(16);f&&(m[0]=f[0],m[1]=f[1],m[2]=f[2],m[3]=f[3],m[4]=f[4],m[5]=f[5],m[6]=f[6],m[7]=f[7],m[8]=f[8],m[9]=f[9],m[10]=f[10],m[11]=f[11],m[12]=f[12],m[13]=f[13],m[14]=f[14],m[15]=f[15]);return m}function Zb(f,m){m[0]=f[0];m[1]=f[1];m[2]=f[2];m[3]=f[3];m[4]=f[4];m[5]=f[5];m[6]=f[6];m[7]=f[7];m[8]=f[8];m[9]=f[9];m[10]=f[10];m[11]=f[11];m[12]=f[12];m[13]=f[13];m[14]=f[14];m[15]=f[15]}
function $b(f,m){var q=m[0],u=m[1];m=m[2];f[0]*=q;f[1]*=q;f[2]*=q;f[3]*=q;f[4]*=u;f[5]*=u;f[6]*=u;f[7]*=u;f[8]*=m;f[9]*=m;f[10]*=m;f[11]*=m}
function ac(f,m,q,u){u||(u=Yb());var v,r,b,a,g,e,d,c,n=f[0],k=f[1];f=f[2];r=q[0];b=q[1];v=q[2];q=m[1];e=m[2];n===m[0]&&k===q&&f===e?(f=u,f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=1,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=1,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1):(q=n-m[0],e=k-m[1],d=f-m[2],c=1/Math.sqrt(q*q+e*e+d*d),q*=c,e*=c,d*=c,m=b*d-v*e,v=v*q-r*d,r=r*e-b*q,(c=Math.sqrt(m*m+v*v+r*r))?(c=1/c,m*=c,v*=c,r*=c):r=v=m=0,b=e*r-d*v,a=d*m-q*r,g=q*v-e*m,(c=Math.sqrt(b*b+a*a+g*g))?(c=1/c,b*=c,a*=c,g*=c):g=a=b=0,
u[0]=m,u[1]=b,u[2]=q,u[3]=0,u[4]=v,u[5]=a,u[6]=e,u[7]=0,u[8]=r,u[9]=g,u[10]=d,u[11]=0,u[12]=-(m*n+v*k+r*f),u[13]=-(b*n+a*k+g*f),u[14]=-(q*n+e*k+d*f),u[15]=1)}
(function(){function f(a,g,e){this.Gd=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.R=!!e;this.og=this.ff=!1;this.Ch=0;this.hh=1;this.ij=1E3;this.pq=(this.ij-this.hh)/32768;this.sh=Xb([0,0,100]);this.Pk=Xb([0,0,0]);this.km=Xb([0,1,0]);this.Qf=Xb([1,1,1]);this.Hn=!0;this.Gg=Yb();this.lb=Yb();this.ri=Yb();this.Bh=Yb();this.k=a;this.ok()}function m(a,g,e){this.k=a;this.If=g;this.name=e;this.tb=a.getAttribLocation(g,"aPos");this.ed=a.getAttribLocation(g,
"aTex");this.Nk=a.getUniformLocation(g,"matP");this.Cg=a.getUniformLocation(g,"matMV");this.qe=a.getUniformLocation(g,"opacity");this.wi=a.getUniformLocation(g,"colorFill");this.Ok=a.getUniformLocation(g,"samplerFront");this.sf=a.getUniformLocation(g,"samplerBack");this.Od=a.getUniformLocation(g,"destStart");this.Nd=a.getUniformLocation(g,"destEnd");this.uf=a.getUniformLocation(g,"seconds");this.yi=a.getUniformLocation(g,"pixelWidth");this.xi=a.getUniformLocation(g,"pixelHeight");this.rf=a.getUniformLocation(g,
"layerScale");this.qf=a.getUniformLocation(g,"layerAngle");this.vf=a.getUniformLocation(g,"viewOrigin");this.tf=a.getUniformLocation(g,"scrollPos");this.Zo=!!(this.yi||this.xi||this.uf||this.sf||this.Od||this.Nd||this.rf||this.qf||this.vf||this.tf);this.Xk=this.Yk=-999;this.Fg=1;this.Tk=this.Sk=0;this.Vk=this.Rk=this.Qk=1;this.al=this.$k=this.Zk=this.dl=this.cl=this.Uk=0;this.qi=[];this.Wk=Yb();this.qe&&a.uniform1f(this.qe,1);this.wi&&a.uniform4f(this.wi,1,1,1,1);this.Ok&&a.uniform1i(this.Ok,0);this.sf&&
a.uniform1i(this.sf,1);this.Od&&a.uniform2f(this.Od,0,0);this.Nd&&a.uniform2f(this.Nd,1,1);this.rf&&a.uniform1f(this.rf,1);this.qf&&a.uniform1f(this.qf,0);this.vf&&a.uniform2f(this.vf,0,0);this.tf&&a.uniform2f(this.tf,0,0);this.uf&&a.uniform1f(this.uf,0);this.Bd=!1}function q(a,g){return a[0]===g[0]&&a[1]===g[1]&&a[2]===g[2]&&a[3]===g[3]&&a[4]===g[4]&&a[5]===g[5]&&a[6]===g[6]&&a[7]===g[7]&&a[8]===g[8]&&a[9]===g[9]&&a[10]===g[10]&&a[11]===g[11]&&a[12]===g[12]&&a[13]===g[13]&&a[14]===g[14]&&a[15]===
g[15]}function u(a,g){this.type=a;this.n=g;this.k=g.k;this.ac=this.ia=this.rl=0;this.C=this.Ab=null;this.Ql=[]}var v=Yb();f.prototype.ok=function(){var a=this.k,g;this.Ek=1;this.Kd=this.Jd=null;this.Wf=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.R?(a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL)):a.disable(a.DEPTH_TEST);this.Gk=a.ONE;this.Ck=a.ONE_MINUS_SRC_ALPHA;
this.fh=new Float32Array(8E3*(this.R?3:2));this.Xg=new Float32Array(16E3);this.ul=new Float32Array(32E3);this.Fi=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Fi);a.bufferData(a.ARRAY_BUFFER,this.ul.byteLength,a.DYNAMIC_DRAW);this.Pf=Array(4);this.Lf=Array(4);for(g=0;4>g;g++)this.Pf[g]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Pf[g]),a.bufferData(a.ARRAY_BUFFER,this.fh.byteLength,a.DYNAMIC_DRAW),this.Lf[g]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Lf[g]),a.bufferData(a.ARRAY_BUFFER,
this.Xg.byteLength,a.DYNAMIC_DRAW);this.mc=0;this.bp=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.bp);for(var e=new Uint16Array(12E3),d=g=0;12E3>g;)e[g++]=d,e[g++]=d+1,e[g++]=d+2,e[g++]=d,e[g++]=d+2,e[g++]=d+3,d+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,e,a.STATIC_DRAW);this.Gi=this.Ee=this.Ic=0;this.ga=[];g=this.R?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";e=this.Qe({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},g,"<default>");this.ga.push(e);e=this.Qe({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.ga.push(e);e=this.Qe({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},g,"<earlyz>");this.ga.push(e);e=this.Qe({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
g,"<fill>");this.ga.push(e);for(var c in bc)bc.hasOwnProperty(c)&&this.ga.push(this.Qe(bc[c],g,c));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.Oc=[];this.lc=0;this.Ma=!1;this.Kj=this.mf=-1;this.ee=null;this.Kh=a.createFramebuffer();this.Yf=this.Lg=null;this.xj=!1;this.R&&(this.Yf=a.createRenderbuffer());this.kd=Xb([0,0,0]);this.el=a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1];2048<this.el&&(this.el=2048);this.Wa(0)};m.prototype.dj=function(a){q(this.Wk,a)||(Zb(a,this.Wk),this.k.uniformMatrix4fv(this.Cg,
!1,a))};f.prototype.Qe=function(a,g,e){var d=this.k,c=d.createShader(d.FRAGMENT_SHADER);d.shaderSource(c,a.src);d.compileShader(c);if(!d.getShaderParameter(c,d.COMPILE_STATUS))return d.deleteShader(c),null;var n=d.createShader(d.VERTEX_SHADER);d.shaderSource(n,g);d.compileShader(n);if(!d.getShaderParameter(n,d.COMPILE_STATUS))return d.deleteShader(c),d.deleteShader(n),null;g=d.createProgram();d.attachShader(g,c);d.attachShader(g,n);d.linkProgram(g);if(!d.getProgramParameter(g,d.LINK_STATUS))return d.deleteShader(c),
d.deleteShader(n),d.deleteProgram(g),null;d.useProgram(g);d.deleteShader(c);d.deleteShader(n);e=new m(d,g,e);e.Ih=a.Ih||0;e.Jh=a.Jh||0;e.Jj=!!a.Jj;e.Nb=!!a.Nb;e.sj=!!a.sj;e.D=a.D||[];a=0;for(c=e.D.length;a<c;a++)e.D[a][1]=d.getUniformLocation(g,e.D[a][0]),e.qi.push(0),d.uniform1f(e.D[a][1],0);return e};f.prototype.Xh=function(a){var g,e;g=0;for(e=this.ga.length;g<e;g++)if(this.ga[g].name===a)return g;return-1};f.prototype.yl=function(a,g,e){var d=this.lb,c=this.Gg,n=[0,0,0,0,0,0,0,0];n[0]=d[0]*a+
d[4]*g+d[12];n[1]=d[1]*a+d[5]*g+d[13];n[2]=d[2]*a+d[6]*g+d[14];n[3]=d[3]*a+d[7]*g+d[15];n[4]=c[0]*n[0]+c[4]*n[1]+c[8]*n[2]+c[12]*n[3];n[5]=c[1]*n[0]+c[5]*n[1]+c[9]*n[2]+c[13]*n[3];n[6]=c[2]*n[0]+c[6]*n[1]+c[10]*n[2]+c[14]*n[3];n[7]=-n[2];0!==n[7]&&(n[7]=1/n[7],n[4]*=n[7],n[5]*=n[7],n[6]*=n[7],e[0]=(.5*n[4]+.5)*this.width,e[1]=(.5*n[5]+.5)*this.height)};f.prototype.Rd=function(a,g,e){if(this.width!==a||this.height!==g||e){this.wd();e=this.k;this.width=a;this.height=g;e.viewport(0,0,a,g);ac(this.sh,
this.Pk,this.km,this.lb);if(this.R){var d=-a/2;a=a/2;var c=g/2;g=-g/2;var n=this.hh,k=this.ij,b=this.Gg;b||(b=Yb());var f=a-d,m=g-c,l=k-n;b[0]=2/f;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=2/m;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=-2/l;b[11]=0;b[12]=-(d+a)/f;b[13]=-(g+c)/m;b[14]=-(k+n)/l;b[15]=1;this.Qf[0]=1;this.Qf[1]=1}else g=a/g,d=this.hh,a=this.ij,b=this.Gg,k=d*Math.tan(45*Math.PI/360),g*=k,c=-g,n=-k,b||(b=Yb()),f=g-c,m=k-n,l=a-d,b[0]=2*d/f,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=2*d/m,b[6]=0,b[7]=0,b[8]=(g+c)/f,
b[9]=(k+n)/m,b[10]=-(a+d)/l,b[11]=-1,b[12]=0,b[13]=0,b[14]=-(a*d*2)/l,b[15]=0,d=[0,0],a=[0,0],this.yl(0,0,d),this.yl(1,1,a),this.Qf[0]=1/(a[0]-d[0]),this.Qf[1]=-1/(a[1]-d[1]);d=0;for(a=this.ga.length;d<a;d++)c=this.ga[d],c.Bd=!1,c.Nk&&(e.useProgram(c.If),e.uniformMatrix4fv(c.Nk,!1,this.Gg));e.useProgram(this.ga[this.mf].If);e.bindTexture(e.TEXTURE_2D,null);e.activeTexture(e.TEXTURE1);e.bindTexture(e.TEXTURE_2D,null);e.activeTexture(e.TEXTURE0);this.Kd=this.Jd=null;this.Yf&&(e.bindFramebuffer(e.FRAMEBUFFER,
this.Kh),e.bindRenderbuffer(e.RENDERBUFFER,this.Yf),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,this.width,this.height),this.xj||(e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,this.Yf),this.xj=!0),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),this.Lg=null)}};f.prototype.wb=function(){ac(this.sh,this.Pk,this.km,this.lb);$b(this.lb,this.Qf)};f.prototype.translate=function(a,b){if(0!==a||0!==b){this.kd[0]=a;this.kd[1]=b;this.kd[2]=
0;var e=this.lb,d=this.kd,c=d[0],n=d[1],d=d[2];e[12]=e[0]*c+e[4]*n+e[8]*d+e[12];e[13]=e[1]*c+e[5]*n+e[9]*d+e[13];e[14]=e[2]*c+e[6]*n+e[10]*d+e[14];e[15]=e[3]*c+e[7]*n+e[11]*d+e[15]}};f.prototype.scale=function(a,b){if(1!==a||1!==b)this.kd[0]=a,this.kd[1]=b,this.kd[2]=1,$b(this.lb,this.kd)};f.prototype.Og=function(a){if(0!==a){var b=this.lb,e,d=Math.sin(a);a=Math.cos(a);var c=b[0],n=b[1],k=b[2],f=b[3],m=b[4],r=b[5],l=b[6],t=b[7];e?b!==e&&(e[8]=b[8],e[9]=b[9],e[10]=b[10],e[11]=b[11],e[12]=b[12],e[13]=
b[13],e[14]=b[14],e[15]=b[15]):e=b;e[0]=c*a+m*d;e[1]=n*a+r*d;e[2]=k*a+l*d;e[3]=f*a+t*d;e[4]=c*-d+m*a;e[5]=n*-d+r*a;e[6]=k*-d+l*a;e[7]=f*-d+t*a}};f.prototype.ob=function(){if(!q(this.ri,this.lb)){var a=this.bb();a.type=5;a.C?Zb(this.lb,a.C):a.C=Yb(this.lb);Zb(this.lb,this.ri);this.Ma=!1}};f.prototype.Qg=function(a){this.R&&(32760<a&&(a=32760),this.Ch=this.sh[2]-this.hh-a*this.pq)};u.prototype.nn=function(){var a=this.k,b=this.n;0!==this.ia?(a.depthMask(!0),a.colorMask(!1,!1,!1,!1),a.disable(a.BLEND),
a.bindFramebuffer(a.FRAMEBUFFER,b.Kh),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.clear(a.DEPTH_BUFFER_BIT),a.bindFramebuffer(a.FRAMEBUFFER,null),b.og=!0):(a.depthMask(!1),a.colorMask(!0,!0,!0,!0),a.enable(a.BLEND),b.og=!1)};u.prototype.sn=function(){this.k.bindTexture(this.k.TEXTURE_2D,this.Ab)};u.prototype.tn=function(){var a=this.k;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.Ab);a.activeTexture(a.TEXTURE0)};u.prototype.pn=function(){var a=this.rl,
b=this.n;b.Wf=a;b=b.ee;b.qe&&b.Fg!==a&&(b.Fg=a,this.k.uniform1f(b.qe,a))};u.prototype.hn=function(){this.k.drawElements(this.k.TRIANGLES,this.ac,this.k.UNSIGNED_SHORT,this.ia)};u.prototype.kn=function(){this.k.blendFunc(this.ia,this.ac)};u.prototype.un=function(){var a,b,e,d=this.n.ga,c=this.n.Kj;a=0;for(b=d.length;a<b;a++)e=d[a],a===c&&e.Cg?(e.dj(this.C),e.Bd=!0):e.Bd=!1;Zb(this.C,this.n.Bh)};u.prototype.jn=function(){var a=this.k,b=this.n;this.Ab?(b.Kd===this.Ab&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,
null),b.Kd=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,b.Kh),b.og||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.Ab,0)):(b.R||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};u.prototype.en=function(){var a=this.k,b=this.ia;0===b?(a.clearColor(this.C[0],this.C[1],this.C[2],this.C[3]),a.clear(a.COLOR_BUFFER_BIT)):1===b?(a.enable(a.SCISSOR_TEST),a.scissor(this.C[0],this.C[1],this.C[2],
this.C[3]),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST)):a.clear(a.DEPTH_BUFFER_BIT)};u.prototype.mn=function(){var a=this.k;0!==this.ia?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)};u.prototype.gn=function(){var a=this.k,b=this.n;b.R&&a.disable(a.DEPTH_TEST);var e=b.ga[1];a.useProgram(e.If);!e.Bd&&e.Cg&&(e.dj(b.Bh),e.Bd=!0);a.enableVertexAttribArray(e.tb);a.bindBuffer(a.ARRAY_BUFFER,b.Fi);a.vertexAttribPointer(e.tb,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.ia/
4,this.ac);e=b.ee;a.useProgram(e.If);0<=e.tb&&(a.enableVertexAttribArray(e.tb),a.bindBuffer(a.ARRAY_BUFFER,b.Pf[b.mc]),a.vertexAttribPointer(e.tb,b.R?3:2,a.FLOAT,!1,0,0));0<=e.ed&&(a.enableVertexAttribArray(e.ed),a.bindBuffer(a.ARRAY_BUFFER,b.Lf[b.mc]),a.vertexAttribPointer(e.ed,2,a.FLOAT,!1,0,0));b.R&&a.enable(a.DEPTH_TEST)};u.prototype.qn=function(){var a=this.k,b=this.n,e=b.ga[this.ia];b.Kj=this.ia;b.ee=e;a.useProgram(e.If);!e.Bd&&e.Cg&&(e.dj(b.Bh),e.Bd=!0);e.qe&&e.Fg!==b.Wf&&(e.Fg=b.Wf,a.uniform1f(e.qe,
b.Wf));0<=e.tb&&(a.enableVertexAttribArray(e.tb),a.bindBuffer(a.ARRAY_BUFFER,b.Pf[b.mc]),a.vertexAttribPointer(e.tb,b.R?3:2,a.FLOAT,!1,0,0));0<=e.ed&&(a.enableVertexAttribArray(e.ed),a.bindBuffer(a.ARRAY_BUFFER,b.Lf[b.mc]),a.vertexAttribPointer(e.ed,2,a.FLOAT,!1,0,0))};u.prototype.ln=function(){var a=this.C;this.k.uniform4f(this.n.ee.wi,a[0],a[1],a[2],a[3])};u.prototype.rn=function(){var a,b,e=this.n.ee,d=this.k;a=this.C;e.sf&&this.n.Kd!==this.Ab&&(d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,
this.Ab),this.n.Kd=this.Ab,d.activeTexture(d.TEXTURE0));var c=a[0];e.yi&&c!==e.Yk&&(e.Yk=c,d.uniform1f(e.yi,c));c=a[1];e.xi&&c!==e.Xk&&(e.Xk=c,d.uniform1f(e.xi,c));c=a[2];b=a[3];!e.Od||c===e.Sk&&b===e.Tk||(e.Sk=c,e.Tk=b,d.uniform2f(e.Od,c,b));c=a[4];b=a[5];!e.Nd||c===e.Qk&&b===e.Rk||(e.Qk=c,e.Rk=b,d.uniform2f(e.Nd,c,b));c=a[6];e.rf&&c!==e.Vk&&(e.Vk=c,d.uniform1f(e.rf,c));c=a[7];e.qf&&c!==e.Uk&&(e.Uk=c,d.uniform1f(e.qf,c));c=a[8];b=a[9];!e.vf||c===e.cl&&b===e.dl||(e.cl=c,e.dl=b,d.uniform2f(e.vf,c,
b));c=a[10];b=a[11];!e.tf||c===e.Zk&&b===e.$k||(e.Zk=c,e.$k=b,d.uniform2f(e.tf,c,b));c=a[12];e.uf&&c!==e.al&&(e.al=c,d.uniform1f(e.uf,c));if(e.D.length)for(a=0,b=e.D.length;a<b;a++)c=this.Ql[a],c!==e.qi[a]&&(e.qi[a]=c,d.uniform1f(e.D[a][1],c))};f.prototype.bb=function(){this.lc===this.Oc.length&&this.Oc.push(new u(0,this));return this.Oc[this.lc++]};f.prototype.wd=function(){if(0!==this.lc&&!this.k.isContextLost()){var a=this.k;0<this.Gi&&(a.bindBuffer(a.ARRAY_BUFFER,this.Fi),a.bufferSubData(a.ARRAY_BUFFER,
0,this.ul.subarray(0,this.Gi)),b&&0<=b.tb&&"<point>"===b.name&&a.vertexAttribPointer(b.tb,4,a.FLOAT,!1,0,0));if(0<this.Ic){var b=this.ee;a.bindBuffer(a.ARRAY_BUFFER,this.Pf[this.mc]);a.bufferSubData(a.ARRAY_BUFFER,0,this.fh.subarray(0,this.Ic));b&&0<=b.tb&&"<point>"!==b.name&&a.vertexAttribPointer(b.tb,this.R?3:2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Lf[this.mc]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Xg.subarray(0,this.Ee));b&&0<=b.ed&&"<point>"!==b.name&&a.vertexAttribPointer(b.ed,2,a.FLOAT,
!1,0,0)}for(var e,a=0,b=this.lc;a<b;a++)switch(e=this.Oc[a],e.type){case 1:e.hn();break;case 2:e.sn();break;case 3:e.pn();break;case 4:e.kn();break;case 5:e.un();break;case 6:e.jn();break;case 7:e.en();break;case 8:e.gn();break;case 9:e.qn();break;case 10:e.rn();break;case 11:e.tn();break;case 12:e.ln();break;case 13:e.mn();break;case 14:e.nn()}this.Gi=this.Ee=this.Ic=this.lc=0;this.og=this.Ma=!1;this.mc++;4<=this.mc&&(this.mc=0)}};f.prototype.Gf=function(a){if(a!==this.Ek&&!this.ff){var b=this.bb();
b.type=3;this.Ek=b.rl=a;this.Ma=!1}};f.prototype.yb=function(a){if(a!==this.Jd){var b=this.bb();b.type=2;this.Jd=b.Ab=a;this.Ma=!1}};f.prototype.hd=function(a,b){if((a!==this.Gk||b!==this.Ck)&&!this.ff){var e=this.bb();e.type=4;e.ia=a;e.ac=b;this.Gk=a;this.Ck=b;this.Ma=!1}};f.prototype.Jl=function(){this.hd(this.k.ONE,this.k.ONE_MINUS_SRC_ALPHA)};f.prototype.Mi=function(a,b,e,d,c,n,k,f){15992<=this.Ic&&this.wd();var m=this.Ic,r=this.Ee,l=this.fh,t=this.Xg,O=this.Ch;if(this.Ma)this.Oc[this.lc-1].ac+=
6;else{var q=this.bb();q.type=1;q.ia=this.R?m:m/2*3;q.ac=6;this.Ma=!0}this.R?(l[m++]=a,l[m++]=b,l[m++]=O,l[m++]=e,l[m++]=d,l[m++]=O,l[m++]=c,l[m++]=n,l[m++]=O,l[m++]=k,l[m++]=f,l[m++]=O):(l[m++]=a,l[m++]=b,l[m++]=e,l[m++]=d,l[m++]=c,l[m++]=n,l[m++]=k,l[m++]=f);t[r++]=0;t[r++]=0;t[r++]=1;t[r++]=0;t[r++]=1;t[r++]=1;t[r++]=0;t[r++]=1;this.Ic=m;this.Ee=r};f.prototype.ye=function(a,b,e,d,c,n,k,f,m){15992<=this.Ic&&this.wd();var r=this.Ic,l=this.Ee,t=this.fh,O=this.Xg,q=this.Ch;if(this.Ma)this.Oc[this.lc-
1].ac+=6;else{var u=this.bb();u.type=1;u.ia=this.R?r:r/2*3;u.ac=6;this.Ma=!0}var u=m.left,B=m.top,v=m.right;m=m.bottom;this.R?(t[r++]=a,t[r++]=b,t[r++]=q,t[r++]=e,t[r++]=d,t[r++]=q,t[r++]=c,t[r++]=n,t[r++]=q,t[r++]=k,t[r++]=f,t[r++]=q):(t[r++]=a,t[r++]=b,t[r++]=e,t[r++]=d,t[r++]=c,t[r++]=n,t[r++]=k,t[r++]=f);O[l++]=u;O[l++]=B;O[l++]=v;O[l++]=B;O[l++]=v;O[l++]=m;O[l++]=u;O[l++]=m;this.Ic=r;this.Ee=l};f.prototype.Wa=function(a){if(this.mf!==a){if(!this.ga[a]){if(0===this.mf)return;a=0}var b=this.bb();
b.type=9;this.mf=b.ia=a;this.Ma=!1}};f.prototype.Ef=function(a){a=this.ga[a];return!(!a.Od&&!a.Nd)};f.prototype.Ii=function(a){a=this.ga[a];return!!(a.Od||a.Nd||a.Jj)};f.prototype.Hi=function(a){return this.ga[a].Nb};f.prototype.Ep=function(a){a=this.ga[a];return 0!==a.Ih||0!==a.Jh};f.prototype.Go=function(a){return this.ga[a].Ih};f.prototype.Ho=function(a){return this.ga[a].Jh};f.prototype.Io=function(a,b){return this.ga[a].D[b][2]};f.prototype.Jg=function(a){return this.ga[a].sj};f.prototype.Ce=
function(a,b,e,d,c,n,k,f,m,r,l,t,O,q,u){var B=this.ga[this.mf],v,w;if(B.Zo||u.length){v=this.bb();v.type=10;v.C?Zb(this.lb,v.C):v.C=Yb();w=v.C;w[0]=b;w[1]=e;w[2]=d;w[3]=c;w[4]=n;w[5]=k;w[6]=f;w[7]=m;w[8]=r;w[9]=l;w[10]=t;w[11]=O;w[12]=q;B.sf?v.Ab=a:v.Ab=null;if(u.length)for(e=v.Ql,e.length=u.length,a=0,b=u.length;a<b;a++)e[a]=u[a];this.Ma=!1}};f.prototype.clear=function(a,b,e,d){var c=this.bb();c.type=7;c.ia=0;c.C||(c.C=Yb());c.C[0]=a;c.C[1]=b;c.C[2]=e;c.C[3]=d;this.Ma=!1};f.prototype.clearRect=function(a,
b,e,d){if(!(0>e||0>d)){var c=this.bb();c.type=7;c.ia=1;c.C||(c.C=Yb());c.C[0]=a;c.C[1]=b;c.C[2]=e;c.C[3]=d;this.Ma=!1}};f.prototype.Ml=function(a){if(this.R&&(a=!!a,this.ff!==a)){var b=this.bb();b.type=14;b.ia=a?1:0;this.Ma=!1;this.ff=a;this.Lg=null;this.ff?this.Wa(2):this.Wa(0)}};f.prototype.Ll=function(a){if(this.R){var b=this.bb();b.type=13;b.ia=a?1:0;this.Ma=!1}};f.prototype.Yj=function(){Zb(this.ri,v);this.wb();this.ob();var a=this.width/2,b=this.height/2;this.Mi(-a,b,a,b,a,-b,-a,-b);Zb(v,this.lb);
this.ob()};f.prototype.Kl=function(a,b,e){this.Wa(3);var d=this.bb();d.type=12;d.C||(d.C=Yb());d.C[0]=a;d.C[1]=b;d.C[2]=e;d.C[3]=1;this.Ma=!1};f.prototype.Up=function(){this.Wa(0)};f.prototype.Hp=function(){this.Wa(2)};f.prototype.Dp=function(){this.wd();this.k.flush()};var r=[],b={};f.prototype.$m=function(){S(r);b={}};f.prototype.hb=function(a,b,e,d){this.wd();var c=this.k;this.Gd&&(d=!1);var n=c.createTexture();c.bindTexture(c.TEXTURE_2D,n);c.texImage2D(c.TEXTURE_2D,0,c.RGBA,a,b,0,c.RGBA,d?c.UNSIGNED_SHORT_4_4_4_4:
c.UNSIGNED_BYTE,null);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,e?c.LINEAR:c.NEAREST);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,e?c.LINEAR:c.NEAREST);c.bindTexture(c.TEXTURE_2D,null);this.Jd=null;n.de=a;n.be=b;r.push(n);return n};f.prototype.nq=function(a,b,e){this.wd();var d=this.k;this.Gd&&(e=!1);d.bindTexture(d.TEXTURE_2D,b);d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
!0);try{d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,e?d.UNSIGNED_SHORT_4_4_4_4:d.UNSIGNED_BYTE,a)}catch(c){console&&console.error&&console.error("Error updating WebGL texture: ",c)}d.bindTexture(d.TEXTURE_2D,null);this.Jd=null};f.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.Ej&&1<a.Ej?a.Ej--:(this.wd(),a===this.Jd&&(this.k.bindTexture(this.k.TEXTURE_2D,null),this.Jd=null),a===this.Kd&&(this.k.activeTexture(this.k.TEXTURE1),this.k.bindTexture(this.k.TEXTURE_2D,null),this.k.activeTexture(this.k.TEXTURE0),
this.Kd=null),Ca(r,a),"undefined"!==typeof a.Xm&&delete b[a.Xm],this.k.deleteTexture(a)))};f.prototype.xb=function(a){if(a!==this.Lg){var b=this.bb();b.type=6;this.Lg=b.Ab=a;this.Ma=!1}};fb=f})();
(function(){function f(h){if(h&&(h.getContext||h.dc)&&!h.c2runtime){h.c2runtime=this;var a=this;this.sc=(this.pg=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.Fd=!!h.dc;this.dp="undefined"!==typeof window.AppMobi||
this.Fd;this.Kb=!!window.c2cocoonjs;this.cc=!!window.c2ejecta;this.Kb&&(CocoonJS.App.onSuspended.addEventListener(function(){a.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){a.setSuspended(!1)}));this.cc&&(document.addEventListener("pagehide",function(){a.setSuspended(!0)}),document.addEventListener("pageshow",function(){a.setSuspended(!1)}),document.addEventListener("resize",function(){a.setSize(window.innerWidth,window.innerHeight)}));this.ta=this.Fd||this.Kb||this.cc;this.rg=
/edge\//i.test(navigator.userAgent);this.Gd=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.rg;this.vk=/tizen/i.test(navigator.userAgent);this.tk=/android/i.test(navigator.userAgent)&&!this.vk&&!this.Gd&&!this.rg;this.Ak=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.Gd&&!this.rg;this.jp=/ipad/i.test(navigator.userAgent);this.pi=this.Ak||this.jp||this.cc;this.hi=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.Gd&&!this.rg;this.sk=/amazonwebappplatform/i.test(navigator.userAgent);this.fp=/firefox/i.test(navigator.userAgent);this.ad="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.yk=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.hp=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.ie=!("undefined"===
typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.ni=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.xk=!!window.cr_windows10;this.wk=this.yk||this.hp||this.ni||this.xk;this.ep=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.uk=this.tk&&!this.hi&&!this.pg&&!this.fp&&!this.sk&&!this.ta;this.devicePixelRatio=1;this.Hd=this.sc||this.pg||this.dp||this.Kb||this.tk||this.pi||this.ie||this.ni||this.ep||this.vk||this.cc;this.Hd||
(this.Hd=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.mi=!!(this.pi&&this.sc&&window.indexedDB);this.bi=null;this.$o="";this.mi&&(this.bi=cordova&&cordova.plugins&&cordova.plugins.CorHttpd?cordova.plugins.CorHttpd:null);"undefined"===typeof cr_is_preview||this.ad||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||(this.ad=!0);this.canvas=h;this.Sf=document.getElementById("c2canvasdiv");
this.n=this.k=null;this.Zh="(unavailable)";this.R=!1;this.ud=0;this.M=null;this.Nh="";this.dg=!1;this.ol=this.pl=0;this.canvas.oncontextmenu=function(h){h.preventDefault&&h.preventDefault();return!1};this.canvas.onselectstart=function(h){h.preventDefault&&h.preventDefault();return!1};this.Fd&&(window.c2runtime=this);this.ad&&(window.ondragover=function(h){h.preventDefault();return!1},window.ondrop=function(h){h.preventDefault();return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());
this.uk&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=h.width;this.height=h.height;this.r=this.width;this.q=this.height;this.Vf=this.width;this.Se=this.height;this.ne=window.innerWidth;this.me=window.innerHeight;this.ro=!1;this.W=!0;this.jf=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.j=[];this.da=[];this.ti={};this.Lb=[];this.Hh={};this.oc=[];this.qm=[];this.ah=[];this.Om=[];this.Pm=[];this.td={};this.ji=
this.$c=!1;this.uc=0;this.ii=this.li=!1;this.Ub=[];this.gf=!1;this.vc=this.Na=this.zg=this.Ui="";this.Kf=this.Ul=!1;this.bg=[];this.Xc=this.fe=0;this.gl=30;this.Ah=this.wf=0;this.Mf=1;this.sb=new Wa;this.gh=new Wa;this.Ig=this.fg=this.$f=this.Ec=this.Md=this.Mh=this.wg=0;this.xh=null;this.Mj=[];this.Gh=[];this.Zf=-1;this.Ai=[[]];this.$i=this.Dg=0;this.Ki(null);this.Ye=this.kl=this.zf=0;this.Vg=[];this.Xi=this.Ni=-1;this.vg=!0;this.Bg=0;this.hf=!1;this.Zp=0;this.Ne=null;this.qg=!1;this.ml=new ba;this.Ci=
new ba;this.nl=new ba;this.Dl=[];new Ya([]);new Ya([]);this.Zd=[];this.kg={};this.Vc={};this.Nc={};this.He={};this.Cj={};this.Mk=this.yg=this.la=this.oa=this.Lk=this.xg=this.P=null;this.Fe=this.oi=!1;this.Oh=[null,null];this.Ad=0;this.yc={};this.Jf=this.cd=null;this.Vl="";this.Hg=[];this.Gp()}}function m(h,a){return 128>=a?h[3]:256>=a?h[2]:512>=a?h[1]:h[0]}function q(){try{return!!window.indexedDB}catch(h){return!1}}function u(h){h.target.result.createObjectStore("saves",{keyPath:"slot"})}function v(h,
a,d,c){try{var b=indexedDB.open("_C2SaveStates");b.onupgradeneeded=u;b.onerror=c;b.onsuccess=function(b){b=b.target.result;b.onerror=c;b.transaction(["saves"],"readwrite").objectStore("saves").put({slot:h,data:a}).onsuccess=d}}catch(k){c(k)}}function r(h,a,d){try{var c=indexedDB.open("_C2SaveStates");c.onupgradeneeded=u;c.onerror=d;c.onsuccess=function(c){c=c.target.result;c.onerror=d;var b=c.transaction(["saves"]).objectStore("saves").get(h);b.onsuccess=function(){b.result?a(b.result.data):a(null)}}}catch(b){d(b)}}
function b(){y("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function a(h){var a,d={};for(a in h)!h.hasOwnProperty(a)||h[a]instanceof ba||h[a]&&"undefined"!==typeof h[a].Er||"spriteCreatedDestroyCallback"!==a&&(d[a]=h[a]);return d}var g=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||
window.oRequestAnimationFrame;f.prototype.Gp=function(){var h=this;if(this.mi)this.bi?this.bi.startServer({port:0,localhost_only:!0},function(a){h.$o=a;h.Tj(function(a){h.pe(JSON.parse(a))},function(){alert("Error fetching data.js")})},function(h){alert("error starting local server: "+h)}):this.Tj(function(a){h.pe(JSON.parse(a))},function(){alert("Error fetching data.js")});else{var a;this.ie?a=new ActiveXObject("Microsoft.XMLHTTP"):a=new XMLHttpRequest;var d="data.js";if(this.yk||this.ie||this.ni||
this.xk)d="data.json";a.open("GET",d,!0);var c=!1;if(!this.ta&&"response"in a&&"responseType"in a)try{a.responseType="json",c="json"===a.responseType}catch(b){c=!1}if(!c&&"responseType"in a)try{a.responseType="text"}catch(k){}if("overrideMimeType"in a)try{a.overrideMimeType("application/json; charset=utf-8")}catch(l){}this.ie?a.onreadystatechange=function(){4===a.readyState&&h.pe(JSON.parse(a.responseText))}:(a.onload=function(){if(c)h.pe(a.response);else if(h.cc){var d=a.responseText,d=d.substr(d.indexOf("{"));
h.pe(JSON.parse(d))}else h.pe(JSON.parse(a.responseText))},a.onerror=function(h){fa("Error requesting "+d+":");fa(h)});a.send()}};f.prototype.cp=function(){var h=this,a,d,c,b,k,l,p,e,n;this.Id=(!this.ta||this.cc||this.sc)&&this.lq&&!this.uk;0===this.Za&&this.pi&&(this.Id=!1);this.devicePixelRatio=this.Id?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.Ia();d=!(!this.ro&&(!this.lh||this.ad||this.wk||this.ie||this.pg||this.sc||
this.sk));0<this.Za&&this.setSize(window.innerWidth,window.innerHeight,!0);try{this.Oj&&(this.Kb||this.cc||!this.ta)&&(a={alpha:d,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.k=this.canvas.getContext("webgl",a)||this.canvas.getContext("experimental-webgl",a))}catch(t){}if(this.k){if(a=this.k.getExtension("WEBGL_debug_renderer_info"))this.Zh=this.k.getParameter(a.UNMASKED_RENDERER_WEBGL)+" ["+this.k.getParameter(a.UNMASKED_VENDOR_WEBGL)+"]";this.R&&(this.Zh+=" [front-to-back enabled]");
this.ta||(this.Ea=document.createElement("canvas"),jQuery(this.Ea).appendTo(this.canvas.parentNode),this.Ea.oncontextmenu=function(){return!1},this.Ea.onselectstart=function(){return!1},this.Ea.width=Math.round(this.Vf*this.devicePixelRatio),this.Ea.height=Math.round(this.Se*this.devicePixelRatio),jQuery(this.Ea).css({width:this.Vf+"px",height:this.Se+"px"}),this.xl(),this.Ei=this.Ea.getContext("2d"));this.n=new fb(this.k,this.Hd,this.R);this.n.Rd(this.canvas.width,this.canvas.height);this.n.Hn=0!==
this.vn;this.M=null;this.canvas.addEventListener("webglcontextlost",function(a){a.preventDefault();h.rp();y("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){h.n.ok();h.n.Rd(h.n.width,h.n.height,!0);h.oa=null;h.la=null;h.Oh[0]=null;h.Oh[1]=null;h.sp();h.W=!0;y("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);a=0;for(d=this.j.length;a<d;a++)for(k=this.j[a],c=0,b=k.A.length;c<b;c++)p=k.A[c],p.ma=
this.n.Xh(p.id),p.Nb=this.n.Hi(p.ma),this.Fe=this.Fe||this.n.Ef(p.ma);a=0;for(d=this.Lb.length;a<d;a++){e=this.Lb[a];c=0;for(b=e.A.length;c<b;c++)p=e.A[c],p.ma=this.n.Xh(p.id),p.Nb=this.n.Hi(p.ma);e.Rb();c=0;for(b=e.B.length;c<b;c++){n=e.B[c];k=0;for(l=n.A.length;k<l;k++)p=n.A[k],p.ma=this.n.Xh(p.id),p.Nb=this.n.Hi(p.ma),this.Fe=this.Fe||this.n.Ef(p.ma);n.Rb()}}}else{if(0<this.Za&&this.Fd){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.M=
AppMobi.canvas.getContext("2d");try{this.M.samplingMode=this.I?"smooth":"sharp",this.M.globalScale=1,this.M.HTML5CompatibilityMode=!0,this.M.imageSmoothingEnabled=this.I}catch(f){}0!==this.width&&0!==this.height&&(this.M.width=this.width,this.M.height=this.height)}this.M||(this.Kb?(a={antialias:!!this.I,alpha:d},this.M=this.canvas.getContext("2d",a)):(a={alpha:d},this.M=this.canvas.getContext("2d",a)),this.M.webkitImageSmoothingEnabled=this.I,this.M.mozImageSmoothingEnabled=this.I,this.M.msImageSmoothingEnabled=
this.I,this.M.imageSmoothingEnabled=this.I);this.Ei=this.Ea=null}this.cm=function(a){h.Td(!1,a)};window==window.top||this.ta||this.wk||this.ie||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.Kb&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(y("Reloading for continuous preview"),this.zg="__c2_continuouspreview",
this.Kf=!0),this.vp&&!this.Hd&&(jQuery(window).focus(function(){h.setSuspended(!1)}),jQuery(window).blur(function(){h.setSuspended(!0)})));window.addEventListener("blur",function(){});this.ta||(a=function(h){if(eb(h)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(a){}},window.navigator.pointerEnabled?document.addEventListener("pointerdown",a):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",
a):document.addEventListener("touchstart",a),document.addEventListener("mousedown",a));0===this.Za&&this.Id&&1<this.devicePixelRatio&&this.setSize(this.qa,this.pa,!0);this.hm();this.Wo();this.go();this.X={}};f.prototype.setSize=function(h,a,d){var c=0,b=0,k=0,l=0,l=0;if(this.ne!==h||this.me!==a||d){this.ne=h;this.me=a;var p=this.Za,e=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.hf)&&!this.sc;if(e||0!==this.Za||d)e&&0<this.Ad&&(p=this.Ad),
d=this.devicePixelRatio,4<=p?(k=this.qa/this.pa,h/a>k?(k*=a,5===p?(l=k*d/this.qa,1<l?l=Math.floor(l):1>l&&(l=1/Math.ceil(1/l)),k=this.qa*l/d,l=this.pa*l/d,c=(h-k)/2,b=(a-l)/2,h=k,a=l):(c=(h-k)/2,h=k)):(l=h/k,5===p?(l=l*d/this.pa,1<l?l=Math.floor(l):1>l&&(l=1/Math.ceil(1/l)),k=this.qa*l/d,l=this.pa*l/d,c=(h-k)/2,b=(a-l)/2,h=k):b=(a-l)/2,a=l),e&&!this.ad&&(b=c=0)):this.ad&&this.hf&&0===this.Zj&&(c=Math.floor((h-this.qa)/2),b=Math.floor((a-this.pa)/2),h=this.qa,a=this.pa),2>p&&(this.Me=d),this.Vf=Math.round(h),
this.Se=Math.round(a),this.width=Math.round(h*d),this.height=Math.round(a*d),this.W=!0,this.rm?(this.r=this.width,this.q=this.height,this.ib=!0):this.width<this.qa&&this.height<this.pa||1===p?(this.r=this.width,this.q=this.height,this.ib=!0):(this.r=this.qa,this.q=this.pa,this.ib=!1,2===p?(k=this.qa/this.pa,p=this.ne/this.me,p<k?this.r=this.q*p:p>k&&(this.q=this.r/p)):3===p&&(k=this.qa/this.pa,p=this.ne/this.me,p>k?this.r=this.q*p:p<k&&(this.q=this.r/p))),this.Sf&&!this.ta&&(jQuery(this.Sf).css({width:Math.round(h)+
"px",height:Math.round(a)+"px","margin-left":Math.floor(c)+"px","margin-top":Math.floor(b)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(h)+"px",height:Math.round(a)+"px"})),this.canvas&&(this.canvas.width=Math.round(h*d),this.canvas.height=Math.round(a*d),this.cc?(this.canvas.style.left=Math.floor(c)+"px",this.canvas.style.top=Math.floor(b)+"px",this.canvas.style.width=Math.round(h)+"px",this.canvas.style.height=Math.round(a)+"px"):this.Id&&!this.ta&&(this.canvas.style.width=
Math.round(h)+"px",this.canvas.style.height=Math.round(a)+"px")),this.Ea&&(this.Ea.width=Math.round(h*d),this.Ea.height=Math.round(a*d),this.Ea.style.width=this.Vf+"px",this.Ea.style.height=this.Se+"px"),this.n&&this.n.Rd(Math.round(h*d),Math.round(a*d)),this.Fd&&this.M&&(this.M.width=Math.round(h),this.M.height=Math.round(a)),this.M&&(this.M.webkitImageSmoothingEnabled=this.I,this.M.mozImageSmoothingEnabled=this.I,this.M.msImageSmoothingEnabled=this.I,this.M.imageSmoothingEnabled=this.I),this.hm(),
this.Ak&&!this.sc&&window.scrollTo(0,0)}};f.prototype.hm=function(){if(this.Tm&&0!==this.Di){var h="portrait";2===this.Di&&(h="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(h):screen.lockOrientation?screen.lockOrientation(h):screen.webkitLockOrientation?screen.webkitLockOrientation(h):screen.mozLockOrientation?screen.mozLockOrientation(h):screen.msLockOrientation&&screen.msLockOrientation(h)}catch(a){console&&console.warn&&console.warn("Failed to lock orientation: ",
a)}}};f.prototype.rp=function(){this.n.$m();this.oi=!0;var h,a,d;h=0;for(a=this.j.length;h<a;h++)d=this.j[h],d.ql&&d.ql()};f.prototype.sp=function(){this.oi=!1;var a,d,c;a=0;for(d=this.j.length;a<d;a++)c=this.j[a],c.tp&&c.tp()};f.prototype.xl=function(){if(!this.ta){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.hf)&&!this.sc?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.Ea).css(a)}};
var e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;f.prototype.setSuspended=function(a){var d;if(a&&!this.jf)for(y("[Construct 2] Suspending"),this.jf=!0,-1!==this.Ni&&e&&e(this.Ni),-1!==this.Xi&&clearTimeout(this.Xi),a=0,d=this.Vg.length;a<d;a++)this.Vg[a](!0);else if(!a&&this.jf){y("[Construct 2] Resuming");this.jf=!1;this.wg=Sa();this.Md=Sa();a=this.wf=this.fg=0;for(d=this.Vg.length;a<
d;a++)this.Vg[a](!1);this.Td(!1)}};f.prototype.Kc=function(a){return this.Hg[a]};f.prototype.pe=function(a){a&&a.project||fa("Project model unavailable");a=a.project;this.name=a[0];this.Vj=a[1];this.Za=a[12];this.Zj=a[12];this.qa=a[10];this.pa=a[11];this.sl=this.qa/2;this.tl=this.pa/2;this.ta&&!this.cc&&(4<=a[12]||0===a[12])&&(y("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.Zj=this.Za=3);this.fj=a[18];this.dd=a[19];if(0===
this.dd){var d=new Image;d.crossOrigin="anonymous";this.Rp(d);this.cd={Eg:d}}else if(4===this.dd){d=new Image;d.src="";var c=new Image;c.src="";var b=new Image;b.src="";var k=new Image;k.src="";var l=new Image;l.src="";var e=new Image;e.src="";var p=new Image;p.src="";var n=new Image;n.src="";var t=new Image;t.src="";var f=new Image;f.src="";var m=new Image;m.src="";var x=new Image;x.src="";this.cd={Eg:[d,c,b,k],zp:[l,e,p,n],oq:[t,f,m,x]}}this.zf=a[21];this.Hg=cc();this.jc=new Z(this);d=0;for(c=a[2].length;d<
c;d++)p=a[2][d],b=this.Kc(p[0]),gb(p,b.prototype),n=new b(this),n.Tg=p[1],n.bd=p[2],n.hl=p[9],n.Ua&&n.Ua(),this.plugins.push(n);this.Hg=cc();d=0;for(c=a[3].length;d<c;d++){p=a[3][d];l=this.Kc(p[1]);n=null;b=0;for(k=this.plugins.length;b<k;b++)if(this.plugins[b]instanceof l){n=this.plugins[b];break}t=new n.Ie(n);t.name=p[0];t.O=p[2];t.fi=p[3].slice(0);t.mq=p[3].length;t.Vm=p[4];t.so=p[5];t.K=p[11];t.O?(t.fl=[],t.qc=this.Ye++,t.Y=null):(t.fl=null,t.qc=-1,t.Y=[]);t.ag=null;t.ge=null;t.Pj=null;t.rb=!1;
t.Ya=null;p[6]?(t.aq=p[6][0],t.bq=p[6][1],t.cq=p[6][2]):(t.aq=null,t.bq=0,t.cq=0);p[7]?t.Qm=p[7]:t.Qm=null;t.index=d;t.e=[];t.Xf=[];t.Dc=[new hb(t)];t.Vb=0;t.Xb=null;t.cn=0;t.De=!0;t.bh=ib;t.xo=jb;t.Fo=kb;t.Z=lb;t.Ff=mb;t.Ji=nb;t.we=ob;t.hg=pb;t.Ph=qb;t.Rh=rb;t.$d=sb;t.Sh=tb;t.Gj=new Za(this.qa,this.pa);t.tj=!0;t.uj=!1;t.X={};t.toString=ub;t.da=[];b=0;for(k=p[8].length;b<k;b++){f=p[8][b];m=this.Kc(f[1]);x=null;l=0;for(e=this.da.length;l<e;l++)if(this.da[l]instanceof m){x=this.da[l];break}x||(x=new m(this),
x.il=[],x.Bi=new ba,x.Ua&&x.Ua(),this.da.push(x));-1===x.il.indexOf(t)&&x.il.push(t);l=new x.Ie(x,t);l.name=f[0];l.K=f[2];l.Ua();t.da.push(l)}t.global=p[9];t.ki=p[10];t.A=[];b=0;for(k=p[12].length;b<k;b++)t.A.push({id:p[12][b][0],name:p[12][b][1],ma:-1,Nb:!1,fb:!0,index:b});t.Or=p[13];this.fj&&!t.O&&!t.ki&&n.bd||t.Ua();t.name&&(this.types[t.name]=t);this.j.push(t);n.Tg&&(b=new n.Lc(t),b.uid=this.zf++,b.Al=this.kl++,b.Cd=0,b.af=vb,b.toString=wb,b.J=p[14],b.Ua(),t.e.push(b),this.yc[b.uid.toString()]=
b)}d=0;for(c=a[4].length;d<c;d++)for(l=a[4][d],e=this.j[l[0]],b=1,k=l.length;b<k;b++)p=this.j[l[b]],p.Y.push(e),e.fl.push(p);d=0;for(c=a[28].length;d<c;d++){l=a[28][d];e=[];b=0;for(k=l.length;b<k;b++)e.push(this.j[l[b]]);b=0;for(k=e.length;b<k;b++)e[b].rb=!0,e[b].Ya=e}if(0<this.Ye)for(d=0,c=this.j.length;d<c;d++)if(p=this.j[d],!p.O&&p.Y.length){p.ag=Array(this.Ye);p.ge=Array(this.Ye);p.Pj=Array(this.Ye);t=[];b=x=m=f=0;for(k=p.Y.length;b<k;b++)for(n=p.Y[b],p.ag[n.qc]=f,f+=n.mq,p.ge[n.qc]=m,m+=n.Vm,
p.Pj[n.qc]=x,x+=n.so,l=0,e=n.A.length;l<e;l++)t.push(wa({},n.A[l]));p.A=t.concat(p.A);b=0;for(k=p.A.length;b<k;b++)p.A[b].index=b}d=0;for(c=a[5].length;d<c;d++)p=a[5][d],b=new xb(this,p),this.ti[b.name]=b,this.Lb.push(b);d=0;for(c=a[6].length;d<c;d++)p=a[6][d],b=new yb(this,p),this.Hh[b.name]=b,this.oc.push(b);d=0;for(c=this.oc.length;d<c;d++)this.oc[d].ja();d=0;for(c=this.oc.length;d<c;d++)this.oc[d].cj();d=0;for(c=this.ah.length;d<c;d++)this.ah[d].ja();S(this.ah);this.Rm=a[7];this.ve=a[9];this.Me=
1;this.Oj=a[13];this.I=a[14];this.lh=a[15];this.lq=a[17];this.Di=a[20];this.Tm=0<this.Di;this.vp=a[22];this.ib=this.rm=a[23];this.vn=a[24];this.Bp=a[25];this.R=a[27]&&!this.Gd;this.Ug=Date.now();S(this.Hg);this.cp()};var d=0,c=!1;f.prototype.Wo=function(){this.Ne&&(d=this.Ne.Lr(this.Rm))};f.prototype.wj=function(){var a=d,b=0,l=0,k=!0,e,n,l=0;for(e=this.qm.length;l<e;l++){n=this.qm[l];var t=n.Fr;if(!t||0>=t)t=5E4;a+=t;n.src&&(n.complete||n.loaded)&&!n.Dr?b+=t:k=!1}k&&this.Bp&&this.Ne&&(c||(this.Ne.Mr(),
c=!0),l=this.Ne.Gr(),b+=l,l<d&&(k=!1));this.Ob=0==a?1:b/a;return k};var n=!1;f.prototype.go=function(){if(this.M||this.n){var a=this.M||this.Ei;this.Ea&&this.xl();var d=window.innerWidth,c=window.innerHeight;this.ne===d&&this.me===c||this.setSize(d,c);this.Ob=0;this.Kk=-1;var b=this;if(this.wj()&&(4!==this.dd||n))this.Xo();else{c=Date.now()-this.Ug;if(a){var l=this.width,k=this.height,d=this.devicePixelRatio;if(3>this.dd&&(this.Kb||500<=c&&this.Kk!=this.Ob)){a.clearRect(0,0,l,k);var c=l/2,k=k/2,l=
0===this.dd&&this.cd.Eg.complete,e=40*d,p=0,t=80*d,f;if(l){var m=this.cd.Eg,t=m.width*d;f=m.height*d;e=t/2;p=f/2;a.drawImage(m,sa(c-e),sa(k-p),t,f)}1>=this.dd?(c=sa(c-e)+.5,k=sa(k+(p+(l?12*d:0)))+.5,a.fillStyle="DodgerBlue",a.fillRect(c,k,Math.floor(t*this.Ob),6*d),a.strokeStyle="black",a.strokeRect(c,k,t,6*d),a.strokeStyle="white",a.strokeRect(c-1*d,k-1*d,t+2*d,8*d)):2===this.dd&&(a.font=this.cc?"12pt ArialMT":"12pt Arial",a.fillStyle="#999",a.Nr="middle",d=Math.round(100*this.Ob)+"%",l=a.measureText?
a.measureText(d):null,a.fillText(d,c-(l?l.width:0)/2,k));this.Kk=this.Ob}else if(4===this.dd){this.Cn(a);g?g(function(){b.go()}):setTimeout(function(){b.go()},16);return}}setTimeout(function(){b.go()},this.Kb?10:100)}}};var k=-1,x="undefined"===typeof cr_is_preview?200:0,z=!0,L=!1,l=0,t=0,O="undefined"===typeof cr_is_preview?3E3:0,K=null,Y=null,B=0;f.prototype.Cn=function(a){if(!n){for(var d=Math.ceil(this.width),c=Math.ceil(this.height),b=this.cd.Eg,e=this.cd.zp,f=this.cd.oq,g=0;4>g;++g)if(!b[g].complete||
!e[g].complete||!f[g].complete)return;0===B&&(k=Date.now());var g=Date.now(),p=!1,A=a,r,q;z||L?(a.clearRect(0,0,d,c),K&&K.width===d&&K.height===c||(K=document.createElement("canvas"),K.width=d,K.height=c,Y=K.getContext("2d")),A=Y,p=!0,z&&1===B&&(k=Date.now())):a.globalAlpha=1;A.fillStyle="#333333";A.fillRect(0,0,d,c);256<this.Se?(r=Da(.22*c,105,.6*d),q=.25*r,A.drawImage(m(e,r),.5*d-r/2,.2*c-q/2,r,q),q=r=Math.min(.395*c,.95*d),A.drawImage(m(b,r),.5*d-r/2,.485*c-q/2,r,q),r=Da(.22*c,105,.6*d),q=.25*
r,A.drawImage(m(f,r),.5*d-r/2,.868*c-q/2,r,q),A.fillStyle="#3C3C3C",r=d,q=Math.max(.005*c,2),A.fillRect(0,.8*c-q/2,r,q),A.fillStyle="#E0FF65",r=d*this.Ob,A.fillRect(.5*d-r/2,.8*c-q/2,r,q)):(q=r=.55*c,A.drawImage(m(b,r),.5*d-r/2,.45*c-q/2,r,q),A.fillStyle="#3C3C3C",r=d,q=Math.max(.005*c,2),A.fillRect(0,.85*c-q/2,r,q),A.fillStyle="#E0FF65",r=d*this.Ob,A.fillRect(.5*d-r/2,.85*c-q/2,r,q));p&&(z?a.globalAlpha=0===B?0:Math.min((g-k)/300,1):L&&(a.globalAlpha=Math.max(1-(g-t)/300,0)),a.drawImage(K,0,0,d,
c));z&&300<=g-k&&2<=B&&(z=!1,l=g);!z&&g-l>=O&&!L&&1<=this.Ob&&(L=!0,t=g);if(L&&g-t>=300+x||"undefined"!==typeof cr_is_preview&&1<=this.Ob&&500>Date.now()-k)n=!0,L=z=!1,this.cd=Y=K=null;++B}};f.prototype.Xo=function(){this.Ea&&(this.canvas.parentNode.removeChild(this.Ea),this.Ea=this.Ei=null);this.Ug=Date.now();this.Md=Sa();var a,d,c;if(this.fj)for(a=0,d=this.j.length;a<d;a++)c=this.j[a],c.O||c.ki||!c.V.bd||c.Ua();else this.vg=!1;a=0;for(d=this.Lb.length;a<d;a++)this.Lb[a].an();2<=this.Za&&(a=this.qa/
this.pa,d=this.width/this.height,this.Me=2!==this.Za&&d>a||2===this.Za&&d<a?this.height/this.pa:this.width/this.qa);this.Vj?this.ti[this.Vj].Vi():this.Lb[0].Vi();this.fj||(this.Bg=1,this.trigger(Z.prototype.N.mj,null));navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(d=this.j.length;a<d;a++)c=this.j[a],c.qp&&c.qp();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.Td(!1);this.Fd&&AppMobi.webview.execute("onGameReady();")};
f.prototype.Td=function(a,d,c){if(this.P){var b=Sa();if(c||!this.jf||a){a||(g?this.Ni=g(this.cm):this.Xi=setTimeout(this.cm,this.Hd?1:16));d=d||b;var l=this.Za;((c=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.sc)||this.hf)&&0<this.Ad&&(l=this.Ad);if(0<l){var l=window.innerWidth,k=window.innerHeight;this.ne===l&&this.me===k||this.setSize(l,k)}this.ta||(c?(this.dg||(this.Nh=jQuery(this.canvas).css("margin")||"0",this.dg=!0),this.hi||
this.ad||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.dg?(this.hi||this.ad||jQuery(this.canvas).css("margin",this.Nh),this.Nh="",this.dg=!1,0===this.Za&&this.setSize(Math.round(this.pl/this.devicePixelRatio),Math.round(this.ol/this.devicePixelRatio),!0)):(this.pl=this.width,this.ol=this.height));this.vg&&(c=this.wj(),this.Bg=this.Ob,c&&(this.vg=
!1,this.Ob=1,this.trigger(Z.prototype.N.mj,null)));this.mp(d);!this.W&&!this.Kb||this.oi||this.Kf||a||(this.W=!1,this.n?this.Hb():this.Yb(),this.Jf&&(this.canvas&&this.canvas.toDataURL&&(this.Vl=this.canvas.toDataURL(this.Jf[0],this.Jf[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.Vl),this.trigger(Z.prototype.N.Cm,null)),this.Jf=null));this.Hr||(this.Ec++,this.$f++,this.fg++);this.wf+=Sa()-b}}};f.prototype.mp=function(a){var d,c,b,l,k,e,p,n;1E3<=a-this.Md&&(this.Md+=1E3,1E3<=a-this.Md&&(this.Md=
a),this.Mh=this.fg,this.fg=0,this.Ah=this.wf,this.wf=0);0!==this.wg&&(d=a-this.wg,0>d&&(d=0),this.Xc=d/1E3,.5<this.Xc?this.Xc=0:this.Xc>1/this.gl&&(this.Xc=1/this.gl));this.wg=a;this.fe=this.Xc*this.Mf;this.sb.add(this.fe);this.gh.add(this.Xc);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.hf)&&!this.sc;2<=this.Za||a&&0<this.Ad?(d=this.qa/this.pa,c=this.width/this.height,b=this.Za,a&&0<this.Ad&&(b=this.Ad),this.Me=2!==b&&c>d||2===
b&&c<d?this.height/this.pa:this.width/this.qa,this.P&&(this.P.Hl(this.P.scrollX),this.P.Il(this.P.scrollY))):this.Me=this.Id?this.devicePixelRatio:1;this.Ia();this.uc++;this.jc.Jp();this.uc--;this.Ia();this.uc++;c=this.ml.Ud();a=0;for(d=c.length;a<d;a++)c[a].Jr();a=0;for(d=this.j.length;a<d;a++)if(e=this.j[a],!e.O&&(e.da.length||e.Y.length))for(c=0,b=e.e.length;c<b;c++)for(p=e.e[c],l=0,k=p.G.length;l<k;l++)p.G[l].Td();a=0;for(d=this.j.length;a<d;a++)if(e=this.j[a],!e.O&&(e.da.length||e.Y.length))for(c=
0,b=e.e.length;c<b;c++)for(p=e.e[c],l=0,k=p.G.length;l<k;l++)n=p.G[l],n.yp&&n.yp();c=this.Ci.Ud();a=0;for(d=c.length;a<d;a++)c[a].Td();this.uc--;this.Yo();for(a=0;this.xh&&10>a++;)this.Nj(this.xh);a=0;for(d=this.oc.length;a<d;a++)this.oc[a].ai=!1;this.P.xd&&this.P.xd.ra();S(this.Dl);this.uc++;a=0;for(d=this.j.length;a<d;a++)if(e=this.j[a],!e.O&&(e.da.length||e.Y.length))for(c=0,b=e.e.length;c<b;c++)for(p=e.e[c],l=0,k=p.G.length;l<k;l++)n=p.G[l],n.am&&n.am();c=this.nl.Ud();a=0;for(d=c.length;a<d;a++)c[a].am();
this.uc--};f.prototype.Nj=function(a){var d=this.P;this.P.$p();var c,b,l;if(this.n)for(c=0,b=this.j.length;c<b;c++)l=this.j[c],l.O||!l.iq||l.global&&0!==l.e.length||-1!==a.ef.indexOf(l)||l.iq();d==a&&S(this.jc.eb);S(this.Dl);this.El(!0);a.Vi();this.El(!1);this.W=!0;this.Ia()};f.prototype.El=function(a){var d,c,b,l,k,e,p,n,t;d=0;for(c=this.da.length;d<c;d++)b=this.da[d],a?b.Af&&b.Af():b.Cf&&b.Cf();d=0;for(c=this.j.length;d<c;d++)if(b=this.j[d],b.global||b.V.Tg)for(l=0,k=b.e.length;l<k;l++)if(e=b.e[l],
a?e.Af&&e.Af():e.Cf&&e.Cf(),e.G)for(p=0,n=e.G.length;p<n;p++)t=e.G[p],a?t.Af&&t.Af():t.Cf&&t.Cf()};f.prototype.dm=function(a){this.Ci.add(a)};f.prototype.wo=function(a){return a&&-1!==a.xf?this.Xc*a.xf:this.fe};f.prototype.Yb=function(){this.P.Yb(this.M);this.Fd&&this.M.present()};f.prototype.Hb=function(){this.R&&(this.ud=1,this.P.Ue(this.n));this.P.Hb(this.n);this.n.Dp()};f.prototype.gk=function(a){a=a.toString();return this.yc.hasOwnProperty(a)?this.yc[a]:null};var ca=[];f.prototype.Wd=function(a){var d,
c;d=a.type.name;var b=null;if(this.td.hasOwnProperty(d)){if(b=this.td[d],b.contains(a))return}else b=ca.length?ca.pop():new ba,this.td[d]=b;b.add(a);this.$c=!0;if(a.rb)for(d=0,c=a.siblings.length;d<c;d++)this.Wd(a.siblings[d]);this.ji&&b.Ge.push(a);this.ii||(this.uc++,this.trigger(Object.getPrototypeOf(a.type.V).N.Em,a),this.uc--)};f.prototype.Ia=function(){if(this.$c){var a,d,c,b,l,k;this.ji=!0;c=0;for(l=this.Ub.length;c<l;++c)for(a=this.Ub[c],d=a.type,d.e.push(a),b=0,k=d.Y.length;b<k;++b)d.Y[b].e.push(a),
d.Y[b].De=!0;S(this.Ub);this.Am();Ra(this.td);this.$c=this.ji=!1}};f.prototype.Am=function(){for(var a in this.td)this.td.hasOwnProperty(a)&&this.wm(this.td[a])};f.prototype.wm=function(a){var d=a.Ud(),c=d[0].type,b,l,k,e,p,n;Ta(c.e,a);c.De=!0;0===c.e.length&&(c.uj=!1);b=0;for(l=c.Y.length;b<l;++b)n=c.Y[b],Ta(n.e,a),n.De=!0;b=0;for(l=this.jc.eb.length;b<l;++b)if(p=this.jc.eb[b],p.cb.hasOwnProperty(c.index)&&Ta(p.cb[c.index].Ed,a),!c.O)for(k=0,e=c.Y.length;k<e;++k)n=c.Y[k],p.cb.hasOwnProperty(n.index)&&
Ta(p.cb[n.index].Ed,a);if(p=d[0].g){if(p.pb)for(k=p.e,b=0,l=k.length;b<l;++b)e=k[b],a.contains(e)&&(e.Ha(),p.Fa.update(e,e.Va,null),e.Va.set(0,0,-1,-1));Ta(p.e,a);p.Hf(0)}for(b=0;b<d.length;++b)this.vm(d[b],c);a.clear();ca.push(a);this.W=!0};f.prototype.vm=function(a,d){var c,b,l;c=0;for(b=this.Mj.length;c<b;++c)this.Mj[c](a);a.Wc&&d.Gj.update(a,a.Wc,null);(c=a.g)&&c.Ae(a,!0);if(a.G)for(c=0,b=a.G.length;c<b;++c)l=a.G[c],l.Bf&&l.Bf(),l.behavior.Bi.remove(a);this.ml.remove(a);this.Ci.remove(a);this.nl.remove(a);
a.Bf&&a.Bf();this.yc.hasOwnProperty(a.uid.toString())&&delete this.yc[a.uid.toString()];this.Ig--;100>d.Xf.length&&d.Xf.push(a)};var w=[];f.prototype.sd=function(a,d,c,b,l,k){var e,p,n,t;if(!a)return null;var f=this.j[a[1]],m=f.V.bd;if(this.vg&&m&&!f.ki||m&&!this.n&&11===a[0][11])return null;var x=d;m||(d=null);var g;f.Xf.length?(g=f.Xf.pop(),g.gc=!0,f.V.Lc.call(g,f)):(g=new f.V.Lc(f),g.gc=!1);!c||k||this.yc.hasOwnProperty(a[2].toString())?g.uid=this.zf++:g.uid=a[2];this.yc[g.uid.toString()]=g;g.Al=
this.kl++;g.Cd=f.e.length;e=0;for(p=this.Ub.length;e<p;++e)this.Ub[e].type===f&&g.Cd++;g.af=vb;g.toString=wb;n=a[3];if(g.gc)Ra(g.X);else{g.X={};if("undefined"!==typeof cr_is_preview)for(g.rk=[],g.rk.length=n.length,e=0,p=n.length;e<p;e++)g.rk[e]=n[e][1];g.na=[];g.na.length=n.length}e=0;for(p=n.length;e<p;e++)g.na[e]=n[e][0];if(m){var r=a[0];g.x=ha(b)?r[0]:b;g.y=ha(l)?r[1]:l;g.z=r[2];g.width=r[3];g.height=r[4];g.depth=r[5];g.p=r[6];g.opacity=r[7];g.mg=r[8];g.ng=r[9];g.Ja=r[10];e=r[11];!this.n&&f.A.length&&
(g.Ja=e);g.Pe=ab(g.Ja);this.k&&bb(g,g.Ja,this.k);if(g.gc){e=0;for(p=r[12].length;e<p;e++)for(n=0,t=r[12][e].length;n<t;n++)g.ea[e][n]=r[12][e][n];g.Aa.set(0,0,0,0);g.Wc.set(0,0,-1,-1);g.Va.set(0,0,-1,-1);g.ae.Sg(g.Aa);S(g.oh)}else{g.ea=r[12].slice(0);e=0;for(p=g.ea.length;e<p;e++)g.ea[e]=r[12][e].slice(0);g.H=[];g.Mc=[];g.Mc.length=f.A.length;g.Aa=new Q(0,0,0,0);g.Wc=new Q(0,0,-1,-1);g.Va=new Q(0,0,-1,-1);g.ae=new va;g.oh=[];g.za=zb;g.Cr=Ab;g.Tb=Bb;g.Ha=Cb;g.kq=Db;g.Pr=Eb;g.$b=Fb}g.fq=!1;g.hq=0;g.gq=
0;g.dq=null;14===r.length&&(g.fq=!0,g.hq=r[13][0],g.gq=r[13][1],g.dq=r[13][2]);e=0;for(p=f.A.length;e<p;e++)g.Mc[e]=!0;g.Bc=!0;g.Rb=Gb;g.Rb();g.om=!!g.H.length;g.nh=!0;g.uh=!0;f.tj=!0;g.visible=!0;g.xf=-1;g.g=d;g.Sb=d.e.length;g.ud=0;"undefined"===typeof g.Oe&&(g.Oe=null);this.W=g.Tf=!0}var z;S(w);e=0;for(p=f.Y.length;e<p;e++)w.push.apply(w,f.Y[e].da);w.push.apply(w,f.da);if(g.gc)for(e=0,p=w.length;e<p;e++){var q=w[e];z=g.G[e];z.gc=!0;q.behavior.Lc.call(z,q,g);r=a[4][e];n=0;for(t=r.length;n<t;n++)z.J[n]=
r[n];z.Ua();q.behavior.Bi.add(g)}else for(g.G=[],e=0,p=w.length;e<p;e++)q=w[e],z=new q.behavior.Lc(q,g),z.gc=!1,z.J=a[4][e].slice(0),z.Ua(),g.G.push(z),q.behavior.Bi.add(g);r=a[5];if(g.gc)for(e=0,p=r.length;e<p;e++)g.J[e]=r[e];else g.J=r.slice(0);this.Ub.push(g);this.$c=!0;d&&(d.Le(g,!0),1!==d.te||1!==d.ue)&&(f.uj=!0);this.Ig++;if(f.rb){if(g.rb=!0,g.gc?S(g.siblings):g.siblings=[],!c&&!k){e=0;for(p=f.Ya.length;e<p;e++)if(f.Ya[e]!==f){if(!f.Ya[e].Xb)return null;g.siblings.push(this.sd(f.Ya[e].Xb,x,
!1,m?g.x:b,m?g.y:l,!0))}e=0;for(p=g.siblings.length;e<p;e++)for(g.siblings[e].siblings.push(g),n=0;n<p;n++)e!==n&&g.siblings[e].siblings.push(g.siblings[n])}}else g.rb=!1,g.siblings=null;g.Ua();e=0;for(p=g.G.length;e<p;e++)g.G[e].xp&&g.G[e].xp();return g};f.prototype.Bo=function(a){var d,c;d=0;for(c=this.P.B.length;d<c;d++){var b=this.P.B[d];if(db(b.name,a))return b}return null};f.prototype.Co=function(a){a=sa(a);0>a&&(a=0);a>=this.P.B.length&&(a=this.P.B.length-1);return this.P.B[a]};f.prototype.yh=
function(a){var d,c;d=0;for(c=a.length;d<c;d++)a[d].Z().ya=!0};f.prototype.Ff=function(a){var d,c;d=0;for(c=a.length;d<c;d++)a[d].Ff()};f.prototype.Ji=function(a){var d,c;d=0;for(c=a.length;d<c;d++)a[d].Ji()};f.prototype.we=function(a){var d,c;d=0;for(c=a.length;d<c;d++)a[d].we()};new va;new Q(0,0,0,0);f.prototype.im=function(a,d){if(!d)return!1;var c,b,l,k,e;c=0;for(b=a.da.length;c<b;c++)if(a.da[c].behavior instanceof d)return!0;if(!a.O)for(c=0,b=a.Y.length;c<b;c++)for(e=a.Y[c],l=0,k=e.da.length;l<
k;l++)if(e.da[l].behavior instanceof d)return!0;return!1};f.prototype.aj=function(a){return this.im(a,Vb.Tq)};f.prototype.bj=function(a){return this.im(a,Vb.Vq)};var C=-1;f.prototype.trigger=function(a,d,c){if(!this.P)return!1;var b=this.P.xd;if(!b)return!1;var l=!1,k,e,p;C++;var n=b.Eh;e=0;for(p=n.length;e<p;++e)k=this.fm(a,d,n[e],c),l=l||k;k=this.fm(a,d,b,c);C--;return l||k};f.prototype.fm=function(a,d,c,b){var l=!1,k,e,p,n;if(d)for(p=this.Zi(a,d,d.type.name,c,b),l=l||p,n=d.type.Y,k=0,e=n.length;k<
e;++k)p=this.Zi(a,d,n[k].name,c,b),l=l||p;else p=this.Zi(a,d,"system",c,b),l=l||p;return l};f.prototype.Zi=function(a,d,c,b,l){var k,e=!1,p=!1,p="undefined"!==typeof l,n=(p?b.Rj:b.gm)[c];if(!n)return e;var t=null;b=0;for(k=n.length;b<k;++b)if(n[b].method==a){t=n[b].Xe;break}if(!t)return e;var f;p?f=t[l]:f=t;if(!f)return null;b=0;for(k=f.length;b<k;b++)a=f[b][0],l=f[b][1],p=this.no(d,c,a,l),e=e||p;return e};f.prototype.no=function(a,d,c,b){var l,k,e=!1;this.$i++;var p=this.jb().Wb;p&&this.Ff(p.jd);
var n=1<this.$i;this.Ff(c.jd);n&&this.Fp();var t=this.Ki(c);t.Wb=c;a&&(l=this.types[d].Z(),l.ya=!1,S(l.e),l.e[0]=a,this.types[d].$d());a=!0;if(c.parent){d=t.Yl;for(l=c.parent;l;)d.push(l),l=l.parent;d.reverse();l=0;for(k=d.length;l<k;l++)if(!d[l].Lp()){a=!1;break}}a&&(this.$f++,c.zc?c.Kp(b):c.ra(),e=e||t.Ld);this.wl();n&&this.wp();this.we(c.jd);p&&this.we(p.jd);this.$c&&0===this.uc&&0===C&&!this.li&&this.Ia();this.$i--;return e};f.prototype.vo=function(){var a=this.jb();return a.Wb.Ka[a.Xa]};f.prototype.Fp=
function(){this.Dg++;this.Dg>=this.Ai.length&&this.Ai.push([])};f.prototype.wp=function(){this.Dg--};f.prototype.$j=function(){return this.Ai[this.Dg]};f.prototype.Ki=function(a){this.Zf++;this.Zf>=this.Gh.length&&this.Gh.push(new Hb);var d=this.jb();d.reset(a);return d};f.prototype.wl=function(){this.Zf--};f.prototype.jb=function(){return this.Gh[this.Zf]};f.prototype.bk=function(a,d){for(var c,b,l,k,e,p;d;){c=0;for(b=d.zb.length;c<b;c++)if(p=d.zb[c],p instanceof Ib&&db(a,p.name))return p;d=d.parent}c=
0;for(b=this.oc.length;c<b;c++)for(e=this.oc[c],l=0,k=e.Yc.length;l<k;l++)if(p=e.Yc[l],p instanceof Ib&&db(a,p.name))return p;return null};f.prototype.dk=function(a){var d,c;d=0;for(c=this.Lb.length;d<c;d++)if(this.Lb[d].K===a)return this.Lb[d];return null};f.prototype.jg=function(a){var d,c;d=0;for(c=this.j.length;d<c;d++)if(this.j[d].K===a)return this.j[d];return null};f.prototype.yo=function(a){var d,c;d=0;for(c=this.Zd.length;d<c;d++)if(this.Zd[d].K===a)return this.Zd[d];return null};f.prototype.dn=
function(a,d){this.Jf=[a,d];this.W=!0};f.prototype.Yo=function(){var a=this,d=this.Ui,c=this.vc,l=this.zg,k=!1;this.Ul&&(k=!0,d="__c2_continuouspreview",this.Ul=!1);if(d.length){this.Ia();c=this.Pp();if(q()&&!this.Kb)v(d,c,function(){y("Saved state to IndexedDB storage ("+c.length+" bytes)");a.vc=c;a.trigger(Z.prototype.N.jh,null);a.vc="";k&&b()},function(l){try{localStorage.setItem("__c2save_"+d,c),y("Saved state to WebStorage ("+c.length+" bytes)"),a.vc=c,a.trigger(Z.prototype.N.jh,null),a.vc="",
k&&b()}catch(e){y("Failed to save game state: "+l+"; "+e),a.trigger(Z.prototype.N.nj,null)}});else try{localStorage.setItem("__c2save_"+d,c),y("Saved state to WebStorage ("+c.length+" bytes)"),a.vc=c,this.trigger(Z.prototype.N.jh,null),a.vc="",k&&b()}catch(e){y("Error saving to WebStorage: "+e),a.trigger(Z.prototype.N.nj,null)}this.Na=this.zg=this.Ui=""}if(l.length){if(q()&&!this.Kb)r(l,function(d){d?(a.Na=d,y("Loaded state from IndexedDB storage ("+a.Na.length+" bytes)")):(a.Na=localStorage.getItem("__c2save_"+
l)||"",y("Loaded state from WebStorage ("+a.Na.length+" bytes)"));a.Kf=!1;a.Na.length||a.trigger(Z.prototype.N.ih,null)},function(){a.Na=localStorage.getItem("__c2save_"+l)||"";y("Loaded state from WebStorage ("+a.Na.length+" bytes)");a.Kf=!1;a.Na.length||a.trigger(Z.prototype.N.ih,null)});else{try{this.Na=localStorage.getItem("__c2save_"+l)||"",y("Loaded state from WebStorage ("+this.Na.length+" bytes)")}catch(n){this.Na=""}this.Kf=!1;a.Na.length||a.trigger(Z.prototype.N.ih,null)}this.Ui=this.zg=
""}this.Na.length&&(this.Ia(),this.lp(this.Na),this.vc=this.Na,this.trigger(Z.prototype.N.Hm,null),this.Na=this.vc="")};f.prototype.Pp=function(){var d,c,b,l,k,e,n,p={c2save:!0,version:1,rt:{time:this.sb.Qa,walltime:this.gh.Qa,timescale:this.Mf,tickcount:this.Ec,execcount:this.$f,next_uid:this.zf,running_layout:this.P.K,start_time_offset:Date.now()-this.Ug},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};d=0;for(c=this.j.length;d<c;d++)if(k=this.j[d],!k.O&&!this.aj(k)){e={instances:[]};
Pa(k.X)&&(e.ex=a(k.X));b=0;for(l=k.e.length;b<l;b++)e.instances.push(this.Ti(k.e[b]));p.types[k.K.toString()]=e}d=0;for(c=this.Lb.length;d<c;d++)b=this.Lb[d],p.layouts[b.K.toString()]=b.nb();l=p.events.groups;d=0;for(c=this.Zd.length;d<c;d++)b=this.Zd[d],l[b.K.toString()]=this.kg[b.cf].bf;c=p.events.cnds;for(n in this.Vc)this.Vc.hasOwnProperty(n)&&(d=this.Vc[n],Pa(d.X)&&(c[n]={ex:a(d.X)}));c=p.events.acts;for(n in this.Nc)this.Nc.hasOwnProperty(n)&&(d=this.Nc[n],Pa(d.X)&&(c[n]={ex:a(d.X)}));c=p.events.vars;
for(n in this.He)this.He.hasOwnProperty(n)&&(d=this.He[n],d.sg||d.parent&&!d.kf||(c[n]=d.data));p.system=this.jc.nb();return JSON.stringify(p)};f.prototype.Cl=function(){var a,d,c,b,l,k;this.yc={};a=0;for(d=this.j.length;a<d;a++)if(c=this.j[a],!c.O)for(b=0,l=c.e.length;b<l;b++)k=c.e[b],this.yc[k.uid.toString()]=k};f.prototype.lp=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){this.gf=!0;var d=a.rt;this.sb.reset();this.sb.Qa=d.time;this.gh.reset();this.gh.Qa=d.walltime||0;this.Mf=d.timescale;
this.Ec=d.tickcount;this.$f=d.execcount;this.Ug=Date.now()-d.start_time_offset;var c=d.running_layout;if(c!==this.P.K)if(c=this.dk(c))this.Nj(c);else return;var b,l,k,e,p,n,t;n=a.types;for(l in n)if(n.hasOwnProperty(l)&&(e=this.jg(parseInt(l,10)))&&!e.O&&!this.aj(e)){n[l].ex?e.X=n[l].ex:Ra(e.X);p=e.e;k=n[l].instances;c=0;for(b=ka(p.length,k.length);c<b;c++)this.Ag(p[c],k[c]);c=k.length;for(b=p.length;c<b;c++)this.Wd(p[c]);c=p.length;for(b=k.length;c<b;c++){p=null;if(e.V.bd&&(p=this.P.ig(k[c].w.l),
!p))continue;p=this.sd(e.Xb,p,!1,0,0,!0);this.Ag(p,k[c])}e.De=!0}this.Ia();this.Cl();b=a.layouts;for(l in b)b.hasOwnProperty(l)&&(c=this.dk(parseInt(l,10)))&&c.Mb(b[l]);b=a.events.groups;for(l in b)b.hasOwnProperty(l)&&(c=this.yo(parseInt(l,10)))&&this.kg[c.cf]&&this.kg[c.cf].Qp(b[l]);c=a.events.cnds;for(l in this.Vc)this.Vc.hasOwnProperty(l)&&(c.hasOwnProperty(l)?this.Vc[l].X=c[l].ex:this.Vc[l].X={});c=a.events.acts;for(l in this.Nc)this.Nc.hasOwnProperty(l)&&(c.hasOwnProperty(l)?this.Nc[l].X=c[l].ex:
this.Nc[l].X={});c=a.events.vars;for(l in c)c.hasOwnProperty(l)&&this.He.hasOwnProperty(l)&&(this.He[l].data=c[l]);this.zf=d.next_uid;this.gf=!1;c=0;for(b=this.bg.length;c<b;++c)p=this.bg[c],this.trigger(Object.getPrototypeOf(p.type.V).N.kj,p);S(this.bg);this.jc.Mb(a.system);c=0;for(b=this.j.length;c<b;c++)if(e=this.j[c],!e.O&&!this.aj(e))for(l=0,a=e.e.length;l<a;l++){p=e.e[l];if(e.rb)for(n=p.af(),S(p.siblings),d=0,k=e.Ya.length;d<k;d++)t=e.Ya[d],e!==t&&p.siblings.push(t.e[n]);p.pd&&p.pd();if(p.G)for(d=
0,k=p.G.length;d<k;d++)n=p.G[d],n.pd&&n.pd()}this.W=!0}};f.prototype.Ti=function(d,c){var b,l,k,e,n;e=d.type;k=e.V;var p={};c?p.c2=!0:p.uid=d.uid;Pa(d.X)&&(p.ex=a(d.X));if(d.na&&d.na.length)for(p.ivs={},b=0,l=d.na.length;b<l;b++)p.ivs[d.type.fi[b].toString()]=d.na[b];if(k.bd){k={x:d.x,y:d.y,w:d.width,h:d.height,l:d.g.K,zi:d.$b()};0!==d.p&&(k.a=d.p);1!==d.opacity&&(k.o=d.opacity);.5!==d.mg&&(k.hX=d.mg);.5!==d.ng&&(k.hY=d.ng);0!==d.Ja&&(k.bm=d.Ja);d.visible||(k.v=d.visible);d.Tf||(k.ce=d.Tf);-1!==d.xf&&
(k.mts=d.xf);if(e.A.length)for(k.fx=[],b=0,l=e.A.length;b<l;b++)n=e.A[b],k.fx.push({name:n.name,active:d.Mc[n.index],params:d.ea[n.index]});p.w=k}if(d.G&&d.G.length)for(p.behs={},b=0,l=d.G.length;b<l;b++)e=d.G[b],e.nb&&(p.behs[e.type.K.toString()]=e.nb());d.nb&&(p.data=d.nb());return p};f.prototype.zo=function(a,d){var c,b;c=0;for(b=a.fi.length;c<b;c++)if(a.fi[c]===d)return c;return-1};f.prototype.uo=function(a,d){var c,b;c=0;for(b=a.G.length;c<b;c++)if(a.G[c].type.K===d)return c;return-1};f.prototype.Ag=
function(a,d,c){var b,l,k,e,p;p=a.type;e=p.V;if(c){if(!d.c2)return}else a.uid=d.uid;d.ex?a.X=d.ex:Ra(a.X);if(l=d.ivs)for(b in l)l.hasOwnProperty(b)&&(k=this.zo(p,parseInt(b,10)),0>k||k>=a.na.length||(a.na[k]=l[b]));if(e.bd){k=d.w;a.g.K!==k.l&&(l=a.g,a.g=this.P.ig(k.l),a.g?(l.Ae(a,!0),a.g.Le(a,!0),a.za(),a.g.Hf(0)):(a.g=l,c||this.Wd(a)));a.x=k.x;a.y=k.y;a.width=k.w;a.height=k.h;a.Sb=k.zi;a.p=k.hasOwnProperty("a")?k.a:0;a.opacity=k.hasOwnProperty("o")?k.o:1;a.mg=k.hasOwnProperty("hX")?k.hX:.5;a.ng=
k.hasOwnProperty("hY")?k.hY:.5;a.visible=k.hasOwnProperty("v")?k.v:!0;a.Tf=k.hasOwnProperty("ce")?k.ce:!0;a.xf=k.hasOwnProperty("mts")?k.mts:-1;a.Ja=k.hasOwnProperty("bm")?k.bm:0;a.Pe=ab(a.Ja);this.k&&bb(a,a.Ja,this.k);a.za();if(k.hasOwnProperty("fx"))for(c=0,l=k.fx.length;c<l;c++)e=p.Rh(k.fx[c].name),0>e||(a.Mc[e]=k.fx[c].active,a.ea[e]=k.fx[c].params);a.Rb()}if(p=d.behs)for(b in p)p.hasOwnProperty(b)&&(c=this.uo(a,parseInt(b,10)),0>c||a.G[c].Mb(p[b]));d.data&&a.Mb(d.data)};f.prototype.Sj=function(a,
d,c){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+"www/"+a,function(a){a.file(d,c)},c)};f.prototype.Tj=function(a,d){this.Sj("data.js",function(c){var b=new FileReader;b.onload=function(d){a(d.target.result)};b.onerror=d;b.readAsText(c)},d)};f.prototype.po=function(a,d){this.Sj("loading-logo.png",function(d){var c=new FileReader;c.onload=function(d){a(d.target.result)};c.readAsArrayBuffer(d)},d)};f.prototype.qo=function(a,d){this.po(function(d){d=URL.createObjectURL(new Blob([d]));
a(d)},d)};f.prototype.Rp=function(a){this.mi?this.qo(function(d){a.src=d},function(a){alert("Failed to load image: "+a)}):a.src="loading-logo.png"};Jb=function(a){return new f(document.getElementById(a))};Kb=function(a,d){return new f({dc:!0,width:a,height:d})};window.cr_createRuntime=Jb;window.cr_createDCRuntime=Kb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.Dh=!0;document.body.appendChild(a);a=new f(a);
window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new f(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();
window.cr_getC2Runtime=function(){var f=document.getElementById("c2canvas");return f?f.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(f,m){var q=window.cr_getC2Runtime();q&&q.dn(f,m)};window.cr_sizeCanvas=function(f,m){if(0!==f&&0!==m){var q=window.cr_getC2Runtime();q&&q.setSize(f,m)}};window.cr_setSuspended=function(f){var m=window.cr_getC2Runtime();m&&m.setSuspended(f)};
(function(){function f(a,c){this.d=a;this.xd=null;this.scrollX=this.d.qa/2;this.scrollY=this.d.pa/2;this.scale=1;this.p=0;this.he=!0;this.name=c[0];this.width=c[1];this.height=c[2];this.jm=c[3];this.Sl=c[4];this.K=c[5];var b=c[6],k,e;this.B=[];this.ef=[];k=0;for(e=b.length;k<e;k++){var f=new Lb(this,b[k]);f.ll=k;this.B.push(f)}b=c[7];this.Dd=[];k=0;for(e=b.length;k<e;k++){var f=b[k],g=this.d.j[f[1]];g.Xb||(g.Xb=f);this.Dd.push(f);-1===this.ef.indexOf(g)&&this.ef.push(g)}this.A=[];this.H=[];this.Bc=
!0;this.ea=[];k=0;for(e=c[8].length;k<e;k++)this.A.push({id:c[8][k][0],name:c[8][k][1],ma:-1,Nb:!1,fb:!0,index:k}),this.ea.push(c[8][k][2].slice(0));this.Rb();this.ze=new Q(0,0,1,1);this.Oi=new Q(0,0,1,1);this.gd={}}function m(a,c){return a.Sb-c.Sb}function q(a,c){this.wa=a;this.d=a.d;this.e=[];this.scale=1;this.p=0;this.nc=!1;this.Hc=new Q(0,0,0,0);this.em=new va;this.ba=this.U=this.ca=this.T=0;this.Vd=!1;this.Jc=-1;this.zh=0;this.name=c[0];this.index=c[1];this.K=c[2];this.visible=c[3];this.Eb=c[4];
this.Qb=c[5];this.te=c[6];this.ue=c[7];this.opacity=c[8];this.eg=c[9];this.pb=c[10];this.jj=c[11];this.Ja=c[12];this.Gn=c[13];this.Pe="source-over";this.La=this.Oa=0;this.Fa=null;this.wc=u();this.Pb=!0;this.oe=new Q(0,0,-1,-1);this.Ba=new Q(0,0,-1,-1);this.pb&&(this.Fa=new $a(this.d.qa,this.d.pa));this.hc=!1;var b=c[14],k,e;this.Xl=[];this.kb=[];this.Re=[];k=0;for(e=b.length;k<e;k++){var f=b[k],g=this.d.j[f[1]];g.Xb||(g.Xb=f,g.cn=this.index);this.kb.push(f);-1===this.wa.ef.indexOf(g)&&this.wa.ef.push(g)}za(this.Xl,
this.kb);this.A=[];this.H=[];this.Bc=!0;this.ea=[];k=0;for(e=c[15].length;k<e;k++)this.A.push({id:c[15][k][0],name:c[15][k][1],ma:-1,Nb:!1,fb:!0,index:k}),this.ea.push(c[15][k][2].slice(0));this.Rb();this.ze=new Q(0,0,1,1);this.Oi=new Q(0,0,1,1)}function u(){return a.length?a.pop():[]}function v(d){S(d);a.push(d)}f.prototype.Op=function(a){var c=a.type.K.toString();this.gd.hasOwnProperty(c)||(this.gd[c]=[]);this.gd[c].push(this.d.Ti(a))};f.prototype.lk=function(){var a=this.B[0];return!a.Qb&&1===
a.opacity&&!a.eg&&a.visible};f.prototype.Rb=function(){S(this.H);this.Bc=!0;var a,c,b;a=0;for(c=this.A.length;a<c;a++)b=this.A[a],b.fb&&(this.H.push(b),b.Nb||(this.Bc=!1))};f.prototype.Qh=function(a){var c,b,k;c=0;for(b=this.A.length;c<b;c++)if(k=this.A[c],k.name===a)return k;return null};var r=[],b=!0;f.prototype.Vi=function(){this.Sl&&(this.xd=this.d.Hh[this.Sl],this.xd.cj());this.d.P=this;this.scrollX=this.d.qa/2;this.scrollY=this.d.pa/2;var a,c,e,k,f,g,q;a=0;for(e=this.d.j.length;a<e;a++)if(c=
this.d.j[a],!c.O)for(f=c.e,c=0,k=f.length;c<k;c++)if(g=f[c],g.g){var l=g.g.ll;l>=this.B.length&&(l=this.B.length-1);g.g=this.B[l];-1===g.g.e.indexOf(g)&&g.g.e.push(g);g.g.Vd=!0}if(!b)for(a=0,e=this.B.length;a<e;++a)this.B[a].e.sort(m);S(r);this.Wm();a=0;for(e=this.B.length;a<e;a++)g=this.B[a],g.bn(),g.dh();f=!1;if(!this.he){for(q in this.gd)if(this.gd.hasOwnProperty(q)&&(c=this.d.jg(parseInt(q,10)))&&!c.O&&this.d.bj(c)){k=this.gd[q];a=0;for(e=k.length;a<e;a++){g=null;if(c.V.bd&&(g=this.ig(k[a].w.l),
!g))continue;g=this.d.sd(c.Xb,g,!1,0,0,!0);this.d.Ag(g,k[a]);f=!0;r.push(g)}S(k)}a=0;for(e=this.B.length;a<e;a++)this.B[a].e.sort(m),this.B[a].Vd=!0}f&&(this.d.Ia(),this.d.Cl());for(a=0;a<r.length;a++)if(g=r[a],g.type.rb)for(e=g.af(),c=0,k=g.type.Ya.length;c<k;c++)q=g.type.Ya[c],g.type!==q&&(q.e.length>e?g.siblings.push(q.e[e]):q.Xb&&(f=this.d.sd(q.Xb,g.g,!0,g.x,g.y,!0),this.d.Ia(),q.bh(),g.siblings.push(f),r.push(f)));a=0;for(e=this.Dd.length;a<e;a++)this.d.sd(this.Dd[a],null,!0);this.d.xh=null;
this.d.Ia();if(this.d.M&&!this.d.ta)for(a=0,e=this.d.j.length;a<e;a++)q=this.d.j[a],!q.O&&q.e.length&&q.Ap&&q.Ap(this.d.M);if(this.d.gf)za(this.d.bg,r);else for(a=0,e=r.length;a<e;a++)g=r[a],this.d.trigger(Object.getPrototypeOf(g.type.V).N.kj,g);S(r);this.d.gf||this.d.trigger(Z.prototype.N.lj,null);this.he=!1};f.prototype.an=function(){var a,c,b,k,e;c=a=0;for(b=this.Dd.length;a<b;a++)k=this.Dd[a],e=this.d.j[k[1]],e.global?e.rb||this.d.sd(k,null,!0):(this.Dd[c]=k,c++);ya(this.Dd,c)};f.prototype.$p=
function(){this.d.gf||this.d.trigger(Z.prototype.N.Gm,null);this.d.ii=!0;S(this.d.jc.eb);var a,c,e,k,g,f;if(!this.he)for(a=0,c=this.B.length;a<c;a++)for(this.B[a].ej(),g=this.B[a].e,e=0,k=g.length;e<k;e++)f=g[e],f.type.global||this.d.bj(f.type)&&this.Op(f);a=0;for(c=this.B.length;a<c;a++){g=this.B[a].e;e=0;for(k=g.length;e<k;e++)f=g[e],f.type.global||this.d.Wd(f);this.d.Ia();S(g);this.B[a].Vd=!0}a=0;for(c=this.d.j.length;a<c;a++)if(g=this.d.j[a],!(g.global||g.V.bd||g.V.Tg||g.O)){e=0;for(k=g.e.length;e<
k;e++)this.d.Wd(g.e[e]);this.d.Ia()}b=!1;this.d.ii=!1};new Q(0,0,0,0);f.prototype.Yb=function(a){var c,b=a,e=!1,g=!this.d.ib;g&&(this.d.yg||(this.d.yg=document.createElement("canvas"),c=this.d.yg,c.width=this.d.r,c.height=this.d.q,this.d.Mk=c.getContext("2d"),e=!0),c=this.d.yg,b=this.d.Mk,c.width!==this.d.r&&(c.width=this.d.r,e=!0),c.height!==this.d.q&&(c.height=this.d.q,e=!0),e&&(b.webkitImageSmoothingEnabled=this.d.I,b.mozImageSmoothingEnabled=this.d.I,b.msImageSmoothingEnabled=this.d.I,b.imageSmoothingEnabled=
this.d.I));b.globalAlpha=1;b.globalCompositeOperation="source-over";this.d.lh&&!this.lk()&&b.clearRect(0,0,this.d.r,this.d.q);var f,m,e=0;for(f=this.B.length;e<f;e++)m=this.B[e],m.visible&&0<m.opacity&&11!==m.Ja&&(m.e.length||!m.Qb)?m.Yb(b):m.dh();g&&a.drawImage(c,0,0,this.d.width,this.d.height)};f.prototype.Ue=function(a){a.Ml(!0);this.d.la||(this.d.la=a.hb(this.d.r,this.d.q,this.d.I));if(this.d.la.de!==this.d.r||this.d.la.be!==this.d.q)a.deleteTexture(this.d.la),this.d.la=a.hb(this.d.r,this.d.q,
this.d.I);a.xb(this.d.la);this.d.ib||a.Rd(this.d.r,this.d.q);var c,b;for(c=this.B.length-1;0<=c;--c)b=this.B[c],b.visible&&1===b.opacity&&b.Bc&&0===b.Ja&&(b.e.length||!b.Qb)?b.Ue(a):b.dh();a.Ml(!1)};f.prototype.Hb=function(a){var c=0<this.H.length||this.d.Fe||!this.d.ib||this.d.R;if(c){this.d.la||(this.d.la=a.hb(this.d.r,this.d.q,this.d.I));if(this.d.la.de!==this.d.r||this.d.la.be!==this.d.q)a.deleteTexture(this.d.la),this.d.la=a.hb(this.d.r,this.d.q,this.d.I);a.xb(this.d.la);this.d.ib||a.Rd(this.d.r,
this.d.q)}else this.d.la&&(a.xb(null),a.deleteTexture(this.d.la),this.d.la=null);this.d.lh&&!this.lk()&&a.clear(0,0,0,0);var b,e,g;b=0;for(e=this.B.length;b<e;b++)g=this.B[b],g.visible&&0<g.opacity&&(g.e.length||!g.Qb)?g.Hb(a):g.dh();c&&(0===this.H.length||1===this.H.length&&this.d.ib?(1===this.H.length?(c=this.H[0].index,a.Wa(this.H[0].ma),a.Ce(null,1/this.d.r,1/this.d.q,0,0,1,1,this.scale,this.p,0,0,this.d.r/2,this.d.q/2,this.d.sb.Qa,this.ea[c]),a.Jg(this.H[0].ma)&&(this.d.W=!0)):a.Wa(0),this.d.ib||
a.Rd(this.d.width,this.d.height),a.xb(null),a.Ll(!1),a.Gf(1),a.yb(this.d.la),a.Jl(),a.wb(),a.ob(),c=this.d.width/2,b=this.d.height/2,a.Mi(-c,b,c,b,c,-b,-c,-b),a.yb(null),a.Ll(!0)):this.Pi(a,null,null,null))};f.prototype.$e=function(){return 0<this.H.length||this.d.Fe||!this.d.ib||this.d.R?this.d.la:null};f.prototype.fk=function(){var a=this.B[0].Pa(),c,b,e;c=1;for(b=this.B.length;c<b;c++)e=this.B[c],(0!==e.te||0!==e.ue)&&e.Pa()<a&&(a=e.Pa());return a};f.prototype.Hl=function(a){if(!this.jm){var c=
1/this.fk()*this.d.r/2;a>this.width-c&&(a=this.width-c);a<c&&(a=c)}this.scrollX!==a&&(this.scrollX=a,this.d.W=!0)};f.prototype.Il=function(a){if(!this.jm){var c=1/this.fk()*this.d.q/2;a>this.height-c&&(a=this.height-c);a<c&&(a=c)}this.scrollY!==a&&(this.scrollY=a,this.d.W=!0)};f.prototype.Wm=function(){this.Hl(this.scrollX);this.Il(this.scrollY)};f.prototype.Pi=function(a,c,b,e){var g=b?b.H:c?c.H:this.H,f=1,m=0,l=0,t=0,r=this.d.r,q=this.d.q;b?(f=b.g.Pa(),m=b.g.Ta(),l=b.g.T,t=b.g.U,r=b.g.ca,q=b.g.ba):
c&&(f=c.Pa(),m=c.Ta(),l=c.T,t=c.U,r=c.ca,q=c.ba);var u=this.d.Oh,B,v,w,C,h=0,W=1,V,X,D=this.d.r,I=this.d.q,oa=D/2,p=I/2,A=c?c.ze:this.ze,F=c?c.Oi:this.Oi,M=0,da=0,G=0,E=0,N=D,pa=D,H=I,qa=I,R=w=0;C=b?b.g.Ta():0;if(b){B=0;for(v=g.length;B<v;B++)w+=a.Go(g[B].ma),R+=a.Ho(g[B].ma);E=b.Aa;M=c.aa(E.left,E.top,!0,!0);G=c.aa(E.left,E.top,!1,!0);N=c.aa(E.right,E.bottom,!0,!0);H=c.aa(E.right,E.bottom,!1,!0);0!==C&&(B=c.aa(E.right,E.top,!0,!0),v=c.aa(E.right,E.top,!1,!0),da=c.aa(E.left,E.bottom,!0,!0),E=c.aa(E.left,
E.bottom,!1,!0),C=Math.min(M,N,B,da),N=Math.max(M,N,B,da),M=C,C=Math.min(G,H,v,E),H=Math.max(G,H,v,E),G=C);M-=w;G-=R;N+=w;H+=R;F.left=M/D;F.top=1-G/I;F.right=N/D;F.bottom=1-H/I;da=M=sa(M);E=G=sa(G);pa=N=ta(N);qa=H=ta(H);da-=w;E-=R;pa+=w;qa+=R;0>M&&(M=0);0>G&&(G=0);N>D&&(N=D);H>I&&(H=I);0>da&&(da=0);0>E&&(E=0);pa>D&&(pa=D);qa>I&&(qa=I);A.left=M/D;A.top=1-G/I;A.right=N/D;A.bottom=1-H/I}else A.left=F.left=0,A.top=F.top=0,A.right=F.right=1,A.bottom=F.bottom=1;R=b&&(a.Ef(g[0].ma)||0!==w||0!==R||1!==b.opacity||
b.type.V.hl)||c&&!b&&1!==c.opacity;a.Jl();if(R){u[h]||(u[h]=a.hb(D,I,this.d.I));if(u[h].de!==D||u[h].be!==I)a.deleteTexture(u[h]),u[h]=a.hb(D,I,this.d.I);a.Wa(0);a.xb(u[h]);X=qa-E;a.clearRect(da,I-E-X,pa-da,X);b?b.Hb(a):(a.yb(this.d.oa),a.Gf(c.opacity),a.wb(),a.translate(-oa,-p),a.ob(),a.ye(M,H,N,H,N,G,M,G,A));F.left=F.top=0;F.right=F.bottom=1;b&&(C=A.top,A.top=A.bottom,A.bottom=C);h=1;W=0}a.Gf(1);w=g.length-1;var Qa=a.Ii(g[w].ma)||!c&&!b&&!this.d.ib;B=C=0;for(v=g.length;B<v;B++){u[h]||(u[h]=a.hb(D,
I,this.d.I));if(u[h].de!==D||u[h].be!==I)a.deleteTexture(u[h]),u[h]=a.hb(D,I,this.d.I);a.Wa(g[B].ma);C=g[B].index;a.Jg(g[B].ma)&&(this.d.W=!0);0!=B||R?(a.Ce(e,1/D,1/I,F.left,F.top,F.right,F.bottom,f,m,l,t,(l+r)/2,(t+q)/2,this.d.sb.Qa,b?b.ea[C]:c?c.ea[C]:this.ea[C]),a.yb(null),B!==w||Qa?(a.xb(u[h]),X=qa-E,V=I-E-X,a.clearRect(da,V,pa-da,X)):(b?a.hd(b.Oa,b.La):c&&a.hd(c.Oa,c.La),a.xb(e)),a.yb(u[W]),a.wb(),a.translate(-oa,-p),a.ob(),a.ye(M,H,N,H,N,G,M,G,A),B!==w||Qa||a.yb(null)):(a.xb(u[h]),X=qa-E,V=
I-E-X,a.clearRect(da,V,pa-da,X),b?(b.Te&&b.Te.Wi?(V=b.Te.Wi,W=1/V.width,V=1/V.height):(W=1/b.width,V=1/b.height),a.Ce(e,W,V,F.left,F.top,F.right,F.bottom,f,m,l,t,(l+r)/2,(t+q)/2,this.d.sb.Qa,b.ea[C]),b.Hb(a)):(a.Ce(e,1/D,1/I,0,0,1,1,f,m,l,t,(l+r)/2,(t+q)/2,this.d.sb.Qa,c?c.ea[C]:this.ea[C]),a.yb(c?this.d.oa:this.d.la),a.wb(),a.translate(-oa,-p),a.ob(),a.ye(M,H,N,H,N,G,M,G,A)),F.left=F.top=0,F.right=F.bottom=1,b&&!Qa&&(C=H,H=G,G=C));h=0===h?1:0;W=0===h?1:0}Qa&&(a.Wa(0),b?a.hd(b.Oa,b.La):c?a.hd(c.Oa,
c.La):this.d.ib||(a.Rd(this.d.width,this.d.height),oa=this.d.width/2,p=this.d.height/2,G=M=0,N=this.d.width,H=this.d.height),a.xb(e),a.yb(u[W]),a.wb(),a.translate(-oa,-p),a.ob(),b&&1===g.length&&!R?a.ye(M,G,N,G,N,H,M,H,A):a.ye(M,H,N,H,N,G,M,G,A),a.yb(null))};f.prototype.ig=function(a){var c,b;c=0;for(b=this.B.length;c<b;c++)if(this.B[c].K===a)return this.B[c];return null};f.prototype.nb=function(){var a,c,b,e={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.p,w:this.width,h:this.height,fv:this.he,
persist:this.gd,fx:[],layers:{}};a=0;for(c=this.A.length;a<c;a++)b=this.A[a],e.fx.push({name:b.name,active:b.fb,params:this.ea[b.index]});a=0;for(c=this.B.length;a<c;a++)b=this.B[a],e.layers[b.K.toString()]=b.nb();return e};f.prototype.Mb=function(a){var c,b,e,g;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.p=a.a;this.width=a.w;this.height=a.h;this.gd=a.persist;"undefined"!==typeof a.fv&&(this.he=a.fv);var f=a.fx;c=0;for(b=f.length;c<b;c++)if(e=this.Qh(f[c].name))e.fb=f[c].active,this.ea[e.index]=
f[c].params;this.Rb();c=a.layers;for(g in c)c.hasOwnProperty(g)&&(a=this.ig(parseInt(g,10)))&&a.Mb(c[g])};xb=f;q.prototype.Rb=function(){S(this.H);this.Bc=!0;var a,c,b;a=0;for(c=this.A.length;a<c;a++)b=this.A[a],b.fb&&(this.H.push(b),b.Nb||(this.Bc=!1))};q.prototype.Qh=function(a){var c,b,e;c=0;for(b=this.A.length;c<b;c++)if(e=this.A[c],e.name===a)return e;return null};q.prototype.bn=function(){var a,c,b,e,g,f;c=a=0;for(b=this.kb.length;a<b;a++){e=this.kb[a];g=this.d.j[e[1]];f=this.d.bj(g);g=!0;if(!f||
this.wa.he){e=this.d.sd(e,this,!0);if(!e)continue;r.push(e);e.type.global&&(g=!1,this.Re.push(e.uid))}g&&(this.kb[c]=this.kb[a],c++)}this.kb.length=c;this.d.Ia();!this.d.n&&this.A.length&&(this.Ja=this.Gn);this.Pe=ab(this.Ja);this.d.k&&bb(this,this.Ja,this.d.k);this.Pb=!0};q.prototype.Ae=function(a,c){var b=Ba(this.e,a);0>b||(c&&this.pb&&a.Va&&a.Va.right>=a.Va.left&&(a.Ha(),this.Fa.update(a,a.Va,null),a.Va.set(0,0,-1,-1)),b===this.e.length-1?this.e.pop():(xa(this.e,b),this.Hf(b)),this.Pb=!0)};q.prototype.Le=
function(a,c){a.Sb=this.e.length;this.e.push(a);c&&this.pb&&a.Va&&a.za();this.Pb=!0};q.prototype.Cp=function(a){this.e.unshift(a);this.Hf(0)};q.prototype.pp=function(a,c,b){var e=a.$b();c=c.$b();xa(this.e,e);e<c&&c--;b&&c++;c===this.e.length?this.e.push(a):this.e.splice(c,0,a);this.Hf(e<c?e:c)};q.prototype.Hf=function(a){-1===this.Jc?this.Jc=a:a<this.Jc&&(this.Jc=a);this.Pb=this.Vd=!0};q.prototype.ej=function(){if(this.Vd){-1===this.Jc&&(this.Jc=0);var a,c,b;if(this.pb)for(a=this.Jc,c=this.e.length;a<
c;++a)b=this.e[a],b.Sb=a,this.Fa.np(b.Va);else for(a=this.Jc,c=this.e.length;a<c;++a)this.e[a].Sb=a;this.Vd=!1;this.Jc=-1}};q.prototype.Pa=function(a){return this.Eo()*(this.d.ib||a?this.d.Me:1)};q.prototype.Eo=function(){return(this.scale*this.wa.scale-1)*this.jj+1};q.prototype.Ta=function(){return this.nc?0:Ga(this.wa.p+this.p)};var a=[],g=[],e=[];q.prototype.Wh=function(){this.ej();this.Fa.Bl(this.T,this.U,this.ca,this.ba,e);if(!e.length)return u();if(1===e.length){var a=u();za(a,e[0]);S(e);return a}for(var c=
!0;1<e.length;){for(var a=e,b=void 0,k=void 0,f=void 0,m=void 0,r=void 0,b=0,k=a.length;b<k-1;b+=2){var f=a[b],m=a[b+1],r=u(),l=f,t=m,q=r,K=0,Y=0,B=0,ca=l.length,w=t.length,C=void 0,h=void 0;for(q.length=ca+w;K<ca&&Y<w;++B)C=l[K],h=t[Y],C.Sb<h.Sb?(q[B]=C,++K):(q[B]=h,++Y);for(;K<ca;++K,++B)q[B]=l[K];for(;Y<w;++Y,++B)q[B]=t[Y];c||(v(f),v(m));g.push(r)}1===k%2&&(c?(f=u(),za(f,a[k-1]),g.push(f)):g.push(a[k-1]));za(a,g);S(g);c=!1}a=e[0];S(e);return a};q.prototype.Yb=function(a){this.hc=this.eg||1!==this.opacity||
0!==this.Ja;var c=this.d.canvas,b=a,e=!1;this.hc&&(this.d.xg||(this.d.xg=document.createElement("canvas"),c=this.d.xg,c.width=this.d.r,c.height=this.d.q,this.d.Lk=c.getContext("2d"),e=!0),c=this.d.xg,b=this.d.Lk,c.width!==this.d.r&&(c.width=this.d.r,e=!0),c.height!==this.d.q&&(c.height=this.d.q,e=!0),e&&(b.webkitImageSmoothingEnabled=this.d.I,b.mozImageSmoothingEnabled=this.d.I,b.msImageSmoothingEnabled=this.d.I,b.imageSmoothingEnabled=this.d.I),this.Qb&&b.clearRect(0,0,this.d.r,this.d.q));b.globalAlpha=
1;b.globalCompositeOperation="source-over";this.Qb||(b.fillStyle="rgb("+this.Eb[0]+","+this.Eb[1]+","+this.Eb[2]+")",b.fillRect(0,0,this.d.r,this.d.q));b.save();this.nc=!0;var e=this.Uc(!0),g=this.Uc(!1);this.nc=!1;this.d.ve&&(e=Math.round(e),g=Math.round(g));this.Ng(e,g,b);var f=this.Pa();b.scale(f,f);b.translate(-e,-g);this.pb?(this.Ba.left=this.Fa.Ra(this.T),this.Ba.top=this.Fa.Sa(this.U),this.Ba.right=this.Fa.Ra(this.ca),this.Ba.bottom=this.Fa.Sa(this.ba),this.Pb||!this.Ba.Ve(this.oe)?(v(this.wc),
e=this.Wh(),this.Pb=!1,this.oe.rd(this.Ba)):e=this.wc):e=this.e;for(var m,l=null,g=0,f=e.length;g<f;++g)m=e[g],m!==l&&(this.wn(m,b),l=m);this.pb&&(this.wc=e);b.restore();this.hc&&(a.globalCompositeOperation=this.Pe,a.globalAlpha=this.opacity,a.drawImage(c,0,0))};q.prototype.wn=function(a,c){if(a.visible&&0!==a.width&&0!==a.height){a.Ha();var b=a.Aa;b.right<this.T||b.bottom<this.U||b.left>this.ca||b.top>this.ba||(c.globalCompositeOperation=a.Pe,a.Yb(c))}};q.prototype.dh=function(){this.nc=!0;var a=
this.Uc(!0),c=this.Uc(!1);this.nc=!1;this.d.ve&&(a=Math.round(a),c=Math.round(c));this.Ng(a,c,null)};q.prototype.Ng=function(a,c,b){var e=this.Pa();this.T=a;this.U=c;this.ca=a+1/e*this.d.r;this.ba=c+1/e*this.d.q;a=this.Ta();0!==a&&(b&&(b.translate(this.d.r/2,this.d.q/2),b.rotate(-a),b.translate(this.d.r/-2,this.d.q/-2)),this.Hc.set(this.T,this.U,this.ca,this.ba),this.Hc.offset((this.T+this.ca)/-2,(this.U+this.ba)/-2),this.em.Ol(this.Hc,a),this.em.Dj(this.Hc),this.Hc.offset((this.T+this.ca)/2,(this.U+
this.ba)/2),this.T=this.Hc.left,this.U=this.Hc.top,this.ca=this.Hc.right,this.ba=this.Hc.bottom)};q.prototype.Ue=function(a){if(this.hc=this.eg){this.d.oa||(this.d.oa=a.hb(this.d.r,this.d.q,this.d.I));if(this.d.oa.de!==this.d.r||this.d.oa.be!==this.d.q)a.deleteTexture(this.d.oa),this.d.oa=a.hb(this.d.r,this.d.q,this.d.I);a.xb(this.d.oa)}this.nc=!0;var c=this.Uc(!0),b=this.Uc(!1);this.nc=!1;this.d.ve&&(c=Math.round(c),b=Math.round(b));this.Ng(c,b,null);c=this.Pa();a.wb();a.scale(c,c);a.Og(-this.Ta());
a.translate((this.T+this.ca)/-2,(this.U+this.ba)/-2);a.ob();this.pb?(this.Ba.left=this.Fa.Ra(this.T),this.Ba.top=this.Fa.Sa(this.U),this.Ba.right=this.Fa.Ra(this.ca),this.Ba.bottom=this.Fa.Sa(this.ba),this.Pb||!this.Ba.Ve(this.oe)?(v(this.wc),c=this.Wh(),this.Pb=!1,this.oe.rd(this.Ba)):c=this.wc):c=this.e;for(var e,g=null,b=c.length-1;0<=b;--b)e=c[b],e!==g&&(this.yn(c[b],a),g=e);this.pb&&(this.wc=c);this.Qb||(this.zh=this.d.ud++,a.Qg(this.zh),a.Kl(1,1,1),a.Yj(),a.Hp())};q.prototype.Hb=function(a){var c=
0,b=0;if(this.hc=this.eg||1!==this.opacity||0<this.H.length||0!==this.Ja){this.d.oa||(this.d.oa=a.hb(this.d.r,this.d.q,this.d.I));if(this.d.oa.de!==this.d.r||this.d.oa.be!==this.d.q)a.deleteTexture(this.d.oa),this.d.oa=a.hb(this.d.r,this.d.q,this.d.I);a.xb(this.d.oa);this.Qb&&a.clear(0,0,0,0)}this.Qb||(this.d.R?(a.Qg(this.zh),a.Kl(this.Eb[0]/255,this.Eb[1]/255,this.Eb[2]/255),a.Yj(),a.Up()):a.clear(this.Eb[0]/255,this.Eb[1]/255,this.Eb[2]/255,1));this.nc=!0;var e=this.Uc(!0),c=this.Uc(!1);this.nc=
!1;this.d.ve&&(e=Math.round(e),c=Math.round(c));this.Ng(e,c,null);e=this.Pa();a.wb();a.scale(e,e);a.Og(-this.Ta());a.translate((this.T+this.ca)/-2,(this.U+this.ba)/-2);a.ob();this.pb?(this.Ba.left=this.Fa.Ra(this.T),this.Ba.top=this.Fa.Sa(this.U),this.Ba.right=this.Fa.Ra(this.ca),this.Ba.bottom=this.Fa.Sa(this.ba),this.Pb||!this.Ba.Ve(this.oe)?(v(this.wc),c=this.Wh(),this.Pb=!1,this.oe.rd(this.Ba)):c=this.wc):c=this.e;var g,f,m=null,b=0;for(g=c.length;b<g;++b)f=c[b],f!==m&&(this.xn(c[b],a),m=f);this.pb&&
(this.wc=c);this.hc&&(c=this.H.length?this.H[0].ma:0,b=this.H.length?this.H[0].index:0,0===this.H.length||1===this.H.length&&!a.Ii(c)&&1===this.opacity?(1===this.H.length?(a.Wa(c),a.Ce(this.wa.$e(),1/this.d.r,1/this.d.q,0,0,1,1,e,this.Ta(),this.T,this.U,(this.T+this.ca)/2,(this.U+this.ba)/2,this.d.sb.Qa,this.ea[b]),a.Jg(c)&&(this.d.W=!0)):a.Wa(0),a.xb(this.wa.$e()),a.Gf(this.opacity),a.yb(this.d.oa),a.hd(this.Oa,this.La),a.wb(),a.ob(),e=this.d.r/2,c=this.d.q/2,a.Mi(-e,c,e,c,e,-c,-e,-c),a.yb(null)):
this.wa.Pi(a,this,null,this.wa.$e()))};q.prototype.xn=function(a,c){if(a.visible&&0!==a.width&&0!==a.height){a.Ha();var b=a.Aa;b.right<this.T||b.bottom<this.U||b.left>this.ca||b.top>this.ba||(c.Qg(a.ud),a.om?this.zn(a,c):(c.Wa(0),c.hd(a.Oa,a.La),a.Hb(c)))}};q.prototype.yn=function(a,c){if(a.visible&&0!==a.width&&0!==a.height){a.Ha();var b=a.Aa;b.right<this.T||b.bottom<this.U||b.left>this.ca||b.top>this.ba||(a.ud=this.d.ud++,0===a.Ja&&1===a.opacity&&a.Bc&&a.Ue&&(c.Qg(a.ud),a.Ue(c)))}};q.prototype.zn=
function(a,c){var b=a.H[0].ma,e=a.H[0].index,g=this.Pa();if(1!==a.H.length||c.Ii(b)||c.Ep(b)||(a.p||a.g.Ta())&&c.Ef(b)||1!==a.opacity||a.type.V.hl)this.wa.Pi(c,this,a,this.hc?this.d.oa:this.wa.$e()),c.wb(),c.scale(g,g),c.Og(-this.Ta()),c.translate((this.T+this.ca)/-2,(this.U+this.ba)/-2),c.ob();else{c.Wa(b);c.hd(a.Oa,a.La);c.Jg(b)&&(this.d.W=!0);var f=0,m=0,l=0,t=0;c.Ef(b)&&(t=a.Aa,f=this.aa(t.left,t.top,!0,!0),m=this.aa(t.left,t.top,!1,!0),l=this.aa(t.right,t.bottom,!0,!0),t=this.aa(t.right,t.bottom,
!1,!0),f=f/windowWidth,m=1-m/windowHeight,l=l/windowWidth,t=1-t/windowHeight);var r;a.Te&&a.Te.Wi?(r=a.Te.Wi,b=1/r.width,r=1/r.height):(b=1/a.width,r=1/a.height);c.Ce(this.hc?this.d.oa:this.wa.$e(),b,r,f,m,l,t,g,this.Ta(),this.T,this.U,(this.T+this.ca)/2,(this.U+this.ba)/2,this.d.sb.Qa,a.ea[e]);a.Hb(c)}};q.prototype.Uc=function(a){var c=0,b=0,e=this.d.devicePixelRatio;this.d.Id&&(c*=e,b*=e);var e=this.d.sl,g=this.d.tl,e=(this.wa.scrollX-e)*this.te+e,g=(this.wa.scrollY-g)*this.ue+g,f,m,l=1/this.Pa(!1);
f=e-this.d.r*l/2;m=g-this.d.q*l/2;f+=c*l;m+=b*l;b=this.Ta();0!==b&&(f-=e,m-=g,c=Math.cos(b),b=Math.sin(b),l=f*c-m*b,m=m*c+f*b,f=l+e,m+=g);return a?f:m};q.prototype.aa=function(a,b,e,k){var g=this.d.sl,f=this.d.tl,m=(this.wa.scrollX-g)*this.te+g,l=(this.wa.scrollY-f)*this.ue+f,f=m,g=l,t=this.Ta();if(0!==t){a-=m;b-=l;var r=Math.cos(-t),t=Math.sin(-t),q=a*r-b*t;b=b*r+a*t;a=q+m;b+=l}m=1/this.Pa(!k);k?(f-=this.d.r*m/2,g-=this.d.q*m/2):(f-=this.d.width*m/2,g-=this.d.height*m/2);f=(a-f)/m;g=(b-g)/m;a=this.d.devicePixelRatio;
this.d.Id&&!k&&(f/=a,g/=a);return e?f:g};q.prototype.nb=function(){var a,b,e,k={s:this.scale,a:this.p,vl:this.T,vt:this.U,vr:this.ca,vb:this.ba,v:this.visible,bc:this.Eb,t:this.Qb,px:this.te,py:this.ue,o:this.opacity,zr:this.jj,fx:[],cg:this.Re,instances:[]};a=0;for(b=this.A.length;a<b;a++)e=this.A[a],k.fx.push({name:e.name,active:e.fb,params:this.ea[e.index]});return k};q.prototype.Mb=function(a){var b,e,k;this.scale=a.s;this.p=a.a;this.T=a.vl;this.U=a.vt;this.ca=a.vr;this.ba=a.vb;this.visible=a.v;
this.Eb=a.bc;this.Qb=a.t;this.te=a.px;this.ue=a.py;this.opacity=a.o;this.jj=a.zr;this.Re=a.cg||[];za(this.kb,this.Xl);var g=new ba;b=0;for(k=this.Re.length;b<k;++b)g.add(this.Re[b]);e=b=0;for(k=this.kb.length;b<k;++b)g.contains(this.kb[b][2])||(this.kb[e]=this.kb[b],++e);ya(this.kb,e);e=a.fx;b=0;for(k=e.length;b<k;b++)if(a=this.Qh(e[b].name))a.fb=e[b].active,this.ea[a.index]=e[b].params;this.Rb();this.e.sort(m);this.Vd=!0};Lb=q})();
(function(){function f(a,b){var c,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}}function m(a,b){return a.index-b.index}function q(a){var b,c,d,e;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(m);a.length>=x.length&&(x.length=a.length+1);x[a.length]||(x[a.length]=[]);e=x[a.length];b=0;for(c=e.length;b<c;b++)if(d=e[b],f(a,d))return d;e.push(a);return a}
function u(a,b){this.d=a;this.gm={};this.Rj={};this.ai=!1;this.nk=new ba;this.Eh=[];this.mh=[];this.name=b[0];var c=b[1];this.Yc=[];var d,e;d=0;for(e=c.length;d<e;d++)this.pk(c[d],null,this.Yc)}function v(a){this.type=a;this.e=[];this.L=[];this.ya=!0}function r(a,b,c){this.sheet=a;this.parent=b;this.d=a.d;this.ka=[];this.jd=[];this.mk=this.$g=this.Yi=this.di=this.group=this.Wl=!1;this.Ka=[];this.Db=[];this.zb=[];this.cf="";this.bf=this.di=this.group=!1;this.Uf=null;c[1]&&(this.cf=c[1][1].toLowerCase(),
this.group=!0,this.di=!!c[1][0],this.Uf=[],this.bf=this.di,this.d.Zd.push(this),this.d.kg[this.cf]=this);this.zc=c[2];this.K=c[4];this.group||(this.d.Cj[this.K.toString()]=this);var d=c[5];a=0;for(b=d.length;a<b;a++){var e=new Mb(this,d[a]);e.index=a;this.Ka.push(e);this.rj(e.type)}d=c[6];a=0;for(b=d.length;a<b;a++)e=new Nb(this,d[a]),e.index=a,this.Db.push(e);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.pk(c[a],this,this.zb);this.tg=!1;this.Ka.length&&(this.tg=null==this.Ka[0].type&&
this.Ka[0].Ca==Z.prototype.N.xm)}function b(a,b){var c,d,e;if(a&&(-1===b.indexOf(a)&&b.push(a),a.rb))for(c=0,d=a.Ya.length;c<d;c++)e=a.Ya[c],a!==e&&-1===b.indexOf(e)&&b.push(e)}function a(a,b){this.gb=a;this.sheet=a.sheet;this.d=a.d;this.D=[];this.fa=[];this.X={};this.index=-1;this.Je=!1;this.Ca=this.d.Kc(b[1]);this.trigger=0<b[3];this.Qj=2===b[3];this.gi=b[5];this.kp=b[6];this.K=b[7];this.d.Vc[this.K.toString()]=this;-1===b[0]?(this.type=null,this.ra=this.Si,this.qd=null,this.Fb=-1):(this.type=this.d.j[b[0]],
this.ra=this.kp?this.Mp:this.Ri,b[2]?(this.qd=this.type.hg(b[2]),this.Fb=this.type.Ph(b[2])):(this.qd=null,this.Fb=-1),this.gb.parent&&this.gb.parent.Rg());this.Qj&&(this.ra=this.Np);if(10===b.length){var c,d,e=b[9];c=0;for(d=e.length;c<d;c++){var k=new Ob(this,e[c]);this.D.push(k)}this.fa.length=e.length}}function g(a,b){this.gb=a;this.sheet=a.sheet;this.d=a.d;this.D=[];this.fa=[];this.X={};this.index=-1;this.Je=!1;this.Ca=this.d.Kc(b[1]);-1===b[0]?(this.type=null,this.ra=this.Si,this.qd=null,this.Fb=
-1):(this.type=this.d.j[b[0]],this.ra=this.Ri,b[2]?(this.qd=this.type.hg(b[2]),this.Fb=this.type.Ph(b[2])):(this.qd=null,this.Fb=-1));this.K=b[3];this.d.Nc[this.K.toString()]=this;if(6===b.length){var c,d,e=b[5];c=0;for(d=e.length;c<d;c++){var k=new Ob(this,e[c]);this.D.push(k)}this.fa.length=e.length}}function e(){L++;z.length===L&&z.push(new Pb);return z[L]}function d(a,b){this.ub=a;this.gb=a.gb;this.sheet=a.sheet;this.d=a.d;this.type=b[0];this.Zb=null;this.Cc=0;this.get=null;this.Hj=0;this.wa=
null;this.key=0;this.object=null;this.index=0;this.Nf=this.Sd=this.Nf=this.Sd=this.Uj=this.yd=this.Of=null;this.Cb=!1;var c,d,e;switch(b[0]){case 0:case 7:this.Zb=new Qb(this,b[1]);this.Cc=0;this.get=this.No;break;case 1:this.Zb=new Qb(this,b[1]);this.Cc=0;this.get=this.Oo;break;case 5:this.Zb=new Qb(this,b[1]);this.Cc=0;this.get=this.So;break;case 3:case 8:this.Hj=b[1];this.get=this.Lo;break;case 6:this.wa=this.d.ti[b[1]];this.get=this.To;break;case 9:this.key=b[1];this.get=this.Ro;break;case 4:this.object=
this.d.j[b[1]];this.get=this.Uo;this.gb.rj(this.object);this.ub instanceof Nb?this.gb.Rg():this.gb.parent&&this.gb.parent.Rg();break;case 10:this.index=b[1];a.type&&a.type.O?(this.get=this.Po,this.Cb=!0):this.get=this.Qo;break;case 11:this.Of=b[1];this.yd=null;this.get=this.Mo;break;case 2:case 12:this.Uj=b[1];this.get=this.Ko;break;case 13:for(this.get=this.Vo,this.Sd=[],this.Nf=[],c=1,d=b.length;c<d;c++)e=new Ob(this.ub,b[c]),this.Sd.push(e),this.Nf.push(0)}}function c(a,b,c){this.sheet=a;this.parent=
b;this.d=a.d;this.ka=[];this.name=c[1];this.ci=c[3];this.kf=!!c[4];this.sg=!!c[5];this.K=c[6];this.d.He[this.K.toString()]=this;this.data=this.ci;this.parent?(this.Pd=this.kf||this.sg?-1:this.d.Zp++,this.d.Pm.push(this)):(this.Pd=-1,this.d.Om.push(this))}function n(a,b,c){this.sheet=a;this.parent=b;this.d=a.d;this.ka=[];this.df=null;this.ap=c[1];this.fb=!0}function k(){this.Yl=[];this.reset(null)}var x=[];u.prototype.toString=function(){return this.name};u.prototype.pk=function(a,b,c){switch(a[0]){case 0:a=
new Rb(this,b,a);if(a.zc)for(c.push(a),c=0,b=a.Ka.length;c<b;c++)a.Ka[c].trigger&&this.qk(a,c);else a.zk()?this.qk(a,0):c.push(a);break;case 1:a=new Ib(this,b,a);c.push(a);break;case 2:a=new Sb(this,b,a),c.push(a)}};u.prototype.ja=function(){var a,b;a=0;for(b=this.Yc.length;a<b;a++)this.Yc[a].ja(a<b-1&&this.Yc[a+1].tg)};u.prototype.cj=function(){S(this.Eh);S(this.mh);this.qj(this);S(this.mh)};u.prototype.qj=function(a){var b,c,d,e,k=a.Eh,g=a.mh,f=this.nk.Ud();b=0;for(c=f.length;b<c;++b)d=f[b],e=d.df,
!d.fb||a===e||-1<g.indexOf(e)||(g.push(e),e.qj(a),k.push(e))};u.prototype.ra=function(a){this.d.Kr||(this.ai=!0,a||(this.d.li=!0));var b,c;b=0;for(c=this.Yc.length;b<c;b++){var d=this.Yc[b];d.ra();this.d.yh(d.ka);this.d.$c&&this.d.Ia()}a||(this.d.li=!1)};u.prototype.qk=function(a,b){a.zc||this.d.ah.push(a);var c,d,e=a.Ka[b],k;e.type?k=e.type.name:k="system";var g=(c=e.Qj)?this.Rj:this.gm;g[k]||(g[k]=[]);k=g[k];g=e.Ca;if(c){if(e.D.length&&(e=e.D[0],1===e.type&&2===e.Zb.type)){e=e.Zb.value.toLowerCase();
c=0;for(d=k.length;c<d;c++)if(k[c].method==g){c=k[c].Xe;c[e]?c[e].push([a,b]):c[e]=[[a,b]];return}c={};c[e]=[[a,b]];k.push({method:g,Xe:c})}}else{c=0;for(d=k.length;c<d;c++)if(k[c].method==g){k[c].Xe.push([a,b]);return}Ub.Lm&&g===Ub.Lm.prototype.N.Uq?k.unshift({method:g,Xe:[[a,b]]}):k.push({method:g,Xe:[[a,b]]})}};yb=u;v.prototype.kk=function(){return this.ya?this.type.e.length:this.e.length};v.prototype.Ib=function(){return this.ya?this.type.e:this.e};v.prototype.Df=function(a){a&&(a.d.jb().Wb.zc?
(this.ya&&(S(this.e),za(this.L,a.type.e),this.ya=!1),a=this.L.indexOf(a),-1!==a&&(this.e.push(this.L[a]),this.L.splice(a,1))):(this.ya=!1,S(this.e),this.e[0]=a))};hb=v;window._c2hh_="7D411AF2A209E605333BECE836F523824A3967F9";r.prototype.ja=function(a){var b,c=this.parent;if(this.group)for(this.$g=!0;c;){if(!c.group){this.$g=!1;break}c=c.parent}this.Yi=!this.zk()&&(!this.parent||this.parent.group&&this.parent.$g);this.mk=!!a;this.jd=this.ka.slice(0);for(c=this.parent;c;){a=0;for(b=c.ka.length;a<b;a++)this.Nm(c.ka[a]);
c=c.parent}this.ka=q(this.ka);this.jd=q(this.jd);a=0;for(b=this.Ka.length;a<b;a++)this.Ka[a].ja();a=0;for(b=this.Db.length;a<b;a++)this.Db[a].ja();a=0;for(b=this.zb.length;a<b;a++)this.zb[a].ja(a<b-1&&this.zb[a+1].tg)};r.prototype.Qp=function(a){if(this.bf!==!!a){this.bf=!!a;var b;a=0;for(b=this.Uf.length;a<b;++a)this.Uf[a].lm();0<b&&this.d.P.xd&&this.d.P.xd.cj()}};r.prototype.rj=function(a){b(a,this.ka)};r.prototype.Nm=function(a){b(a,this.jd)};r.prototype.Rg=function(){this.Wl=!0;this.parent&&this.parent.Rg()};
r.prototype.zk=function(){return this.Ka.length?this.Ka[0].trigger:!1};r.prototype.ra=function(){var a,b,c=!1,d=this.d,e=this.d.jb();e.Wb=this;var k=this.Ka;this.tg||(e.Fh=!1);if(this.zc){0===k.length&&(c=!0);e.Xa=0;for(a=k.length;e.Xa<a;e.Xa++)b=k[e.Xa],b.trigger||(b=b.ra())&&(c=!0);(e.Ld=c)&&this.Qi()}else{e.Xa=0;for(a=k.length;e.Xa<a;e.Xa++)if(b=k[e.Xa].ra(),!b){e.Ld=!1;this.Yi&&d.$c&&d.Ia();return}e.Ld=!0;this.Qi()}this.In(e)};r.prototype.In=function(a){a.Ld&&this.mk&&(a.Fh=!0);this.Yi&&this.d.$c&&
this.d.Ia()};r.prototype.Kp=function(a){this.d.jb().Wb=this;this.Ka[a].ra()&&(this.Qi(),this.d.jb().Ld=!0)};r.prototype.Qi=function(){var a=this.d.jb(),b;a.qb=0;for(b=this.Db.length;a.qb<b;a.qb++)if(this.Db[a.qb].ra())return;this.Fl()};r.prototype.Ip=function(){var a=this.d.jb(),b;for(b=this.Db.length;a.qb<b;a.qb++)if(this.Db[a.qb].ra())return;this.Fl()};r.prototype.Fl=function(){if(this.zb.length){var a,b,c,d,e=this.zb.length-1;this.d.Ki(this);if(this.Wl)for(a=0,b=this.zb.length;a<b;a++)c=this.zb[a],
(d=!this.$g||!this.group&&a<e)&&this.d.Ji(c.ka),c.ra(),d?this.d.we(c.ka):this.d.yh(c.ka);else for(a=0,b=this.zb.length;a<b;a++)this.zb[a].ra();this.d.wl()}};r.prototype.Lp=function(){var a=this.d.jb();a.Wb=this;var b=!1,c;a.Xa=0;for(c=this.Ka.length;a.Xa<c;a.Xa++)if(this.Ka[a.Xa].ra())b=!0;else if(!this.zc)return!1;return this.zc?b:!0};r.prototype.gp=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.Ka[b].type===a.type)return!1;return!0};Rb=r;a.prototype.ja=function(){var a,b,c;
a=0;for(b=this.D.length;a<b;a++)c=this.D[a],c.ja(),c.Cb&&(this.Je=!0)};a.prototype.Np=function(){return!0};a.prototype.Si=function(){var a,b;a=0;for(b=this.D.length;a<b;a++)this.fa[a]=this.D[a].get();return Oa(this.Ca.apply(this.d.jc,this.fa),this.gi)};a.prototype.Mp=function(){var a,b;a=0;for(b=this.D.length;a<b;a++)this.fa[a]=this.D[a].get();a=this.Ca.apply(this.qd?this.qd:this.type,this.fa);this.type.$d();return a};a.prototype.Ri=function(){var a,b,c,d,e,k,g,f,m=this.type,h=m.Z(),r=this.gb.zc&&
!this.trigger;b=0;var n=m.rb,q=m.O,u=m.qc,x=this.Fb,z=-1<x,p=this.Je,A=this.D,F=this.fa,v=this.gi,L=this.Ca,G;if(p)for(b=0,e=A.length;b<e;++b)k=A[b],k.Cb||(F[b]=k.get(0));else for(b=0,e=A.length;b<e;++b)F[b]=A[b].get(0);if(h.ya){S(h.e);S(h.L);G=m.e;a=0;for(d=G.length;a<d;++a){f=G[a];if(p)for(b=0,e=A.length;b<e;++b)k=A[b],k.Cb&&(F[b]=k.get(a));z?(b=0,q&&(b=f.type.ge[u]),b=L.apply(f.G[x+b],F)):b=L.apply(f,F);(g=Oa(b,v))?h.e.push(f):r&&h.L.push(f)}m.finish&&m.finish(!0);h.ya=!1;m.$d();return h.kk()}c=
0;G=(g=r&&!this.gb.gp(this))?h.L:h.e;var E=!1;a=0;for(d=G.length;a<d;++a){f=G[a];if(p)for(b=0,e=A.length;b<e;++b)k=A[b],k.Cb&&(F[b]=k.get(a));z?(b=0,q&&(b=f.type.ge[u]),b=L.apply(f.G[x+b],F)):b=L.apply(f,F);if(Oa(b,v))if(E=!0,g){if(h.e.push(f),n)for(b=0,e=f.siblings.length;b<e;b++)k=f.siblings[b],k.type.Z().e.push(k)}else{G[c]=f;if(n)for(b=0,e=f.siblings.length;b<e;b++)k=f.siblings[b],k.type.Z().e[c]=k;c++}else if(g){G[c]=f;if(n)for(b=0,e=f.siblings.length;b<e;b++)k=f.siblings[b],k.type.Z().L[c]=
k;c++}else if(r&&(h.L.push(f),n))for(b=0,e=f.siblings.length;b<e;b++)k=f.siblings[b],k.type.Z().L.push(k)}ya(G,c);if(n)for(q=m.Ya,a=0,d=q.length;a<d;a++)f=q[a].Z(),g?ya(f.L,c):ya(f.e,c);c=E;if(g&&!E)for(a=0,d=h.e.length;a<d;a++){f=h.e[a];if(p)for(b=0,e=A.length;b<e;b++)k=A[b],k.Cb&&(F[b]=k.get(a));b=z?L.apply(f.G[x],F):L.apply(f,F);if(Oa(b,v)){E=!0;break}}m.finish&&m.finish(c||r);return r?E:h.kk()};Mb=a;g.prototype.ja=function(){var a,b,c;a=0;for(b=this.D.length;a<b;a++)c=this.D[a],c.ja(),c.Cb&&(this.Je=
!0)};g.prototype.Si=function(){var a=this.d,b,c,d=this.D,e=this.fa;b=0;for(c=d.length;b<c;++b)e[b]=d[b].get();return this.Ca.apply(a.jc,e)};g.prototype.Ri=function(){var a=this.type,b=this.Fb,c=a.qc,d=this.Je,e=this.D,k=this.fa,g=this.Ca,f=a.Z().Ib(),a=a.O,m=-1<b,h,r,n,q,u,x;if(d)for(r=0,q=e.length;r<q;++r)u=e[r],u.Cb||(k[r]=u.get(0));else for(r=0,q=e.length;r<q;++r)k[r]=e[r].get(0);h=0;for(n=f.length;h<n;++h){x=f[h];if(d)for(r=0,q=e.length;r<q;++r)u=e[r],u.Cb&&(k[r]=u.get(h));m?(r=0,a&&(r=x.type.ge[c]),
g.apply(x.G[b+r],k)):g.apply(x,k)}return!1};Nb=g;var z=[],L=-1;d.prototype.ja=function(){var a,b;if(11===this.type)this.yd=this.d.bk(this.Of,this.gb.parent);else if(13===this.type)for(a=0,b=this.Sd.length;a<b;a++)this.Sd[a].ja();this.Zb&&this.Zb.ja()};d.prototype.op=function(a){this.Cb||!a||a.V.Tg||(this.Cb=!0)};d.prototype.Nl=function(){this.Cb=!0};d.prototype.No=function(a){this.Cc=a||0;a=e();this.Zb.get(a);L--;return a.data};d.prototype.Oo=function(a){this.Cc=a||0;a=e();this.Zb.get(a);L--;return P(a.data)?
a.data:""};d.prototype.Uo=function(){return this.object};d.prototype.Lo=function(){return this.Hj};d.prototype.So=function(a){this.Cc=a||0;a=e();this.Zb.get(a);L--;return a.ua()?this.d.Co(a.data):this.d.Bo(a.data)};d.prototype.To=function(){return this.wa};d.prototype.Ro=function(){return this.key};d.prototype.Qo=function(){return this.index};d.prototype.Po=function(a){a=a||0;var b=this.ub.type,c=null,c=b.Z(),d=c.Ib();if(d.length)c=d[a%d.length].type;else if(c.L.length)c=c.L[a%c.L.length].type;else if(b.e.length)c=
b.e[a%b.e.length].type;else return 0;return this.index+c.ag[b.qc]};d.prototype.Mo=function(){return this.yd};d.prototype.Ko=function(){return this.Uj};d.prototype.Vo=function(){var a,b;a=0;for(b=this.Sd.length;a<b;a++)this.Nf[a]=this.Sd[a].get();return this.Nf};Ob=d;c.prototype.ja=function(){this.ka=q(this.ka)};c.prototype.Vp=function(a){var b=this.d.$j();this.parent&&!this.kf&&b?(this.Pd>=b.length&&(b.length=this.Pd+1),b[this.Pd]=a):this.data=a};c.prototype.Jo=function(){var a=this.d.$j();return!this.parent||
this.kf||!a||this.sg?this.data:this.Pd>=a.length||"undefined"===typeof a[this.Pd]?this.ci:a[this.Pd]};c.prototype.ra=function(){!this.parent||this.kf||this.sg||this.Vp(this.ci)};Ib=c;n.prototype.toString=function(){return"include:"+this.df.toString()};n.prototype.ja=function(){this.df=this.d.Hh[this.ap];this.sheet.nk.add(this);this.ka=q(this.ka);for(var a=this.parent;a;)a.group&&a.Uf.push(this),a=a.parent;this.lm()};n.prototype.ra=function(){this.parent&&this.d.Ff(this.d.j);this.df.ai||this.df.ra(!0);
this.parent&&this.d.we(this.d.j)};n.prototype.lm=function(){for(var a=this.parent;a;){if(a.group&&!a.bf){this.fb=!1;return}a=a.parent}this.fb=!0};Sb=n;k.prototype.reset=function(a){this.Wb=a;this.qb=this.Xa=0;S(this.Yl);this.Fh=this.Ld=!1};Hb=k})();
(function(){function f(b,a){this.ub=b;this.d=b.d;this.type=a[0];this.get=[this.Zn,this.Vn,this.jo,this.mo,this.Kn,this.ko,this.co,this.Sn,this.bo,this.io,this.Ln,this.ho,this.Tn,this.eo,this.$n,this.ao,this.Wn,this.Xn,this.Rn,this.lo,this.fo,this.Yn,this.Qn,this.Un][this.type];var g=null;this.xc=this.D=this.fa=this.Ca=this.Zg=this.second=this.first=this.value=null;this.Fb=-1;this.Jb=null;this.pm=-1;this.yd=this.Of=null;this.Be=!1;switch(this.type){case 0:case 1:case 2:this.value=a[1];break;case 3:this.first=
new Qb(b,a[1]);break;case 18:this.first=new Qb(b,a[1]);this.second=new Qb(b,a[2]);this.Zg=new Qb(b,a[3]);break;case 19:this.Ca=this.d.Kc(a[1]);this.Ca!==Z.prototype.pc.random&&this.Ca!==Z.prototype.pc.Zm||this.ub.Nl();this.fa=[];this.D=[];3===a.length?(g=a[2],this.fa.length=g.length+1):this.fa.length=1;break;case 20:this.xc=this.d.j[a[1]];this.Fb=-1;this.Ca=this.d.Kc(a[2]);this.Be=a[3];Ub.Function&&this.Ca===Ub.Function.prototype.pc.wq&&this.ub.Nl();a[4]?this.Jb=new Qb(b,a[4]):this.Jb=null;this.fa=
[];this.D=[];6===a.length?(g=a[5],this.fa.length=g.length+1):this.fa.length=1;break;case 21:this.xc=this.d.j[a[1]];this.Be=a[2];a[3]?this.Jb=new Qb(b,a[3]):this.Jb=null;this.pm=a[4];break;case 22:this.xc=this.d.j[a[1]];this.xc.hg(a[2]);this.Fb=this.xc.Ph(a[2]);this.Ca=this.d.Kc(a[3]);this.Be=a[4];a[5]?this.Jb=new Qb(b,a[5]):this.Jb=null;this.fa=[];this.D=[];7===a.length?(g=a[6],this.fa.length=g.length+1):this.fa.length=1;break;case 23:this.Of=a[1],this.yd=null}this.ub.op(this.xc);4<=this.type&&17>=
this.type&&(this.first=new Qb(b,a[1]),this.second=new Qb(b,a[2]));if(g){var e,d;e=0;for(d=g.length;e<d;e++)this.D.push(new Qb(b,g[e]))}}function m(){++r;v.length===r&&v.push(new Pb);return v[r]}function q(b,a,g){var e,d;e=0;for(d=b.length;e<d;++e)b[e].get(g),a[e+1]=g.data}function u(b,a){this.type=b||U.Yd;this.data=a||0;this.Qd=null;this.type==U.Yd&&(this.data=Math.floor(this.data))}f.prototype.ja=function(){23===this.type&&(this.yd=this.ub.d.bk(this.Of,this.ub.gb.parent));this.first&&this.first.ja();
this.second&&this.second.ja();this.Zg&&this.Zg.ja();this.Jb&&this.Jb.ja();if(this.D){var b,a;b=0;for(a=this.D.length;b<a;b++)this.D[b].ja()}};var v=[],r=-1;f.prototype.lo=function(b){var a=this.D,g=this.fa;g[0]=b;b=m();q(a,g,b);--r;this.Ca.apply(this.d.jc,g)};f.prototype.fo=function(b){var a=this.xc,g=this.fa,e=this.D,d=this.Jb,c=this.Ca,f=this.ub.Cc,k=a.Z(),u=k.Ib();if(!u.length)if(k.L.length)u=k.L;else{this.Be?b.Ga(""):b.S(0);return}g[0]=b;b.Qd=a;b=m();q(e,g,b);d&&(d.get(b),b.ua()&&(f=b.data,u=
a.e));--r;a=u.length;if(f>=a||f<=-a)f%=a;0>f&&(f+=a);c.apply(u[f],g)};f.prototype.Qn=function(b){var a=this.xc,g=this.fa,e=this.D,d=this.Jb,c=this.Fb,f=this.Ca,k=this.ub.Cc,u=a.Z(),z=u.Ib();if(!z.length)if(u.L.length)z=u.L;else{this.Be?b.Ga(""):b.S(0);return}g[0]=b;b.Qd=a;b=m();q(e,g,b);d&&(d.get(b),b.ua()&&(k=b.data,z=a.e));--r;e=z.length;if(k>=e||k<=-e)k%=e;0>k&&(k+=e);k=z[k];z=0;a.O&&(z=k.type.ge[a.qc]);f.apply(k.G[c+z],g)};f.prototype.Yn=function(b){var a=this.Jb,g=this.xc,e=this.pm,d=this.ub.Cc,
c=g.Z(),f=c.Ib();if(!f.length)if(c.L.length)f=c.L;else{this.Be?b.Ga(""):b.S(0);return}if(a){c=m();a.get(c);if(c.ua()){d=c.data;f=g.e;0!==f.length&&(d%=f.length,0>d&&(d+=f.length));d=g.Sh(d);g=d.na[e];P(g)?b.Ga(g):b.F(g);--r;return}--r}a=f.length;if(d>=a||d<=-a)d%=a;0>d&&(d+=a);d=f[d];f=0;g.O&&(f=d.type.ag[g.qc]);g=d.na[e+f];P(g)?b.Ga(g):b.F(g)};f.prototype.Zn=function(b){b.type=U.Yd;b.data=this.value};f.prototype.Vn=function(b){b.type=U.Xd;b.data=this.value};f.prototype.jo=function(b){b.type=U.String;
b.data=this.value};f.prototype.mo=function(b){this.first.get(b);b.ua()&&(b.data=-b.data)};f.prototype.Kn=function(b){this.first.get(b);var a=m();this.second.get(a);b.ua()&&a.ua()&&(b.data+=a.data,a.je()&&b.re());--r};f.prototype.ko=function(b){this.first.get(b);var a=m();this.second.get(a);b.ua()&&a.ua()&&(b.data-=a.data,a.je()&&b.re());--r};f.prototype.co=function(b){this.first.get(b);var a=m();this.second.get(a);b.ua()&&a.ua()&&(b.data*=a.data,a.je()&&b.re());--r};f.prototype.Sn=function(b){this.first.get(b);
var a=m();this.second.get(a);b.ua()&&a.ua()&&(b.data/=a.data,b.re());--r};f.prototype.bo=function(b){this.first.get(b);var a=m();this.second.get(a);b.ua()&&a.ua()&&(b.data%=a.data,a.je()&&b.re());--r};f.prototype.io=function(b){this.first.get(b);var a=m();this.second.get(a);b.ua()&&a.ua()&&(b.data=Math.pow(b.data,a.data),a.je()&&b.re());--r};f.prototype.Ln=function(b){this.first.get(b);var a=m();this.second.get(a);a.le()||b.le()?this.Nn(b,a):this.Mn(b,a);--r};f.prototype.Nn=function(b,a){b.le()&&
a.le()?this.Pn(b,a):this.On(b,a)};f.prototype.Pn=function(b,a){b.data+=a.data};f.prototype.On=function(b,a){b.le()?b.data+=(Math.round(1E10*a.data)/1E10).toString():b.Ga(b.data.toString()+a.data)};f.prototype.Mn=function(b,a){b.S(b.data&&a.data?1:0)};f.prototype.ho=function(b){this.first.get(b);var a=m();this.second.get(a);b.ua()&&a.ua()&&(b.data||a.data?b.S(1):b.S(0));--r};f.prototype.Rn=function(b){this.first.get(b);b.data?this.second.get(b):this.Zg.get(b)};f.prototype.Tn=function(b){this.first.get(b);
var a=m();this.second.get(a);b.S(b.data===a.data?1:0);--r};f.prototype.eo=function(b){this.first.get(b);var a=m();this.second.get(a);b.S(b.data!==a.data?1:0);--r};f.prototype.$n=function(b){this.first.get(b);var a=m();this.second.get(a);b.S(b.data<a.data?1:0);--r};f.prototype.ao=function(b){this.first.get(b);var a=m();this.second.get(a);b.S(b.data<=a.data?1:0);--r};f.prototype.Wn=function(b){this.first.get(b);var a=m();this.second.get(a);b.S(b.data>a.data?1:0);--r};f.prototype.Xn=function(b){this.first.get(b);
var a=m();this.second.get(a);b.S(b.data>=a.data?1:0);--r};f.prototype.Un=function(b){var a=this.yd.Jo();ia(a)?b.F(a):b.Ga(a)};Qb=f;u.prototype.je=function(){return this.type===U.Xd};u.prototype.ua=function(){return this.type===U.Yd||this.type===U.Xd};u.prototype.le=function(){return this.type===U.String};u.prototype.re=function(){this.je()||(this.le()&&(this.data=parseFloat(this.data)),this.type=U.Xd)};u.prototype.S=function(b){this.type=U.Yd;this.data=Math.floor(b)};u.prototype.F=function(b){this.type=
U.Xd;this.data=b};u.prototype.Ga=function(b){this.type=U.String;this.data=b};u.prototype.Wp=function(b){ia(b)?(this.type=U.Xd,this.data=b):P(b)?(this.type=U.String,this.data=b.toString()):(this.type=U.Yd,this.data=0)};Pb=u;U={Yd:0,Xd:1,String:2}})();function Z(f){this.d=f;this.eb=[]}
Z.prototype.nb=function(){var f={},m,q,u,v,r,b,a,g;f.waits=[];var e=f.waits,d;m=0;for(q=this.eb.length;m<q;m++){b=this.eb[m];d={t:b.time,st:b.Yp,s:b.Tl,ev:b.We.K,sm:[],sols:{}};b.We.Db[b.qb]&&(d.act=b.We.Db[b.qb].K);u=0;for(v=b.ka.length;u<v;u++)d.sm.push(b.ka[u].K);for(r in b.cb)if(b.cb.hasOwnProperty(r)){a=this.d.j[parseInt(r,10)];g={sa:b.cb[r].Gl,insts:[]};u=0;for(v=b.cb[r].Ed.length;u<v;u++)g.insts.push(b.cb[r].Ed[u].uid);d.sols[a.K.toString()]=g}e.push(d)}return f};
Z.prototype.Mb=function(f){f=f.waits;var m,q,u,v,r,b,a,g,e,d,c;S(this.eb);m=0;for(q=f.length;m<q;m++)if(b=f[m],g=this.d.Cj[b.ev.toString()]){e=-1;u=0;for(v=g.Db.length;u<v;u++)if(g.Db[u].K===b.act){e=u;break}if(-1!==e){a={cb:{},ka:[],Lj:!1};a.time=b.t;a.Yp=b.st||"";a.Tl=!!b.s;a.We=g;a.qb=e;u=0;for(v=b.sm.length;u<v;u++)(g=this.d.jg(b.sm[u]))&&a.ka.push(g);for(r in b.sols)if(b.sols.hasOwnProperty(r)&&(g=this.d.jg(parseInt(r,10)))){e=b.sols[r];d={Gl:e.sa,Ed:[]};u=0;for(v=e.insts.length;u<v;u++)(c=this.d.gk(e.insts[u]))&&
d.Ed.push(c);a.cb[g.index.toString()]=d}this.eb.push(a)}}};
(function(){function f(){}function m(){}var q=Z.prototype;f.prototype.lj=function(){return!0};f.prototype.Gm=function(){return!0};f.prototype.xm=function(){var f=this.d.jb();return f.Fh?!1:!f.Ld};f.prototype.mj=function(){return!0};f.prototype.Cm=function(){return!0};f.prototype.jh=function(){return!0};f.prototype.nj=function(){return!0};f.prototype.Hm=function(){return!0};f.prototype.ih=function(){return!0};f.prototype.tm=function(f,b,a){return Ka(T(f),T(a))<=T(b)};f.prototype.zm=function(f,b){return Ma(T(f),
T(b))};f.prototype.ym=function(f,b,a){f=Ia(f);b=Ia(b);a=Ia(a);return Ma(a,b)?Ma(f,b)&&!Ma(f,a):!(!Ma(f,b)&&Ma(f,a))};q.N=new f;var u=[],v=[];q.od=new function(){};m.prototype["int"]=function(f,b){P(b)?(f.S(parseInt(b,10)),isNaN(f.data)&&(f.data=0)):f.S(b)};m.prototype["float"]=function(f,b){P(b)?(f.F(parseFloat(b)),isNaN(f.data)&&(f.data=0)):f.F(b)};m.prototype.random=function(f,b,a){void 0===a?f.F(Math.random()*b):f.F(Math.random()*(a-b)+b)};m.prototype.sqrt=function(f,b){f.F(Math.sqrt(b))};m.prototype.abs=
function(f,b){f.F(Math.abs(b))};m.prototype.round=function(f,b){f.S(Math.round(b))};m.prototype.floor=function(f,b){f.S(Math.floor(b))};m.prototype.ceil=function(f,b){f.S(Math.ceil(b))};m.prototype.sin=function(f,b){f.F(Math.sin(T(b)))};m.prototype.cos=function(f,b){f.F(Math.cos(T(b)))};m.prototype.tan=function(f,b){f.F(Math.tan(T(b)))};m.prototype.asin=function(f,b){f.F(Ea(Math.asin(b)))};m.prototype.acos=function(f,b){f.F(Ea(Math.acos(b)))};m.prototype.atan=function(f,b){f.F(Ea(Math.atan(b)))};
m.prototype.exp=function(f,b){f.F(Math.exp(b))};m.prototype.log10=function(f,b){f.F(Math.log(b)/Math.LN10)};m.prototype.max=function(f){var b=arguments[1];"number"!==typeof b&&(b=0);var a,g,e;a=2;for(g=arguments.length;a<g;a++)e=arguments[a],"number"===typeof e&&b<e&&(b=e);f.F(b)};m.prototype.min=function(f){var b=arguments[1];"number"!==typeof b&&(b=0);var a,g,e;a=2;for(g=arguments.length;a<g;a++)e=arguments[a],"number"===typeof e&&b>e&&(b=e);f.F(b)};m.prototype.fe=function(f){f.F(this.d.fe)};m.prototype.Mf=
function(f){f.F(this.d.Mf)};m.prototype.time=function(f){f.F(this.d.sb.Qa)};m.prototype.Ec=function(f){f.S(this.d.Ec)};m.prototype.Ig=function(f){f.S(this.d.Ig)};m.prototype.Mh=function(f){f.S(this.d.Mh)};m.prototype.p=function(f,b,a,g,e){f.F(Ea(Ja(b,a,g,e)))};m.prototype.yf=function(f){f.Ga("\n")};m.prototype.left=function(f,b,a){f.Ga(P(b)?b.substr(0,a):"")};m.prototype.right=function(f,b,a){f.Ga(P(b)?b.substr(b.length-a):"")};m.prototype.replace=function(f,b,a,g){P(b)&&P(a)&&P(g)?f.Ga(b.replace(new RegExp(Xa(a),
"gi"),g)):f.Ga(P(b)?b:"")};m.prototype.trim=function(f,b){f.Ga(P(b)?b.trim():"")};m.prototype.Zm=function(f){var b=sa(Math.random()*(arguments.length-1));f.Wp(arguments[b+1])};m.prototype.Ah=function(f){f.F(this.d.Ah/1E3)};m.prototype.Bg=function(f){f.F(this.d.Bg)};q.pc=new m;q.Jp=function(){var f,b,a,g,e,d,c=this.d.jb();f=0;for(a=this.eb.length;f<a;f++){g=this.eb[f];if(-1===g.time){if(!g.Tl)continue}else if(g.time>this.d.sb.Qa)continue;c.Wb=g.We;c.qb=g.qb;c.Xa=0;for(b in g.cb)g.cb.hasOwnProperty(b)&&
(e=this.d.j[parseInt(b,10)].Z(),d=g.cb[b],e.ya=d.Gl,za(e.e,d.Ed),e=d,S(e.Ed),v.push(e));g.We.Ip();this.d.yh(g.ka);g.Lj=!0}b=f=0;for(a=this.eb.length;f<a;f++)g=this.eb[f],this.eb[b]=g,g.Lj?(Ra(g.cb),S(g.ka),u.push(g)):b++;ya(this.eb,b)}})();
(function(){gb=function(f,q){var u=f[1],v=f[3],r=f[4],b=f[5],a=f[6],g=f[7],e=f[8];q.N||(q.N={});q.od||(q.od={});q.pc||(q.pc={});var d=q.N,c=q.od,n=q.pc;v&&(d.Bq=function(a,b){return Tb(this.x,a,b)},d.Cq=function(a,b){return Tb(this.y,a,b)},d.Jq=function(){var a=this.g;this.Ha();var b=this.Aa;return!(b.right<a.T||b.bottom<a.U||b.left>a.ca||b.top>a.ba)},d.Kq=function(){this.Ha();var a=this.Aa,b=this.d.P;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},d.Xq=function(a,b,c){var d=this.Z(),
e=d.Ib();if(!e.length)return!1;var f=e[0],g=f,m=Na(f.x,f.y,b,c),n,q,r;n=1;for(q=e.length;n<q;n++)if(f=e[n],r=Na(f.x,f.y,b,c),0===a&&r<m||1===a&&r>m)m=r,g=f;d.Df(g);return!0},c.pr=function(a){this.x!==a&&(this.x=a,this.za())},c.qr=function(a){this.y!==a&&(this.y=a,this.za())},c.lr=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.za()},c.mr=function(a,b){var c=a.Fo(this);if(c){var d;c.ck?(d=c.ck(b,!0),c=c.ck(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.za()}},
c.Pq=function(a){0!==a&&(this.x+=Math.cos(this.p)*a,this.y+=Math.sin(this.p)*a,this.za())},c.Oq=function(a,b){0!==b&&(this.x+=Math.cos(T(a))*b,this.y+=Math.sin(T(a))*b,this.za())},n.xr=function(a){a.F(this.x)},n.yr=function(a){a.F(this.y)},n.fe=function(a){a.F(this.d.wo(this))});r&&(d.Aq=function(a,b){return Tb(this.width,a,b)},d.xq=function(a,b){return Tb(this.height,a,b)},c.Km=function(a){this.width!==a&&(this.width=a,this.za())},c.ir=function(a){this.height!==a&&(this.height=a,this.za())},c.nr=
function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.za()},n.ur=function(a){a.F(this.width)},n.Fq=function(a){a.F(this.height)},n.tq=function(a){this.Ha();a.F(this.Aa.left)},n.vq=function(a){this.Ha();a.F(this.Aa.top)},n.uq=function(a){this.Ha();a.F(this.Aa.right)},n.sq=function(a){this.Ha();a.F(this.Aa.bottom)});b&&(d.tm=function(a,b){return Ka(this.p,T(b))<=T(a)},d.zm=function(a){return Ma(this.p,T(a))},d.ym=function(a,b){var c=Ia(a),d=Ia(b),e=Ga(this.p);return Ma(d,
c)?Ma(e,c)&&!Ma(e,d):!(!Ma(e,c)&&Ma(e,d))},c.er=function(a){a=T(Fa(a));isNaN(a)||this.p===a||(this.p=a,this.za())},c.ar=function(a){0===a||isNaN(a)||(this.p+=T(a),this.p=Ga(this.p),this.za())},c.br=function(a){0===a||isNaN(a)||(this.p-=T(a),this.p=Ga(this.p),this.za())},c.cr=function(a,b){var c=La(this.p,T(b),T(a));isNaN(c)||this.p===c||(this.p=c,this.za())},c.dr=function(a,b,c){a=La(this.p,Math.atan2(c-this.y,b-this.x),T(a));isNaN(a)||this.p===a||(this.p=a,this.za())},c.or=function(a,b){var c=Math.atan2(b-
this.y,a-this.x);isNaN(c)||this.p===c||(this.p=c,this.za())},n.rq=function(a){a.F(Ha(this.p))});u||(d.yq=function(a,b,c){return Tb(this.na[a],b,c)},d.Hq=function(a){return this.na[a]},d.Yq=function(a,b){var c=this.Z(),d=c.Ib();if(!d.length)return!1;var e=d[0],f=e,g=e.na[b],m,n,q;m=1;for(n=d.length;m<n;m++)if(e=d[m],q=e.na[b],0===a&&q<g||1===a&&q>g)g=q,f=e;c.Df(f);return!0},d.Wq=function(a){var b,c,d,e,f;if(this.d.vo().gi){f=this.Z();if(f.ya)for(f.ya=!1,S(f.e),S(f.L),d=this.e,b=0,c=d.length;b<c;b++)e=
d[b],e.uid===a?f.L.push(e):f.e.push(e);else{d=b=0;for(c=f.e.length;b<c;b++)e=f.e[b],f.e[d]=e,e.uid===a?f.L.push(e):d++;ya(f.e,d)}this.$d();return!!f.e.length}e=this.d.gk(a);if(!e)return!1;f=this.Z();if(!f.ya&&-1===f.e.indexOf(e))return!1;if(this.O)for(a=e.type.Y,b=0,c=a.length;b<c;b++){if(a[b]===this)return f.Df(e),this.$d(),!0}else if(e.type===this)return f.Df(e),this.$d(),!0;return!1},d.kj=function(){return!0},d.Em=function(){return!0},c.jr=function(a,b){var c=this.na;ia(c[a])?c[a]=ia(b)?b:parseFloat(b):
P(c[a])&&(c[a]=P(b)?b:b.toString())},c.qq=function(a,b){var c=this.na;ia(c[a])?c[a]=ia(b)?c[a]+b:c[a]+parseFloat(b):P(c[a])&&(c[a]=P(b)?c[a]+b:c[a]+b.toString())},c.rr=function(a,b){var c=this.na;ia(c[a])&&(c[a]=ia(b)?c[a]-b:c[a]-parseFloat(b))},c.fr=function(a,b){this.na[a]=b?1:0},c.sr=function(a){this.na[a]=1-this.na[a]},c.Eq=function(){this.d.Wd(this)},c.Bm||(c.Bm=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}this.d.Ag(this,b,!0);this.pd&&this.pd();if(this.G)for(a=0,b=this.G.length;a<
b;++a)c=this.G[a],c.pd&&c.pd()}),n.Dq=function(a){var b=a.Qd.e.length,c,d,e;c=0;for(d=this.d.Ub.length;c<d;c++)e=this.d.Ub[c],a.Qd.O?0<=e.type.Y.indexOf(a.Qd)&&b++:e.type===a.Qd&&b++;a.S(b)},n.$q=function(a){a.S(a.Qd.Z().Ib().length)},n.tr=function(a){a.S(this.uid)},n.Gq=function(a){a.S(this.af())},n.um||(n.um=function(a){a.Ga(JSON.stringify(this.d.Ti(this,!0)))}));a&&(d.Lq=function(){return this.visible},c.Jm=function(a){!a!==!this.visible&&(this.visible=!!a,this.d.W=!0)},d.zq=function(a,b){return Tb(cb(100*
this.opacity),a,b)},c.kr=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.d.W=!0)},n.Opacity=function(a){a.F(cb(100*this.opacity))});g&&(d.Iq=function(a){return a?this.g===a:!1},d.Zq=function(a){var b=this.Z(),c=b.Ib();if(!c.length)return!1;var d=c[0],e=d,f,g;f=1;for(g=c.length;f<g;f++)if(d=c[f],0===a){if(d.g.index>e.g.index||d.g.index===e.g.index&&d.$b()>e.$b())e=d}else if(d.g.index<e.g.index||d.g.index===e.g.index&&d.$b()<e.$b())e=d;b.Df(e);return!0},c.Sq=function(){var a=
this.g,b=a.e;b.length&&b[b.length-1]===this||(a.Ae(this,!1),a.Le(this,!1),this.d.W=!0)},c.Qq=function(){var a=this.g,b=a.e;b.length&&b[0]===this||(a.Ae(this,!1),a.Cp(this),this.d.W=!0)},c.Rq=function(a){a&&a!=this.g&&(this.g.Ae(this,!0),this.g=a,a.Le(this,!0),this.d.W=!0)},c.Br=function(a,b){var c=0===a;if(b){var d=b.xo(this);d&&d.uid!==this.uid&&(this.g.index!==d.g.index&&(this.g.Ae(this,!0),this.g=d.g,d.g.Le(this,!0)),this.g.pp(this,d,c),this.d.W=!0)}},n.Nq=function(a){a.S(this.g.ll)},n.Mq=function(a){a.Ga(this.g.name)},
n.Ar=function(a){a.S(this.$b())});e&&(c.gr=function(a,b){if(this.d.n){var c=this.type.Rh(b);if(!(0>c)){var d=1===a;this.Mc[c]!==d&&(this.Mc[c]=d,this.Rb(),this.d.W=!0)}}},c.hr=function(a,b,c){if(this.d.n){var d=this.type.Rh(a);0>d||(a=this.type.A[d],d=this.ea[d],b=Math.floor(b),0>b||b>=d.length||(1===this.d.n.Io(a.ma,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.fb&&(this.d.W=!0))))}})};zb=function(){this.uh=this.nh=!0;this.type.tj=!0;this.d.W=!0;var f,q,u=this.oh;f=0;for(q=u.length;f<q;++f)u[f](this);this.g.pb&&
this.Ha()};Ab=function(f){f&&this.oh.push(f)};Cb=function(){if(this.nh){var f=this.Aa,q=this.ae;f.set(this.x,this.y,this.x+this.width,this.y+this.height);f.offset(-this.mg*this.width,-this.ng*this.height);this.p?(f.offset(-this.x,-this.y),q.Ol(f,this.p),q.offset(this.x,this.y),q.Dj(f)):q.Sg(f);f.normalize();this.nh=!1;this.kq()}};var f=new Q(0,0,0,0);Db=function(){if(this.g.pb){var m=this.g.Fa,q=this.Aa;f.set(m.Ra(q.left),m.Sa(q.top),m.Ra(q.right),m.Sa(q.bottom));this.Va.Ve(f)||(this.Va.right<this.Va.left?
m.update(this,null,f):m.update(this,this.Va,f),this.Va.rd(f),this.g.Pb=!0)}};Eb=function(){if(this.uh&&this.Tf){this.Ha();var m=this.type.Gj,q=this.Aa;f.set(m.Ra(q.left),m.Sa(q.top),m.Ra(q.right),m.Sa(q.bottom));this.Wc.Ve(f)||(this.Wc.right<this.Wc.left?m.update(this,null,f):m.update(this,this.Wc,f),this.Wc.rd(f),this.uh=!1)}};Bb=function(f,q){return this.Aa.Tb(f,q)&&this.ae.Tb(f,q)?this.Oe&&!this.Oe.ip()?(this.Oe.Ym(this.width,this.height,this.p),this.Oe.Tb(f-this.x,q-this.y)):!0:!1};vb=function(){this.type.bh();
return this.Cd};Fb=function(){this.g.ej();return this.Sb};Gb=function(){S(this.H);var f,q,u,v=!0;f=0;for(q=this.Mc.length;f<q;f++)this.Mc[f]&&(u=this.type.A[f],this.H.push(u),u.Nb||(v=!1));this.om=!!this.H.length;this.Bc=v};wb=function(){return"Inst"+this.Al};jb=function(f){if(f&&f.rb&&f.type!=this){var q,u,v;q=0;for(u=f.siblings.length;q<u;q++)if(v=f.siblings[q],v.type==this)return v}f=this.Z().Ib();return f.length?f[0]:null};kb=function(f){var q=this.Z().Ib();return q.length?q[f.af()%q.length]:
null};ib=function(){if(this.De&&!this.O){var f,q;f=0;for(q=this.e.length;f<q;f++)this.e[f].Cd=f;var u=f,v=this.d.Ub;f=0;for(q=v.length;f<q;++f)v[f].type===this&&(v[f].Cd=u++);this.De=!1}};tb=function(f){if(f<this.e.length)return this.e[f];f-=this.e.length;var q=this.d.Ub,u,v;u=0;for(v=q.length;u<v;++u)if(q[u].type===this){if(0===f)return q[u];--f}return null};lb=function(){return this.Dc[this.Vb]};mb=function(){this.Vb++;this.Vb===this.Dc.length?this.Dc.push(new hb(this)):(this.Dc[this.Vb].ya=!0,
S(this.Dc[this.Vb].L))};nb=function(){this.Vb++;this.Vb===this.Dc.length&&this.Dc.push(new hb(this));var f=this.Dc[this.Vb],q=this.Dc[this.Vb-1];q.ya?(f.ya=!0,S(f.L)):(f.ya=!1,za(f.e,q.e),za(f.L,q.L))};ob=function(){this.Vb--};pb=function(f){var q,u,v,r,b,a=0;if(!this.O)for(q=0,u=this.Y.length;q<u;q++)for(b=this.Y[q],v=0,r=b.da.length;v<r;v++){if(f===b.da[v].name)return this.X.lastBehIndex=a,b.da[v];a++}q=0;for(u=this.da.length;q<u;q++){if(f===this.da[q].name)return this.X.lastBehIndex=a,this.da[q];
a++}return null};qb=function(f){return this.hg(f)?this.X.lastBehIndex:-1};rb=function(f){var q,u;q=0;for(u=this.A.length;q<u;q++)if(this.A[q].name===f)return q;return-1};sb=function(){if(this.rb&&!this.O){var f,q,u,v,r,b,a;this.bh();b=this.Z();var g=b.ya,e=(f=this.d.jb())&&f.Wb&&f.Wb.zc;f=0;for(q=this.Ya.length;f<q;f++)if(r=this.Ya[f],r!==this&&(r.bh(),a=r.Z(),a.ya=g,!g)){S(a.e);u=0;for(v=b.e.length;u<v;++u)a.e[u]=r.Sh(b.e[u].Cd);if(e)for(S(a.L),u=0,v=b.L.length;u<v;++u)a.L[u]=r.Sh(b.L[u].Cd)}}};
ub=function(){return"Type"+this.K};Tb=function(f,q,u){if("undefined"===typeof f||"undefined"===typeof u)return!1;switch(q){case 0:return f===u;case 1:return f!==u;case 2:return f<u;case 3:return f<=u;case 4:return f>u;case 5:return f>=u;default:return!1}}})();var bc={};function dc(f){this.d=f}
(function(){function f(){}function m(){}function q(){}var u=dc.prototype;u.Ie=function(b){this.V=b;this.d=b.d};u.Ie.prototype.Ua=function(){};u.Lc=function(b){this.type=b;this.d=b.d};var v=u.Lc.prototype,r="text password email number tel url".split(" ");-1<navigator.userAgent.indexOf("MSIE 9")&&(r[2]="text",r[3]="text",r[4]="text",r[5]="text");v.Ua=function(){if(this.d.ta)y("[Construct 2] Textbox plugin not supported on this platform - the object will not be created");else{6===this.J[7]?(this.m=document.createElement("textarea"),
jQuery(this.m).css("resize","none")):(this.m=document.createElement("input"),this.m.type=r[this.J[7]]);this.m.id=this.J[9];jQuery(this.m).appendTo(this.d.Sf?this.d.Sf:"body");this.m.autocomplete="off";this.m.value=this.J[0];this.m.placeholder=this.J[1];this.m.title=this.J[2];this.m.disabled=0===this.J[4];this.m.readOnly=1===this.J[5];this.m.spellcheck=1===this.J[6];this.Sm=0!==this.J[8];this.vd=!1;0===this.J[3]&&(jQuery(this.m).hide(),this.visible=!1,this.vd=!0);var b=function(a){return function(){a.d.trigger(dc.prototype.N.oj,
a)}}(this);this.m.oninput=b;-1!==navigator.userAgent.indexOf("MSIE")&&(this.m.oncut=b);this.m.onclick=function(a){return function(b){b.stopPropagation();a.d.qg=!0;a.d.trigger(dc.prototype.N.Dm,a);a.d.qg=!1}}(this);this.m.ondblclick=function(a){return function(b){b.stopPropagation();a.d.qg=!0;a.d.trigger(dc.prototype.N.Fm,a);a.d.qg=!1}}(this);this.m.addEventListener("touchstart",function(a){a.stopPropagation()},!1);this.m.addEventListener("touchmove",function(a){a.stopPropagation()},!1);this.m.addEventListener("touchend",
function(a){a.stopPropagation()},!1);jQuery(this.m).mousedown(function(a){a.stopPropagation()});jQuery(this.m).mouseup(function(a){a.stopPropagation()});jQuery(this.m).keydown(function(a){13!==a.which&&27!=a.which&&a.stopPropagation()});jQuery(this.m).keyup(function(a){13!==a.which&&27!=a.which&&a.stopPropagation()});this.Ik=this.Jk=this.Bk=this.Fk=this.Hk=this.Dk=0;this.nm(!0);this.d.dm(this)}};v.nb=function(){return{text:this.m.value,placeholder:this.m.placeholder,tooltip:this.m.title,disabled:!!this.m.disabled,
readonly:!!this.m.readOnly,spellcheck:!!this.m.spellcheck}};v.Mb=function(b){this.m.value=b.text;this.m.placeholder=b.placeholder;this.m.title=b.tooltip;this.m.disabled=b.disabled;this.m.readOnly=b.readonly;this.m.spellcheck=b.spellcheck};v.Bf=function(){this.d.ta||(jQuery(this.m).remove(),this.m=null)};v.Td=function(){this.nm()};v.nm=function(b){if(!this.d.ta){var a=this.g.aa(this.x,this.y,!0),f=this.g.aa(this.x,this.y,!1),e=this.g.aa(this.x+this.width,this.y+this.height,!0),d=this.g.aa(this.x+this.width,
this.y+this.height,!1),c=this.d.width/this.d.devicePixelRatio,m=this.d.height/this.d.devicePixelRatio;!this.visible||!this.g.visible||0>=e||0>=d||a>=c||f>=m?(this.vd||jQuery(this.m).hide(),this.vd=!0):(1>a&&(a=1),1>f&&(f=1),e>=c&&(e=c-1),d>=m&&(d=m-1),c=window.innerWidth,m=window.innerHeight,b||this.Dk!==a||this.Hk!==f||this.Fk!==e||this.Bk!==d||this.Jk!==c||this.Ik!==m?(this.Dk=a,this.Hk=f,this.Fk=e,this.Bk=d,this.Jk=c,this.Ik=m,this.vd&&(jQuery(this.m).show(),this.vd=!1),b=Math.round(a)+jQuery(this.d.canvas).offset().left,
c=Math.round(f)+jQuery(this.d.canvas).offset().top,jQuery(this.m).css("position","absolute"),jQuery(this.m).offset({left:b,top:c}),jQuery(this.m).width(Math.round(e-a)),jQuery(this.m).height(Math.round(d-f)),this.Sm&&jQuery(this.m).css("font-size",this.g.Pa(!0)/this.d.devicePixelRatio-.2+"em")):this.vd&&(jQuery(this.m).show(),this.vd=!1))}};v.Yb=function(){};v.Hb=function(){};f.prototype.oj=function(){return!0};f.prototype.Dm=function(){return!0};f.prototype.Fm=function(){return!0};u.N=new f;m.prototype.pj=
function(b){this.d.ta||(this.m.value=b)};m.prototype.Jm=function(b){this.d.ta||(this.visible=0!==b)};u.od=new m;q.prototype.Text=function(b){this.d.ta?b.Ga(""):b.Ga(this.m.value)};u.pc=new q})();function ec(f){this.d=f}
(function(){function f(){this.width=this.y=this.x=this.text=null;this.prop={};this.ia=this.se=null}function m(){this.mb=[];this.Da=[]}function q(a,b,c,d){!0===b?a[c]=d:a.hasOwnProperty(c)&&delete a[c]}function u(a,b){var c=/\[b\]|\[\/b\]|\[i\]|\[\/i\]|\[size=(\d+)\]|\[\/size\]|\[color=([a-z]+|#[0-9abcdef]+)\]|\[\/color\]|\[u\]|\[u=([a-z]+|#[0-9abcdef]+)\]|\[\/u\]|\[shadow\]|\[\/shadow\]/ig;d.length=0;for(var e,f=0,g=a.length,h=g;;){e=c.exec(a);if(!e)break;e=e[0];h=c.lastIndex-e.length;f<h&&d.push(a.substring(f,
h));null==b&&d.push(e);f=c.lastIndex}f<g&&d.push(a.substring(f,g));return d}function v(){this.context=this.canvas=null;this.Pg={};this.Bb={text:"",x:0,y:0,boxWidth:0,boxHeight:0,ignore:null};this.fd=new m;this.kc=!0;this.Gb={family:"Verdana",weight:"normal",Ac:"12pt",color:"#000000",style:"normal",Rl:""};this.nd={Yg:1,offset:0};this.textAlign="start";this.lineHeight="16";this.textBaseline="alphabetic"}function r(){this.Da=[]}function b(){}function a(){}var g=ec.prototype;g.Ua=function(){g.od.Km=function(a){this.width!==
a&&(this.width=a,this.za(),this.Mg(this.ug))}};g.Ie=function(a){this.V=a;this.d=a.d};var e=g.Ie.prototype;e.Ua=function(){};e.ql=function(){if(!this.O){var a,b,c;a=0;for(b=this.e.length;a<b;a++)c=this.e[a],c.$a=null,c.ec=null,c.ab=null}};g.Lc=function(a){this.type=a;this.d=a.d;this.kc=!0};e=g.Lc.prototype;e.Ua=function(){this.text="";this.Pl(this.J[0]);this.visible=0===this.J[1];this.font=this.J[2];this.color=this.J[3];this.lg=this.J[4];this.eh=this.J[5];this.textShadow="";this.hj=0===this.J[7];this.si=
this.pf=this.width;this.of=this.height;this.vi=this.J[8];this.Um=this.J[9];this.gj=this.J[10]*this.d.devicePixelRatio;this.ug=1===this.J[11];this.Ze=this.zd="";this.Zl=this.$l=this.Ac=0;this.up();this.ab=this.ec=this.$a=null;this.jl=!1;this.nf=this.d.Ec;this.gc?this.ze.set(0,0,1,1):this.ze=new Q(0,0,1,1);this.d.n&&this.d.dm(this);this.gc||(this.Q=new v);this.Q.Im(this);this.Q.textBaseline=0===this.Um?"alphabetic":"top";this.Q.nd.Yg=this.J[12];this.Q.nd.offset=this.J[13];this.Tp(this.J[14],this.J[15],
this.J[16],this.J[17]);this.text&&this.Mg(this.ug)};e.up=function(){var a=this.font.split(" "),b;for(b=0;b<a.length;b++)if("pt"===a[b].substr(a[b].length-2,2)){this.Ac=parseInt(a[b].substr(0,a[b].length-2));this.Li=Math.ceil(this.Ac/72*96)+4;0<b&&(this.Ze=a[b-1]);this.zd=a[b+1];for(b+=2;b<a.length;b++)this.zd+=" "+a[b];break}};e.nb=function(){return{t:this.text,f:this.font,c:this.color,ha:this.lg,va:this.eh,wr:this.hj,lho:this.vi,vs:this.gj,fn:this.zd,fs:this.Ze,ps:this.Ac,pxh:this.Li,tw:this.$l,
th:this.Zl,ts:this.textShadow,lrt:this.nf,bl:this.Q.textBaseline,txtObj:this.Q.nb()}};e.Mb=function(a){this.text=a.t;this.font=a.f;this.color=a.c;this.lg=a.ha;this.eh=a.va;this.hj=a.wr;this.vi=a.lho;this.gj=a.vs;this.zd=a.fn;this.Ze=a.fs;this.Ac=a.ps;this.Li=a.pxh;this.$l=a.tw;this.Zl=a.th;this.textShadow=a.ts;this.nf=a.lrt;this.kc=!0;this.si=this.pf=this.width;this.of=this.height;this.Q.textBaseline=a.bl;this.Q.Mb(a.txtObj)};e.Td=function(){if(this.d.n&&this.ab&&300<=this.d.Ec-this.nf){var a=this.g;
this.Ha();var b=this.Aa;if(b.right<a.T||b.bottom<a.U||b.left>a.ca||b.top>a.ba)this.d.n.deleteTexture(this.ab),this.$a=this.ec=this.ab=null}};e.Bf=function(){this.$a=this.ec=null;this.d.n&&this.ab&&this.d.n.deleteTexture(this.ab);this.ab=null};e.Dh=function(){this.font=this.Ze+" "+this.Ac.toString()+"pt "+this.zd;this.Mg(this.ug)};e.Yb=function(a,b,c){a.globalAlpha=b?1:this.opacity;var d=1;b&&(d=this.g.Pa(),a.save(),a.scale(d,d));if(this.kc||this.width!==this.si)this.Q.kc=!0,this.kc=!1,this.si=this.width;
this.Ha();var d=b?0:this.ae.Fc,e=b?0:this.ae.Gc;this.d.ve&&(d=d+.5|0,e=e+.5|0);0===this.p||b||(a.save(),a.translate(d,e),a.rotate(this.p),e=d=0);var f=this.Li,f=f+this.vi*this.d.devicePixelRatio;this.Q.canvas=a.canvas;this.Q.context=a;this.Q.Gb.family=this.zd;this.Q.Gb.Ac=this.Ac.toString()+"pt";this.Q.Gb.style=this.Ze;this.Q.Gb.color=this.color;this.Q.Gb.Rl=this.textShadow;this.Q.lineHeight=f;this.Q.Bb.text=this.text;this.Q.Bb.x=d;this.Q.Bb.y=e;this.Q.Bb.boxWidth=this.width;this.Q.Bb.boxHeight=this.height;
this.Q.Bb.ignore=c;this.Q.Bn();(0!==this.p||b)&&a.restore();this.nf=this.d.Ec};e.Hb=function(a){if(!(1>this.width||1>this.height)){var b=this.kc||this.jl;this.jl=!1;var c=this.g.Pa(),d=this.g.Ta(),e=this.ze,f=c*this.width,g=c*this.height,h=Math.ceil(f),k=Math.ceil(g),l=this.d.r/2,m=this.d.q/2;this.ec||(this.$a=document.createElement("canvas"),this.$a.width=h,this.$a.height=k,this.pf=h,this.of=k,b=!0,this.ec=this.$a.getContext("2d"));if(h!==this.pf||k!==this.of)this.$a.width=h,this.$a.height=k,this.ab&&
(a.deleteTexture(this.ab),this.ab=null),b=!0;b&&(this.ec.clearRect(0,0,h,k),this.Yb(this.ec,!0),this.ab||(this.ab=a.hb(h,k,this.d.I,this.d.Hd)),a.nq(this.$a,this.ab,this.d.Hd));this.pf=h;this.of=k;a.yb(this.ab);a.Gf(this.opacity);a.wb();a.translate(-l,-m);a.ob();var n=this.ae,b=this.g.aa(n.Fc,n.Gc,!0,!0),l=this.g.aa(n.Fc,n.Gc,!1,!0),m=this.g.aa(n.ld,n.md,!0,!0),q=this.g.aa(n.ld,n.md,!1,!0),r=this.g.aa(n.Rc,n.Sc,!0,!0),t=this.g.aa(n.Rc,n.Sc,!1,!0),u=this.g.aa(n.Pc,n.Qc,!0,!0),n=this.g.aa(n.Pc,n.Qc,
!1,!0);if(this.d.ve||0===this.p&&0===d)var v=(b+.5|0)-b,w=(l+.5|0)-l,b=b+v,l=l+w,m=m+v,q=q+w,r=r+v,t=t+w,u=u+v,n=n+w;0===this.p&&0===d?(m=b+h,q=l,r=m,t=l+k,u=b,n=t,e.right=1,e.bottom=1):(e.right=f/h,e.bottom=g/k);a.ye(b,l,m,q,r,t,u,n,e);a.wb();a.scale(c,c);a.Og(-this.g.Ta());a.translate((this.g.T+this.g.ca)/-2,(this.g.U+this.g.ba)/-2);a.ob();this.nf=this.d.Ec}};e.Mm=function(){var a=this.ec;if(!a){this.$a=document.createElement("canvas");var a=Math.ceil(this.g.Pa()*this.width),b=Math.ceil(this.g.Ta()*
this.height);this.$a.width=a;this.$a.height=b;this.pf=a;this.of=b;a=this.ec=this.$a.getContext("2d")}return a};e.oo=function(){var a=this.d.Oj?this.Mm():this.d.M;this.Yb(a,null,!0)};e.Mg=function(a){a&&(this.kc=!0,this.oo());this.kc=!0;this.d.W=!0};e.Pl=function(a){this.text!==a&&(this.text=a,this.Mg(this.ug))};e.Tp=function(a,b,c,d){d=d.replace(/ /g,"");this.textShadow=a.toString()+"px "+b.toString()+"px "+c.toString()+"px "+d};e.rc=function(a){return this.Q.rc(a)};e.Yh=function(a,b,c){return this.Q.Yh(a,
b,c)};e.Ij=function(a){return this.Q.Ij(a)};g.N=new function(){};g.od=new b;b.prototype.pj=function(a){ia(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);this.Pl(a.toString())};g.pc=new a;a.prototype.Text=function(a,b,c){b=null==b&&null==c?this.text:this.Yh(b,c);a.Ga(b)};e=r.prototype;e.Rf=function(){return 0<this.Da.length?this.Da.pop():null};e.Wj=function(a){this.Da.push(a)};e.gg=function(a){var b,c;b=0;for(c=a.length;b<c;b++)this.Wj(a[b]);a.length=0};e=v.prototype;e.Im=function(a){this.V=a};e.Uh=function(){return this.fd.Uh()};
e.vj=function(a){var b;a.hasOwnProperty("b")||a.hasOwnProperty("i")?a.b&&a.i?b="bold italic":a.b?b="bold":a.i&&(b="italic"):b=this.Gb.weight;var c=this.ik(a),d=a.shadow?this.Gb.Rl:"";this.context.font=b+" "+(a.weight||this.Gb.weight)+" "+this.jk(a)+" "+(a.family||this.Gb.family);this.context.fillStyle=c;""!==d&&(d=d.split(" "),this.context.shadowOffsetX=parseFloat(d[0].replace("px","")),this.context.shadowOffsetY=parseFloat(d[1].replace("px","")),this.context.shadowBlur=parseFloat(d[2].replace("px",
"")),this.context.shadowColor=d[3])};e.jk=function(a){return a.size||this.Gb.Ac};e.ik=function(a){return a.color||this.Gb.color};e.Dn=function(a,b,c){this.context.save();this.vj(a.prop);b+=a.x;c+=a.y;var d=a.prop.u;d&&this.En(a.text,b,c,this.jk(a.prop),!0===d?this.ik(a.prop):d);this.context.fillText(a.text,b,c);this.context.restore()};e.An=function(a,b){var c=b.boxWidth,d=b.boxHeight,e=b.x,f=b.y,g=a.Uh(),h=g.length,k,d=1===this.V.eh?Math.max((d-h*this.lineHeight)/2,0):2===this.V.eh?Math.max(d-h*this.lineHeight-
2,0):0,d=d+f;"alphabetic"==this.textBaseline&&(d+=this.V.gj);for(var l,m,n,q,f=0;f<h;f++)if(k=a.ek(f),0!==k)for(k=1===this.V.lg?(c-k)/2:2===this.V.lg?c-k:0,k+=e,n=g[f],m=n.length,l=0;l<m;l++)q=n[l],""!==q.text&&this.Dn(q,k,d)};e.En=function(a,b,c,d,e){var f=this.context;a=f.measureText(a).width;c+=this.nd.offset;"top"===this.textBaseline&&(c+=parseInt(d));f.beginPath();f.strokeStyle=e;f.lineWidth=this.nd.Yg;f.moveTo(b,c);f.lineTo(b+a,c);f.stroke()};var d=[],c=/\[b\]/i,n=/\[\/b\]/i,k=/\[i\]/i,x=/\[\/i\]/i,
z=/\[size=(\d+)\]/i,L=/\[\/size\]/i,l=/\[color=([a-z]+|#[0-9abcdef]+)\]/i,t=/\[\/color\]/i,O=/\[u\]/i,K=/\[u=([a-z]+|#[0-9abcdef]+)\]/i,Y=/\[\/u\]/i,B=/\[shadow\]/i,ca=/\[\/shadow\]/i,w={};e.mm=function(a,b,d){null==b&&(b=this.Bb);a.Xj();var e=b.text;b=b.boxWidth;if(""!==e){var f=0,g=0,m,e=u(e);if(0!==e.length){var r,v=e.length;m=null;for(r=0;r<v;r++)if(m=e[r],c.test(m))q(w,!0,"b",!0);else if(n.test(m))q(w,!1,"b");else if(k.test(m))q(w,!0,"i",!0);else if(x.test(m))q(w,!1,"i");else if(z.test(m))m=
m.match(z),q(w,!0,"size",m[1]+"pt");else if(L.test(m))q(w,!1,"size");else if(l.test(m))m=m.match(l),q(w,!0,"color",m[1]);else if(t.test(m))q(w,!1,"color");else if(O.test(m))m.match(O),q(w,!0,"u",!0);else if(K.test(m))m=m.match(K),q(w,!0,"u",m[1]);else if(Y.test(m))q(w,!1,"u");else if(B.test(m))q(w,!0,"shadow",!0);else if(ca.test(m))q(w,!1,"shadow");else if(d)a.kh(m,null,null,null,w,0);else{this.context.save();this.vj(w);a:{var H=this.context,C=b,R=this.V.hj,I=f-0;W.gg(V);if(!m||!m.length||2>=C)m=
V;else{if(100>=m.length&&-1===m.indexOf("\n")){var D=H.measureText(m).width;if(D<=C-I){W.gg(V);V.push(W.yf(m,D,h));m=V;break a}}D=m;m=V;var J=void 0;if(R){X.length=0;for(var J="",la=void 0,ga=0;ga<D.length;)if(la=D.charAt(ga),"\n"===la)J.length&&(X.push(J),J=""),X.push("\n"),++ga;else if(" "===la||"\t"===la||"-"===la){do J+=D.charAt(ga),ga++;while(ga<D.length&&(" "===D.charAt(ga)||"\t"===D.charAt(ga)));X.push(J);J=""}else ga<D.length&&(J+=la,ga++);J.length&&X.push(J);J=X}else J=D;for(var D=J,J="",
ma=ga=la=void 0,oa=D.length,ra=0,ma=0;ma<oa;ma++)"\n"===D[ma]?(ra>=m.length&&m.push(W.yf(J,H.measureText(J).width,1)),ra++,J="",I=0):(la=J,J+=D[ma],ga=H.measureText(J).width,ga>=C-I&&(ra>=m.length&&m.push(W.yf(la,H.measureText(la).width,2)),ra++,J=D[ma],R||" "!==J||(J=""),I=0));J.length&&(ra>=m.length&&m.push(W.yf(J,H.measureText(J).width,h)),ra++);for(ma=ra;ma<m.length;ma++)W.Wj(m[ma]);m.length=ra}}H=m.length;for(C=0;C<H;C++)R=m[C],a.kh(R.text,f,g,R.width,w,R.se),R.se!==h?(f=0,g+=this.lineHeight):
f+=R.width;this.context.restore()}for(var fc in w)delete w[fc]}}};e.Bn=function(){var a=this.Bb;this.kc&&(this.mm(this.fd,a),this.kc=!1);a.ignore||(this.context.textBaseline=this.textBaseline,this.context.textAlign=this.textAlign,this.An(this.fd,a))};var C=null;e.Yh=function(a,b,c){if(null==c)return this.fd.hk(a,b);null===C&&(C=new m);var d=this.Bb.text;this.Bb.text=c;this.mm(C,this.Bb,!0);this.Bb.text=d;return C.hk(a,b)};e.rc=function(a){if(null==a)return this.fd.rc();a=u(a,1);if(0===a.length)return"";
var b,c=a.length,d="";for(b=0;b<c;b++)d+=a[b];return d};e.Ij=function(a){return this.fd.rd(a)};e.to=function(a){null==a&&(a=this.fd);return a.Do()};e.Th=function(a){null==a&&(a=this.fd);return a.Th()};e.Dh=function(a,b){this.Pg[a]=b;return!0};e.Fn=function(a){return this.Pg[a]};e.trim=function(a){var b,c;a=a.replace(/^\s\s*/,"");b=/\s/;for(c=a.length;b.test(a.charAt(--c)););return a.slice(0,c+1)};e.nb=function(){return{cls:this.Pg,u:[this.nd.Yg,this.nd.offset]}};e.Mb=function(a){this.Pg=a.cls;this.nd.Yg=
a.u[0];this.nd.offset=a.u[1]};var h=0,W=new r;W.yf=function(a,b,c){var d=this.Rf()||{};d.text=a;d.width=b;d.se=c;return d};var V=[],X=[],D=new r,I=new r,e=m.prototype;e.Xj=function(){var a,b=this.Da.length;for(a=0;a<b;a++)this.Da[a].length=0;D.gg(this.mb);I.gg(this.Da)};e.kh=function(a,b,c,d,e,g){var k=D.Rf();null===k&&(k=new f);k.Sp(a,b,c,d,e,g);a=this.mb[this.mb.length-1];null==a?k.ia=0:k.ia=a.Vh();this.mb.push(k);a=this.Da[this.Da.length-1];null==a&&(a=I.Rf()||[],this.Da.push(a));a.push(k);g!==
h&&(a=I.Rf()||[],this.Da.push(a))};e.to=function(){return this.mb};e.Th=function(){return this.mb[this.mb.length-1]};e.Uh=function(){return this.Da};e.Fn=function(a){a=this.Da[a];return null==a?0:a[0].ia};e.Dh=function(a){for(var b=!1,c;0<=a&&!(c=this.Da[a],b=null!=c&&0<c.length);a--);return b?c[c.length-1].ak():0};e.rd=function(a){null==a&&(a=new m);a.Xj();var b,c=this.Da.length,d,e,f,g;for(b=0;b<c;b++)for(d=this.Da[b],f=d.length,e=0;e<f;e++)g=d[e],a.kh(g.text,g.x,g.y,g.width,g.prop,g.se);return a};
e.ek=function(a){a=this.Da[a];return a?(a=a[a.length-1])?a.Ao():0:0};e.Do=function(){var a,b=0,c,d=this.Da.length;for(c=0;c<d;c++)a=this.ek(c),a>b&&(b=a);return b};e.rc=function(){var a="",b,c=this.mb.length;for(b=0;b<c;b++)a+=this.mb[b].rc();return a};e.Ir=function(){var a=0,b,c=this.mb.length;for(b=0;b<c;b++)a+=this.mb[b].rc().length;return a};e.hk=function(a,b){null==a&&(a=0);if(null==b){var c=this.Th();if(null==c)return"";b=c.ak()}for(var d="",e=this.mb.length,f,g,h,k,l,m,c=0;c<e;c++)if(f=this.mb[c],
g=f.rc(),h=f.ia,k=f.Vh(),!(k<=a)){(l=h>=a&&k<b)||(g=g.substring(a-h,b-h));h=f.prop;null==m&&(m=oa);l=void 0;for(l in m)h.hasOwnProperty(l)||(g="[/"+l+"]"+g);var n="";for(l in h)m.hasOwnProperty(l)||(n="size"===l?n+("[size="+h.size.replace("pt","")+"]"):"color"===l?n+("[color="+h.color+"]"):"u"===l?!0===h.u?n+"[u]":n+("[u="+h.u+"]"):n+("["+l+"]"));g=n+g;d=d+g;m=f.prop;if(k>=b)break}return d};var oa={},e=f.prototype;e.Sp=function(a,b,c,d,e,f){this.text=a;this.x=b;this.y=c;this.width=d;a=this.prop;null==
a&&(a={});for(var g in a)e.hasOwnProperty(g)||delete a[g];for(g in e)a[g]=e[g];this.se=f;this.ia=void 0};e.rc=function(){var a=this.text;1==this.se&&(a+="\n");return a};e.Vh=function(){return this.ia+this.rc().length};e.ak=function(){return this.Vh()-1};e.Ao=function(){return this.x+this.width}})();function cc(){return[ec,dc,Z.prototype.N.lj,dc.prototype.N.oj,ec.prototype.od.pj,dc.prototype.pc.Text]};
