// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var aa,ba,ca,w,da,ea,fa,z,ha,ia,ka,H,ma,na,N,oa,ra,sa,ua,P,va,wa,xa,ya,za,S,Aa,Ba,Ca,Da,Ea,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,T,Pb,Qb,V,Rb,Sb={},Tb={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(d){return d.__proto__}:function(d){return d.constructor.prototype});
(function(){function d(u,a,c,e){this.set(u,a,c,e)}function r(){this.$d=this.Zd=this.be=this.ae=this.Re=this.Qe=this.Pe=this.Oe=0}function h(u,a,c,e){u<a?c<e?(q=u<c?u:c,L=a>e?a:e):(q=u<e?u:e,L=a>c?a:c):c<e?(q=a<c?a:c,L=u>e?u:e):(q=a<e?a:e,L=u>c?u:c)}function p(){this.items=this.oc=null;this.Gf=0;I&&(this.oc=new Set);this.Ue=[];this.Qc=!0}function n(u){U[D++]=u}function t(){this.Ra=this.Oh=this.y=this.qi=0}function b(u){this.He=[];this.fl=this.hl=this.il=this.gl=0;this.As(u)}function a(u,a){this.yi=
u;this.xi=a;this.cells={}}function k(u,a){this.yi=u;this.xi=a;this.cells={}}function f(u,a,c){var e;return y.length?(e=y.pop(),e.$i=u,e.x=a,e.y=c,e):new aa(u,a,c)}function e(u,a,c){this.$i=u;this.x=a;this.y=c;this.Ba=new ba}function c(u,a,c){var e;return x.length?(e=x.pop(),e.$i=u,e.x=a,e.y=c,e):new ca(u,a,c)}function g(u,a,c){this.$i=u;this.x=a;this.y=c;this.Ba=[];this.qe=!0;this.ic=new ba;this.Ye=!1}function l(u,a){return u.Vb-a.Vb}w=function(u){window.console&&window.console.log&&window.console.log(u)};
da=function(u){window.console&&window.console.error&&window.console.error(u)};ea=function(u){return"undefined"===typeof u};fa=function(u){return"number"===typeof u};z=function(u){return"string"===typeof u};ha=function(u){return 0>u?-u:u};ia=function(u,a){return u<a?u:a};ka=Math.PI;H=function(u){return 0<=u?u|0:(u|0)-1};ma=function(u){var a=u|0;return a===u?a:a+1};na=function(u,a,c,e,g,b,k,l){var f,m,q,d;u<c?(m=u,f=c):(m=c,f=u);g<k?(d=g,q=k):(d=k,q=g);if(f<d||m>q)return!1;a<e?(m=a,f=e):(m=e,f=a);b<
l?(d=b,q=l):(d=l,q=b);if(f<d||m>q)return!1;f=g-u+k-c;m=b-a+l-e;u=c-u;a=e-a;g=k-g;b=l-b;l=ha(a*g-b*u);return ha(g*m-b*f)>l?!1:ha(u*m-a*f)<=l};d.prototype.set=function(u,a,c,e){this.left=u;this.top=a;this.right=c;this.bottom=e};d.prototype.ff=function(u){this.left=u.left;this.top=u.top;this.right=u.right;this.bottom=u.bottom};d.prototype.width=function(){return this.right-this.left};d.prototype.height=function(){return this.bottom-this.top};d.prototype.offset=function(u,a){this.left+=u;this.top+=a;
this.right+=u;this.bottom+=a;return this};d.prototype.normalize=function(){var u=0;this.left>this.right&&(u=this.left,this.left=this.right,this.right=u);this.top>this.bottom&&(u=this.top,this.top=this.bottom,this.bottom=u)};d.prototype.Yb=function(u,a){return u>=this.left&&u<=this.right&&a>=this.top&&a<=this.bottom};d.prototype.mf=function(u){return this.left===u.left&&this.top===u.top&&this.right===u.right&&this.bottom===u.bottom};N=d;r.prototype.Lh=function(u){this.Oe=u.left;this.Pe=u.top;this.Qe=
u.right;this.Re=u.top;this.ae=u.right;this.be=u.bottom;this.Zd=u.left;this.$d=u.bottom};r.prototype.wn=function(u,a){if(0===a)this.Lh(u);else{var c=Math.sin(a),e=Math.cos(a),g=u.left*c,b=u.top*c,l=u.right*c,c=u.bottom*c,k=u.left*e,f=u.top*e,m=u.right*e,e=u.bottom*e;this.Oe=k-b;this.Pe=f+g;this.Qe=m-b;this.Re=f+l;this.ae=m-c;this.be=e+l;this.Zd=k-c;this.$d=e+g}};r.prototype.offset=function(u,a){this.Oe+=u;this.Pe+=a;this.Qe+=u;this.Re+=a;this.ae+=u;this.be+=a;this.Zd+=u;this.$d+=a;return this};var q=
0,L=0;r.prototype.kl=function(u){h(this.Oe,this.Qe,this.ae,this.Zd);u.left=q;u.right=L;h(this.Pe,this.Re,this.be,this.$d);u.top=q;u.bottom=L};r.prototype.Yb=function(u,a){var c=this.Oe,e=this.Pe,g=this.Qe-c,b=this.Re-e,l=this.ae-c,k=this.be-e,f=u-c,m=a-e,q=g*g+b*b,d=g*l+b*k,b=g*f+b*m,v=l*l+k*k,n=l*f+k*m,h=1/(q*v-d*d),g=(v*b-d*n)*h,q=(q*n-d*b)*h;if(0<=g&&0<q&&1>g+q)return!0;g=this.Zd-c;b=this.$d-e;q=g*g+b*b;d=g*l+b*k;b=g*f+b*m;h=1/(q*v-d*d);g=(v*b-d*n)*h;q=(q*n-d*b)*h;return 0<=g&&0<q&&1>g+q};oa=r;
ra=function(u,a){for(var c in a)a.hasOwnProperty(c)&&(u[c]=a[c]);return u};sa=function(u,a){var c,e;a=H(a);if(!(0>a||a>=u.length)){c=a;for(e=u.length-1;c<e;c++)u[c]=u[c+1];ua(u,e)}};ua=function(u,a){u.length=a};P=function(u){ua(u,0)};va=function(u,a){P(u);var c,e;c=0;for(e=a.length;c<e;++c)u[c]=a[c]};wa=function(u,a){u.push.apply(u,a)};xa=function(u,a){var c,e;c=0;for(e=u.length;c<e;++c)if(u[c]===a)return c;return-1};ya=function(u,a){var c=xa(u,a);-1!==c&&sa(u,c)};za=function(u,a,c){return u<a?a:
u>c?c:u};S=function(u){return u/(180/ka)};Aa=function(u){return 180/ka*u};Ba=function(u){u%=360;0>u&&(u+=360);return u};Ca=function(u){u%=2*ka;0>u&&(u+=2*ka);return u};Da=function(u){return Ba(Aa(u))};Ea=function(u){return Ca(S(u))};Ha=function(u,a,c,e){return Math.atan2(e-a,c-u)};Ia=function(u,a){if(u===a)return 0;var c=Math.sin(u),e=Math.cos(u),g=Math.sin(a),b=Math.cos(a),c=c*g+e*b;return 1<=c?0:-1>=c?ka:Math.acos(c)};Ja=function(u,a,c){var e=Math.sin(u),g=Math.cos(u),b=Math.sin(a),l=Math.cos(a);
return Math.acos(e*b+g*l)>c?0<g*b-e*l?Ca(u+c):Ca(u-c):Ca(a)};Ka=function(u,a){var c=Math.sin(u),e=Math.cos(u),g=Math.sin(a),b=Math.cos(a);return 0>=e*g-c*b};La=function(u,a,c,e){u=c-u;a=e-a;return Math.sqrt(u*u+a*a)};Ma=function(u,a){return!u!==!a};Na=function(u){for(var a in u)if(u.hasOwnProperty(a))return!0;return!1};Oa=function(u){for(var a in u)u.hasOwnProperty(a)&&delete u[a]};var Q=+new Date;Pa=function(){if("undefined"!==typeof window.performance){var u=window.performance;if("undefined"!==
typeof u.now)return u.now();if("undefined"!==typeof u.webkitNow)return u.webkitNow();if("undefined"!==typeof u.mozNow)return u.mozNow();if("undefined"!==typeof u.msNow)return u.msNow()}return Date.now()-Q};var m=!1,v=m=!1,Ra=!1;"undefined"!==typeof window&&(m=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),m=!m&&/safari/i.test(navigator.userAgent),v=/(iphone|ipod|ipad)/i.test(navigator.userAgent),Ra=window.c2ejecta);var I=!m&&!Ra&&!v&&"undefined"!==typeof Set&&"undefined"!==
typeof Set.prototype.forEach;p.prototype.contains=function(u){return this.xc()?!1:I?this.oc.has(u):this.items&&this.items.hasOwnProperty(u)};p.prototype.add=function(u){if(I)this.oc.has(u)||(this.oc.add(u),this.Qc=!1);else{var a=u.toString(),c=this.items;c?c.hasOwnProperty(a)||(c[a]=u,this.Gf++,this.Qc=!1):(this.items={},this.items[a]=u,this.Gf=1,this.Qc=!1)}};p.prototype.remove=function(u){if(!this.xc())if(I)this.oc.has(u)&&(this.oc["delete"](u),this.Qc=!1);else if(this.items){u=u.toString();var a=
this.items;a.hasOwnProperty(u)&&(delete a[u],this.Gf--,this.Qc=!1)}};p.prototype.clear=function(){this.xc()||(I?this.oc.clear():(this.items=null,this.Gf=0),P(this.Ue),this.Qc=!0)};p.prototype.xc=function(){return 0===this.count()};p.prototype.count=function(){return I?this.oc.size:this.Gf};var U=null,D=0;p.prototype.Ns=function(){if(!this.Qc){if(I)P(this.Ue),U=this.Ue,D=0,this.oc.forEach(n),U=null,D=0;else{var u=this.Ue;P(u);var a,c=0,e=this.items;if(e)for(a in e)e.hasOwnProperty(a)&&(u[c++]=e[a])}this.Qc=
!0}};p.prototype.Qd=function(){this.Ns();return this.Ue};ba=p;new ba;Qa=function(u,a){I?Ta(u,a.oc):Ua(u,a.Qd())};Ta=function(a,c){var e,g,b,l;g=e=0;for(b=a.length;e<b;++e)l=a[e],c.has(l)||(a[g++]=l);ua(a,g)};Ua=function(a,c){var e,g,b,l;g=e=0;for(b=a.length;e<b;++e)l=a[e],-1===xa(c,l)&&(a[g++]=l);ua(a,g)};t.prototype.add=function(a){this.y=a-this.qi;this.Oh=this.Ra+this.y;this.qi=this.Oh-this.Ra-this.y;this.Ra=this.Oh};t.prototype.reset=function(){this.Ra=this.Oh=this.y=this.qi=0};Va=t;Wa=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,
"\\$&")};b.prototype.As=function(a){this.bn=a;this.zh=a.length/2;this.He.length=a.length;this.ri=this.si=-1;this.ml=0};b.prototype.Er=function(){return!this.bn.length};b.prototype.Sa=function(){for(var a=this.He,c=a[0],e=c,g=a[1],b=g,l,k,f=1,m=this.zh;f<m;++f)k=2*f,l=a[k],k=a[k+1],l<c&&(c=l),l>e&&(e=l),k<g&&(g=k),k>b&&(b=k);this.gl=c;this.hl=e;this.il=g;this.fl=b};b.prototype.Lh=function(a,c,e){this.He.length=8;this.zh=4;var g=this.He;g[0]=a.left-c;g[1]=a.top-e;g[2]=a.right-c;g[3]=a.top-e;g[4]=a.right-
c;g[5]=a.bottom-e;g[6]=a.left-c;g[7]=a.bottom-e;this.si=a.right-a.left;this.ri=a.bottom-a.top;this.Sa()};b.prototype.vp=function(a,c,e){if(this.si!==a||this.ri!==c||this.ml!==e){this.si=a;this.ri=c;this.ml=e;var g,b,l,k,f,m=0,q=1,d=this.bn,v=this.He;0!==e&&(m=Math.sin(e),q=Math.cos(e));e=0;for(l=this.zh;e<l;e++)g=2*e,b=g+1,k=d[g]*a,f=d[b]*c,v[g]=k*q-f*m,v[b]=f*q+k*m;this.Sa()}};b.prototype.Yb=function(a,c){var e=this.He;if(a===e[0]&&c===e[1])return!0;var g,b,l,k=this.zh,f=this.gl-110,m=this.il-101,
q=this.hl+131,d=this.fl+120,v,n,h=0,t=0;for(g=0;g<k;g++)b=2*g,l=(g+1)%k*2,v=e[b],b=e[b+1],n=e[l],l=e[l+1],na(f,m,a,c,v,b,n,l)&&h++,na(q,d,a,c,v,b,n,l)&&t++;return 1===h%2||1===t%2};Xa=b;a.prototype.Xc=function(a,c,e){var g;g=this.cells[a];return g?(g=g[c])?g:e?(g=f(this,a,c),this.cells[a][c]=g):null:e?(g=f(this,a,c),this.cells[a]={},this.cells[a][c]=g):null};a.prototype.Ta=function(a){return H(a/this.yi)};a.prototype.Ua=function(a){return H(a/this.xi)};a.prototype.update=function(a,c,e){var g,b,l,
k,f;if(c)for(g=c.left,b=c.right;g<=b;++g)for(l=c.top,k=c.bottom;l<=k;++l)if(!e||!e.Yb(g,l))if(f=this.Xc(g,l,!1))f.remove(a),f.xc()&&(f.Ba.clear(),1E3>y.length&&y.push(f),this.cells[g][l]=null);if(e)for(g=e.left,b=e.right;g<=b;++g)for(l=e.top,k=e.bottom;l<=k;++l)c&&c.Yb(g,l)||this.Xc(g,l,!0).ej(a)};a.prototype.dn=function(a,c){var e,g,b,l,k,f;e=this.Ta(a.left);b=this.Ua(a.top);g=this.Ta(a.right);for(k=this.Ua(a.bottom);e<=g;++e)for(l=b;l<=k;++l)(f=this.Xc(e,l,!1))&&f.dump(c)};Ya=a;k.prototype.Xc=function(a,
e,g){var b;b=this.cells[a];return b?(b=b[e])?b:g?(b=c(this,a,e),this.cells[a][e]=b):null:g?(b=c(this,a,e),this.cells[a]={},this.cells[a][e]=b):null};k.prototype.Ta=function(a){return H(a/this.yi)};k.prototype.Ua=function(a){return H(a/this.xi)};k.prototype.update=function(a,c,e){var g,b,l,k,f;if(c)for(g=c.left,b=c.right;g<=b;++g)for(l=c.top,k=c.bottom;l<=k;++l)if(!e||!e.Yb(g,l))if(f=this.Xc(g,l,!1))f.remove(a),f.xc()&&(f.reset(),1E3>x.length&&x.push(f),this.cells[g][l]=null);if(e)for(g=e.left,b=e.right;g<=
b;++g)for(l=e.top,k=e.bottom;l<=k;++l)c&&c.Yb(g,l)||this.Xc(g,l,!0).ej(a)};k.prototype.dn=function(a,c,e,g,b){var l,k;a=this.Ta(a);c=this.Ua(c);e=this.Ta(e);for(l=this.Ua(g);a<=e;++a)for(g=c;g<=l;++g)(k=this.Xc(a,g,!1))&&k.dump(b)};k.prototype.Kr=function(a){var c,e,g,b,l;c=a.left;g=a.top;e=a.right;for(b=a.bottom;c<=e;++c)for(a=g;a<=b;++a)if(l=this.Xc(c,a,!1))l.qe=!1};Za=k;var y=[];e.prototype.xc=function(){return this.Ba.xc()};e.prototype.ej=function(a){this.Ba.add(a)};e.prototype.remove=function(a){this.Ba.remove(a)};
e.prototype.dump=function(a){wa(a,this.Ba.Qd())};aa=e;var x=[];g.prototype.xc=function(){if(!this.Ba.length)return!0;if(this.Ba.length>this.ic.count())return!1;this.Oi();return!0};g.prototype.ej=function(a){this.ic.contains(a)?(this.ic.remove(a),this.ic.xc()&&(this.Ye=!1)):this.Ba.length?(this.Ba[this.Ba.length-1].ec()>a.ec()&&(this.qe=!1),this.Ba.push(a)):(this.Ba.push(a),this.qe=!0)};g.prototype.remove=function(a){this.ic.add(a);this.Ye=!0;30<=this.ic.count()&&this.Oi()};g.prototype.Oi=function(){this.Ye&&
(this.ic.count()===this.Ba.length?this.reset():(Qa(this.Ba,this.ic),this.ic.clear(),this.Ye=!1))};g.prototype.bq=function(){this.qe||(this.Ba.sort(l),this.qe=!0)};g.prototype.reset=function(){P(this.Ba);this.qe=!0;this.ic.clear();this.Ye=!1};g.prototype.dump=function(a){this.Oi();this.bq();this.Ba.length&&a.push(this.Ba)};ca=g;var F="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");$a=function(a){return 0>=a||11<=a?"source-over":
F[a-1]};ab=function(a,c,e){if(e)switch(a.Pa=e.ONE,a.Ma=e.ONE_MINUS_SRC_ALPHA,c){case 1:a.Pa=e.ONE;a.Ma=e.ONE;break;case 3:a.Pa=e.ONE;a.Ma=e.ZERO;break;case 4:a.Pa=e.ONE_MINUS_DST_ALPHA;a.Ma=e.ONE;break;case 5:a.Pa=e.DST_ALPHA;a.Ma=e.ZERO;break;case 6:a.Pa=e.ZERO;a.Ma=e.SRC_ALPHA;break;case 7:a.Pa=e.ONE_MINUS_DST_ALPHA;a.Ma=e.ZERO;break;case 8:a.Pa=e.ZERO;a.Ma=e.ONE_MINUS_SRC_ALPHA;break;case 9:a.Pa=e.DST_ALPHA;a.Ma=e.ONE_MINUS_SRC_ALPHA;break;case 10:a.Pa=e.ONE_MINUS_DST_ALPHA,a.Ma=e.SRC_ALPHA}};
bb=function(a){return Math.round(1E6*a)/1E6};cb=function(a,c){return"string"!==typeof a||"string"!==typeof c||a.length!==c.length?!1:a===c?!0:a.toLowerCase()===c.toLowerCase()};db=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||cb(a.tagName,"canvas")?!0:!1}})();var Ub="undefined"!==typeof Float32Array?Float32Array:Array;function Vb(d){var r=new Ub(3);d&&(r[0]=d[0],r[1]=d[1],r[2]=d[2]);return r}
function W(d){var r=new Ub(16);d&&(r[0]=d[0],r[1]=d[1],r[2]=d[2],r[3]=d[3],r[4]=d[4],r[5]=d[5],r[6]=d[6],r[7]=d[7],r[8]=d[8],r[9]=d[9],r[10]=d[10],r[11]=d[11],r[12]=d[12],r[13]=d[13],r[14]=d[14],r[15]=d[15]);return r}function Wb(d,r){r[0]=d[0];r[1]=d[1];r[2]=d[2];r[3]=d[3];r[4]=d[4];r[5]=d[5];r[6]=d[6];r[7]=d[7];r[8]=d[8];r[9]=d[9];r[10]=d[10];r[11]=d[11];r[12]=d[12];r[13]=d[13];r[14]=d[14];r[15]=d[15]}
function Yb(d,r){var h=r[0],p=r[1];r=r[2];d[0]*=h;d[1]*=h;d[2]*=h;d[3]*=h;d[4]*=p;d[5]*=p;d[6]*=p;d[7]*=p;d[8]*=r;d[9]*=r;d[10]*=r;d[11]*=r}
function Zb(d,r,h,p){p||(p=W());var n,t,b,a,k,f,e,c,g=d[0],l=d[1];d=d[2];t=h[0];b=h[1];n=h[2];h=r[1];f=r[2];g===r[0]&&l===h&&d===f?(d=p,d[0]=1,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=1,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=1,d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1):(h=g-r[0],f=l-r[1],e=d-r[2],c=1/Math.sqrt(h*h+f*f+e*e),h*=c,f*=c,e*=c,r=b*e-n*f,n=n*h-t*e,t=t*f-b*h,(c=Math.sqrt(r*r+n*n+t*t))?(c=1/c,r*=c,n*=c,t*=c):t=n=r=0,b=f*t-e*n,a=e*r-h*t,k=h*n-f*r,(c=Math.sqrt(b*b+a*a+k*k))?(c=1/c,b*=c,a*=c,k*=c):k=a=b=0,
p[0]=r,p[1]=b,p[2]=h,p[3]=0,p[4]=n,p[5]=a,p[6]=f,p[7]=0,p[8]=t,p[9]=k,p[10]=e,p[11]=0,p[12]=-(r*g+n*l+t*d),p[13]=-(b*g+a*l+k*d),p[14]=-(h*g+f*l+e*d),p[15]=1)}
(function(){function d(a,b,f){this.me=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.S=!!f;this.Tg=this.zf=!1;this.Ei=0;this.Xh=1;this.pk=1E3;this.Ss=(this.pk-this.Xh)/32768;this.vi=Vb([0,0,100]);this.qm=Vb([0,0,0]);this.Rn=Vb([0,1,0]);this.qg=Vb([1,1,1]);this.$p=!0;this.lh=W();this.mb=W();this.vj=W();this.Di=W();this.j=a;this.Tl()}function r(a,b,f){this.j=a;this.dg=b;this.name=f;this.xb=a.getAttribLocation(b,"aPos");this.kd=a.getAttribLocation(b,
"aTex");this.om=a.getUniformLocation(b,"matP");this.hh=a.getUniformLocation(b,"matMV");this.Ae=a.getUniformLocation(b,"opacity");this.xj=a.getUniformLocation(b,"colorFill");this.pm=a.getUniformLocation(b,"samplerFront");this.Mf=a.getUniformLocation(b,"samplerBack");this.Kd=a.getUniformLocation(b,"destStart");this.Jd=a.getUniformLocation(b,"destEnd");this.Of=a.getUniformLocation(b,"seconds");this.zj=a.getUniformLocation(b,"pixelWidth");this.yj=a.getUniformLocation(b,"pixelHeight");this.Lf=a.getUniformLocation(b,
"layerScale");this.Kf=a.getUniformLocation(b,"layerAngle");this.Pf=a.getUniformLocation(b,"viewOrigin");this.Nf=a.getUniformLocation(b,"scrollPos");this.qr=!!(this.zj||this.yj||this.Of||this.Mf||this.Kd||this.Jd||this.Lf||this.Kf||this.Pf||this.Nf);this.zm=this.Am=-999;this.kh=1;this.vm=this.um=0;this.xm=this.tm=this.rm=1;this.Dm=this.Cm=this.Bm=this.Fm=this.Em=this.wm=0;this.uj=[];this.ym=W();this.Ae&&a.uniform1f(this.Ae,1);this.xj&&a.uniform4f(this.xj,1,1,1,1);this.pm&&a.uniform1i(this.pm,0);this.Mf&&
a.uniform1i(this.Mf,1);this.Kd&&a.uniform2f(this.Kd,0,0);this.Jd&&a.uniform2f(this.Jd,1,1);this.Lf&&a.uniform1f(this.Lf,1);this.Kf&&a.uniform1f(this.Kf,0);this.Pf&&a.uniform2f(this.Pf,0,0);this.Nf&&a.uniform2f(this.Nf,0,0);this.Of&&a.uniform1f(this.Of,0);this.Bd=!1}function h(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===
b[15]}function p(a,b){this.type=a;this.m=b;this.j=b.j;this.fc=this.Qa=this.Vm=0;this.B=this.Bb=null;this.xn=[]}var n=W();d.prototype.Tl=function(){var a=this.j,b;this.jm=1;this.Gd=this.ue=null;this.Ag=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.S?(a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL)):a.disable(a.DEPTH_TEST);this.km=a.ONE;this.im=a.ONE_MINUS_SRC_ALPHA;
this.Vh=new Float32Array(8E3*(this.S?3:2));this.Ph=new Float32Array(16E3);this.Ym=new Float32Array(32E3);this.Kj=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Kj);a.bufferData(a.ARRAY_BUFFER,this.Ym.byteLength,a.DYNAMIC_DRAW);this.pg=Array(4);this.hg=Array(4);for(b=0;4>b;b++)this.pg[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.pg[b]),a.bufferData(a.ARRAY_BUFFER,this.Vh.byteLength,a.DYNAMIC_DRAW),this.hg[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.hg[b]),a.bufferData(a.ARRAY_BUFFER,
this.Ph.byteLength,a.DYNAMIC_DRAW);this.rc=0;this.tr=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.tr);for(var f=new Uint16Array(12E3),e=b=0;12E3>b;)f[b++]=e,f[b++]=e+1,f[b++]=e+2,f[b++]=e,f[b++]=e+2,f[b++]=e+3,e+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,f,a.STATIC_DRAW);this.Lj=this.Ne=this.Kc=0;this.ja=[];b=this.S?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";f=this.gf({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},b,"<default>");this.ja.push(f);f=this.gf({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.ja.push(f);f=this.gf({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},b,"<earlyz>");this.ja.push(f);f=this.gf({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
b,"<fill>");this.ja.push(f);for(var c in $b)$b.hasOwnProperty(c)&&this.ja.push(this.gf($b[c],b,c));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.Pc=[];this.qc=0;this.Na=!1;this.rl=this.Jf=-1;this.fe=null;this.Ni=a.createFramebuffer();this.Dg=this.Ch=null;this.el=!1;this.S&&(this.Dg=a.createRenderbuffer());this.qd=Vb([0,0,0]);this.Gm=a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1];2048<this.Gm&&(this.Gm=2048);this.Za(0)};r.prototype.mk=function(a){h(this.ym,a)||(Wb(a,this.ym),this.j.uniformMatrix4fv(this.hh,
!1,a))};d.prototype.gf=function(a,b,f){var e=this.j,c=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(c,a.src);e.compileShader(c);if(!e.getShaderParameter(c,e.COMPILE_STATUS))return e.deleteShader(c),null;var g=e.createShader(e.VERTEX_SHADER);e.shaderSource(g,b);e.compileShader(g);if(!e.getShaderParameter(g,e.COMPILE_STATUS))return e.deleteShader(c),e.deleteShader(g),null;b=e.createProgram();e.attachShader(b,c);e.attachShader(b,g);e.linkProgram(b);if(!e.getProgramParameter(b,e.LINK_STATUS))return e.deleteShader(c),
e.deleteShader(g),e.deleteProgram(b),null;e.useProgram(b);e.deleteShader(c);e.deleteShader(g);f=new r(e,b,f);f.Li=a.Li||0;f.Mi=a.Mi||0;f.ql=!!a.ql;f.Nb=!!a.Nb;f.al=!!a.al;f.C=a.C||[];a=0;for(c=f.C.length;a<c;a++)f.C[a][1]=e.getUniformLocation(b,f.C[a][0]),f.uj.push(0),e.uniform1f(f.C[a][1],0);return f};d.prototype.Xi=function(a){var b,f;b=0;for(f=this.ja.length;b<f;b++)if(this.ja[b].name===a)return b;return-1};d.prototype.an=function(a,b,f){var e=this.mb,c=this.lh,g=[0,0,0,0,0,0,0,0];g[0]=e[0]*a+
e[4]*b+e[12];g[1]=e[1]*a+e[5]*b+e[13];g[2]=e[2]*a+e[6]*b+e[14];g[3]=e[3]*a+e[7]*b+e[15];g[4]=c[0]*g[0]+c[4]*g[1]+c[8]*g[2]+c[12]*g[3];g[5]=c[1]*g[0]+c[5]*g[1]+c[9]*g[2]+c[13]*g[3];g[6]=c[2]*g[0]+c[6]*g[1]+c[10]*g[2]+c[14]*g[3];g[7]=-g[2];0!==g[7]&&(g[7]=1/g[7],g[4]*=g[7],g[5]*=g[7],g[6]*=g[7],f[0]=(.5*g[4]+.5)*this.width,f[1]=(.5*g[5]+.5)*this.height)};d.prototype.Od=function(a,b,f){if(this.width!==a||this.height!==b||f){this.he();f=this.j;this.width=a;this.height=b;f.viewport(0,0,a,b);Zb(this.vi,
this.qm,this.Rn,this.mb);if(this.S){var e=-a/2;a=a/2;var c=b/2;b=-b/2;var g=this.Xh,l=this.pk,q=this.lh;q||(q=W());var d=a-e,n=b-c,m=l-g;q[0]=2/d;q[1]=0;q[2]=0;q[3]=0;q[4]=0;q[5]=2/n;q[6]=0;q[7]=0;q[8]=0;q[9]=0;q[10]=-2/m;q[11]=0;q[12]=-(e+a)/d;q[13]=-(b+c)/n;q[14]=-(l+g)/m;q[15]=1;this.qg[0]=1;this.qg[1]=1}else b=a/b,e=this.Xh,a=this.pk,q=this.lh,l=e*Math.tan(45*Math.PI/360),b*=l,c=-b,g=-l,q||(q=W()),d=b-c,n=l-g,m=a-e,q[0]=2*e/d,q[1]=0,q[2]=0,q[3]=0,q[4]=0,q[5]=2*e/n,q[6]=0,q[7]=0,q[8]=(b+c)/d,q[9]=
(l+g)/n,q[10]=-(a+e)/m,q[11]=-1,q[12]=0,q[13]=0,q[14]=-(a*e*2)/m,q[15]=0,e=[0,0],a=[0,0],this.an(0,0,e),this.an(1,1,a),this.qg[0]=1/(a[0]-e[0]),this.qg[1]=-1/(a[1]-e[1]);e=0;for(a=this.ja.length;e<a;e++)c=this.ja[e],c.Bd=!1,c.om&&(f.useProgram(c.dg),f.uniformMatrix4fv(c.om,!1,this.lh));f.useProgram(this.ja[this.Jf].dg);f.bindTexture(f.TEXTURE_2D,null);f.activeTexture(f.TEXTURE1);f.bindTexture(f.TEXTURE_2D,null);f.activeTexture(f.TEXTURE0);this.Gd=this.ue=null;this.Dg&&(f.bindFramebuffer(f.FRAMEBUFFER,
this.Ni),f.bindRenderbuffer(f.RENDERBUFFER,this.Dg),f.renderbufferStorage(f.RENDERBUFFER,f.DEPTH_COMPONENT16,this.width,this.height),this.el||(f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,this.Dg),this.el=!0),f.bindRenderbuffer(f.RENDERBUFFER,null),f.bindFramebuffer(f.FRAMEBUFFER,null),this.Ch=null)}};d.prototype.lc=function(){Zb(this.vi,this.qm,this.Rn,this.mb);Yb(this.mb,this.qg)};d.prototype.translate=function(a,b){if(0!==a||0!==b){this.qd[0]=a;this.qd[1]=b;this.qd[2]=
0;var f=this.mb,e=this.qd,c=e[0],g=e[1],e=e[2];f[12]=f[0]*c+f[4]*g+f[8]*e+f[12];f[13]=f[1]*c+f[5]*g+f[9]*e+f[13];f[14]=f[2]*c+f[6]*g+f[10]*e+f[14];f[15]=f[3]*c+f[7]*g+f[11]*e+f[15]}};d.prototype.scale=function(a,b){if(1!==a||1!==b)this.qd[0]=a,this.qd[1]=b,this.qd[2]=1,Yb(this.mb,this.qd)};d.prototype.Vj=function(a){if(0!==a){var b=this.mb,f,e=Math.sin(a);a=Math.cos(a);var c=b[0],g=b[1],l=b[2],q=b[3],d=b[4],n=b[5],m=b[6],v=b[7];f?b!==f&&(f[8]=b[8],f[9]=b[9],f[10]=b[10],f[11]=b[11],f[12]=b[12],f[13]=
b[13],f[14]=b[14],f[15]=b[15]):f=b;f[0]=c*a+d*e;f[1]=g*a+n*e;f[2]=l*a+m*e;f[3]=q*a+v*e;f[4]=c*-e+d*a;f[5]=g*-e+n*a;f[6]=l*-e+m*a;f[7]=q*-e+v*a}};d.prototype.Ub=function(){if(!h(this.vj,this.mb)){var a=this.eb();a.type=5;a.B?Wb(this.mb,a.B):a.B=W(this.mb);Wb(this.mb,this.vj);this.Na=!1}};d.prototype.Hh=function(a){this.S&&(32760<a&&(a=32760),this.Ei=this.vi[2]-this.Xh-a*this.Ss)};p.prototype.Lp=function(){var a=this.j,b=this.m;0!==this.Qa?(a.depthMask(!0),a.colorMask(!1,!1,!1,!1),a.disable(a.BLEND),
a.bindFramebuffer(a.FRAMEBUFFER,b.Ni),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.clear(a.DEPTH_BUFFER_BIT),a.bindFramebuffer(a.FRAMEBUFFER,null),b.Tg=!0):(a.depthMask(!1),a.colorMask(!0,!0,!0,!0),a.enable(a.BLEND),b.Tg=!1)};p.prototype.Pp=function(){this.j.bindTexture(this.j.TEXTURE_2D,this.Bb)};p.prototype.Qp=function(){var a=this.j;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.Bb);a.activeTexture(a.TEXTURE0)};p.prototype.Mp=function(){var a=this.Vm,
b=this.m;b.Ag=a;b=b.fe;b.Ae&&b.kh!==a&&(b.kh=a,this.j.uniform1f(b.Ae,a))};p.prototype.Gp=function(){this.j.drawElements(this.j.TRIANGLES,this.fc,this.j.UNSIGNED_SHORT,this.Qa)};p.prototype.Ip=function(){this.j.blendFunc(this.Qa,this.fc)};p.prototype.Rp=function(){var a,b,f,e=this.m.ja,c=this.m.rl;a=0;for(b=e.length;a<b;a++)f=e[a],a===c&&f.hh?(f.mk(this.B),f.Bd=!0):f.Bd=!1;Wb(this.B,this.m.Di)};p.prototype.Hp=function(){var a=this.j,b=this.m;this.Bb?(b.Gd===this.Bb&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,
null),b.Gd=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,b.Ni),b.Tg||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.Bb,0)):(b.S||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};p.prototype.Ep=function(){var a=this.j,b=this.Qa;0===b?(a.clearColor(this.B[0],this.B[1],this.B[2],this.B[3]),a.clear(a.COLOR_BUFFER_BIT)):1===b?(a.enable(a.SCISSOR_TEST),a.scissor(this.B[0],this.B[1],this.B[2],
this.B[3]),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST)):a.clear(a.DEPTH_BUFFER_BIT)};p.prototype.Kp=function(){var a=this.j;0!==this.Qa?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)};p.prototype.Fp=function(){var a=this.j,b=this.m;b.S&&a.disable(a.DEPTH_TEST);var f=b.ja[1];a.useProgram(f.dg);!f.Bd&&f.hh&&(f.mk(b.Di),f.Bd=!0);a.enableVertexAttribArray(f.xb);a.bindBuffer(a.ARRAY_BUFFER,b.Kj);a.vertexAttribPointer(f.xb,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.Qa/
4,this.fc);f=b.fe;a.useProgram(f.dg);0<=f.xb&&(a.enableVertexAttribArray(f.xb),a.bindBuffer(a.ARRAY_BUFFER,b.pg[b.rc]),a.vertexAttribPointer(f.xb,b.S?3:2,a.FLOAT,!1,0,0));0<=f.kd&&(a.enableVertexAttribArray(f.kd),a.bindBuffer(a.ARRAY_BUFFER,b.hg[b.rc]),a.vertexAttribPointer(f.kd,2,a.FLOAT,!1,0,0));b.S&&a.enable(a.DEPTH_TEST)};p.prototype.Np=function(){var a=this.j,b=this.m,f=b.ja[this.Qa];b.rl=this.Qa;b.fe=f;a.useProgram(f.dg);!f.Bd&&f.hh&&(f.mk(b.Di),f.Bd=!0);f.Ae&&f.kh!==b.Ag&&(f.kh=b.Ag,a.uniform1f(f.Ae,
b.Ag));0<=f.xb&&(a.enableVertexAttribArray(f.xb),a.bindBuffer(a.ARRAY_BUFFER,b.pg[b.rc]),a.vertexAttribPointer(f.xb,b.S?3:2,a.FLOAT,!1,0,0));0<=f.kd&&(a.enableVertexAttribArray(f.kd),a.bindBuffer(a.ARRAY_BUFFER,b.hg[b.rc]),a.vertexAttribPointer(f.kd,2,a.FLOAT,!1,0,0))};p.prototype.Jp=function(){var a=this.B;this.j.uniform4f(this.m.fe.xj,a[0],a[1],a[2],a[3])};p.prototype.Op=function(){var a,b,f=this.m.fe,e=this.j;a=this.B;f.Mf&&this.m.Gd!==this.Bb&&(e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,
this.Bb),this.m.Gd=this.Bb,e.activeTexture(e.TEXTURE0));var c=a[0];f.zj&&c!==f.Am&&(f.Am=c,e.uniform1f(f.zj,c));c=a[1];f.yj&&c!==f.zm&&(f.zm=c,e.uniform1f(f.yj,c));c=a[2];b=a[3];!f.Kd||c===f.um&&b===f.vm||(f.um=c,f.vm=b,e.uniform2f(f.Kd,c,b));c=a[4];b=a[5];!f.Jd||c===f.rm&&b===f.tm||(f.rm=c,f.tm=b,e.uniform2f(f.Jd,c,b));c=a[6];f.Lf&&c!==f.xm&&(f.xm=c,e.uniform1f(f.Lf,c));c=a[7];f.Kf&&c!==f.wm&&(f.wm=c,e.uniform1f(f.Kf,c));c=a[8];b=a[9];!f.Pf||c===f.Em&&b===f.Fm||(f.Em=c,f.Fm=b,e.uniform2f(f.Pf,c,
b));c=a[10];b=a[11];!f.Nf||c===f.Bm&&b===f.Cm||(f.Bm=c,f.Cm=b,e.uniform2f(f.Nf,c,b));c=a[12];f.Of&&c!==f.Dm&&(f.Dm=c,e.uniform1f(f.Of,c));if(f.C.length)for(a=0,b=f.C.length;a<b;a++)c=this.xn[a],c!==f.uj[a]&&(f.uj[a]=c,e.uniform1f(f.C[a][1],c))};d.prototype.eb=function(){this.qc===this.Pc.length&&this.Pc.push(new p(0,this));return this.Pc[this.qc++]};d.prototype.he=function(){if(0!==this.qc&&!this.j.isContextLost()){var a=this.j;0<this.Lj&&(a.bindBuffer(a.ARRAY_BUFFER,this.Kj),a.bufferSubData(a.ARRAY_BUFFER,
0,this.Ym.subarray(0,this.Lj)),b&&0<=b.xb&&"<point>"===b.name&&a.vertexAttribPointer(b.xb,4,a.FLOAT,!1,0,0));if(0<this.Kc){var b=this.fe;a.bindBuffer(a.ARRAY_BUFFER,this.pg[this.rc]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Vh.subarray(0,this.Kc));b&&0<=b.xb&&"<point>"!==b.name&&a.vertexAttribPointer(b.xb,this.S?3:2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.hg[this.rc]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Ph.subarray(0,this.Ne));b&&0<=b.kd&&"<point>"!==b.name&&a.vertexAttribPointer(b.kd,2,a.FLOAT,
!1,0,0)}for(var f,a=0,b=this.qc;a<b;a++)switch(f=this.Pc[a],f.type){case 1:f.Gp();break;case 2:f.Pp();break;case 3:f.Mp();break;case 4:f.Ip();break;case 5:f.Rp();break;case 6:f.Hp();break;case 7:f.Ep();break;case 8:f.Fp();break;case 9:f.Np();break;case 10:f.Op();break;case 11:f.Qp();break;case 12:f.Jp();break;case 13:f.Kp();break;case 14:f.Lp()}this.Lj=this.Ne=this.Kc=this.qc=0;this.Tg=this.Na=!1;this.rc++;4<=this.rc&&(this.rc=0)}};d.prototype.Ih=function(a){if(a!==this.jm&&!this.zf){var b=this.eb();
b.type=3;this.jm=b.Vm=a;this.Na=!1}};d.prototype.Rb=function(a){if(a!==this.ue){var b=this.eb();b.type=2;this.ue=b.Bb=a;this.Na=!1}};d.prototype.nd=function(a,b){if((a!==this.km||b!==this.im)&&!this.zf){var f=this.eb();f.type=4;f.Qa=a;f.fc=b;this.km=a;this.im=b;this.Na=!1}};d.prototype.qn=function(){this.nd(this.j.ONE,this.j.ONE_MINUS_SRC_ALPHA)};d.prototype.Oj=function(a,b,f,e,c,g,l,q){15992<=this.Kc&&this.he();var d=this.Kc,n=this.Ne,m=this.Vh,v=this.Ph,h=this.Ei;if(this.Na)this.Pc[this.qc-1].fc+=
6;else{var t=this.eb();t.type=1;t.Qa=this.S?d:d/2*3;t.fc=6;this.Na=!0}this.S?(m[d++]=a,m[d++]=b,m[d++]=h,m[d++]=f,m[d++]=e,m[d++]=h,m[d++]=c,m[d++]=g,m[d++]=h,m[d++]=l,m[d++]=q,m[d++]=h):(m[d++]=a,m[d++]=b,m[d++]=f,m[d++]=e,m[d++]=c,m[d++]=g,m[d++]=l,m[d++]=q);v[n++]=0;v[n++]=0;v[n++]=1;v[n++]=0;v[n++]=1;v[n++]=1;v[n++]=0;v[n++]=1;this.Kc=d;this.Ne=n};d.prototype.Zf=function(a,b,f,e,c,g,l,d,n){15992<=this.Kc&&this.he();var h=this.Kc,m=this.Ne,v=this.Vh,t=this.Ph,r=this.Ei;if(this.Na)this.Pc[this.qc-
1].fc+=6;else{var p=this.eb();p.type=1;p.Qa=this.S?h:h/2*3;p.fc=6;this.Na=!0}var p=n.left,D=n.top,y=n.right;n=n.bottom;this.S?(v[h++]=a,v[h++]=b,v[h++]=r,v[h++]=f,v[h++]=e,v[h++]=r,v[h++]=c,v[h++]=g,v[h++]=r,v[h++]=l,v[h++]=d,v[h++]=r):(v[h++]=a,v[h++]=b,v[h++]=f,v[h++]=e,v[h++]=c,v[h++]=g,v[h++]=l,v[h++]=d);t[m++]=p;t[m++]=D;t[m++]=y;t[m++]=D;t[m++]=y;t[m++]=n;t[m++]=p;t[m++]=n;this.Kc=h;this.Ne=m};d.prototype.Za=function(a){if(this.Jf!==a){if(!this.ja[a]){if(0===this.Jf)return;a=0}var b=this.eb();
b.type=9;this.Jf=b.Qa=a;this.Na=!1}};d.prototype.Xf=function(a){a=this.ja[a];return!(!a.Kd&&!a.Jd)};d.prototype.Nj=function(a){a=this.ja[a];return!!(a.Kd||a.Jd||a.ql)};d.prototype.Mj=function(a){return this.ja[a].Nb};d.prototype.hs=function(a){a=this.ja[a];return 0!==a.Li||0!==a.Mi};d.prototype.Vq=function(a){return this.ja[a].Li};d.prototype.Wq=function(a){return this.ja[a].Mi};d.prototype.Xq=function(a,b){return this.ja[a].C[b][2]};d.prototype.yh=function(a){return this.ja[a].al};d.prototype.Ke=
function(a,b,f,e,c,g,l,d,n,h,m,v,t,r,p){var D=this.ja[this.Jf],y,x;if(D.qr||p.length){y=this.eb();y.type=10;y.B?Wb(this.mb,y.B):y.B=W();x=y.B;x[0]=b;x[1]=f;x[2]=e;x[3]=c;x[4]=g;x[5]=l;x[6]=d;x[7]=n;x[8]=h;x[9]=m;x[10]=v;x[11]=t;x[12]=r;D.Mf?y.Bb=a:y.Bb=null;if(p.length)for(f=y.xn,f.length=p.length,a=0,b=p.length;a<b;a++)f[a]=p[a];this.Na=!1}};d.prototype.clear=function(a,b,f,e){var c=this.eb();c.type=7;c.Qa=0;c.B||(c.B=W());c.B[0]=a;c.B[1]=b;c.B[2]=f;c.B[3]=e;this.Na=!1};d.prototype.clearRect=function(a,
b,f,e){if(!(0>f||0>e)){var c=this.eb();c.type=7;c.Qa=1;c.B||(c.B=W());c.B[0]=a;c.B[1]=b;c.B[2]=f;c.B[3]=e;this.Na=!1}};d.prototype.tn=function(a){if(this.S&&(a=!!a,this.zf!==a)){var b=this.eb();b.type=14;b.Qa=a?1:0;this.Na=!1;this.zf=a;this.Ch=null;this.zf?this.Za(2):this.Za(0)}};d.prototype.sn=function(a){if(this.S){var b=this.eb();b.type=13;b.Qa=a?1:0;this.Na=!1}};d.prototype.Hl=function(){Wb(this.vj,n);this.lc();this.Ub();var a=this.width/2,b=this.height/2;this.Oj(-a,b,a,b,a,-b,-a,-b);Wb(n,this.mb);
this.Ub()};d.prototype.rn=function(a,b,f){this.Za(3);var e=this.eb();e.type=12;e.B||(e.B=W());e.B[0]=a;e.B[1]=b;e.B[2]=f;e.B[3]=1;this.Na=!1};d.prototype.zs=function(){this.Za(0)};d.prototype.ms=function(){this.Za(2)};d.prototype.gs=function(){this.he();this.j.flush()};var t=[],b={};d.prototype.yp=function(){P(t);b={}};d.prototype.qb=function(a,b,f){var e;this.he();var c=this.j;this.me&&(e=!1);var g=c.createTexture();c.bindTexture(c.TEXTURE_2D,g);c.texImage2D(c.TEXTURE_2D,0,c.RGBA,a,b,0,c.RGBA,e?
c.UNSIGNED_SHORT_4_4_4_4:c.UNSIGNED_BYTE,null);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,f?c.LINEAR:c.NEAREST);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,f?c.LINEAR:c.NEAREST);c.bindTexture(c.TEXTURE_2D,null);this.ue=null;g.ee=a;g.de=b;t.push(g);return g};d.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.ll&&1<a.ll?a.ll--:(this.he(),a===this.ue&&
(this.j.bindTexture(this.j.TEXTURE_2D,null),this.ue=null),a===this.Gd&&(this.j.activeTexture(this.j.TEXTURE1),this.j.bindTexture(this.j.TEXTURE_2D,null),this.j.activeTexture(this.j.TEXTURE0),this.Gd=null),ya(t,a),"undefined"!==typeof a.up&&delete b[a.up],this.j.deleteTexture(a)))};d.prototype.zb=function(a){if(a!==this.Ch){var b=this.eb();b.type=6;this.Ch=b.Bb=a;this.Na=!1}};eb=d})();
(function(){function d(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var c=this;this.wc=(this.Ug=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.Zc=!!a.dc;this.wr="undefined"!==typeof window.AppMobi||
this.Zc;this.Jb=!!window.c2cocoonjs;this.gc=!!window.c2ejecta;this.Jb&&(CocoonJS.App.onSuspended.addEventListener(function(){c.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){c.setSuspended(!1)}));this.gc&&(document.addEventListener("pagehide",function(){c.setSuspended(!0)}),document.addEventListener("pageshow",function(){c.setSuspended(!1)}),document.addEventListener("resize",function(){c.setSize(window.innerWidth,window.innerHeight)}));this.F=this.Zc||this.Jb||this.gc;this.Vg=
/edge\//i.test(navigator.userAgent);this.me=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.Vg;this.dm=/tizen/i.test(navigator.userAgent);this.Yl=/android/i.test(navigator.userAgent)&&!this.dm&&!this.me&&!this.Vg;this.hm=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.me&&!this.Vg;this.Fr=/ipad/i.test(navigator.userAgent);this.sj=this.hm||this.Fr||this.gc;this.hj=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.me&&!this.Vg;this.Xl=/amazonwebappplatform/i.test(navigator.userAgent);this.yr=/firefox/i.test(navigator.userAgent);this.$c="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.em=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Dr=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.oe=!("undefined"===
typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.qj=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.pj=!!window.cr_windows10;this.oj=this.em||this.Dr||this.qj||this.pj;this.xr=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.Zl=this.Yl&&!this.hj&&!this.Ug&&!this.yr&&!this.Xl&&!this.F;this.devicePixelRatio=1;this.Bf=this.wc||this.Ug||this.wr||this.Jb||this.Yl||this.sj||this.oe||this.qj||this.xr||this.dm||this.gc;this.Bf||
(this.Bf=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.nj=!!(this.sj&&this.wc&&window.indexedDB);this.bj=null;this.rr="";this.nj&&(this.bj=cordova&&cordova.plugins&&cordova.plugins.CorHttpd?cordova.plugins.CorHttpd:null);"undefined"===typeof cr_is_preview||this.$c||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||(this.$c=!0);this.canvas=a;this.Sc=document.getElementById("c2canvasdiv");
this.m=this.j=null;this.Zi="(unavailable)";this.S=!1;this.wd=0;this.N=null;this.Qi="";this.Jg=!1;this.Rm=this.Sm=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.Zc&&(window.c2runtime=this);this.$c&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());
this.Zl&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.p=this.width;this.n=this.height;this.zg=this.width;this.jf=this.height;this.we=window.innerWidth;this.ve=window.innerHeight;this.Jq=!1;this.ba=!0;this.Df=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.i=[];this.fa=[];this.wj={};this.Kb=[];this.Ji={};this.uc=[];this.Wn=[];this.Sh=[];this.jp=[];this.kp=[];this.vd={};this.kj=
this.Yc=!1;this.yc=0;this.ij=this.mj=!1;this.Zb=[];this.Af=!1;this.zc=this.Oa=this.fh=this.Zj="";this.fg=this.An=!1;this.Ig=[];this.Vc=this.ge=0;this.Jm=30;this.Ci=this.Qf=0;this.jg=1;this.wb=new Va;this.Wh=new Va;this.oh=this.Lg=this.pf=this.ig=this.Id=this.Pi=this.ah=0;this.cf=null;this.tl=[];this.Ii=[];this.Fg=-1;this.Aj=[[]];this.ik=this.ih=0;this.Bh(null);this.rf=this.Mm=this.Tf=0;this.gg=[];this.fk=this.Pj=-1;this.Ff=!0;this.ze=0;this.Cf=!1;this.Cs=0;this.af=null;this.cb=!1;this.Om=new ba;this.Fj=
new ba;this.Pm=new ba;this.gn=[];new Xa([]);new Xa([]);this.Xd=[];this.Pg={};this.Tc={};this.Oc={};this.Ve={};this.jl={};this.nm=this.dh=this.oa=this.wa=this.mm=this.bh=this.Q=null;this.Te=this.rj=!1;this.Ri=[null,null];this.zd=0;this.Cc={};this.eg=this.hd=null;this.Dn="";this.nh=[];this.ls()}}function r(a,c){return 128>=c?a[3]:256>=c?a[2]:512>=c?a[1]:a[0]}function h(){try{return!!window.indexedDB}catch(a){return!1}}function p(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function n(a,
c,e,b){try{var g=indexedDB.open("_C2SaveStates");g.onupgradeneeded=p;g.onerror=b;g.onsuccess=function(g){g=g.target.result;g.onerror=b;g.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:c}).onsuccess=e}}catch(l){b(l)}}function t(a,c,e){try{var b=indexedDB.open("_C2SaveStates");b.onupgradeneeded=p;b.onerror=e;b.onsuccess=function(b){b=b.target.result;b.onerror=e;var g=b.transaction(["saves"]).objectStore("saves").get(a);g.onsuccess=function(){g.result?c(g.result.data):c(null)}}}catch(g){e(g)}}
function b(){w("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function a(a){var c,e={};for(c in a)!a.hasOwnProperty(c)||a[c]instanceof ba||a[c]&&"undefined"!==typeof a[c].fu||"spriteCreatedDestroyCallback"!==c&&(e[c]=a[c]);return e}var k=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||
window.oRequestAnimationFrame;d.prototype.ls=function(){var a=this;if(this.nj)this.bj?this.bj.startServer({port:0,localhost_only:!0},function(c){a.rr=c;a.El(function(c){a.ye(JSON.parse(c))},function(){alert("Error fetching data.js")})},function(a){alert("error starting local server: "+a)}):this.El(function(c){a.ye(JSON.parse(c))},function(){alert("Error fetching data.js")});else{var c;this.oe?c=new ActiveXObject("Microsoft.XMLHTTP"):c=new XMLHttpRequest;var e="data.js";if(this.em||this.oe||this.qj||
this.pj)e="data.json";c.open("GET",e,!0);var b=!1;if(!this.F&&"response"in c&&"responseType"in c)try{c.responseType="json",b="json"===c.responseType}catch(g){b=!1}if(!b&&"responseType"in c)try{c.responseType="text"}catch(l){}if("overrideMimeType"in c)try{c.overrideMimeType("application/json; charset=utf-8")}catch(f){}this.oe?c.onreadystatechange=function(){4===c.readyState&&a.ye(JSON.parse(c.responseText))}:(c.onload=function(){if(b)a.ye(c.response);else if(a.gc){var e=c.responseText,e=e.substr(e.indexOf("{"));
a.ye(JSON.parse(e))}else a.ye(JSON.parse(c.responseText))},c.onerror=function(a){da("Error requesting "+e+":");da(a)});c.send()}};d.prototype.ur=function(){var a=this,c,e,b,g,l,f,m,d,q;this.Fd=(!this.F||this.gc||this.wc)&&this.Ps&&!this.Zl;0===this.bb&&this.sj&&(this.Fd=!1);this.devicePixelRatio=this.Fd?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.Ia();e=!(!this.Jq&&(!this.li||this.$c||this.oj||this.oe||this.Ug||this.wc||this.Xl));
0<this.bb&&this.setSize(window.innerWidth,window.innerHeight,!0);try{this.Zp&&(this.Jb||this.gc||!this.F)&&(c={alpha:e,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.j=this.canvas.getContext("webgl",c)||this.canvas.getContext("experimental-webgl",c))}catch(v){}if(this.j){if(c=this.j.getExtension("WEBGL_debug_renderer_info"))this.Zi=this.j.getParameter(c.UNMASKED_RENDERER_WEBGL)+" ["+this.j.getParameter(c.UNMASKED_VENDOR_WEBGL)+"]";this.S&&(this.Zi+=" [front-to-back enabled]");this.F||
(this.Fa=document.createElement("canvas"),jQuery(this.Fa).appendTo(this.canvas.parentNode),this.Fa.oncontextmenu=function(){return!1},this.Fa.onselectstart=function(){return!1},this.Fa.width=Math.round(this.zg*this.devicePixelRatio),this.Fa.height=Math.round(this.jf*this.devicePixelRatio),jQuery(this.Fa).css({width:this.zg+"px",height:this.jf+"px"}),this.Zm(),this.Jj=this.Fa.getContext("2d"));this.m=new eb(this.j,this.Bf,this.S);this.m.Od(this.canvas.width,this.canvas.height);this.m.$p=0!==this.Sp;
this.N=null;this.canvas.addEventListener("webglcontextlost",function(c){c.preventDefault();a.Rr();w("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.m.Tl();a.m.Od(a.m.width,a.m.height,!0);a.wa=null;a.oa=null;a.Ri[0]=null;a.Ri[1]=null;a.Sr();a.ba=!0;w("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);c=0;for(e=this.i.length;c<e;c++)for(l=this.i[c],b=0,g=l.r.length;b<g;b++)m=l.r[b],m.qa=this.m.Xi(m.id),
m.Nb=this.m.Mj(m.qa),this.Te=this.Te||this.m.Xf(m.qa);c=0;for(e=this.Kb.length;c<e;c++){d=this.Kb[c];b=0;for(g=d.r.length;b<g;b++)m=d.r[b],m.qa=this.m.Xi(m.id),m.Nb=this.m.Mj(m.qa);d.Tb();b=0;for(g=d.u.length;b<g;b++){q=d.u[b];l=0;for(f=q.r.length;l<f;l++)m=q.r[l],m.qa=this.m.Xi(m.id),m.Nb=this.m.Mj(m.qa),this.Te=this.Te||this.m.Xf(m.qa);q.Tb()}}}else{if(0<this.bb&&this.Zc){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.N=AppMobi.canvas.getContext("2d");
try{this.N.samplingMode=this.L?"smooth":"sharp",this.N.globalScale=1,this.N.HTML5CompatibilityMode=!0,this.N.imageSmoothingEnabled=this.L}catch(n){}0!==this.width&&0!==this.height&&(this.N.width=this.width,this.N.height=this.height)}this.N||(this.Jb?(c={antialias:!!this.L,alpha:e},this.N=this.canvas.getContext("2d",c)):(c={alpha:e},this.N=this.canvas.getContext("2d",c)),this.N.webkitImageSmoothingEnabled=this.L,this.N.mozImageSmoothingEnabled=this.L,this.N.msImageSmoothingEnabled=this.L,this.N.imageSmoothingEnabled=
this.L);this.Jj=this.Fa=null}this.Hn=function(c){a.pd(!1,c)};window==window.top||this.F||this.oj||this.oe||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.Jb&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(w("Reloading for continuous preview"),this.fh="__c2_continuouspreview",this.fg=!0),this.Yr&&
!this.Bf&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){a.setSuspended(!0)})));window.addEventListener("blur",function(){a.De()});this.F||(c=function(a){if(db(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(c){}},window.navigator.pointerEnabled?document.addEventListener("pointerdown",c):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",
c):document.addEventListener("touchstart",c),document.addEventListener("mousedown",c));0===this.bb&&this.Fd&&1<this.devicePixelRatio&&this.setSize(this.ya,this.xa,!0);this.On();this.nr();this.go();this.V={}};d.prototype.setSize=function(a,c,e){var b=0,g=0,l=0,f=0,f=0;if(this.we!==a||this.ve!==c||e){this.we=a;this.ve=c;var m=this.bb,d=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.Cf)&&!this.wc;if(d||0!==this.bb||e)d&&0<this.zd&&(m=this.zd),
e=this.devicePixelRatio,4<=m?(l=this.ya/this.xa,a/c>l?(l*=c,5===m?(f=l*e/this.ya,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),l=this.ya*f/e,f=this.xa*f/e,b=(a-l)/2,g=(c-f)/2,a=l,c=f):(b=(a-l)/2,a=l)):(f=a/l,5===m?(f=f*e/this.xa,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),l=this.ya*f/e,f=this.xa*f/e,b=(a-l)/2,g=(c-f)/2,a=l):g=(c-f)/2,c=f),d&&!this.$c&&(g=b=0)):this.$c&&this.Cf&&0===this.Il&&(b=Math.floor((a-this.ya)/2),g=Math.floor((c-this.xa)/2),a=this.ya,c=this.xa),2>m&&(this.$e=e),this.zg=Math.round(a),
this.jf=Math.round(c),this.width=Math.round(a*e),this.height=Math.round(c*e),this.ba=!0,this.Xn?(this.p=this.width,this.n=this.height,this.kb=!0):this.width<this.ya&&this.height<this.xa||1===m?(this.p=this.width,this.n=this.height,this.kb=!0):(this.p=this.ya,this.n=this.xa,this.kb=!1,2===m?(l=this.ya/this.xa,m=this.we/this.ve,m<l?this.p=this.n*m:m>l&&(this.n=this.p/m)):3===m&&(l=this.ya/this.xa,m=this.we/this.ve,m>l?this.p=this.n*m:m<l&&(this.n=this.p/m))),this.Sc&&!this.F&&(jQuery(this.Sc).css({width:Math.round(a)+
"px",height:Math.round(c)+"px","margin-left":Math.floor(b)+"px","margin-top":Math.floor(g)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(c)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*e),this.canvas.height=Math.round(c*e),this.gc?(this.canvas.style.left=Math.floor(b)+"px",this.canvas.style.top=Math.floor(g)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(c)+"px"):this.Fd&&!this.F&&(this.canvas.style.width=
Math.round(a)+"px",this.canvas.style.height=Math.round(c)+"px")),this.Fa&&(this.Fa.width=Math.round(a*e),this.Fa.height=Math.round(c*e),this.Fa.style.width=this.zg+"px",this.Fa.style.height=this.jf+"px"),this.m&&this.m.Od(Math.round(a*e),Math.round(c*e)),this.Zc&&this.N&&(this.N.width=Math.round(a),this.N.height=Math.round(c)),this.N&&(this.N.webkitImageSmoothingEnabled=this.L,this.N.mozImageSmoothingEnabled=this.L,this.N.msImageSmoothingEnabled=this.L,this.N.imageSmoothingEnabled=this.L),this.On(),
this.hm&&!this.wc&&window.scrollTo(0,0)}};d.prototype.On=function(){if(this.np&&0!==this.Hj){var a="portrait";2===this.Hj&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}catch(c){console&&console.warn&&console.warn("Failed to lock orientation: ",
c)}}};d.prototype.Rr=function(){this.m.yp();this.rj=!0;var a,c,e;a=0;for(c=this.i.length;a<c;a++)e=this.i[a],e.Wr&&e.Wr()};d.prototype.Sr=function(){this.rj=!1;var a,c,e;a=0;for(c=this.i.length;a<c;a++)e=this.i[a],e.Xr&&e.Xr()};d.prototype.Zm=function(){if(!this.F){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.Cf)&&!this.wc?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.Fa).css(a)}};
var f=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;d.prototype.setSuspended=function(a){var c;if(a&&!this.Df)for(w("[Construct 2] Suspending"),this.Df=!0,-1!==this.Pj&&f&&f(this.Pj),-1!==this.fk&&clearTimeout(this.fk),a=0,c=this.gg.length;a<c;a++)this.gg[a](!0);else if(!a&&this.Df){w("[Construct 2] Resuming");this.Df=!1;this.ah=Pa();this.Id=Pa();a=this.Qf=this.Lg=0;for(c=this.gg.length;a<
c;a++)this.gg[a](!1);this.pd(!1)}};d.prototype.ip=function(a){this.gg.push(a)};d.prototype.Mc=function(a){return this.nh[a]};d.prototype.ye=function(a){a&&a.project||da("Project model unavailable");a=a.project;this.name=a[0];this.Gl=a[1];this.bb=a[12];this.Il=a[12];this.ya=a[10];this.xa=a[11];this.Wm=this.ya/2;this.Xm=this.xa/2;this.F&&!this.gc&&(4<=a[12]||0===a[12])&&(w("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.Il=this.bb=
3);this.ok=a[18];this.jd=a[19];if(0===this.jd){var c=new Image;c.crossOrigin="anonymous";this.ys(c);this.hd={jh:c}}else if(4===this.jd){c=new Image;c.src="";var e=new Image;e.src="";var b=new Image;b.src="";var g=new Image;g.src="";var l=new Image;l.src="";var f=new Image;f.src="";var m=new Image;m.src="";var d=new Image;d.src="";var q=new Image;q.src="";var v=new Image;v.src="";var n=new Image;n.src="";var h=new Image;h.src="";this.hd={jh:[c,e,b,g],cs:[l,f,m,d],Rs:[q,v,n,h]}}this.Tf=a[21];this.nh=
ac();this.pc=new X(this);c=0;for(e=a[2].length;c<e;c++)m=a[2][c],b=this.Mc(m[0]),fb(m,b.prototype),d=new b(this),d.Mh=m[1],d.ad=m[2],d.Km=m[9],d.M&&d.M(),this.plugins.push(d);this.nh=ac();c=0;for(e=a[3].length;c<e;c++){m=a[3][c];l=this.Mc(m[1]);d=null;b=0;for(g=this.plugins.length;b<g;b++)if(this.plugins[b]instanceof l){d=this.plugins[b];break}q=new d.na(d);q.name=m[0];q.O=m[2];q.fj=m[3].slice(0);q.Qs=m[3].length;q.sp=m[4];q.Kq=m[5];q.I=m[11];q.O?(q.Hm=[],q.vc=this.rf++,q.Y=null):(q.Hm=null,q.vc=
-1,q.Y=[]);q.Hg=null;q.ie=null;q.Al=null;q.ub=!1;q.$a=null;m[6]?(q.Es=m[6][0],q.Fs=m[6][1],q.Gs=m[6][2]):(q.Es=null,q.Fs=0,q.Gs=0);m[7]?q.lp=m[7]:q.lp=null;q.index=c;q.d=[];q.Cg=[];q.Hc=[new gb(q)];q.$b=0;q.ac=null;q.Cp=0;q.Me=!0;q.Th=hb;q.Oq=ib;q.Uq=jb;q.Z=kb;q.Yf=lb;q.Ah=mb;q.Nd=nb;q.Mg=ob;q.Si=pb;q.Ui=qb;q.Yd=rb;q.Vi=sb;q.nl=new Ya(this.ya,this.xa);q.bl=!0;q.cl=!1;q.V={};q.toString=tb;q.fa=[];b=0;for(g=m[8].length;b<g;b++){v=m[8][b];n=this.Mc(v[1]);h=null;l=0;for(f=this.fa.length;l<f;l++)if(this.fa[l]instanceof
n){h=this.fa[l];break}h||(h=new n(this),h.Lm=[],h.Ej=new ba,h.M&&h.M(),this.fa.push(h));-1===h.Lm.indexOf(q)&&h.Lm.push(q);l=new h.na(h,q);l.name=v[0];l.I=v[2];l.M();q.fa.push(l)}q.global=m[9];q.lj=m[10];q.r=[];b=0;for(g=m[12].length;b<g;b++)q.r.push({id:m[12][b][0],name:m[12][b][1],qa:-1,Nb:!1,ib:!0,index:b});q.pu=m[13];this.ok&&!q.O&&!q.lj&&d.ad||q.M();q.name&&(this.types[q.name]=q);this.i.push(q);d.Mh&&(b=new d.X(q),b.uid=this.Tf++,b.cn=this.Mm++,b.Cd=0,b.tf=ub,b.toString=vb,b.k=m[14],b.M(),q.d.push(b),
this.Cc[b.uid.toString()]=b)}c=0;for(e=a[4].length;c<e;c++)for(l=a[4][c],f=this.i[l[0]],b=1,g=l.length;b<g;b++)m=this.i[l[b]],m.Y.push(f),f.Hm.push(m);c=0;for(e=a[28].length;c<e;c++){l=a[28][c];f=[];b=0;for(g=l.length;b<g;b++)f.push(this.i[l[b]]);b=0;for(g=f.length;b<g;b++)f[b].ub=!0,f[b].$a=f}if(0<this.rf)for(c=0,e=this.i.length;c<e;c++)if(m=this.i[c],!m.O&&m.Y.length){m.Hg=Array(this.rf);m.ie=Array(this.rf);m.Al=Array(this.rf);q=[];b=h=n=v=0;for(g=m.Y.length;b<g;b++)for(d=m.Y[b],m.Hg[d.vc]=v,v+=
d.Qs,m.ie[d.vc]=n,n+=d.sp,m.Al[d.vc]=h,h+=d.Kq,l=0,f=d.r.length;l<f;l++)q.push(ra({},d.r[l]));m.r=q.concat(m.r);b=0;for(g=m.r.length;b<g;b++)m.r[b].index=b}c=0;for(e=a[5].length;c<e;c++)m=a[5][c],b=new wb(this,m),this.wj[b.name]=b,this.Kb.push(b);c=0;for(e=a[6].length;c<e;c++)m=a[6][c],b=new xb(this,m),this.Ji[b.name]=b,this.uc.push(b);c=0;for(e=this.uc.length;c<e;c++)this.uc[c].ka();c=0;for(e=this.uc.length;c<e;c++)this.uc[c].lk();c=0;for(e=this.Sh.length;c<e;c++)this.Sh[c].ka();P(this.Sh);this.mp=
a[7];this.wh=a[9];this.$e=1;this.Zp=a[13];this.L=a[14];this.li=a[15];this.Ps=a[17];this.Hj=a[20];this.np=0<this.Hj;this.Yr=a[22];this.kb=this.Xn=a[23];this.Sp=a[24];this.es=a[25];this.S=a[27]&&!this.me;this.Nh=Date.now();P(this.nh);this.ur()};var e=0,c=!1;d.prototype.nr=function(){this.af&&(e=this.af.mu(this.mp))};d.prototype.dl=function(){var a=e,b=0,g=0,l=!0,m,f,g=0;for(m=this.Wn.length;g<m;g++){f=this.Wn[g];var q=f.gu;if(!q||0>=q)q=5E4;a+=q;f.src&&(f.complete||f.loaded)&&!f.eu?b+=q:l=!1}l&&this.es&&
this.af&&(c||(this.af.nu(),c=!0),g=this.af.hu(),b+=g,g<e&&(l=!1));this.Ob=0==a?1:b/a;return l};var g=!1;d.prototype.go=function(){if(this.N||this.m){var a=this.N||this.Jj;this.Fa&&this.Zm();var c=window.innerWidth,e=window.innerHeight;this.we===c&&this.ve===e||this.setSize(c,e);this.Ob=0;this.lm=-1;var b=this;if(this.dl()&&(4!==this.jd||g))this.or();else{e=Date.now()-this.Nh;if(a){var l=this.width,m=this.height,c=this.devicePixelRatio;if(3>this.jd&&(this.Jb||500<=e&&this.lm!=this.Ob)){a.clearRect(0,
0,l,m);var e=l/2,m=m/2,l=0===this.jd&&this.hd.jh.complete,f=40*c,q=0,d=80*c,v;if(l){var n=this.hd.jh,d=n.width*c;v=n.height*c;f=d/2;q=v/2;a.drawImage(n,H(e-f),H(m-q),d,v)}1>=this.jd?(e=H(e-f)+.5,m=H(m+(q+(l?12*c:0)))+.5,a.fillStyle="DodgerBlue",a.fillRect(e,m,Math.floor(d*this.Ob),6*c),a.strokeStyle="black",a.strokeRect(e,m,d,6*c),a.strokeStyle="white",a.strokeRect(e-1*c,m-1*c,d+2*c,8*c)):2===this.jd&&(a.font=this.gc?"12pt ArialMT":"12pt Arial",a.fillStyle="#999",a.ou="middle",c=Math.round(100*this.Ob)+
"%",l=a.measureText?a.measureText(c):null,a.fillText(c,e-(l?l.width:0)/2,m));this.lm=this.Ob}else if(4===this.jd){this.Xp(a);k?k(function(){b.go()}):setTimeout(function(){b.go()},16);return}}setTimeout(function(){b.go()},this.Jb?10:100)}}};var l=-1,q="undefined"===typeof cr_is_preview?200:0,L=!0,Q=!1,m=0,v=0,Ra="undefined"===typeof cr_is_preview?3E3:0,I=null,U=null,D=0;d.prototype.Xp=function(a){if(!g){for(var c=Math.ceil(this.width),e=Math.ceil(this.height),b=this.hd.jh,f=this.hd.cs,d=this.hd.Rs,
n=0;4>n;++n)if(!b[n].complete||!f[n].complete||!d[n].complete)return;0===D&&(l=Date.now());var n=Date.now(),h=!1,t=a,k,p;L||Q?(a.clearRect(0,0,c,e),I&&I.width===c&&I.height===e||(I=document.createElement("canvas"),I.width=c,I.height=e,U=I.getContext("2d")),t=U,h=!0,L&&1===D&&(l=Date.now())):a.globalAlpha=1;t.fillStyle="#333333";t.fillRect(0,0,c,e);256<this.jf?(k=za(.22*e,105,.6*c),p=.25*k,t.drawImage(r(f,k),.5*c-k/2,.2*e-p/2,k,p),p=k=Math.min(.395*e,.95*c),t.drawImage(r(b,k),.5*c-k/2,.485*e-p/2,k,
p),k=za(.22*e,105,.6*c),p=.25*k,t.drawImage(r(d,k),.5*c-k/2,.868*e-p/2,k,p),t.fillStyle="#3C3C3C",k=c,p=Math.max(.005*e,2),t.fillRect(0,.8*e-p/2,k,p),t.fillStyle="#E0FF65",k=c*this.Ob,t.fillRect(.5*c-k/2,.8*e-p/2,k,p)):(p=k=.55*e,t.drawImage(r(b,k),.5*c-k/2,.45*e-p/2,k,p),t.fillStyle="#3C3C3C",k=c,p=Math.max(.005*e,2),t.fillRect(0,.85*e-p/2,k,p),t.fillStyle="#E0FF65",k=c*this.Ob,t.fillRect(.5*c-k/2,.85*e-p/2,k,p));h&&(L?a.globalAlpha=0===D?0:Math.min((n-l)/300,1):Q&&(a.globalAlpha=Math.max(1-(n-v)/
300,0)),a.drawImage(I,0,0,c,e));L&&300<=n-l&&2<=D&&(L=!1,m=n);!L&&n-m>=Ra&&!Q&&1<=this.Ob&&(Q=!0,v=n);if(Q&&n-v>=300+q||"undefined"!==typeof cr_is_preview&&1<=this.Ob&&500>Date.now()-l)g=!0,Q=L=!1,this.hd=U=I=null;++D}};d.prototype.or=function(){this.Fa&&(this.canvas.parentNode.removeChild(this.Fa),this.Fa=this.Jj=null);this.Nh=Date.now();this.Id=Pa();var a,c,e;if(this.ok)for(a=0,c=this.i.length;a<c;a++)e=this.i[a],e.O||e.lj||!e.f.ad||e.M();else this.Ff=!1;a=0;for(c=this.Kb.length;a<c;a++)this.Kb[a].zp();
2<=this.bb&&(a=this.ya/this.xa,c=this.width/this.height,this.$e=2!==this.bb&&c>a||2===this.bb&&c<a?this.height/this.xa:this.width/this.ya);this.Gl?this.wj[this.Gl].ck():this.Kb[0].ck();this.ok||(this.ze=1,this.trigger(X.prototype.e.Ik,null));navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(c=this.i.length;a<c;a++)e=this.i[a],e.Qr&&e.Qr();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.pd(!1);this.Zc&&
AppMobi.webview.execute("onGameReady();")};d.prototype.pd=function(a,c,e){if(this.Q){var b=Pa();if(e||!this.Df||a){a||(k?this.Pj=k(this.Hn):this.fk=setTimeout(this.Hn,this.Bf?1:16));c=c||b;var g=this.bb;((e=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.wc)||this.Cf)&&0<this.zd&&(g=this.zd);if(0<g){var g=window.innerWidth,l=window.innerHeight;this.we===g&&this.ve===l||this.setSize(g,l)}this.F||(e?(this.Jg||(this.Qi=jQuery(this.canvas).css("margin")||
"0",this.Jg=!0),this.hj||this.$c||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.Jg?(this.hj||this.$c||jQuery(this.canvas).css("margin",this.Qi),this.Qi="",this.Jg=!1,0===this.bb&&this.setSize(Math.round(this.Sm/this.devicePixelRatio),Math.round(this.Rm/this.devicePixelRatio),!0)):(this.Sm=this.width,this.Rm=this.height));this.Ff&&(e=this.dl(),
this.ze=this.Ob,e&&(this.Ff=!1,this.Ob=1,this.trigger(X.prototype.e.Ik,null)));this.Ir(c);!this.ba&&!this.Jb||this.rj||this.fg||a||(this.ba=!1,this.m?this.rb():this.tc(),this.eg&&(this.canvas&&this.canvas.toDataURL&&(this.Dn=this.canvas.toDataURL(this.eg[0],this.eg[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.Dn),this.trigger(X.prototype.e.Bo,null)),this.eg=null));this.ju||(this.ig++,this.pf++,this.Lg++);this.Qf+=Pa()-b}}};d.prototype.Ir=function(a){var c,e,b,g,l,m,f,q;1E3<=a-this.Id&&(this.Id+=
1E3,1E3<=a-this.Id&&(this.Id=a),this.Pi=this.Lg,this.Lg=0,this.Ci=this.Qf,this.Qf=0);0!==this.ah&&(c=a-this.ah,0>c&&(c=0),this.Vc=c/1E3,.5<this.Vc?this.Vc=0:this.Vc>1/this.Jm&&(this.Vc=1/this.Jm));this.ah=a;this.ge=this.Vc*this.jg;this.wb.add(this.ge);this.Wh.add(this.Vc);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.Cf)&&!this.wc;2<=this.bb||a&&0<this.zd?(c=this.ya/this.xa,e=this.width/this.height,b=this.bb,a&&0<this.zd&&(b=this.zd),
this.$e=2!==b&&e>c||2===b&&e<c?this.height/this.xa:this.width/this.ya,this.Q&&(this.Q.nn(this.Q.scrollX),this.Q.pn(this.Q.scrollY))):this.$e=this.Fd?this.devicePixelRatio:1;this.Ia();this.yc++;this.pc.ps();this.yc--;this.Ia();this.yc++;e=this.Om.Qd();a=0;for(c=e.length;a<c;a++)e[a].ku();a=0;for(c=this.i.length;a<c;a++)if(m=this.i[a],!m.O&&(m.fa.length||m.Y.length))for(e=0,b=m.d.length;e<b;e++)for(f=m.d[e],g=0,l=f.A.length;g<l;g++)f.A[g].pd();a=0;for(c=this.i.length;a<c;a++)if(m=this.i[a],!m.O&&(m.fa.length||
m.Y.length))for(e=0,b=m.d.length;e<b;e++)for(f=m.d[e],g=0,l=f.A.length;g<l;g++)q=f.A[g],q.bs&&q.bs();e=this.Fj.Qd();a=0;for(c=e.length;a<c;a++)e[a].pd();this.yc--;this.pr();for(a=0;this.cf&&10>a++;)this.ul(this.cf);a=0;for(c=this.uc.length;a<c;a++)this.uc[a].aj=!1;this.Q.xd&&this.Q.xd.pa();P(this.gn);this.yc++;a=0;for(c=this.i.length;a<c;a++)if(m=this.i[a],!m.O&&(m.fa.length||m.Y.length))for(e=0,b=m.d.length;e<b;e++)for(f=m.d[e],g=0,l=f.A.length;g<l;g++)q=f.A[g],q.Gn&&q.Gn();e=this.Pm.Qd();a=0;for(c=
e.length;a<c;a++)e[a].Gn();this.yc--};d.prototype.De=function(){var a,c,e,b,g,l,m,f,q;a=0;for(c=this.i.length;a<c;a++)if(m=this.i[a],!m.O)for(e=0,b=m.d.length;e<b;e++)if(f=m.d[e],f.De&&f.De(),f.A)for(g=0,l=f.A.length;g<l;g++)q=f.A[g],q.De&&q.De()};d.prototype.ul=function(a){var c=this.Q;this.Q.Ds();var e,b,g;if(this.m)for(e=0,b=this.i.length;e<b;e++)g=this.i[e],g.O||!g.Ms||g.global&&0!==g.d.length||-1!==a.yf.indexOf(g)||g.Ms();c==a&&P(this.pc.hb);P(this.gn);this.kn(!0);a.ck();this.kn(!1);this.ba=
!0;this.Ia()};d.prototype.kn=function(a){var c,e,b,g,l,m,f,q,d;c=0;for(e=this.fa.length;c<e;c++)b=this.fa[c],a?b.Uf&&b.Uf():b.Vf&&b.Vf();c=0;for(e=this.i.length;c<e;c++)if(b=this.i[c],b.global||b.f.Mh)for(g=0,l=b.d.length;g<l;g++)if(m=b.d[g],a?m.Uf&&m.Uf():m.Vf&&m.Vf(),m.A)for(f=0,q=m.A.length;f<q;f++)d=m.A[f],a?d.Uf&&d.Uf():d.Vf&&d.Vf()};d.prototype.ek=function(a){this.Fj.add(a)};d.prototype.Nq=function(a){return a&&-1!==a.Sf?this.Vc*a.Sf:this.ge};d.prototype.tc=function(){this.Q.tc(this.N);this.Zc&&
this.N.present()};d.prototype.rb=function(){this.S&&(this.wd=1,this.Q.lf(this.m));this.Q.rb(this.m);this.m.gs()};d.prototype.Ol=function(a){a=a.toString();return this.Cc.hasOwnProperty(a)?this.Cc[a]:null};var y=[];d.prototype.Sd=function(a){var c,e;c=a.type.name;var b=null;if(this.vd.hasOwnProperty(c)){if(b=this.vd[c],b.contains(a))return}else b=y.length?y.pop():new ba,this.vd[c]=b;b.add(a);this.Yc=!0;if(a.ub)for(c=0,e=a.siblings.length;c<e;c++)this.Sd(a.siblings[c]);this.kj&&b.Ue.push(a);this.ij||
(this.yc++,this.trigger(Object.getPrototypeOf(a.type.f).e.Go,a),this.yc--)};d.prototype.Ia=function(){if(this.Yc){var a,c,e,b,g,l;this.kj=!0;e=0;for(g=this.Zb.length;e<g;++e)for(a=this.Zb[e],c=a.type,c.d.push(a),b=0,l=c.Y.length;b<l;++b)c.Y[b].d.push(a),c.Y[b].Me=!0;P(this.Zb);this.uo();Oa(this.vd);this.Yc=this.kj=!1}};d.prototype.uo=function(){for(var a in this.vd)this.vd.hasOwnProperty(a)&&this.io(this.vd[a])};d.prototype.io=function(a){var c=a.Qd(),e=c[0].type,b,g,l,m,f,q;Qa(e.d,a);e.Me=!0;0===
e.d.length&&(e.cl=!1);b=0;for(g=e.Y.length;b<g;++b)q=e.Y[b],Qa(q.d,a),q.Me=!0;b=0;for(g=this.pc.hb.length;b<g;++b)if(f=this.pc.hb[b],f.fb.hasOwnProperty(e.index)&&Qa(f.fb[e.index].Ed,a),!e.O)for(l=0,m=e.Y.length;l<m;++l)q=e.Y[l],f.fb.hasOwnProperty(q.index)&&Qa(f.fb[q.index].Ed,a);if(f=c[0].g){if(f.ob)for(l=f.d,b=0,g=l.length;b<g;++b)m=l[b],a.contains(m)&&(m.Sa(),f.Ga.update(m,m.Ya,null),m.Ya.set(0,0,-1,-1));Qa(f.d,a);f.bg(0)}for(b=0;b<c.length;++b)this.ho(c[b],e);a.clear();y.push(a);this.ba=!0};
d.prototype.ho=function(a,c){var e,b,g;e=0;for(b=this.tl.length;e<b;++e)this.tl[e](a);a.Uc&&c.nl.update(a,a.Uc,null);(e=a.g)&&e.Ie(a,!0);if(a.A)for(e=0,b=a.A.length;e<b;++e)g=a.A[e],g.Dc&&g.Dc(),g.behavior.Ej.remove(a);this.Om.remove(a);this.Fj.remove(a);this.Pm.remove(a);a.Dc&&a.Dc();this.Cc.hasOwnProperty(a.uid.toString())&&delete this.Cc[a.uid.toString()];this.oh--;100>c.Cg.length&&c.Cg.push(a)};var x=[];d.prototype.ud=function(a,c,e,b,g,l){var m,f,q,d;if(!a)return null;var n=this.i[a[1]],v=n.f.ad;
if(this.Ff&&v&&!n.lj||v&&!this.m&&11===a[0][11])return null;var h=c;v||(c=null);var k;n.Cg.length?(k=n.Cg.pop(),k.jc=!0,n.f.X.call(k,n)):(k=new n.f.X(n),k.jc=!1);!e||l||this.Cc.hasOwnProperty(a[2].toString())?k.uid=this.Tf++:k.uid=a[2];this.Cc[k.uid.toString()]=k;k.cn=this.Mm++;k.Cd=n.d.length;m=0;for(f=this.Zb.length;m<f;++m)this.Zb[m].type===n&&k.Cd++;k.tf=ub;k.toString=vb;q=a[3];if(k.jc)Oa(k.V);else{k.V={};if("undefined"!==typeof cr_is_preview)for(k.Wl=[],k.Wl.length=q.length,m=0,f=q.length;m<
f;m++)k.Wl[m]=q[m][1];k.va=[];k.va.length=q.length}m=0;for(f=q.length;m<f;m++)k.va[m]=q[m][0];if(v){var t=a[0];k.x=ea(b)?t[0]:b;k.y=ea(g)?t[1]:g;k.z=t[2];k.width=t[3];k.height=t[4];k.depth=t[5];k.q=t[6];k.opacity=t[7];k.Qg=t[8];k.Rg=t[9];k.La=t[10];m=t[11];!this.m&&n.r.length&&(k.La=m);k.ef=$a(k.La);this.j&&ab(k,k.La,this.j);if(k.jc){m=0;for(f=t[12].length;m<f;m++)for(q=0,d=t[12][m].length;q<d;q++)k.ga[m][q]=t[12][m][q];k.Ka.set(0,0,0,0);k.Uc.set(0,0,-1,-1);k.Ya.set(0,0,-1,-1);k.pi.Lh(k.Ka);P(k.oi)}else{k.ga=
t[12].slice(0);m=0;for(f=k.ga.length;m<f;m++)k.ga[m]=t[12][m].slice(0);k.G=[];k.Nc=[];k.Nc.length=n.r.length;k.Ka=new N(0,0,0,0);k.Uc=new N(0,0,-1,-1);k.Ya=new N(0,0,-1,-1);k.pi=new oa;k.oi=[];k.Ha=yb;k.du=zb;k.Yb=Ab;k.Sa=Bb;k.Os=Cb;k.qu=Db;k.ec=Eb}k.Is=!1;k.Ks=0;k.Js=0;k.Hs=null;14===t.length&&(k.Is=!0,k.Ks=t[13][0],k.Js=t[13][1],k.Hs=t[13][2]);m=0;for(f=n.r.length;m<f;m++)k.Nc[m]=!0;k.Fc=!0;k.Tb=Fb;k.Tb();k.Tn=!!k.G.length;k.ni=!0;k.wi=!0;n.bl=!0;k.visible=!0;k.Sf=-1;k.g=c;k.Vb=c.d.length;k.wd=
0;"undefined"===typeof k.df&&(k.df=null);this.ba=k.xg=!0}var r;P(x);m=0;for(f=n.Y.length;m<f;m++)x.push.apply(x,n.Y[m].fa);x.push.apply(x,n.fa);if(k.jc)for(m=0,f=x.length;m<f;m++){var p=x[m];r=k.A[m];r.jc=!0;p.behavior.X.call(r,p,k);t=a[4][m];q=0;for(d=t.length;q<d;q++)r.k[q]=t[q];r.M();p.behavior.Ej.add(k)}else for(k.A=[],m=0,f=x.length;m<f;m++)p=x[m],r=new p.behavior.X(p,k),r.jc=!1,r.k=a[4][m].slice(0),r.M(),k.A.push(r),p.behavior.Ej.add(k);t=a[5];if(k.jc)for(m=0,f=t.length;m<f;m++)k.k[m]=t[m];
else k.k=t.slice(0);this.Zb.push(k);this.Yc=!0;c&&(c.Ze(k,!0),1!==c.Ee||1!==c.Fe)&&(n.cl=!0);this.oh++;if(n.ub){if(k.ub=!0,k.jc?P(k.siblings):k.siblings=[],!e&&!l){m=0;for(f=n.$a.length;m<f;m++)if(n.$a[m]!==n){if(!n.$a[m].ac)return null;k.siblings.push(this.ud(n.$a[m].ac,h,!1,v?k.x:b,v?k.y:g,!0))}m=0;for(f=k.siblings.length;m<f;m++)for(k.siblings[m].siblings.push(k),q=0;q<f;q++)m!==q&&k.siblings[m].siblings.push(k.siblings[q])}}else k.ub=!1,k.siblings=null;k.M();m=0;for(f=k.A.length;m<f;m++)k.A[m].as&&
k.A[m].as();return k};d.prototype.Rq=function(a){var c,e;c=0;for(e=this.Q.u.length;c<e;c++){var b=this.Q.u[c];if(cb(b.name,a))return b}return null};d.prototype.Sq=function(a){a=H(a);0>a&&(a=0);a>=this.Q.u.length&&(a=this.Q.u.length-1);return this.Q.u[a]};d.prototype.Ai=function(a){var c,e;c=0;for(e=a.length;c<e;c++)a[c].Z().Ca=!0};d.prototype.Yf=function(a){var c,e;c=0;for(e=a.length;c<e;c++)a[c].Yf()};d.prototype.Ah=function(a){var c,e;c=0;for(e=a.length;c<e;c++)a[c].Ah()};d.prototype.Nd=function(a){var c,
e;c=0;for(e=a.length;c<e;c++)a[c].Nd()};new oa;new N(0,0,0,0);d.prototype.Pn=function(a,c){if(!c)return!1;var e,b,g,m,l;e=0;for(b=a.fa.length;e<b;e++)if(a.fa[e].behavior instanceof c)return!0;if(!a.O)for(e=0,b=a.Y.length;e<b;e++)for(l=a.Y[e],g=0,m=l.fa.length;g<m;g++)if(l.fa[g].behavior instanceof c)return!0;return!1};d.prototype.jk=function(a){return this.Pn(a,Tb.xt)};d.prototype.kk=function(a){return this.Pn(a,Tb.zt)};var F=-1;d.prototype.trigger=function(a,c,e){if(!this.Q)return!1;var b=this.Q.xd;
if(!b)return!1;var g=!1,m,l,f;F++;var q=b.Fi;l=0;for(f=q.length;l<f;++l)m=this.Jn(a,c,q[l],e),g=g||m;m=this.Jn(a,c,b,e);F--;return g||m};d.prototype.Jn=function(a,c,e,b){var g=!1,m,l,f,q;if(c)for(f=this.hk(a,c,c.type.name,e,b),g=g||f,q=c.type.Y,m=0,l=q.length;m<l;++m)f=this.hk(a,c,q[m].name,e,b),g=g||f;else f=this.hk(a,c,"system",e,b),g=g||f;return g};d.prototype.hk=function(a,c,e,b,g){var m,l=!1,f=!1,f="undefined"!==typeof g,q=(f?b.Cl:b.Nn)[e];if(!q)return l;var d=null;b=0;for(m=q.length;b<m;++b)if(q[b].method==
a){d=q[b].of;break}if(!d)return l;var k;f?k=d[g]:k=d;if(!k)return null;b=0;for(m=k.length;b<m;b++)a=k[b][0],g=k[b][1],f=this.Fq(c,e,a,g),l=l||f;return l};d.prototype.Fq=function(a,c,e,b){var g,m,l=!1;this.ik++;var f=this.Wa().ab;f&&this.Yf(f.od);var q=1<this.ik;this.Yf(e.od);q&&this.js();var d=this.Bh(e);d.ab=e;a&&(g=this.types[c].Z(),g.Ca=!1,P(g.d),g.d[0]=a,this.types[c].Yd());a=!0;if(e.parent){c=d.Fn;for(g=e.parent;g;)c.push(g),g=g.parent;c.reverse();g=0;for(m=c.length;g<m;g++)if(!c[g].rs()){a=
!1;break}}a&&(this.pf++,e.hc?e.qs(b):e.pa(),l=l||d.Hd);this.xh();q&&this.$r();this.Nd(e.od);f&&this.Nd(f.od);this.Yc&&0===this.yc&&0===F&&!this.mj&&this.Ia();this.ik--;return l};d.prototype.Mq=function(){var a=this.Wa();return a.ab.ta[a.ra]};d.prototype.js=function(){this.ih++;this.ih>=this.Aj.length&&this.Aj.push([])};d.prototype.$r=function(){this.ih--};d.prototype.Jl=function(){return this.Aj[this.ih]};d.prototype.Bh=function(a){this.Fg++;this.Fg>=this.Ii.length&&this.Ii.push(new Gb);var c=this.Wa();
c.reset(a);return c};d.prototype.xh=function(){this.Fg--};d.prototype.Wa=function(){return this.Ii[this.Fg]};d.prototype.Kl=function(a,c){for(var e,b,g,m,l,f;c;){e=0;for(b=c.Ab.length;e<b;e++)if(f=c.Ab[e],f instanceof Hb&&cb(a,f.name))return f;c=c.parent}e=0;for(b=this.uc.length;e<b;e++)for(l=this.uc[e],g=0,m=l.Wc.length;g<m;g++)if(f=l.Wc[g],f instanceof Hb&&cb(a,f.name))return f;return null};d.prototype.Ml=function(a){var c,e;c=0;for(e=this.Kb.length;c<e;c++)if(this.Kb[c].I===a)return this.Kb[c];
return null};d.prototype.Og=function(a){var c,e;c=0;for(e=this.i.length;c<e;c++)if(this.i[c].I===a)return this.i[c];return null};d.prototype.Pq=function(a){var c,e;c=0;for(e=this.Xd.length;c<e;c++)if(this.Xd[c].I===a)return this.Xd[c];return null};d.prototype.Dp=function(a,c){this.eg=[a,c];this.ba=!0};d.prototype.pr=function(){var a=this,c=this.Zj,e=this.zc,g=this.fh,m=!1;this.An&&(m=!0,c="__c2_continuouspreview",this.An=!1);if(c.length){this.Ia();e=this.vs();if(h()&&!this.Jb)n(c,e,function(){w("Saved state to IndexedDB storage ("+
e.length+" bytes)");a.zc=e;a.trigger(X.prototype.e.ci,null);a.zc="";m&&b()},function(g){try{localStorage.setItem("__c2save_"+c,e),w("Saved state to WebStorage ("+e.length+" bytes)"),a.zc=e,a.trigger(X.prototype.e.ci,null),a.zc="",m&&b()}catch(l){w("Failed to save game state: "+g+"; "+l),a.trigger(X.prototype.e.Nk,null)}});else try{localStorage.setItem("__c2save_"+c,e),w("Saved state to WebStorage ("+e.length+" bytes)"),a.zc=e,this.trigger(X.prototype.e.ci,null),a.zc="",m&&b()}catch(l){w("Error saving to WebStorage: "+
l),a.trigger(X.prototype.e.Nk,null)}this.Oa=this.fh=this.Zj=""}if(g.length){if(h()&&!this.Jb)t(g,function(c){c?(a.Oa=c,w("Loaded state from IndexedDB storage ("+a.Oa.length+" bytes)")):(a.Oa=localStorage.getItem("__c2save_"+g)||"",w("Loaded state from WebStorage ("+a.Oa.length+" bytes)"));a.fg=!1;a.Oa.length||a.trigger(X.prototype.e.bi,null)},function(){a.Oa=localStorage.getItem("__c2save_"+g)||"";w("Loaded state from WebStorage ("+a.Oa.length+" bytes)");a.fg=!1;a.Oa.length||a.trigger(X.prototype.e.bi,
null)});else{try{this.Oa=localStorage.getItem("__c2save_"+g)||"",w("Loaded state from WebStorage ("+this.Oa.length+" bytes)")}catch(f){this.Oa=""}this.fg=!1;a.Oa.length||a.trigger(X.prototype.e.bi,null)}this.Zj=this.fh=""}this.Oa.length&&(this.Ia(),this.Hr(this.Oa),this.zc=this.Oa,this.trigger(X.prototype.e.Lo,null),this.Oa=this.zc="")};d.prototype.vs=function(){var c,e,b,g,m,l,f,q={c2save:!0,version:1,rt:{time:this.wb.Ra,walltime:this.Wh.Ra,timescale:this.jg,tickcount:this.ig,execcount:this.pf,next_uid:this.Tf,
running_layout:this.Q.I,start_time_offset:Date.now()-this.Nh},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};c=0;for(e=this.i.length;c<e;c++)if(m=this.i[c],!m.O&&!this.jk(m)){l={instances:[]};Na(m.V)&&(l.ex=a(m.V));b=0;for(g=m.d.length;b<g;b++)l.instances.push(this.Yj(m.d[b]));q.types[m.I.toString()]=l}c=0;for(e=this.Kb.length;c<e;c++)b=this.Kb[c],q.layouts[b.I.toString()]=b.nb();g=q.events.groups;c=0;for(e=this.Xd.length;c<e;c++)b=this.Xd[c],g[b.I.toString()]=this.Pg[b.wf].vf;e=
q.events.cnds;for(f in this.Tc)this.Tc.hasOwnProperty(f)&&(c=this.Tc[f],Na(c.V)&&(e[f]={ex:a(c.V)}));e=q.events.acts;for(f in this.Oc)this.Oc.hasOwnProperty(f)&&(c=this.Oc[f],Na(c.V)&&(e[f]={ex:a(c.V)}));e=q.events.vars;for(f in this.Ve)this.Ve.hasOwnProperty(f)&&(c=this.Ve[f],c.Xg||c.parent&&!c.Ef||(e[f]=c.data));q.system=this.pc.nb();return JSON.stringify(q)};d.prototype.en=function(){var a,c,e,b,g,m;this.Cc={};a=0;for(c=this.i.length;a<c;a++)if(e=this.i[a],!e.O)for(b=0,g=e.d.length;b<g;b++)m=e.d[b],
this.Cc[m.uid.toString()]=m};d.prototype.Hr=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){this.Af=!0;var c=a.rt;this.wb.reset();this.wb.Ra=c.time;this.Wh.reset();this.Wh.Ra=c.walltime||0;this.jg=c.timescale;this.ig=c.tickcount;this.pf=c.execcount;this.Nh=Date.now()-c.start_time_offset;var e=c.running_layout;if(e!==this.Q.I)if(e=this.Ml(e))this.ul(e);else return;var b,g,m,l,f,q,d;q=a.types;for(g in q)if(q.hasOwnProperty(g)&&(l=this.Og(parseInt(g,10)))&&!l.O&&!this.jk(l)){q[g].ex?l.V=q[g].ex:
Oa(l.V);f=l.d;m=q[g].instances;e=0;for(b=ia(f.length,m.length);e<b;e++)this.gh(f[e],m[e]);e=m.length;for(b=f.length;e<b;e++)this.Sd(f[e]);e=f.length;for(b=m.length;e<b;e++){f=null;if(l.f.ad&&(f=this.Q.Ng(m[e].w.l),!f))continue;f=this.ud(l.ac,f,!1,0,0,!0);this.gh(f,m[e])}l.Me=!0}this.Ia();this.en();b=a.layouts;for(g in b)b.hasOwnProperty(g)&&(e=this.Ml(parseInt(g,10)))&&e.Lb(b[g]);b=a.events.groups;for(g in b)b.hasOwnProperty(g)&&(e=this.Pq(parseInt(g,10)))&&this.Pg[e.wf]&&this.Pg[e.wf].xs(b[g]);e=
a.events.cnds;for(g in this.Tc)this.Tc.hasOwnProperty(g)&&(e.hasOwnProperty(g)?this.Tc[g].V=e[g].ex:this.Tc[g].V={});e=a.events.acts;for(g in this.Oc)this.Oc.hasOwnProperty(g)&&(e.hasOwnProperty(g)?this.Oc[g].V=e[g].ex:this.Oc[g].V={});e=a.events.vars;for(g in e)e.hasOwnProperty(g)&&this.Ve.hasOwnProperty(g)&&(this.Ve[g].data=e[g]);this.Tf=c.next_uid;this.Af=!1;e=0;for(b=this.Ig.length;e<b;++e)f=this.Ig[e],this.trigger(Object.getPrototypeOf(f.type.f).e.Bk,f);P(this.Ig);this.pc.Lb(a.system);e=0;for(b=
this.i.length;e<b;e++)if(l=this.i[e],!l.O&&!this.jk(l))for(g=0,a=l.d.length;g<a;g++){f=l.d[g];if(l.ub)for(q=f.tf(),P(f.siblings),c=0,m=l.$a.length;c<m;c++)d=l.$a[c],l!==d&&f.siblings.push(d.d[q]);f.sd&&f.sd();if(f.A)for(c=0,m=f.A.length;c<m;c++)q=f.A[c],q.sd&&q.sd()}this.ba=!0}};d.prototype.Yj=function(c,e){var b,g,m,l,f;l=c.type;m=l.f;var q={};e?q.c2=!0:q.uid=c.uid;Na(c.V)&&(q.ex=a(c.V));if(c.va&&c.va.length)for(q.ivs={},b=0,g=c.va.length;b<g;b++)q.ivs[c.type.fj[b].toString()]=c.va[b];if(m.ad){m=
{x:c.x,y:c.y,w:c.width,h:c.height,l:c.g.I,zi:c.ec()};0!==c.q&&(m.a=c.q);1!==c.opacity&&(m.o=c.opacity);.5!==c.Qg&&(m.hX=c.Qg);.5!==c.Rg&&(m.hY=c.Rg);0!==c.La&&(m.bm=c.La);c.visible||(m.v=c.visible);c.xg||(m.ce=c.xg);-1!==c.Sf&&(m.mts=c.Sf);if(l.r.length)for(m.fx=[],b=0,g=l.r.length;b<g;b++)f=l.r[b],m.fx.push({name:f.name,active:c.Nc[f.index],params:c.ga[f.index]});q.w=m}if(c.A&&c.A.length)for(q.behs={},b=0,g=c.A.length;b<g;b++)l=c.A[b],l.nb&&(q.behs[l.type.I.toString()]=l.nb());c.nb&&(q.data=c.nb());
return q};d.prototype.Qq=function(a,c){var e,b;e=0;for(b=a.fj.length;e<b;e++)if(a.fj[e]===c)return e;return-1};d.prototype.Lq=function(a,c){var e,b;e=0;for(b=a.A.length;e<b;e++)if(a.A[e].type.I===c)return e;return-1};d.prototype.gh=function(a,c,e){var b,g,m,l,f;f=a.type;l=f.f;if(e){if(!c.c2)return}else a.uid=c.uid;c.ex?a.V=c.ex:Oa(a.V);if(g=c.ivs)for(b in g)g.hasOwnProperty(b)&&(m=this.Qq(f,parseInt(b,10)),0>m||m>=a.va.length||(a.va[m]=g[b]));if(l.ad){m=c.w;a.g.I!==m.l&&(g=a.g,a.g=this.Q.Ng(m.l),
a.g?(g.Ie(a,!0),a.g.Ze(a,!0),a.Ha(),a.g.bg(0)):(a.g=g,e||this.Sd(a)));a.x=m.x;a.y=m.y;a.width=m.w;a.height=m.h;a.Vb=m.zi;a.q=m.hasOwnProperty("a")?m.a:0;a.opacity=m.hasOwnProperty("o")?m.o:1;a.Qg=m.hasOwnProperty("hX")?m.hX:.5;a.Rg=m.hasOwnProperty("hY")?m.hY:.5;a.visible=m.hasOwnProperty("v")?m.v:!0;a.xg=m.hasOwnProperty("ce")?m.ce:!0;a.Sf=m.hasOwnProperty("mts")?m.mts:-1;a.La=m.hasOwnProperty("bm")?m.bm:0;a.ef=$a(a.La);this.j&&ab(a,a.La,this.j);a.Ha();if(m.hasOwnProperty("fx"))for(e=0,g=m.fx.length;e<
g;e++)l=f.Ui(m.fx[e].name),0>l||(a.Nc[l]=m.fx[e].active,a.ga[l]=m.fx[e].params);a.Tb()}if(f=c.behs)for(b in f)f.hasOwnProperty(b)&&(e=this.Lq(a,parseInt(b,10)),0>e||a.A[e].Lb(f[b]));c.data&&a.Lb(c.data)};d.prototype.Dl=function(a,c,e){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+"www/"+a,function(a){a.file(c,e)},e)};d.prototype.El=function(a,c){this.Dl("data.js",function(e){var b=new FileReader;b.onload=function(c){a(c.target.result)};b.onerror=c;b.readAsText(e)},c)};d.prototype.Hq=
function(a,c){this.Dl("loading-logo.png",function(c){var e=new FileReader;e.onload=function(c){a(c.target.result)};e.readAsArrayBuffer(c)},c)};d.prototype.Iq=function(a,c){this.Hq(function(c){c=URL.createObjectURL(new Blob([c]));a(c)},c)};d.prototype.ys=function(a){this.nj?this.Iq(function(c){a.src=c},function(a){alert("Failed to load image: "+a)}):a.src="loading-logo.png"};Ib=function(a){return new d(document.getElementById(a))};Jb=function(a,c){return new d({dc:!0,width:a,height:c})};window.cr_createRuntime=
Ib;window.cr_createDCRuntime=Jb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.Xb=!0;document.body.appendChild(a);a=new d(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new d(document.getElementById("canvas"));
window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var d=document.getElementById("c2canvas");return d?d.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(d,r){var h=window.cr_getC2Runtime();h&&h.Dp(d,r)};window.cr_sizeCanvas=function(d,r){if(0!==d&&0!==r){var h=window.cr_getC2Runtime();h&&h.setSize(d,r)}};window.cr_setSuspended=function(d){var r=window.cr_getC2Runtime();r&&r.setSuspended(d)};
(function(){function d(a,c){this.b=a;this.xd=null;this.scrollX=this.b.ya/2;this.scrollY=this.b.xa/2;this.scale=1;this.q=0;this.je=!0;this.name=c[0];this.width=c[1];this.height=c[2];this.Qn=c[3];this.yn=c[4];this.I=c[5];var b=c[6],l,f;this.u=[];this.yf=[];l=0;for(f=b.length;l<f;l++){var d=new Kb(this,b[l]);d.Nm=l;this.u.push(d)}b=c[7];this.Dd=[];l=0;for(f=b.length;l<f;l++){var d=b[l],k=this.b.i[d[1]];k.ac||(k.ac=d);this.Dd.push(d);-1===this.yf.indexOf(k)&&this.yf.push(k)}this.r=[];this.G=[];this.Fc=
!0;this.ga=[];l=0;for(f=c[8].length;l<f;l++)this.r.push({id:c[8][l][0],name:c[8][l][1],qa:-1,Nb:!1,ib:!0,index:l}),this.ga.push(c[8][l][2].slice(0));this.Tb();this.Qj=new N(0,0,1,1);this.Rj=new N(0,0,1,1);this.ld={}}function r(a,c){return a.Vb-c.Vb}function h(a,c){this.Aa=a;this.b=a.b;this.d=[];this.scale=1;this.q=0;this.sc=!1;this.Ic=new N(0,0,0,0);this.In=new oa;this.la=this.ea=this.ma=this.da=0;this.Rd=!1;this.Lc=-1;this.Bi=0;this.name=c[0];this.index=c[1];this.I=c[2];this.visible=c[3];this.Fb=
c[4];this.Sb=c[5];this.Ee=c[6];this.Fe=c[7];this.opacity=c[8];this.Kg=c[9];this.ob=c[10];this.qk=c[11];this.La=c[12];this.Yp=c[13];this.ef="source-over";this.Ma=this.Pa=0;this.Ga=null;this.Ac=p();this.Qb=!0;this.xe=new N(0,0,-1,-1);this.Da=new N(0,0,-1,-1);this.ob&&(this.Ga=new Za(this.b.ya,this.b.xa));this.kc=!1;var b=c[14],l,f;this.En=[];this.lb=[];this.hf=[];l=0;for(f=b.length;l<f;l++){var d=b[l],k=this.b.i[d[1]];k.ac||(k.ac=d,k.Cp=this.index);this.lb.push(d);-1===this.Aa.yf.indexOf(k)&&this.Aa.yf.push(k)}va(this.En,
this.lb);this.r=[];this.G=[];this.Fc=!0;this.ga=[];l=0;for(f=c[15].length;l<f;l++)this.r.push({id:c[15][l][0],name:c[15][l][1],qa:-1,Nb:!1,ib:!0,index:l}),this.ga.push(c[15][l][2].slice(0));this.Tb();this.Qj=new N(0,0,1,1);this.Rj=new N(0,0,1,1)}function p(){return a.length?a.pop():[]}function n(e){P(e);a.push(e)}d.prototype.us=function(a){var c=a.type.I.toString();this.ld.hasOwnProperty(c)||(this.ld[c]=[]);this.ld[c].push(this.b.Yj(a))};d.prototype.Ql=function(){var a=this.u[0];return!a.Sb&&1===
a.opacity&&!a.Kg&&a.visible};d.prototype.Tb=function(){P(this.G);this.Fc=!0;var a,c,b;a=0;for(c=this.r.length;a<c;a++)b=this.r[a],b.ib&&(this.G.push(b),b.Nb||(this.Fc=!1))};d.prototype.Ti=function(a){var c,b,l;c=0;for(b=this.r.length;c<b;c++)if(l=this.r[c],l.name===a)return l;return null};var t=[],b=!0;d.prototype.ck=function(){this.yn&&(this.xd=this.b.Ji[this.yn],this.xd.lk());this.b.Q=this;this.scrollX=this.b.ya/2;this.scrollY=this.b.xa/2;var a,c,g,l,f,d,k;a=0;for(g=this.b.i.length;a<g;a++)if(c=
this.b.i[a],!c.O)for(f=c.d,c=0,l=f.length;c<l;c++)if(d=f[c],d.g){var m=d.g.Nm;m>=this.u.length&&(m=this.u.length-1);d.g=this.u[m];-1===d.g.d.indexOf(d)&&d.g.d.push(d);d.g.Rd=!0}if(!b)for(a=0,g=this.u.length;a<g;++a)this.u[a].d.sort(r);P(t);this.tp();a=0;for(g=this.u.length;a<g;a++)d=this.u[a],d.Ap(),d.Uh();f=!1;if(!this.je){for(k in this.ld)if(this.ld.hasOwnProperty(k)&&(c=this.b.Og(parseInt(k,10)))&&!c.O&&this.b.kk(c)){l=this.ld[k];a=0;for(g=l.length;a<g;a++){d=null;if(c.f.ad&&(d=this.Ng(l[a].w.l),
!d))continue;d=this.b.ud(c.ac,d,!1,0,0,!0);this.b.gh(d,l[a]);f=!0;t.push(d)}P(l)}a=0;for(g=this.u.length;a<g;a++)this.u[a].d.sort(r),this.u[a].Rd=!0}f&&(this.b.Ia(),this.b.en());for(a=0;a<t.length;a++)if(d=t[a],d.type.ub)for(g=d.tf(),c=0,l=d.type.$a.length;c<l;c++)k=d.type.$a[c],d.type!==k&&(k.d.length>g?d.siblings.push(k.d[g]):k.ac&&(f=this.b.ud(k.ac,d.g,!0,d.x,d.y,!0),this.b.Ia(),k.Th(),d.siblings.push(f),t.push(f)));a=0;for(g=this.Dd.length;a<g;a++)this.b.ud(this.Dd[a],null,!0);this.b.cf=null;
this.b.Ia();if(this.b.N&&!this.b.F)for(a=0,g=this.b.i.length;a<g;a++)k=this.b.i[a],!k.O&&k.d.length&&k.ds&&k.ds(this.b.N);if(this.b.Af)va(this.b.Ig,t);else for(a=0,g=t.length;a<g;a++)d=t[a],this.b.trigger(Object.getPrototypeOf(d.type.f).e.Bk,d);P(t);this.b.Af||this.b.trigger(X.prototype.e.Gk,null);this.je=!1};d.prototype.zp=function(){var a,c,b,l,f;c=a=0;for(b=this.Dd.length;a<b;a++)l=this.Dd[a],f=this.b.i[l[1]],f.global?f.ub||this.b.ud(l,null,!0):(this.Dd[c]=l,c++);ua(this.Dd,c)};d.prototype.Ds=
function(){this.b.Af||this.b.trigger(X.prototype.e.Ko,null);this.b.ij=!0;P(this.b.pc.hb);var a,c,g,l,f,d;if(!this.je)for(a=0,c=this.u.length;a<c;a++)for(this.u[a].nk(),f=this.u[a].d,g=0,l=f.length;g<l;g++)d=f[g],d.type.global||this.b.kk(d.type)&&this.us(d);a=0;for(c=this.u.length;a<c;a++){f=this.u[a].d;g=0;for(l=f.length;g<l;g++)d=f[g],d.type.global||this.b.Sd(d);this.b.Ia();P(f);this.u[a].Rd=!0}a=0;for(c=this.b.i.length;a<c;a++)if(f=this.b.i[a],!(f.global||f.f.ad||f.f.Mh||f.O)){g=0;for(l=f.d.length;g<
l;g++)this.b.Sd(f.d[g]);this.b.Ia()}b=!1;this.b.ij=!1};new N(0,0,0,0);d.prototype.tc=function(a){var c,b=a,l=!1,f=!this.b.kb;f&&(this.b.dh||(this.b.dh=document.createElement("canvas"),c=this.b.dh,c.width=this.b.p,c.height=this.b.n,this.b.nm=c.getContext("2d"),l=!0),c=this.b.dh,b=this.b.nm,c.width!==this.b.p&&(c.width=this.b.p,l=!0),c.height!==this.b.n&&(c.height=this.b.n,l=!0),l&&(b.webkitImageSmoothingEnabled=this.b.L,b.mozImageSmoothingEnabled=this.b.L,b.msImageSmoothingEnabled=this.b.L,b.imageSmoothingEnabled=
this.b.L));b.globalAlpha=1;b.globalCompositeOperation="source-over";this.b.li&&!this.Ql()&&b.clearRect(0,0,this.b.p,this.b.n);var d,k,l=0;for(d=this.u.length;l<d;l++)k=this.u[l],k.visible&&0<k.opacity&&11!==k.La&&(k.d.length||!k.Sb)?k.tc(b):k.Uh();f&&a.drawImage(c,0,0,this.b.width,this.b.height)};d.prototype.lf=function(a){a.tn(!0);this.b.oa||(this.b.oa=a.qb(this.b.p,this.b.n,this.b.L));if(this.b.oa.ee!==this.b.p||this.b.oa.de!==this.b.n)a.deleteTexture(this.b.oa),this.b.oa=a.qb(this.b.p,this.b.n,
this.b.L);a.zb(this.b.oa);this.b.kb||a.Od(this.b.p,this.b.n);var c,b;for(c=this.u.length-1;0<=c;--c)b=this.u[c],b.visible&&1===b.opacity&&b.Fc&&0===b.La&&(b.d.length||!b.Sb)?b.lf(a):b.Uh();a.tn(!1)};d.prototype.rb=function(a){var c=0<this.G.length||this.b.Te||!this.b.kb||this.b.S;if(c){this.b.oa||(this.b.oa=a.qb(this.b.p,this.b.n,this.b.L));if(this.b.oa.ee!==this.b.p||this.b.oa.de!==this.b.n)a.deleteTexture(this.b.oa),this.b.oa=a.qb(this.b.p,this.b.n,this.b.L);a.zb(this.b.oa);this.b.kb||a.Od(this.b.p,
this.b.n)}else this.b.oa&&(a.zb(null),a.deleteTexture(this.b.oa),this.b.oa=null);this.b.li&&!this.Ql()&&a.clear(0,0,0,0);var b,l,f;b=0;for(l=this.u.length;b<l;b++)f=this.u[b],f.visible&&0<f.opacity&&(f.d.length||!f.Sb)?f.rb(a):f.Uh();c&&(0===this.G.length||1===this.G.length&&this.b.kb?(1===this.G.length?(c=this.G[0].index,a.Za(this.G[0].qa),a.Ke(null,1/this.b.p,1/this.b.n,0,0,1,1,this.scale,this.q,0,0,this.b.p/2,this.b.n/2,this.b.wb.Ra,this.ga[c]),a.yh(this.G[0].qa)&&(this.b.ba=!0)):a.Za(0),this.b.kb||
a.Od(this.b.width,this.b.height),a.zb(null),a.sn(!1),a.Ih(1),a.Rb(this.b.oa),a.qn(),a.lc(),a.Ub(),c=this.b.width/2,b=this.b.height/2,a.Oj(-c,b,c,b,c,-b,-c,-b),a.Rb(null),a.sn(!0)):this.Tj(a,null,null,null))};d.prototype.sf=function(){return 0<this.G.length||this.b.Te||!this.b.kb||this.b.S?this.b.oa:null};d.prototype.Nl=function(){var a=this.u[0].Xa(),c,b,l;c=1;for(b=this.u.length;c<b;c++)l=this.u[c],(0!==l.Ee||0!==l.Fe)&&l.Xa()<a&&(a=l.Xa());return a};d.prototype.nn=function(a){if(!this.Qn){var c=
1/this.Nl()*this.b.p/2;a>this.width-c&&(a=this.width-c);a<c&&(a=c)}this.scrollX!==a&&(this.scrollX=a,this.b.ba=!0)};d.prototype.pn=function(a){if(!this.Qn){var c=1/this.Nl()*this.b.n/2;a>this.height-c&&(a=this.height-c);a<c&&(a=c)}this.scrollY!==a&&(this.scrollY=a,this.b.ba=!0)};d.prototype.tp=function(){this.nn(this.scrollX);this.pn(this.scrollY)};d.prototype.Tj=function(a,c,b,l){var f=b?b.G:c?c.G:this.G,d=1,k=0,m=0,n=0,h=this.b.p,t=this.b.n;b?(d=b.g.Xa(),k=b.g.sb(),m=b.g.da,n=b.g.ea,h=b.g.ma,t=
b.g.la):c&&(d=c.Xa(),k=c.sb(),m=c.da,n=c.ea,h=c.ma,t=c.la);var r=this.b.Ri,p,y,x,F,u=0,ta=1,ja,la,R=this.b.p,M=this.b.n,Fa=R/2,Ga=M/2,E=c?c.Qj:this.Qj,B=c?c.Rj:this.Rj,G=0,O=0,C=0,A=0,K=R,pa=R,J=M,qa=M,ga=x=0;F=b?b.g.sb():0;if(b){p=0;for(y=f.length;p<y;p++)x+=a.Vq(f[p].qa),ga+=a.Wq(f[p].qa);A=b.Ka;G=c.aa(A.left,A.top,!0,!0);C=c.aa(A.left,A.top,!1,!0);K=c.aa(A.right,A.bottom,!0,!0);J=c.aa(A.right,A.bottom,!1,!0);0!==F&&(p=c.aa(A.right,A.top,!0,!0),y=c.aa(A.right,A.top,!1,!0),O=c.aa(A.left,A.bottom,
!0,!0),A=c.aa(A.left,A.bottom,!1,!0),F=Math.min(G,K,p,O),K=Math.max(G,K,p,O),G=F,F=Math.min(C,J,y,A),J=Math.max(C,J,y,A),C=F);G-=x;C-=ga;K+=x;J+=ga;B.left=G/R;B.top=1-C/M;B.right=K/R;B.bottom=1-J/M;O=G=H(G);A=C=H(C);pa=K=ma(K);qa=J=ma(J);O-=x;A-=ga;pa+=x;qa+=ga;0>G&&(G=0);0>C&&(C=0);K>R&&(K=R);J>M&&(J=M);0>O&&(O=0);0>A&&(A=0);pa>R&&(pa=R);qa>M&&(qa=M);E.left=G/R;E.top=1-C/M;E.right=K/R;E.bottom=1-J/M}else E.left=B.left=0,E.top=B.top=0,E.right=B.right=1,E.bottom=B.bottom=1;ga=b&&(a.Xf(f[0].qa)||0!==
x||0!==ga||1!==b.opacity||b.type.f.Km)||c&&!b&&1!==c.opacity;a.qn();if(ga){r[u]||(r[u]=a.qb(R,M,this.b.L));if(r[u].ee!==R||r[u].de!==M)a.deleteTexture(r[u]),r[u]=a.qb(R,M,this.b.L);a.Za(0);a.zb(r[u]);la=qa-A;a.clearRect(O,M-A-la,pa-O,la);b?b.rb(a):(a.Rb(this.b.wa),a.Ih(c.opacity),a.lc(),a.translate(-Fa,-Ga),a.Ub(),a.Zf(G,J,K,J,K,C,G,C,E));B.left=B.top=0;B.right=B.bottom=1;b&&(F=E.top,E.top=E.bottom,E.bottom=F);u=1;ta=0}a.Ih(1);x=f.length-1;var Sa=a.Nj(f[x].qa)||!c&&!b&&!this.b.kb;p=F=0;for(y=f.length;p<
y;p++){r[u]||(r[u]=a.qb(R,M,this.b.L));if(r[u].ee!==R||r[u].de!==M)a.deleteTexture(r[u]),r[u]=a.qb(R,M,this.b.L);a.Za(f[p].qa);F=f[p].index;a.yh(f[p].qa)&&(this.b.ba=!0);0!=p||ga?(a.Ke(l,1/R,1/M,B.left,B.top,B.right,B.bottom,d,k,m,n,(m+h)/2,(n+t)/2,this.b.wb.Ra,b?b.ga[F]:c?c.ga[F]:this.ga[F]),a.Rb(null),p!==x||Sa?(a.zb(r[u]),la=qa-A,ja=M-A-la,a.clearRect(O,ja,pa-O,la)):(b?a.nd(b.Pa,b.Ma):c&&a.nd(c.Pa,c.Ma),a.zb(l)),a.Rb(r[ta]),a.lc(),a.translate(-Fa,-Ga),a.Ub(),a.Zf(G,J,K,J,K,C,G,C,E),p!==x||Sa||
a.Rb(null)):(a.zb(r[u]),la=qa-A,ja=M-A-la,a.clearRect(O,ja,pa-O,la),b?(b.kf&&b.kf.dk?(ja=b.kf.dk,ta=1/ja.width,ja=1/ja.height):(ta=1/b.width,ja=1/b.height),a.Ke(l,ta,ja,B.left,B.top,B.right,B.bottom,d,k,m,n,(m+h)/2,(n+t)/2,this.b.wb.Ra,b.ga[F]),b.rb(a)):(a.Ke(l,1/R,1/M,0,0,1,1,d,k,m,n,(m+h)/2,(n+t)/2,this.b.wb.Ra,c?c.ga[F]:this.ga[F]),a.Rb(c?this.b.wa:this.b.oa),a.lc(),a.translate(-Fa,-Ga),a.Ub(),a.Zf(G,J,K,J,K,C,G,C,E)),B.left=B.top=0,B.right=B.bottom=1,b&&!Sa&&(F=J,J=C,C=F));u=0===u?1:0;ta=0===
u?1:0}Sa&&(a.Za(0),b?a.nd(b.Pa,b.Ma):c?a.nd(c.Pa,c.Ma):this.b.kb||(a.Od(this.b.width,this.b.height),Fa=this.b.width/2,Ga=this.b.height/2,C=G=0,K=this.b.width,J=this.b.height),a.zb(l),a.Rb(r[ta]),a.lc(),a.translate(-Fa,-Ga),a.Ub(),b&&1===f.length&&!ga?a.Zf(G,C,K,C,K,J,G,J,E):a.Zf(G,J,K,J,K,C,G,C,E),a.Rb(null))};d.prototype.Ng=function(a){var c,b;c=0;for(b=this.u.length;c<b;c++)if(this.u[c].I===a)return this.u[c];return null};d.prototype.nb=function(){var a,c,b,f={sx:this.scrollX,sy:this.scrollY,s:this.scale,
a:this.q,w:this.width,h:this.height,fv:this.je,persist:this.ld,fx:[],layers:{}};a=0;for(c=this.r.length;a<c;a++)b=this.r[a],f.fx.push({name:b.name,active:b.ib,params:this.ga[b.index]});a=0;for(c=this.u.length;a<c;a++)b=this.u[a],f.layers[b.I.toString()]=b.nb();return f};d.prototype.Lb=function(a){var c,b,f,d;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.q=a.a;this.width=a.w;this.height=a.h;this.ld=a.persist;"undefined"!==typeof a.fv&&(this.je=a.fv);var k=a.fx;c=0;for(b=k.length;c<b;c++)if(f=
this.Ti(k[c].name))f.ib=k[c].active,this.ga[f.index]=k[c].params;this.Tb();c=a.layers;for(d in c)c.hasOwnProperty(d)&&(a=this.Ng(parseInt(d,10)))&&a.Lb(c[d])};wb=d;h.prototype.Tb=function(){P(this.G);this.Fc=!0;var a,c,b;a=0;for(c=this.r.length;a<c;a++)b=this.r[a],b.ib&&(this.G.push(b),b.Nb||(this.Fc=!1))};h.prototype.Ti=function(a){var c,b,f;c=0;for(b=this.r.length;c<b;c++)if(f=this.r[c],f.name===a)return f;return null};h.prototype.Ap=function(){var a,c,b,f,d,k;c=a=0;for(b=this.lb.length;a<b;a++){f=
this.lb[a];d=this.b.i[f[1]];k=this.b.kk(d);d=!0;if(!k||this.Aa.je){f=this.b.ud(f,this,!0);if(!f)continue;t.push(f);f.type.global&&(d=!1,this.hf.push(f.uid))}d&&(this.lb[c]=this.lb[a],c++)}this.lb.length=c;this.b.Ia();!this.b.m&&this.r.length&&(this.La=this.Yp);this.ef=$a(this.La);this.b.j&&ab(this,this.La,this.b.j);this.Qb=!0};h.prototype.Ie=function(a,c){var b=xa(this.d,a);0>b||(c&&this.ob&&a.Ya&&a.Ya.right>=a.Ya.left&&(a.Sa(),this.Ga.update(a,a.Ya,null),a.Ya.set(0,0,-1,-1)),b===this.d.length-1?
this.d.pop():(sa(this.d,b),this.bg(b)),this.Qb=!0)};h.prototype.Ze=function(a,c){a.Vb=this.d.length;this.d.push(a);c&&this.ob&&a.Ya&&a.Ha();this.Qb=!0};h.prototype.fs=function(a){this.d.unshift(a);this.bg(0)};h.prototype.Or=function(a,c,b){var f=a.ec();c=c.ec();sa(this.d,f);f<c&&c--;b&&c++;c===this.d.length?this.d.push(a):this.d.splice(c,0,a);this.bg(f<c?f:c)};h.prototype.bg=function(a){-1===this.Lc?this.Lc=a:a<this.Lc&&(this.Lc=a);this.Qb=this.Rd=!0};h.prototype.nk=function(){if(this.Rd){-1===this.Lc&&
(this.Lc=0);var a,c,b;if(this.ob)for(a=this.Lc,c=this.d.length;a<c;++a)b=this.d[a],b.Vb=a,this.Ga.Kr(b.Ya);else for(a=this.Lc,c=this.d.length;a<c;++a)this.d[a].Vb=a;this.Rd=!1;this.Lc=-1}};h.prototype.Xa=function(a){return this.Tq()*(this.b.kb||a?this.b.$e:1)};h.prototype.Tq=function(){return(this.scale*this.Aa.scale-1)*this.qk+1};h.prototype.sb=function(){return this.sc?0:Ca(this.Aa.q+this.q)};var a=[],k=[],f=[];h.prototype.Wi=function(){this.nk();this.Ga.dn(this.da,this.ea,this.ma,this.la,f);if(!f.length)return p();
if(1===f.length){var a=p();va(a,f[0]);P(f);return a}for(var c=!0;1<f.length;){for(var a=f,b=void 0,l=void 0,d=void 0,h=void 0,t=void 0,b=0,l=a.length;b<l-1;b+=2){var d=a[b],h=a[b+1],t=p(),m=d,v=h,r=t,I=0,U=0,D=0,y=m.length,x=v.length,F=void 0,u=void 0;for(r.length=y+x;I<y&&U<x;++D)F=m[I],u=v[U],F.Vb<u.Vb?(r[D]=F,++I):(r[D]=u,++U);for(;I<y;++I,++D)r[D]=m[I];for(;U<x;++U,++D)r[D]=v[U];c||(n(d),n(h));k.push(t)}1===l%2&&(c?(d=p(),va(d,a[l-1]),k.push(d)):k.push(a[l-1]));va(a,k);P(k);c=!1}a=f[0];P(f);return a};
h.prototype.tc=function(a){this.kc=this.Kg||1!==this.opacity||0!==this.La;var c=this.b.canvas,b=a,f=!1;this.kc&&(this.b.bh||(this.b.bh=document.createElement("canvas"),c=this.b.bh,c.width=this.b.p,c.height=this.b.n,this.b.mm=c.getContext("2d"),f=!0),c=this.b.bh,b=this.b.mm,c.width!==this.b.p&&(c.width=this.b.p,f=!0),c.height!==this.b.n&&(c.height=this.b.n,f=!0),f&&(b.webkitImageSmoothingEnabled=this.b.L,b.mozImageSmoothingEnabled=this.b.L,b.msImageSmoothingEnabled=this.b.L,b.imageSmoothingEnabled=
this.b.L),this.Sb&&b.clearRect(0,0,this.b.p,this.b.n));b.globalAlpha=1;b.globalCompositeOperation="source-over";this.Sb||(b.fillStyle="rgb("+this.Fb[0]+","+this.Fb[1]+","+this.Fb[2]+")",b.fillRect(0,0,this.b.p,this.b.n));b.save();this.sc=!0;var f=this.Rc(!0),d=this.Rc(!1);this.sc=!1;this.b.wh&&(f=Math.round(f),d=Math.round(d));this.Eh(f,d,b);var k=this.Xa();b.scale(k,k);b.translate(-f,-d);this.ob?(this.Da.left=this.Ga.Ta(this.da),this.Da.top=this.Ga.Ua(this.ea),this.Da.right=this.Ga.Ta(this.ma),this.Da.bottom=
this.Ga.Ua(this.la),this.Qb||!this.Da.mf(this.xe)?(n(this.Ac),f=this.Wi(),this.Qb=!1,this.xe.ff(this.Da)):f=this.Ac):f=this.d;for(var h,m=null,d=0,k=f.length;d<k;++d)h=f[d],h!==m&&(this.Tp(h,b),m=h);this.ob&&(this.Ac=f);b.restore();this.kc&&(a.globalCompositeOperation=this.ef,a.globalAlpha=this.opacity,a.drawImage(c,0,0))};h.prototype.Tp=function(a,c){if(a.visible&&0!==a.width&&0!==a.height){a.Sa();var b=a.Ka;b.right<this.da||b.bottom<this.ea||b.left>this.ma||b.top>this.la||(c.globalCompositeOperation=
a.ef,a.tc(c))}};h.prototype.Uh=function(){this.sc=!0;var a=this.Rc(!0),c=this.Rc(!1);this.sc=!1;this.b.wh&&(a=Math.round(a),c=Math.round(c));this.Eh(a,c,null)};h.prototype.Eh=function(a,c,b){var f=this.Xa();this.da=a;this.ea=c;this.ma=a+1/f*this.b.p;this.la=c+1/f*this.b.n;a=this.sb();0!==a&&(b&&(b.translate(this.b.p/2,this.b.n/2),b.rotate(-a),b.translate(this.b.p/-2,this.b.n/-2)),this.Ic.set(this.da,this.ea,this.ma,this.la),this.Ic.offset((this.da+this.ma)/-2,(this.ea+this.la)/-2),this.In.wn(this.Ic,
a),this.In.kl(this.Ic),this.Ic.offset((this.da+this.ma)/2,(this.ea+this.la)/2),this.da=this.Ic.left,this.ea=this.Ic.top,this.ma=this.Ic.right,this.la=this.Ic.bottom)};h.prototype.lf=function(a){if(this.kc=this.Kg){this.b.wa||(this.b.wa=a.qb(this.b.p,this.b.n,this.b.L));if(this.b.wa.ee!==this.b.p||this.b.wa.de!==this.b.n)a.deleteTexture(this.b.wa),this.b.wa=a.qb(this.b.p,this.b.n,this.b.L);a.zb(this.b.wa)}this.sc=!0;var c=this.Rc(!0),b=this.Rc(!1);this.sc=!1;this.b.wh&&(c=Math.round(c),b=Math.round(b));
this.Eh(c,b,null);c=this.Xa();a.lc();a.scale(c,c);a.Vj(-this.sb());a.translate((this.da+this.ma)/-2,(this.ea+this.la)/-2);a.Ub();this.ob?(this.Da.left=this.Ga.Ta(this.da),this.Da.top=this.Ga.Ua(this.ea),this.Da.right=this.Ga.Ta(this.ma),this.Da.bottom=this.Ga.Ua(this.la),this.Qb||!this.Da.mf(this.xe)?(n(this.Ac),c=this.Wi(),this.Qb=!1,this.xe.ff(this.Da)):c=this.Ac):c=this.d;for(var f,d=null,b=c.length-1;0<=b;--b)f=c[b],f!==d&&(this.Vp(c[b],a),d=f);this.ob&&(this.Ac=c);this.Sb||(this.Bi=this.b.wd++,
a.Hh(this.Bi),a.rn(1,1,1),a.Hl(),a.ms())};h.prototype.rb=function(a){var c=0,b=0;if(this.kc=this.Kg||1!==this.opacity||0<this.G.length||0!==this.La){this.b.wa||(this.b.wa=a.qb(this.b.p,this.b.n,this.b.L));if(this.b.wa.ee!==this.b.p||this.b.wa.de!==this.b.n)a.deleteTexture(this.b.wa),this.b.wa=a.qb(this.b.p,this.b.n,this.b.L);a.zb(this.b.wa);this.Sb&&a.clear(0,0,0,0)}this.Sb||(this.b.S?(a.Hh(this.Bi),a.rn(this.Fb[0]/255,this.Fb[1]/255,this.Fb[2]/255),a.Hl(),a.zs()):a.clear(this.Fb[0]/255,this.Fb[1]/
255,this.Fb[2]/255,1));this.sc=!0;var f=this.Rc(!0),c=this.Rc(!1);this.sc=!1;this.b.wh&&(f=Math.round(f),c=Math.round(c));this.Eh(f,c,null);f=this.Xa();a.lc();a.scale(f,f);a.Vj(-this.sb());a.translate((this.da+this.ma)/-2,(this.ea+this.la)/-2);a.Ub();this.ob?(this.Da.left=this.Ga.Ta(this.da),this.Da.top=this.Ga.Ua(this.ea),this.Da.right=this.Ga.Ta(this.ma),this.Da.bottom=this.Ga.Ua(this.la),this.Qb||!this.Da.mf(this.xe)?(n(this.Ac),c=this.Wi(),this.Qb=!1,this.xe.ff(this.Da)):c=this.Ac):c=this.d;var d,
k,h=null,b=0;for(d=c.length;b<d;++b)k=c[b],k!==h&&(this.Up(c[b],a),h=k);this.ob&&(this.Ac=c);this.kc&&(c=this.G.length?this.G[0].qa:0,b=this.G.length?this.G[0].index:0,0===this.G.length||1===this.G.length&&!a.Nj(c)&&1===this.opacity?(1===this.G.length?(a.Za(c),a.Ke(this.Aa.sf(),1/this.b.p,1/this.b.n,0,0,1,1,f,this.sb(),this.da,this.ea,(this.da+this.ma)/2,(this.ea+this.la)/2,this.b.wb.Ra,this.ga[b]),a.yh(c)&&(this.b.ba=!0)):a.Za(0),a.zb(this.Aa.sf()),a.Ih(this.opacity),a.Rb(this.b.wa),a.nd(this.Pa,
this.Ma),a.lc(),a.Ub(),f=this.b.p/2,c=this.b.n/2,a.Oj(-f,c,f,c,f,-c,-f,-c),a.Rb(null)):this.Aa.Tj(a,this,null,this.Aa.sf()))};h.prototype.Up=function(a,c){if(a.visible&&0!==a.width&&0!==a.height){a.Sa();var b=a.Ka;b.right<this.da||b.bottom<this.ea||b.left>this.ma||b.top>this.la||(c.Hh(a.wd),a.Tn?this.Wp(a,c):(c.Za(0),c.nd(a.Pa,a.Ma),a.rb(c)))}};h.prototype.Vp=function(a,c){if(a.visible&&0!==a.width&&0!==a.height){a.Sa();var b=a.Ka;b.right<this.da||b.bottom<this.ea||b.left>this.ma||b.top>this.la||
(a.wd=this.b.wd++,0===a.La&&1===a.opacity&&a.Fc&&a.lf&&(c.Hh(a.wd),a.lf(c)))}};h.prototype.Wp=function(a,c){var b=a.G[0].qa,f=a.G[0].index,d=this.Xa();if(1!==a.G.length||c.Nj(b)||c.hs(b)||(a.q||a.g.sb())&&c.Xf(b)||1!==a.opacity||a.type.f.Km)this.Aa.Tj(c,this,a,this.kc?this.b.wa:this.Aa.sf()),c.lc(),c.scale(d,d),c.Vj(-this.sb()),c.translate((this.da+this.ma)/-2,(this.ea+this.la)/-2),c.Ub();else{c.Za(b);c.nd(a.Pa,a.Ma);c.yh(b)&&(this.b.ba=!0);var k=0,n=0,m=0,v=0;c.Xf(b)&&(v=a.Ka,k=this.aa(v.left,v.top,
!0,!0),n=this.aa(v.left,v.top,!1,!0),m=this.aa(v.right,v.bottom,!0,!0),v=this.aa(v.right,v.bottom,!1,!0),k=k/windowWidth,n=1-n/windowHeight,m=m/windowWidth,v=1-v/windowHeight);var h;a.kf&&a.kf.dk?(h=a.kf.dk,b=1/h.width,h=1/h.height):(b=1/a.width,h=1/a.height);c.Ke(this.kc?this.b.wa:this.Aa.sf(),b,h,k,n,m,v,d,this.sb(),this.da,this.ea,(this.da+this.ma)/2,(this.ea+this.la)/2,this.b.wb.Ra,a.ga[f]);a.rb(c)}};h.prototype.Rc=function(a){var c=0,b=0,f=this.b.devicePixelRatio;this.b.Fd&&(c*=f,b*=f);var f=
this.b.Wm,d=this.b.Xm,f=(this.Aa.scrollX-f)*this.Ee+f,d=(this.Aa.scrollY-d)*this.Fe+d,k,n,m=1/this.Xa(!1);k=f-this.b.p*m/2;n=d-this.b.n*m/2;k+=c*m;n+=b*m;b=this.sb();0!==b&&(k-=f,n-=d,c=Math.cos(b),b=Math.sin(b),m=k*c-n*b,n=n*c+k*b,k=m+f,n+=d);return a?k:n};h.prototype.aa=function(a,c,b,f){var d=this.b.Wm,k=this.b.Xm,n=(this.Aa.scrollX-d)*this.Ee+d,m=(this.Aa.scrollY-k)*this.Fe+k,k=n,d=m,h=this.sb();if(0!==h){a-=n;c-=m;var t=Math.cos(-h),h=Math.sin(-h),r=a*t-c*h;c=c*t+a*h;a=r+n;c+=m}n=1/this.Xa(!f);
f?(k-=this.b.p*n/2,d-=this.b.n*n/2):(k-=this.b.width*n/2,d-=this.b.height*n/2);k=(a-k)/n;d=(c-d)/n;a=this.b.devicePixelRatio;this.b.Fd&&!f&&(k/=a,d/=a);return b?k:d};h.prototype.nb=function(){var a,c,b,f={s:this.scale,a:this.q,vl:this.da,vt:this.ea,vr:this.ma,vb:this.la,v:this.visible,bc:this.Fb,t:this.Sb,px:this.Ee,py:this.Fe,o:this.opacity,zr:this.qk,fx:[],cg:this.hf,instances:[]};a=0;for(c=this.r.length;a<c;a++)b=this.r[a],f.fx.push({name:b.name,active:b.ib,params:this.ga[b.index]});return f};
h.prototype.Lb=function(a){var c,b,f;this.scale=a.s;this.q=a.a;this.da=a.vl;this.ea=a.vt;this.ma=a.vr;this.la=a.vb;this.visible=a.v;this.Fb=a.bc;this.Sb=a.t;this.Ee=a.px;this.Fe=a.py;this.opacity=a.o;this.qk=a.zr;this.hf=a.cg||[];va(this.lb,this.En);var d=new ba;c=0;for(f=this.hf.length;c<f;++c)d.add(this.hf[c]);b=c=0;for(f=this.lb.length;c<f;++c)d.contains(this.lb[c][2])||(this.lb[b]=this.lb[c],++b);ua(this.lb,b);b=a.fx;c=0;for(f=b.length;c<f;c++)if(a=this.Ti(b[c].name))a.ib=b[c].active,this.ga[a.index]=
b[c].params;this.Tb();this.d.sort(r);this.Rd=!0};Kb=h})();
(function(){function d(a,c){var b,f=a.length;switch(f){case 0:return!0;case 1:return a[0]===c[0];case 2:return a[0]===c[0]&&a[1]===c[1];default:for(b=0;b<f;b++)if(a[b]!==c[b])return!1;return!0}}function r(a,c){return a.index-c.index}function h(a){var c,b,f,e;2===a.length?a[0].index>a[1].index&&(c=a[0],a[0]=a[1],a[1]=c):2<a.length&&a.sort(r);a.length>=q.length&&(q.length=a.length+1);q[a.length]||(q[a.length]=[]);e=q[a.length];c=0;for(b=e.length;c<b;c++)if(f=e[c],d(a,f))return f;e.push(a);return a}
function p(a,c){this.b=a;this.Nn={};this.Cl={};this.aj=!1;this.Sl=new ba;this.Fi=[];this.mi=[];this.name=c[0];var b=c[1];this.Wc=[];var f,e;f=0;for(e=b.length;f<e;f++)this.Ul(b[f],null,this.Wc)}function n(a){this.type=a;this.d=[];this.K=[];this.Ca=!0}function t(a,c,b){this.sheet=a;this.parent=c;this.b=a.b;this.W=[];this.od=[];this.Rl=this.Rh=this.gk=this.dj=this.group=this.ak=!1;this.ta=[];this.Eb=[];this.Ab=[];this.wf="";this.vf=this.dj=this.group=!1;this.yg=null;b[1]&&(this.wf=b[1][1].toLowerCase(),
this.group=!0,this.dj=!!b[1][0],this.yg=[],this.vf=this.dj,this.b.Xd.push(this),this.b.Pg[this.wf]=this);this.hc=b[2];this.I=b[4];this.group||(this.b.jl[this.I.toString()]=this);var f=b[5];a=0;for(c=f.length;a<c;a++){var e=new Lb(this,f[a]);e.index=a;this.ta.push(e);this.Zk(e.type)}f=b[6];a=0;for(c=f.length;a<c;a++)e=new Mb(this,f[a]),e.index=a,this.Eb.push(e);if(8===b.length)for(b=b[7],a=0,c=b.length;a<c;a++)this.sheet.Ul(b[a],this,this.Ab);this.Yg=!1;this.ta.length&&(this.Yg=null==this.ta[0].type&&
this.ta[0].Ea==X.prototype.e.tk)}function b(a,c){var b,f,e;if(a&&(-1===c.indexOf(a)&&c.push(a),a.ub))for(b=0,f=a.$a.length;b<f;b++)e=a.$a[b],a!==e&&-1===c.indexOf(e)&&c.push(e)}function a(a,c){this.jb=a;this.sheet=a.sheet;this.b=a.b;this.C=[];this.ia=[];this.V={};this.index=-1;this.Xe=!1;this.Ea=this.b.Mc(c[1]);this.trigger=0<c[3];this.Bl=2===c[3];this.gj=c[5];this.Gr=c[6];this.I=c[7];this.b.Tc[this.I.toString()]=this;-1===c[0]?(this.type=null,this.pa=this.Xj,this.td=null,this.Gb=-1):(this.type=this.b.i[c[0]],
this.pa=this.Gr?this.ss:this.Wj,c[2]?(this.td=this.type.Mg(c[2]),this.Gb=this.type.Si(c[2])):(this.td=null,this.Gb=-1),this.jb.parent&&this.jb.parent.Jh());this.Bl&&(this.pa=this.ts);if(10===c.length){var b,f,e=c[9];b=0;for(f=e.length;b<f;b++){var l=new Nb(this,e[b]);this.C.push(l)}this.ia.length=e.length}}function k(a,c){this.jb=a;this.sheet=a.sheet;this.b=a.b;this.C=[];this.ia=[];this.V={};this.index=-1;this.Xe=!1;this.Ea=this.b.Mc(c[1]);-1===c[0]?(this.type=null,this.pa=this.Xj,this.td=null,this.Gb=
-1):(this.type=this.b.i[c[0]],this.pa=this.Wj,c[2]?(this.td=this.type.Mg(c[2]),this.Gb=this.type.Si(c[2])):(this.td=null,this.Gb=-1));this.I=c[3];this.b.Oc[this.I.toString()]=this;if(6===c.length){var b,f,e=c[5];b=0;for(f=e.length;b<f;b++){var l=new Nb(this,e[b]);this.C.push(l)}this.ia.length=e.length}}function f(){Q++;L.length===Q&&L.push(new Ob);return L[Q]}function e(a,c){this.yb=a;this.jb=a.jb;this.sheet=a.sheet;this.b=a.b;this.type=c[0];this.cc=null;this.Gc=0;this.get=null;this.ol=0;this.Aa=
null;this.key=0;this.object=null;this.index=0;this.ng=this.Pd=this.ng=this.Pd=this.Fl=this.yd=this.og=null;this.Cb=!1;var b,f,e;switch(c[0]){case 0:case 7:this.cc=new T(this,c[1]);this.Gc=0;this.get=this.cr;break;case 1:this.cc=new T(this,c[1]);this.Gc=0;this.get=this.dr;break;case 5:this.cc=new T(this,c[1]);this.Gc=0;this.get=this.hr;break;case 3:case 8:this.ol=c[1];this.get=this.ar;break;case 6:this.Aa=this.b.wj[c[1]];this.get=this.ir;break;case 9:this.key=c[1];this.get=this.gr;break;case 4:this.object=
this.b.i[c[1]];this.get=this.jr;this.jb.Zk(this.object);this.yb instanceof Mb?this.jb.Jh():this.jb.parent&&this.jb.parent.Jh();break;case 10:this.index=c[1];a.type&&a.type.O?(this.get=this.er,this.Cb=!0):this.get=this.fr;break;case 11:this.og=c[1];this.yd=null;this.get=this.br;break;case 2:case 12:this.Fl=c[1];this.get=this.Zq;break;case 13:for(this.get=this.mr,this.Pd=[],this.ng=[],b=1,f=c.length;b<f;b++)e=new Nb(this.yb,c[b]),this.Pd.push(e),this.ng.push(0)}}function c(a,c,b){this.sheet=a;this.parent=
c;this.b=a.b;this.W=[];this.name=b[1];this.Vn=b[2];this.cj=b[3];this.Ef=!!b[4];this.Xg=!!b[5];this.I=b[6];this.b.Ve[this.I.toString()]=this;this.data=this.cj;this.parent?(this.Ld=this.Ef||this.Xg?-1:this.b.Cs++,this.b.kp.push(this)):(this.Ld=-1,this.b.jp.push(this))}function g(a,c,b){this.sheet=a;this.parent=c;this.b=a.b;this.W=[];this.xf=null;this.sr=b[1];this.ib=!0}function l(){this.Fn=[];this.reset(null)}var q=[];p.prototype.toString=function(){return this.name};p.prototype.Ul=function(a,c,b){switch(a[0]){case 0:a=
new Pb(this,c,a);if(a.hc)for(b.push(a),b=0,c=a.ta.length;b<c;b++)a.ta[b].trigger&&this.Vl(a,b);else a.gm()?this.Vl(a,0):b.push(a);break;case 1:a=new Hb(this,c,a);b.push(a);break;case 2:a=new Qb(this,c,a),b.push(a)}};p.prototype.ka=function(){var a,c;a=0;for(c=this.Wc.length;a<c;a++)this.Wc[a].ka(a<c-1&&this.Wc[a+1].Yg)};p.prototype.lk=function(){P(this.Fi);P(this.mi);this.Yk(this);P(this.mi)};p.prototype.Yk=function(a){var c,b,f,e,l=a.Fi,g=a.mi,d=this.Sl.Qd();c=0;for(b=d.length;c<b;++c)f=d[c],e=f.xf,
!f.ib||a===e||-1<g.indexOf(e)||(g.push(e),e.Yk(a),l.push(e))};p.prototype.pa=function(a){this.b.lu||(this.aj=!0,a||(this.b.mj=!0));var c,b;c=0;for(b=this.Wc.length;c<b;c++){var f=this.Wc[c];f.pa();this.b.Ai(f.W);this.b.Yc&&this.b.Ia()}a||(this.b.mj=!1)};p.prototype.Vl=function(a,c){a.hc||this.b.Sh.push(a);var b,f,e=a.ta[c],l;e.type?l=e.type.name:l="system";var g=(b=e.Bl)?this.Cl:this.Nn;g[l]||(g[l]=[]);l=g[l];g=e.Ea;if(b){if(e.C.length&&(e=e.C[0],1===e.type&&2===e.cc.type)){e=e.cc.value.toLowerCase();
b=0;for(f=l.length;b<f;b++)if(l[b].method==g){b=l[b].of;b[e]?b[e].push([a,c]):b[e]=[[a,c]];return}b={};b[e]=[[a,c]];l.push({method:g,of:b})}}else{b=0;for(f=l.length;b<f;b++)if(l[b].method==g){l[b].of.push([a,c]);return}Sb.ap&&g===Sb.ap.prototype.e.yt?l.unshift({method:g,of:[[a,c]]}):l.push({method:g,of:[[a,c]]})}};xb=p;n.prototype.Pl=function(){return this.Ca?this.type.d.length:this.d.length};n.prototype.Hb=function(){return this.Ca?this.type.d:this.d};n.prototype.Wf=function(a){a&&(a.b.Wa().ab.hc?
(this.Ca&&(P(this.d),va(this.K,a.type.d),this.Ca=!1),a=this.K.indexOf(a),-1!==a&&(this.d.push(this.K[a]),this.K.splice(a,1))):(this.Ca=!1,P(this.d),this.d[0]=a))};gb=n;window._c2hh_="7D411AF2A209E605333BECE836F523824A3967F9";t.prototype.ka=function(a){var c,b=this.parent;if(this.group)for(this.Rh=!0;b;){if(!b.group){this.Rh=!1;break}b=b.parent}this.gk=!this.gm()&&(!this.parent||this.parent.group&&this.parent.Rh);this.Rl=!!a;this.od=this.W.slice(0);for(b=this.parent;b;){a=0;for(c=b.W.length;a<c;a++)this.hp(b.W[a]);
b=b.parent}this.W=h(this.W);this.od=h(this.od);a=0;for(c=this.ta.length;a<c;a++)this.ta[a].ka();a=0;for(c=this.Eb.length;a<c;a++)this.Eb[a].ka();a=0;for(c=this.Ab.length;a<c;a++)this.Ab[a].ka(a<c-1&&this.Ab[a+1].Yg)};t.prototype.xs=function(a){if(this.vf!==!!a){this.vf=!!a;var c;a=0;for(c=this.yg.length;a<c;++a)this.yg[a].Sn();0<c&&this.b.Q.xd&&this.b.Q.xd.lk()}};t.prototype.Zk=function(a){b(a,this.W)};t.prototype.hp=function(a){b(a,this.od)};t.prototype.Jh=function(){this.ak=!0;this.parent&&this.parent.Jh()};
t.prototype.gm=function(){return this.ta.length?this.ta[0].trigger:!1};t.prototype.pa=function(){var a,c,b=!1,f=this.b,e=this.b.Wa();e.ab=this;var l=this.ta;this.Yg||(e.Hi=!1);if(this.hc){0===l.length&&(b=!0);e.ra=0;for(a=l.length;e.ra<a;e.ra++)c=l[e.ra],c.trigger||(c=c.pa())&&(b=!0);(e.Hd=b)&&this.Fh()}else{e.ra=0;for(a=l.length;e.ra<a;e.ra++)if(c=l[e.ra].pa(),!c){e.Hd=!1;this.gk&&f.Yc&&f.Ia();return}e.Hd=!0;this.Fh()}this.aq(e)};t.prototype.aq=function(a){a.Hd&&this.Rl&&(a.Hi=!0);this.gk&&this.b.Yc&&
this.b.Ia()};t.prototype.qs=function(a){this.b.Wa().ab=this;this.ta[a].pa()&&(this.Fh(),this.b.Wa().Hd=!0)};t.prototype.Fh=function(){var a=this.b.Wa(),c;a.pb=0;for(c=this.Eb.length;a.pb<c;a.pb++)if(this.Eb[a.pb].pa())return;this.ln()};t.prototype.ns=function(){var a=this.b.Wa(),c;for(c=this.Eb.length;a.pb<c;a.pb++)if(this.Eb[a.pb].pa())return;this.ln()};t.prototype.ln=function(){if(this.Ab.length){var a,c,b,e,f=this.Ab.length-1;this.b.Bh(this);if(this.ak)for(a=0,c=this.Ab.length;a<c;a++)b=this.Ab[a],
(e=!this.Rh||!this.group&&a<f)&&this.b.Ah(b.W),b.pa(),e?this.b.Nd(b.W):this.b.Ai(b.W);else for(a=0,c=this.Ab.length;a<c;a++)this.Ab[a].pa();this.b.xh()}};t.prototype.rs=function(){var a=this.b.Wa();a.ab=this;var c=!1,b;a.ra=0;for(b=this.ta.length;a.ra<b;a.ra++)if(this.ta[a.ra].pa())c=!0;else if(!this.hc)return!1;return this.hc?c:!0};t.prototype.os=function(){this.b.pf++;var a=this.b.Wa().ra,c=this.b.Bh(this);if(!this.hc)for(c.ra=a+1,a=this.ta.length;c.ra<a;c.ra++)if(!this.ta[c.ra].pa()){this.b.xh();
return}this.Fh();this.b.xh()};t.prototype.Ar=function(a){var c=a.index;if(0===c)return!0;for(--c;0<=c;--c)if(this.ta[c].type===a.type)return!1;return!0};Pb=t;a.prototype.ka=function(){var a,c,b;a=0;for(c=this.C.length;a<c;a++)b=this.C[a],b.ka(),b.Cb&&(this.Xe=!0)};a.prototype.ts=function(){return!0};a.prototype.Xj=function(){var a,c;a=0;for(c=this.C.length;a<c;a++)this.ia[a]=this.C[a].get();return Ma(this.Ea.apply(this.b.pc,this.ia),this.gj)};a.prototype.ss=function(){var a,c;a=0;for(c=this.C.length;a<
c;a++)this.ia[a]=this.C[a].get();a=this.Ea.apply(this.td?this.td:this.type,this.ia);this.type.Yd();return a};a.prototype.Wj=function(){var a,c,b,e,f,l,g,d,k=this.type,q=k.Z(),n=this.jb.hc&&!this.trigger;c=0;var h=k.ub,t=k.O,r=k.vc,p=this.Gb,L=-1<p,Q=this.Xe,E=this.C,B=this.ia,G=this.gj,O=this.Ea,C;if(Q)for(c=0,f=E.length;c<f;++c)l=E[c],l.Cb||(B[c]=l.get(0));else for(c=0,f=E.length;c<f;++c)B[c]=E[c].get(0);if(q.Ca){P(q.d);P(q.K);C=k.d;a=0;for(e=C.length;a<e;++a){d=C[a];if(Q)for(c=0,f=E.length;c<f;++c)l=
E[c],l.Cb&&(B[c]=l.get(a));L?(c=0,t&&(c=d.type.ie[r]),c=O.apply(d.A[p+c],B)):c=O.apply(d,B);(g=Ma(c,G))?q.d.push(d):n&&q.K.push(d)}k.finish&&k.finish(!0);q.Ca=!1;k.Yd();return q.Pl()}b=0;C=(g=n&&!this.jb.Ar(this))?q.K:q.d;var A=!1;a=0;for(e=C.length;a<e;++a){d=C[a];if(Q)for(c=0,f=E.length;c<f;++c)l=E[c],l.Cb&&(B[c]=l.get(a));L?(c=0,t&&(c=d.type.ie[r]),c=O.apply(d.A[p+c],B)):c=O.apply(d,B);if(Ma(c,G))if(A=!0,g){if(q.d.push(d),h)for(c=0,f=d.siblings.length;c<f;c++)l=d.siblings[c],l.type.Z().d.push(l)}else{C[b]=
d;if(h)for(c=0,f=d.siblings.length;c<f;c++)l=d.siblings[c],l.type.Z().d[b]=l;b++}else if(g){C[b]=d;if(h)for(c=0,f=d.siblings.length;c<f;c++)l=d.siblings[c],l.type.Z().K[b]=l;b++}else if(n&&(q.K.push(d),h))for(c=0,f=d.siblings.length;c<f;c++)l=d.siblings[c],l.type.Z().K.push(l)}ua(C,b);if(h)for(t=k.$a,a=0,e=t.length;a<e;a++)d=t[a].Z(),g?ua(d.K,b):ua(d.d,b);b=A;if(g&&!A)for(a=0,e=q.d.length;a<e;a++){d=q.d[a];if(Q)for(c=0,f=E.length;c<f;c++)l=E[c],l.Cb&&(B[c]=l.get(a));c=L?O.apply(d.A[p],B):O.apply(d,
B);if(Ma(c,G)){A=!0;break}}k.finish&&k.finish(b||n);return n?A:q.Pl()};Lb=a;k.prototype.ka=function(){var a,c,b;a=0;for(c=this.C.length;a<c;a++)b=this.C[a],b.ka(),b.Cb&&(this.Xe=!0)};k.prototype.Xj=function(){var a=this.b,c,b,f=this.C,e=this.ia;c=0;for(b=f.length;c<b;++c)e[c]=f[c].get();return this.Ea.apply(a.pc,e)};k.prototype.Wj=function(){var a=this.type,c=this.Gb,b=a.vc,f=this.Xe,e=this.C,l=this.ia,g=this.Ea,d=a.Z().Hb(),a=a.O,k=-1<c,q,n,h,t,r,p;if(f)for(n=0,t=e.length;n<t;++n)r=e[n],r.Cb||(l[n]=
r.get(0));else for(n=0,t=e.length;n<t;++n)l[n]=e[n].get(0);q=0;for(h=d.length;q<h;++q){p=d[q];if(f)for(n=0,t=e.length;n<t;++n)r=e[n],r.Cb&&(l[n]=r.get(q));k?(n=0,a&&(n=p.type.ie[b]),g.apply(p.A[c+n],l)):g.apply(p,l)}return!1};Mb=k;var L=[],Q=-1;e.prototype.ka=function(){var a,c;if(11===this.type)this.yd=this.b.Kl(this.og,this.jb.parent);else if(13===this.type)for(a=0,c=this.Pd.length;a<c;a++)this.Pd[a].ka();this.cc&&this.cc.ka()};e.prototype.Lr=function(a){this.Cb||!a||a.f.Mh||(this.Cb=!0)};e.prototype.un=
function(){this.Cb=!0};e.prototype.cr=function(a){this.Gc=a||0;a=f();this.cc.get(a);Q--;return a.data};e.prototype.dr=function(a){this.Gc=a||0;a=f();this.cc.get(a);Q--;return z(a.data)?a.data:""};e.prototype.jr=function(){return this.object};e.prototype.ar=function(){return this.ol};e.prototype.hr=function(a){this.Gc=a||0;a=f();this.cc.get(a);Q--;return a.za()?this.b.Sq(a.data):this.b.Rq(a.data)};e.prototype.ir=function(){return this.Aa};e.prototype.gr=function(){return this.key};e.prototype.fr=function(){return this.index};
e.prototype.er=function(a){a=a||0;var c=this.yb.type,b=null,b=c.Z(),e=b.Hb();if(e.length)b=e[a%e.length].type;else if(b.K.length)b=b.K[a%b.K.length].type;else if(c.d.length)b=c.d[a%c.d.length].type;else return 0;return this.index+b.Hg[c.vc]};e.prototype.br=function(){return this.yd};e.prototype.Zq=function(){return this.Fl};e.prototype.mr=function(){var a,c;a=0;for(c=this.Pd.length;a<c;a++)this.ng[a]=this.Pd[a].get();return this.ng};Nb=e;c.prototype.ka=function(){this.W=h(this.W)};c.prototype.Kh=
function(a){var c=this.b.Jl();this.parent&&!this.Ef&&c?(this.Ld>=c.length&&(c.length=this.Ld+1),c[this.Ld]=a):this.data=a};c.prototype.Yq=function(){var a=this.b.Jl();return!this.parent||this.Ef||!a||this.Xg?this.data:this.Ld>=a.length||"undefined"===typeof a[this.Ld]?this.cj:a[this.Ld]};c.prototype.pa=function(){!this.parent||this.Ef||this.Xg||this.Kh(this.cj)};Hb=c;g.prototype.toString=function(){return"include:"+this.xf.toString()};g.prototype.ka=function(){this.xf=this.b.Ji[this.sr];this.sheet.Sl.add(this);
this.W=h(this.W);for(var a=this.parent;a;)a.group&&a.yg.push(this),a=a.parent;this.Sn()};g.prototype.pa=function(){this.parent&&this.b.Yf(this.b.i);this.xf.aj||this.xf.pa(!0);this.parent&&this.b.Nd(this.b.i)};g.prototype.Sn=function(){for(var a=this.parent;a;){if(a.group&&!a.vf){this.ib=!1;return}a=a.parent}this.ib=!0};Qb=g;l.prototype.reset=function(a){this.ab=a;this.pb=this.ra=0;P(this.Fn);this.Hi=this.Hd=!1};l.prototype.Br=function(){return this.ab.ak?!0:this.ra<this.ab.ta.length-1?!!this.ab.W.length:
!1};Gb=l})();
(function(){function d(b,a){this.yb=b;this.b=b.b;this.type=a[0];this.get=[this.sq,this.oq,this.Bq,this.Eq,this.cq,this.Cq,this.wq,this.lq,this.vq,this.Aq,this.dq,this.zq,this.mq,this.xq,this.tq,this.uq,this.pq,this.qq,this.kq,this.Dq,this.yq,this.rq,this.jq,this.nq][this.type];var d=null;this.Bc=this.C=this.ia=this.Ea=this.Qh=this.second=this.first=this.value=null;this.Gb=-1;this.Ib=null;this.Un=-1;this.yd=this.og=null;this.Je=!1;switch(this.type){case 0:case 1:case 2:this.value=a[1];break;case 3:this.first=
new T(b,a[1]);break;case 18:this.first=new T(b,a[1]);this.second=new T(b,a[2]);this.Qh=new T(b,a[3]);break;case 19:this.Ea=this.b.Mc(a[1]);this.Ea!==X.prototype.P.random&&this.Ea!==X.prototype.P.wp||this.yb.un();this.ia=[];this.C=[];3===a.length?(d=a[2],this.ia.length=d.length+1):this.ia.length=1;break;case 20:this.Bc=this.b.i[a[1]];this.Gb=-1;this.Ea=this.b.Mc(a[2]);this.Je=a[3];bc&&this.Ea===bc.prototype.P.bo&&this.yb.un();a[4]?this.Ib=new T(b,a[4]):this.Ib=null;this.ia=[];this.C=[];6===a.length?
(d=a[5],this.ia.length=d.length+1):this.ia.length=1;break;case 21:this.Bc=this.b.i[a[1]];this.Je=a[2];a[3]?this.Ib=new T(b,a[3]):this.Ib=null;this.Un=a[4];break;case 22:this.Bc=this.b.i[a[1]];this.Bc.Mg(a[2]);this.Gb=this.Bc.Si(a[2]);this.Ea=this.b.Mc(a[3]);this.Je=a[4];a[5]?this.Ib=new T(b,a[5]):this.Ib=null;this.ia=[];this.C=[];7===a.length?(d=a[6],this.ia.length=d.length+1):this.ia.length=1;break;case 23:this.og=a[1],this.yd=null}this.yb.Lr(this.Bc);4<=this.type&&17>=this.type&&(this.first=new T(b,
a[1]),this.second=new T(b,a[2]));if(d){var f,e;f=0;for(e=d.length;f<e;f++)this.C.push(new T(b,d[f]))}}function r(){++t;n.length===t&&n.push(new Ob);return n[t]}function h(b,a,d){var f,e;f=0;for(e=b.length;f<e;++f)b[f].get(d),a[f+1]=d.data}function p(b,a){this.type=b||V.Ud;this.data=a||0;this.Md=null;this.type==V.Ud&&(this.data=Math.floor(this.data))}d.prototype.ka=function(){23===this.type&&(this.yd=this.yb.b.Kl(this.og,this.yb.jb.parent));this.first&&this.first.ka();this.second&&this.second.ka();
this.Qh&&this.Qh.ka();this.Ib&&this.Ib.ka();if(this.C){var b,a;b=0;for(a=this.C.length;b<a;b++)this.C[b].ka()}};var n=[],t=-1;d.prototype.Dq=function(b){var a=this.C,d=this.ia;d[0]=b;b=r();h(a,d,b);--t;this.Ea.apply(this.b.pc,d)};d.prototype.yq=function(b){var a=this.Bc,d=this.ia,f=this.C,e=this.Ib,c=this.Ea,g=this.yb.Gc,l=a.Z(),q=l.Hb();if(!q.length)if(l.K.length)q=l.K;else{this.Je?b.R(""):b.T(0);return}d[0]=b;b.Md=a;b=r();h(f,d,b);e&&(e.get(b),b.za()&&(g=b.data,q=a.d));--t;a=q.length;if(g>=a||g<=
-a)g%=a;0>g&&(g+=a);c.apply(q[g],d)};d.prototype.jq=function(b){var a=this.Bc,d=this.ia,f=this.C,e=this.Ib,c=this.Gb,g=this.Ea,l=this.yb.Gc,q=a.Z(),n=q.Hb();if(!n.length)if(q.K.length)n=q.K;else{this.Je?b.R(""):b.T(0);return}d[0]=b;b.Md=a;b=r();h(f,d,b);e&&(e.get(b),b.za()&&(l=b.data,n=a.d));--t;f=n.length;if(l>=f||l<=-f)l%=f;0>l&&(l+=f);l=n[l];n=0;a.O&&(n=l.type.ie[a.vc]);g.apply(l.A[c+n],d)};d.prototype.rq=function(b){var a=this.Ib,d=this.Bc,f=this.Un,e=this.yb.Gc,c=d.Z(),g=c.Hb();if(!g.length)if(c.K.length)g=
c.K;else{this.Je?b.R(""):b.T(0);return}if(a){c=r();a.get(c);if(c.za()){e=c.data;g=d.d;0!==g.length&&(e%=g.length,0>e&&(e+=g.length));e=d.Vi(e);d=e.va[f];z(d)?b.R(d):b.D(d);--t;return}--t}a=g.length;if(e>=a||e<=-a)e%=a;0>e&&(e+=a);e=g[e];g=0;d.O&&(g=e.type.Hg[d.vc]);d=e.va[f+g];z(d)?b.R(d):b.D(d)};d.prototype.sq=function(b){b.type=V.Ud;b.data=this.value};d.prototype.oq=function(b){b.type=V.Td;b.data=this.value};d.prototype.Bq=function(b){b.type=V.String;b.data=this.value};d.prototype.Eq=function(b){this.first.get(b);
b.za()&&(b.data=-b.data)};d.prototype.cq=function(b){this.first.get(b);var a=r();this.second.get(a);b.za()&&a.za()&&(b.data+=a.data,a.pe()&&b.Be());--t};d.prototype.Cq=function(b){this.first.get(b);var a=r();this.second.get(a);b.za()&&a.za()&&(b.data-=a.data,a.pe()&&b.Be());--t};d.prototype.wq=function(b){this.first.get(b);var a=r();this.second.get(a);b.za()&&a.za()&&(b.data*=a.data,a.pe()&&b.Be());--t};d.prototype.lq=function(b){this.first.get(b);var a=r();this.second.get(a);b.za()&&a.za()&&(b.data/=
a.data,b.Be());--t};d.prototype.vq=function(b){this.first.get(b);var a=r();this.second.get(a);b.za()&&a.za()&&(b.data%=a.data,a.pe()&&b.Be());--t};d.prototype.Aq=function(b){this.first.get(b);var a=r();this.second.get(a);b.za()&&a.za()&&(b.data=Math.pow(b.data,a.data),a.pe()&&b.Be());--t};d.prototype.dq=function(b){this.first.get(b);var a=r();this.second.get(a);a.re()||b.re()?this.gq(b,a):this.fq(b,a);--t};d.prototype.gq=function(b,a){b.re()&&a.re()?this.iq(b,a):this.hq(b,a)};d.prototype.iq=function(b,
a){b.data+=a.data};d.prototype.hq=function(b,a){b.re()?b.data+=(Math.round(1E10*a.data)/1E10).toString():b.R(b.data.toString()+a.data)};d.prototype.fq=function(b,a){b.T(b.data&&a.data?1:0)};d.prototype.zq=function(b){this.first.get(b);var a=r();this.second.get(a);b.za()&&a.za()&&(b.data||a.data?b.T(1):b.T(0));--t};d.prototype.kq=function(b){this.first.get(b);b.data?this.second.get(b):this.Qh.get(b)};d.prototype.mq=function(b){this.first.get(b);var a=r();this.second.get(a);b.T(b.data===a.data?1:0);
--t};d.prototype.xq=function(b){this.first.get(b);var a=r();this.second.get(a);b.T(b.data!==a.data?1:0);--t};d.prototype.tq=function(b){this.first.get(b);var a=r();this.second.get(a);b.T(b.data<a.data?1:0);--t};d.prototype.uq=function(b){this.first.get(b);var a=r();this.second.get(a);b.T(b.data<=a.data?1:0);--t};d.prototype.pq=function(b){this.first.get(b);var a=r();this.second.get(a);b.T(b.data>a.data?1:0);--t};d.prototype.qq=function(b){this.first.get(b);var a=r();this.second.get(a);b.T(b.data>=
a.data?1:0);--t};d.prototype.nq=function(b){var a=this.yd.Yq();fa(a)?b.D(a):b.R(a)};T=d;p.prototype.pe=function(){return this.type===V.Td};p.prototype.za=function(){return this.type===V.Ud||this.type===V.Td};p.prototype.re=function(){return this.type===V.String};p.prototype.Be=function(){this.pe()||(this.re()&&(this.data=parseFloat(this.data)),this.type=V.Td)};p.prototype.T=function(b){this.type=V.Ud;this.data=Math.floor(b)};p.prototype.D=function(b){this.type=V.Td;this.data=b};p.prototype.R=function(b){this.type=
V.String;this.data=b};p.prototype.vn=function(b){fa(b)?(this.type=V.Td,this.data=b):z(b)?(this.type=V.String,this.data=b.toString()):(this.type=V.Ud,this.data=0)};Ob=p;V={Ud:0,Td:1,String:2}})();function X(d){this.b=d;this.hb=[]}
X.prototype.nb=function(){var d={},r,h,p,n,t,b,a,k;d.waits=[];var f=d.waits,e;r=0;for(h=this.hb.length;r<h;r++){b=this.hb[r];e={t:b.time,st:b.Bs,s:b.zn,ev:b.nf.I,sm:[],sols:{}};b.nf.Eb[b.pb]&&(e.act=b.nf.Eb[b.pb].I);p=0;for(n=b.W.length;p<n;p++)e.sm.push(b.W[p].I);for(t in b.fb)if(b.fb.hasOwnProperty(t)){a=this.b.i[parseInt(t,10)];k={sa:b.fb[t].mn,insts:[]};p=0;for(n=b.fb[t].Ed.length;p<n;p++)k.insts.push(b.fb[t].Ed[p].uid);e.sols[a.I.toString()]=k}f.push(e)}return d};
X.prototype.Lb=function(d){d=d.waits;var r,h,p,n,t,b,a,k,f,e,c;P(this.hb);r=0;for(h=d.length;r<h;r++)if(b=d[r],k=this.b.jl[b.ev.toString()]){f=-1;p=0;for(n=k.Eb.length;p<n;p++)if(k.Eb[p].I===b.act){f=p;break}if(-1!==f){a={fb:{},W:[],sl:!1};a.time=b.t;a.Bs=b.st||"";a.zn=!!b.s;a.nf=k;a.pb=f;p=0;for(n=b.sm.length;p<n;p++)(k=this.b.Og(b.sm[p]))&&a.W.push(k);for(t in b.sols)if(b.sols.hasOwnProperty(t)&&(k=this.b.Og(parseInt(t,10)))){f=b.sols[t];e={mn:f.sa,Ed:[]};p=0;for(n=f.insts.length;p<n;p++)(c=this.b.Ol(f.insts[p]))&&
e.Ed.push(c);a.fb[k.index.toString()]=e}this.hb.push(a)}}};
(function(){function d(){}function r(){}function h(){}var p=X.prototype;d.prototype.Gk=function(){return!0};d.prototype.Ko=function(){return!0};d.prototype.jo=function(b,a,d){return Rb(b,a,d)};d.prototype.tk=function(){var b=this.b.Wa();return b.Hi?!1:!b.Hd};d.prototype.Ik=function(){return!0};d.prototype.Bo=function(){return!0};d.prototype.ci=function(){return!0};d.prototype.Nk=function(){return!0};d.prototype.Lo=function(){return!0};d.prototype.bi=function(){return!0};d.prototype.$n=function(b,
a,d){return Ia(S(b),S(d))<=S(a)};d.prototype.to=function(b,a){return Ka(S(b),S(a))};d.prototype.so=function(b,a,d){b=Ea(b);a=Ea(a);d=Ea(d);return Ka(d,a)?Ka(b,a)&&!Ka(b,d):!(!Ka(b,a)&&Ka(b,d))};p.e=new d;r.prototype.ro=function(b){this.b.Ff||this.b.cf||(this.b.cf=b)};r.prototype.$o=function(b,a){0===b.Vn?fa(a)?b.Kh(a):b.Kh(parseFloat(a)):1===b.Vn&&b.Kh(a.toString())};var n=[],t=[];p.J=new r;h.prototype["int"]=function(b,a){z(a)?(b.T(parseInt(a,10)),isNaN(b.data)&&(b.data=0)):b.T(a)};h.prototype["float"]=
function(b,a){z(a)?(b.D(parseFloat(a)),isNaN(b.data)&&(b.data=0)):b.D(a)};h.prototype.random=function(b,a,d){void 0===d?b.D(Math.random()*a):b.D(Math.random()*(d-a)+a)};h.prototype.sqrt=function(b,a){b.D(Math.sqrt(a))};h.prototype.abs=function(b,a){b.D(Math.abs(a))};h.prototype.round=function(b,a){b.T(Math.round(a))};h.prototype.floor=function(b,a){b.T(Math.floor(a))};h.prototype.ceil=function(b,a){b.T(Math.ceil(a))};h.prototype.sin=function(b,a){b.D(Math.sin(S(a)))};h.prototype.cos=function(b,a){b.D(Math.cos(S(a)))};
h.prototype.tan=function(b,a){b.D(Math.tan(S(a)))};h.prototype.asin=function(b,a){b.D(Aa(Math.asin(a)))};h.prototype.acos=function(b,a){b.D(Aa(Math.acos(a)))};h.prototype.atan=function(b,a){b.D(Aa(Math.atan(a)))};h.prototype.exp=function(b,a){b.D(Math.exp(a))};h.prototype.log10=function(b,a){b.D(Math.log(a)/Math.LN10)};h.prototype.max=function(b){var a=arguments[1];"number"!==typeof a&&(a=0);var d,f,e;d=2;for(f=arguments.length;d<f;d++)e=arguments[d],"number"===typeof e&&a<e&&(a=e);b.D(a)};h.prototype.min=
function(b){var a=arguments[1];"number"!==typeof a&&(a=0);var d,f,e;d=2;for(f=arguments.length;d<f;d++)e=arguments[d],"number"===typeof e&&a>e&&(a=e);b.D(a)};h.prototype.ge=function(b){b.D(this.b.ge)};h.prototype.jg=function(b){b.D(this.b.jg)};h.prototype.time=function(b){b.D(this.b.wb.Ra)};h.prototype.ig=function(b){b.T(this.b.ig)};h.prototype.oh=function(b){b.T(this.b.oh)};h.prototype.Pi=function(b){b.T(this.b.Pi)};h.prototype.q=function(b,a,d,f,e){b.D(Aa(Ha(a,d,f,e)))};h.prototype.Pr=function(b){b.R("\n")};
h.prototype.left=function(b,a,d){b.R(z(a)?a.substr(0,d):"")};h.prototype.right=function(b,a,d){b.R(z(a)?a.substr(a.length-d):"")};h.prototype.replace=function(b,a,d,f){z(a)&&z(d)&&z(f)?b.R(a.replace(new RegExp(Wa(d),"gi"),f)):b.R(z(a)?a:"")};h.prototype.trim=function(b,a){b.R(z(a)?a.trim():"")};h.prototype.wp=function(b){var a=H(Math.random()*(arguments.length-1));b.vn(arguments[a+1])};h.prototype.Ci=function(b){b.D(this.b.Ci/1E3)};h.prototype.ze=function(b){b.D(this.b.ze)};p.P=new h;p.ps=function(){var b,
a,d,f,e,c,g=this.b.Wa();b=0;for(d=this.hb.length;b<d;b++){f=this.hb[b];if(-1===f.time){if(!f.zn)continue}else if(f.time>this.b.wb.Ra)continue;g.ab=f.nf;g.pb=f.pb;g.ra=0;for(a in f.fb)f.fb.hasOwnProperty(a)&&(e=this.b.i[parseInt(a,10)].Z(),c=f.fb[a],e.Ca=c.mn,va(e.d,c.Ed),e=c,P(e.Ed),t.push(e));f.nf.ns();this.b.Ai(f.W);f.sl=!0}a=b=0;for(d=this.hb.length;b<d;b++)f=this.hb[b],this.hb[a]=f,f.sl?(Oa(f.fb),P(f.W),n.push(f)):a++;ua(this.hb,a)}})();
(function(){fb=function(d,h){var p=d[1],n=d[3],t=d[4],b=d[5],a=d[6],k=d[7],f=d[8];h.e||(h.e={});h.J||(h.J={});h.P||(h.P={});var e=h.e,c=h.J,g=h.P;n&&(e.ct=function(a,c){return Rb(this.x,a,c)},e.dt=function(a,c){return Rb(this.y,a,c)},e.kt=function(){var a=this.g;this.Sa();var c=this.Ka;return!(c.right<a.da||c.bottom<a.ea||c.left>a.ma||c.top>a.la)},e.lt=function(){this.Sa();var a=this.Ka,c=this.b.Q;return 0>a.right||0>a.bottom||a.left>c.width||a.top>c.height},e.Bt=function(a,c,b){var e=this.Z(),f=
e.Hb();if(!f.length)return!1;var d=f[0],g=d,n=La(d.x,d.y,c,b),k,h,t;k=1;for(h=f.length;k<h;k++)if(d=f[k],t=La(d.x,d.y,c,b),0===a&&t<n||1===a&&t>n)n=t,g=d;e.Wf(g);return!0},c.Ut=function(a){this.x!==a&&(this.x=a,this.Ha())},c.Vt=function(a){this.y!==a&&(this.y=a,this.Ha())},c.Pt=function(a,c){if(this.x!==a||this.y!==c)this.x=a,this.y=c,this.Ha()},c.Qt=function(a,c){var b=a.Uq(this);if(b){var e;b.Ll?(e=b.Ll(c,!0),b=b.Ll(c,!1)):(e=b.x,b=b.y);if(this.x!==e||this.y!==b)this.x=e,this.y=b,this.Ha()}},c.qt=
function(a){0!==a&&(this.x+=Math.cos(this.q)*a,this.y+=Math.sin(this.q)*a,this.Ha())},c.pt=function(a,c){0!==c&&(this.x+=Math.cos(S(a))*c,this.y+=Math.sin(S(a))*c,this.Ha())},g.$t=function(a){a.D(this.x)},g.au=function(a){a.D(this.y)},g.ge=function(a){a.D(this.b.Nq(this))});t&&(e.bt=function(a,c){return Rb(this.width,a,c)},e.Zs=function(a,c){return Rb(this.height,a,c)},c.Tt=function(a){this.width!==a&&(this.width=a,this.Ha())},c.Mt=function(a){this.height!==a&&(this.height=a,this.Ha())},c.Rt=function(a,
c){if(this.width!==a||this.height!==c)this.width=a,this.height=c,this.Ha()},g.Zt=function(a){a.D(this.width)},g.gt=function(a){a.D(this.height)},g.Ws=function(a){this.Sa();a.D(this.Ka.left)},g.Ys=function(a){this.Sa();a.D(this.Ka.top)},g.Xs=function(a){this.Sa();a.D(this.Ka.right)},g.Vs=function(a){this.Sa();a.D(this.Ka.bottom)});b&&(e.$n=function(a,c){return Ia(this.q,S(c))<=S(a)},e.to=function(a){return Ka(this.q,S(a))},e.so=function(a,c){var b=Ea(a),e=Ea(c),f=Ca(this.q);return Ka(e,b)?Ka(f,b)&&
!Ka(f,e):!(!Ka(f,b)&&Ka(f,e))},c.Jt=function(a){a=S(Ba(a));isNaN(a)||this.q===a||(this.q=a,this.Ha())},c.Ft=function(a){0===a||isNaN(a)||(this.q+=S(a),this.q=Ca(this.q),this.Ha())},c.Gt=function(a){0===a||isNaN(a)||(this.q-=S(a),this.q=Ca(this.q),this.Ha())},c.Ht=function(a,c){var b=Ja(this.q,S(c),S(a));isNaN(b)||this.q===b||(this.q=b,this.Ha())},c.It=function(a,c,b){a=Ja(this.q,Math.atan2(b-this.y,c-this.x),S(a));isNaN(a)||this.q===a||(this.q=a,this.Ha())},c.St=function(a,c){var b=Math.atan2(c-this.y,
a-this.x);isNaN(b)||this.q===b||(this.q=b,this.Ha())},g.Us=function(a){a.D(Da(this.q))});p||(e.$s=function(a,c,b){return Rb(this.va[a],c,b)},e.it=function(a){return this.va[a]},e.Ct=function(a,c){var b=this.Z(),e=b.Hb();if(!e.length)return!1;var f=e[0],d=f,g=f.va[c],n,k,h;n=1;for(k=e.length;n<k;n++)if(f=e[n],h=f.va[c],0===a&&h<g||1===a&&h>g)g=h,d=f;b.Wf(d);return!0},e.At=function(a){var c,b,e,f,d;if(this.b.Mq().gj){d=this.Z();if(d.Ca)for(d.Ca=!1,P(d.d),P(d.K),e=this.d,c=0,b=e.length;c<b;c++)f=e[c],
f.uid===a?d.K.push(f):d.d.push(f);else{e=c=0;for(b=d.d.length;c<b;c++)f=d.d[c],d.d[e]=f,f.uid===a?d.K.push(f):e++;ua(d.d,e)}this.Yd();return!!d.d.length}f=this.b.Ol(a);if(!f)return!1;d=this.Z();if(!d.Ca&&-1===d.d.indexOf(f))return!1;if(this.O)for(a=f.type.Y,c=0,b=a.length;c<b;c++){if(a[c]===this)return d.Wf(f),this.Yd(),!0}else if(f.type===this)return d.Wf(f),this.Yd(),!0;return!1},e.Bk=function(){return!0},e.Go=function(){return!0},c.Nt=function(a,c){var b=this.va;fa(b[a])?b[a]=fa(c)?c:parseFloat(c):
z(b[a])&&(b[a]=z(c)?c:c.toString())},c.Ts=function(a,c){var b=this.va;fa(b[a])?b[a]=fa(c)?b[a]+c:b[a]+parseFloat(c):z(b[a])&&(b[a]=z(c)?b[a]+c:b[a]+c.toString())},c.Wt=function(a,c){var b=this.va;fa(b[a])&&(b[a]=fa(c)?b[a]-c:b[a]-parseFloat(c))},c.Yo=function(a,c){this.va[a]=c?1:0},c.Xt=function(a){this.va[a]=1-this.va[a]},c.ft=function(){this.b.Sd(this)},c.yo||(c.yo=function(a){var c,b;try{c=JSON.parse(a)}catch(f){return}this.b.gh(this,c,!0);this.sd&&this.sd();if(this.A)for(a=0,c=this.A.length;a<
c;++a)b=this.A[a],b.sd&&b.sd()}),g.et=function(a){var c=a.Md.d.length,b,f,e;b=0;for(f=this.b.Zb.length;b<f;b++)e=this.b.Zb[b],a.Md.O?0<=e.type.Y.indexOf(a.Md)&&c++:e.type===a.Md&&c++;a.T(c)},g.Et=function(a){a.T(a.Md.Z().Hb().length)},g.Yt=function(a){a.T(this.uid)},g.ht=function(a){a.T(this.tf())},g.ao||(g.ao=function(a){a.R(JSON.stringify(this.b.Yj(this,!0)))}));a&&(e.mt=function(){return this.visible},c.hi=function(a){!a!==!this.visible&&(this.visible=!!a,this.b.ba=!0)},e.at=function(a,c){return Rb(bb(100*
this.opacity),a,c)},c.Ot=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.ba=!0)},g.Opacity=function(a){a.D(bb(100*this.opacity))});k&&(e.jt=function(a){return a?this.g===a:!1},e.Dt=function(a){var c=this.Z(),b=c.Hb();if(!b.length)return!1;var f=b[0],e=f,d,g;d=1;for(g=b.length;d<g;d++)if(f=b[d],0===a){if(f.g.index>e.g.index||f.g.index===e.g.index&&f.ec()>e.ec())e=f}else if(f.g.index<e.g.index||f.g.index===e.g.index&&f.ec()<e.ec())e=f;c.Wf(e);return!0},c.wt=function(){var a=
this.g,c=a.d;c.length&&c[c.length-1]===this||(a.Ie(this,!1),a.Ze(this,!1),this.b.ba=!0)},c.tt=function(){var a=this.g,c=a.d;c.length&&c[0]===this||(a.Ie(this,!1),a.fs(this),this.b.ba=!0)},c.ut=function(a){a&&a!=this.g&&(this.g.Ie(this,!0),this.g=a,a.Ze(this,!0),this.b.ba=!0)},c.cu=function(a,c){var b=0===a;if(c){var f=c.Oq(this);f&&f.uid!==this.uid&&(this.g.index!==f.g.index&&(this.g.Ie(this,!0),this.g=f.g,f.g.Ze(this,!0)),this.g.Or(this,f,b),this.b.ba=!0)}},g.ot=function(a){a.T(this.g.Nm)},g.nt=
function(a){a.R(this.g.name)},g.bu=function(a){a.T(this.ec())});f&&(c.Kt=function(a,c){if(this.b.m){var b=this.type.Ui(c);if(!(0>b)){var f=1===a;this.Nc[b]!==f&&(this.Nc[b]=f,this.Tb(),this.b.ba=!0)}}},c.Lt=function(a,c,b){if(this.b.m){var f=this.type.Ui(a);0>f||(a=this.type.r[f],f=this.ga[f],c=Math.floor(c),0>c||c>=f.length||(1===this.b.m.Xq(a.qa,c)&&(b/=100),f[c]!==b&&(f[c]=b,a.ib&&(this.b.ba=!0))))}})};yb=function(){this.wi=this.ni=!0;this.type.bl=!0;this.b.ba=!0;var d,h,p=this.oi;d=0;for(h=p.length;d<
h;++d)p[d](this);this.g.ob&&this.Sa()};zb=function(d){d&&this.oi.push(d)};Bb=function(){if(this.ni){var d=this.Ka,h=this.pi;d.set(this.x,this.y,this.x+this.width,this.y+this.height);d.offset(-this.Qg*this.width,-this.Rg*this.height);this.q?(d.offset(-this.x,-this.y),h.wn(d,this.q),h.offset(this.x,this.y),h.kl(d)):h.Lh(d);d.normalize();this.ni=!1;this.Os()}};var d=new N(0,0,0,0);Cb=function(){if(this.g.ob){var r=this.g.Ga,h=this.Ka;d.set(r.Ta(h.left),r.Ua(h.top),r.Ta(h.right),r.Ua(h.bottom));this.Ya.mf(d)||
(this.Ya.right<this.Ya.left?r.update(this,null,d):r.update(this,this.Ya,d),this.Ya.ff(d),this.g.Qb=!0)}};Db=function(){if(this.wi&&this.xg){this.Sa();var r=this.type.nl,h=this.Ka;d.set(r.Ta(h.left),r.Ua(h.top),r.Ta(h.right),r.Ua(h.bottom));this.Uc.mf(d)||(this.Uc.right<this.Uc.left?r.update(this,null,d):r.update(this,this.Uc,d),this.Uc.ff(d),this.wi=!1)}};Ab=function(d,h){return this.Ka.Yb(d,h)&&this.pi.Yb(d,h)?this.df&&!this.df.Er()?(this.df.vp(this.width,this.height,this.q),this.df.Yb(d-this.x,
h-this.y)):!0:!1};ub=function(){this.type.Th();return this.Cd};Eb=function(){this.g.nk();return this.Vb};Fb=function(){P(this.G);var d,h,p,n=!0;d=0;for(h=this.Nc.length;d<h;d++)this.Nc[d]&&(p=this.type.r[d],this.G.push(p),p.Nb||(n=!1));this.Tn=!!this.G.length;this.Fc=n};vb=function(){return"Inst"+this.cn};ib=function(d){if(d&&d.ub&&d.type!=this){var h,p,n;h=0;for(p=d.siblings.length;h<p;h++)if(n=d.siblings[h],n.type==this)return n}d=this.Z().Hb();return d.length?d[0]:null};jb=function(d){var h=this.Z().Hb();
return h.length?h[d.tf()%h.length]:null};hb=function(){if(this.Me&&!this.O){var d,h;d=0;for(h=this.d.length;d<h;d++)this.d[d].Cd=d;var p=d,n=this.b.Zb;d=0;for(h=n.length;d<h;++d)n[d].type===this&&(n[d].Cd=p++);this.Me=!1}};sb=function(d){if(d<this.d.length)return this.d[d];d-=this.d.length;var h=this.b.Zb,p,n;p=0;for(n=h.length;p<n;++p)if(h[p].type===this){if(0===d)return h[p];--d}return null};kb=function(){return this.Hc[this.$b]};lb=function(){this.$b++;this.$b===this.Hc.length?this.Hc.push(new gb(this)):
(this.Hc[this.$b].Ca=!0,P(this.Hc[this.$b].K))};mb=function(){this.$b++;this.$b===this.Hc.length&&this.Hc.push(new gb(this));var d=this.Hc[this.$b],h=this.Hc[this.$b-1];h.Ca?(d.Ca=!0,P(d.K)):(d.Ca=!1,va(d.d,h.d),va(d.K,h.K))};nb=function(){this.$b--};ob=function(d){var h,p,n,t,b,a=0;if(!this.O)for(h=0,p=this.Y.length;h<p;h++)for(b=this.Y[h],n=0,t=b.fa.length;n<t;n++){if(d===b.fa[n].name)return this.V.lastBehIndex=a,b.fa[n];a++}h=0;for(p=this.fa.length;h<p;h++){if(d===this.fa[h].name)return this.V.lastBehIndex=
a,this.fa[h];a++}return null};pb=function(d){return this.Mg(d)?this.V.lastBehIndex:-1};qb=function(d){var h,p;h=0;for(p=this.r.length;h<p;h++)if(this.r[h].name===d)return h;return-1};rb=function(){if(this.ub&&!this.O){var d,h,p,n,t,b,a;this.Th();b=this.Z();var k=b.Ca,f=(d=this.b.Wa())&&d.ab&&d.ab.hc;d=0;for(h=this.$a.length;d<h;d++)if(t=this.$a[d],t!==this&&(t.Th(),a=t.Z(),a.Ca=k,!k)){P(a.d);p=0;for(n=b.d.length;p<n;++p)a.d[p]=t.Vi(b.d[p].Cd);if(f)for(P(a.K),p=0,n=b.K.length;p<n;++p)a.K[p]=t.Vi(b.K[p].Cd)}}};
tb=function(){return"Type"+this.I};Rb=function(d,h,p){if("undefined"===typeof d||"undefined"===typeof p)return!1;switch(h){case 0:return d===p;case 1:return d!==p;case 2:return d<p;case 3:return d<=p;case 4:return d>p;case 5:return d>=p;default:return!1}}})();var $b={};function Y(d){this.b=d}
(function(){function d(){}var r=Y.prototype;r.na=function(d){this.f=d;this.b=d.b};r.na.prototype.M=function(){};r.X=function(d){this.type=d;this.b=d.b};r.X.prototype.M=function(){var d=this;window.addEventListener("resize",function(){d.b.trigger(Y.prototype.e.Qo,d)});"undefined"!==typeof navigator.onLine&&(window.addEventListener("online",function(){d.b.trigger(Y.prototype.e.No,d)}),window.addEventListener("offline",function(){d.b.trigger(Y.prototype.e.Mo,d)}));"undefined"!==typeof window.applicationCache&&
(window.applicationCache.addEventListener("updateready",function(){d.b.ze=1;d.b.trigger(Y.prototype.e.Ok,d)}),window.applicationCache.addEventListener("progress",function(p){d.b.ze=p.loaded/p.total||0}));this.b.Zc||(document.addEventListener("appMobi.device.update.available",function(){d.b.trigger(Y.prototype.e.Ok,d)}),document.addEventListener("backbutton",function(){d.b.trigger(Y.prototype.e.tg,d)}),document.addEventListener("menubutton",function(){d.b.trigger(Y.prototype.e.Jk,d)}),document.addEventListener("searchbutton",
function(){d.b.trigger(Y.prototype.e.Ro,d)}),document.addEventListener("tizenhwkey",function(p){var n;switch(p.keyName){case "back":n=d.b.trigger(Y.prototype.e.tg,d);!n&&window.tizen&&window.tizen.application.getCurrentApplication().exit();break;case "menu":(n=d.b.trigger(Y.prototype.e.Jk,d))||p.preventDefault()}}));this.b.pj&&"undefined"!==typeof Windows?Windows.UI.Core.SystemNavigationManager.getForCurrentView().addEventListener("backrequested",function(p){d.b.trigger(Y.prototype.e.tg,d)&&(p.iu=
!0)}):this.b.oj&&WinJS.Application&&(WinJS.Application.onbackclick=function(){return!!d.b.trigger(Y.prototype.e.tg,d)});this.b.ip(function(p){p?d.b.trigger(Y.prototype.e.Oo,d):d.b.trigger(Y.prototype.e.Po,d)})};d.prototype.No=function(){return!0};d.prototype.Mo=function(){return!0};d.prototype.Ok=function(){return!0};d.prototype.Po=function(){return!0};d.prototype.Oo=function(){return!0};d.prototype.Qo=function(){return!0};d.prototype.tg=function(){return!0};d.prototype.Jk=function(){return!0};d.prototype.Ro=
function(){return!0};r.e=new d;r.J=new function(){};r.P=new function(){}})();function cc(d){this.b=d}
(function(){function d(){}function r(){}var h=cc.prototype;h.na=function(d){this.f=d;this.b=d.b};h.na.prototype.M=function(){};h.X=function(d){this.type=d;this.b=d.b};var p=h.X.prototype;p.M=function(){this.b.F?w("[Construct 2] Button plugin not supported on this platform - the object will not be created"):(this.le=1===this.k[0],this.tb=document.createElement("input"),this.c=this.le?document.createElement("label"):this.tb,this.If=null,this.tb.type=this.le?"checkbox":"button",this.tb.id=this.k[6],
jQuery(this.c).appendTo(this.b.Sc?this.b.Sc:"body"),this.le?(jQuery(this.tb).appendTo(this.c),this.If=document.createTextNode(this.k[1]),jQuery(this.c).append(this.If),this.tb.checked=0!==this.k[7],jQuery(this.c).css("font-family","sans-serif"),jQuery(this.c).css("display","inline-block"),jQuery(this.c).css("color","black")):this.tb.value=this.k[1],this.c.title=this.k[2],this.tb.disabled=0===this.k[4],this.bf=0!==this.k[5],this.Va=!1,0===this.k[3]&&(jQuery(this.c).hide(),this.visible=!1,this.Va=!0),
this.tb.onclick=function(d){return function(h){h.stopPropagation();d.b.cb=!0;d.b.trigger(cc.prototype.e.Wd,d);d.b.cb=!1}}(this),this.c.addEventListener("touchstart",function(d){d.stopPropagation()},!1),this.c.addEventListener("touchmove",function(d){d.stopPropagation()},!1),this.c.addEventListener("touchend",function(d){d.stopPropagation()},!1),jQuery(this.c).mousedown(function(d){d.stopPropagation()}),jQuery(this.c).mouseup(function(d){d.stopPropagation()}),jQuery(this.c).keydown(function(d){d.stopPropagation()}),
jQuery(this.c).keyup(function(d){d.stopPropagation()}),this.fd=this.gd=this.bd=this.dd=this.ed=this.cd=0,this.rd(!0),this.b.ek(this))};p.nb=function(){var d={tooltip:this.c.title,disabled:!!this.tb.disabled};this.le?(d.checked=!!this.tb.checked,d.text=this.If.nodeValue):d.text=this.c.value;return d};p.Lb=function(d){this.c.title=d.tooltip;this.tb.disabled=d.disabled;this.le?(this.tb.checked=d.checked,this.If.nodeValue=d.text):this.c.value=d.text};p.Dc=function(){this.b.F||(jQuery(this.c).remove(),
this.c=null)};p.pd=function(){this.rd()};p.rd=function(d){if(!this.b.F){var h=this.g.aa(this.x,this.y,!0),b=this.g.aa(this.x,this.y,!1),a=this.g.aa(this.x+this.width,this.y+this.height,!0),k=this.g.aa(this.x+this.width,this.y+this.height,!1),f=this.b.width/this.b.devicePixelRatio,e=this.b.height/this.b.devicePixelRatio;!this.visible||!this.g.visible||0>=a||0>=k||h>=f||b>=e?(this.Va||jQuery(this.c).hide(),this.Va=!0):(1>h&&(h=1),1>b&&(b=1),a>=f&&(a=f-1),k>=e&&(k=e-1),f=window.innerWidth,e=window.innerHeight,
d||this.cd!==h||this.ed!==b||this.dd!==a||this.bd!==k||this.gd!==f||this.fd!==e?(this.cd=h,this.ed=b,this.dd=a,this.bd=k,this.gd=f,this.fd=e,this.Va&&(jQuery(this.c).show(),this.Va=!1),d=Math.round(h)+jQuery(this.b.canvas).offset().left,f=Math.round(b)+jQuery(this.b.canvas).offset().top,jQuery(this.c).css("position","absolute"),jQuery(this.c).offset({left:d,top:f}),jQuery(this.c).width(Math.round(a-h)),jQuery(this.c).height(Math.round(k-b)),this.bf&&jQuery(this.c).css("font-size",this.g.Xa(!0)/this.b.devicePixelRatio-
.2+"em")):this.Va&&(jQuery(this.c).show(),this.Va=!1))}};p.tc=function(){};p.rb=function(){};d.prototype.Wd=function(){return!0};h.e=new d;r.prototype.fi=function(d){this.b.F||(this.le?this.If.nodeValue=d:this.c.value=d)};r.prototype.hi=function(d){this.b.F||(this.visible=0!==d)};h.J=new r;h.P=new function(){}})();function bc(d){this.b=d}
(function(){function d(){this.name="";this.ag=0;this.Ge=[]}function r(){a++;a===b.length&&b.push(new d);return b[a]}function h(){}function p(){}function n(){}var t=bc.prototype;t.na=function(a){this.f=a;this.b=a.b};t.na.prototype.M=function(){};t.X=function(a){this.type=a;this.b=a.b};var b=[],a=-1;t.X.prototype.M=function(){var b=this;window.c2_callFunction=function(f,e){var c,d,l,n=r();n.name=f.toLowerCase();n.ag=0;if(e)for(n.Ge.length=e.length,c=0,d=e.length;c<d;++c)l=e[c],n.Ge[c]="number"===typeof l||
"string"===typeof l?l:"boolean"===typeof l?l?1:0:0;else P(n.Ge);b.b.trigger(bc.prototype.e.ug,b,n.name);a--;return n.ag}};h.prototype.ug=function(d){var f=0>a?null:b[a];return f?cb(d,f.name):!1};t.e=new h;p.prototype.CallFunction=function(b,f){var e=r();e.name=b.toLowerCase();e.ag=0;va(e.Ge,f);this.b.trigger(bc.prototype.e.ug,this,e.name);a--};t.J=new p;n.prototype.bo=function(b,f){var e=r();e.name=f.toLowerCase();e.ag=0;P(e.Ge);var c,d;c=2;for(d=arguments.length;c<d;c++)e.Ge.push(arguments[c]);this.b.trigger(bc.prototype.e.ug,
this,e.name);a--;b.vn(e.ag)};t.P=new n})();function dc(d){this.b=d}
(function(){function d(){}var r=dc.prototype;r.na=function(d){this.f=d;this.b=d.b};r.na.prototype.M=function(){};r.X=function(d){this.type=d;this.b=d.b;this.Hf=Array(256);this.lg=Array(256);this.Jc=0};var h=r.X.prototype;h.M=function(){var d=this;this.b.F||(jQuery(document).keydown(function(h){d.Tr(h)}),jQuery(document).keyup(function(h){d.Ur(h)}))};var p=[32,33,34,35,36,37,38,39,40,44];h.Tr=function(d){var h=!1;window!=window.top&&-1<p.indexOf(d.which)&&(d.preventDefault(),h=!0,d.stopPropagation());
if(this.Hf[d.which])this.lg[d.which]&&!h&&d.preventDefault();else{this.Hf[d.which]=!0;this.Jc=d.which;this.b.cb=!0;this.b.trigger(dc.prototype.e.Ao,this);var b=this.b.trigger(dc.prototype.e.Ck,this),a=this.b.trigger(dc.prototype.e.Jo,this);this.b.cb=!1;if(b||a)this.lg[d.which]=!0,h||d.preventDefault()}};h.Ur=function(d){this.Hf[d.which]=!1;this.Jc=d.which;this.b.cb=!0;this.b.trigger(dc.prototype.e.yk,this);var h=this.b.trigger(dc.prototype.e.Ek,this),b=this.b.trigger(dc.prototype.e.Dk,this);this.b.cb=
!1;if(h||b||this.lg[d.which])this.lg[d.which]=!0,d.preventDefault()};h.De=function(){var d;for(d=0;256>d;++d)if(this.Hf[d]){this.Hf[d]=!1;this.Jc=d;this.b.trigger(dc.prototype.e.yk,this);var h=this.b.trigger(dc.prototype.e.Ek,this),b=this.b.trigger(dc.prototype.e.Dk,this);if(h||b)this.lg[d]=!0}};h.nb=function(){return{triggerKey:this.Jc}};h.Lb=function(d){this.Jc=d.triggerKey};d.prototype.Ck=function(d){return d===this.Jc};d.prototype.Ao=function(){return!0};d.prototype.yk=function(){return!0};d.prototype.Ek=
function(d){return d===this.Jc};d.prototype.Jo=function(d){return d===this.Jc};d.prototype.Dk=function(d){return d===this.Jc};r.e=new d;r.J=new function(){};r.P=new function(){}})();function ec(d){this.b=d}
(function(){function d(){}function r(){}var h=ec.prototype;h.na=function(d){this.f=d;this.b=d.b};h.na.prototype.M=function(){};h.X=function(d){this.type=d;this.b=d.b};var p=h.X.prototype;p.M=function(){if(this.b.F)w("[Construct 2] List plugin not supported on this platform - the object will not be created");else{this.c=document.createElement("select");this.c.id=this.k[7];jQuery(this.c).appendTo(this.b.Sc?this.b.Sc:"body");this.c.title=this.k[1];this.c.disabled=0===this.k[3];0===this.k[4]&&(this.c.size=
2);this.c.multiple=0!==this.k[5];this.bf=0!==this.k[6];0===this.k[2]&&(jQuery(this.c).hide(),this.visible=!1);if(this.k[0]){var d=this.k[0].split(";"),h,b,a;h=0;for(b=d.length;h<b;h++)a=document.createElement("option"),a.text=d[h],this.c.add(a)}var k=this;this.c.onchange=function(){k.b.trigger(ec.prototype.e.So,k)};this.c.onclick=function(a){a.stopPropagation();k.b.cb=!0;k.b.trigger(ec.prototype.e.Wd,k);k.b.cb=!1};this.c.ondblclick=function(a){a.stopPropagation();k.b.cb=!0;k.b.trigger(ec.prototype.e.Zh,
k);k.b.cb=!1};this.c.addEventListener("touchstart",function(a){a.stopPropagation()},!1);this.c.addEventListener("touchmove",function(a){a.stopPropagation()},!1);this.c.addEventListener("touchend",function(a){a.stopPropagation()},!1);jQuery(this.c).mousedown(function(a){a.stopPropagation()});jQuery(this.c).mouseup(function(a){a.stopPropagation()});this.fd=this.gd=this.bd=this.dd=this.ed=this.cd=0;this.ne=!0;this.rd(!0);this.b.ek(this)}};p.nb=function(){var d={tooltip:this.c.title,disabled:!!this.c.disabled,
items:[],sel:[]},h,b,a=d.items;h=0;for(b=this.c.length;h<b;h++)a.push(this.c.options[h].text);a=d.sel;if(this.c.multiple)for(h=0,b=this.c.length;h<b;h++)this.c.options[h].selected&&a.push(h);else a.push(this.c.selectedIndex);return d};p.Lb=function(d){this.c.title=d.tooltip;this.c.disabled=d.disabled;for(var h=d.items;this.c.length;)this.c.remove(this.c.length-1);var b,a,k;b=0;for(a=h.length;b<a;b++)k=document.createElement("option"),k.text=h[b],this.c.add(k);d=d.sel;if(this.c.multiple)for(b=0,a=
d.length;b<a;b++)d[b]<this.c.length&&(this.c.options[d[b]].selected=!0);else 1<=d.length&&(this.c.selectedIndex=d[0])};p.Dc=function(){this.b.F||(jQuery(this.c).remove(),this.c=null)};p.pd=function(){this.rd()};p.rd=function(d){if(!this.b.F){var h=this.g.aa(this.x,this.y,!0),b=this.g.aa(this.x,this.y,!1),a=this.g.aa(this.x+this.width,this.y+this.height,!0),k=this.g.aa(this.x+this.width,this.y+this.height,!1),f=this.b.width/this.b.devicePixelRatio,e=this.b.height/this.b.devicePixelRatio;!this.visible||
!this.g.visible||0>=a||0>=k||h>=f||b>=e?(this.ne&&jQuery(this.c).hide(),this.ne=!1):(1>h&&(h=1),1>b&&(b=1),a>=f&&(a=f-1),k>=e&&(k=e-1),f=window.innerWidth,e=window.innerHeight,d||this.cd!==h||this.ed!==b||this.dd!==a||this.bd!==k||this.gd!==f||this.fd!==e?(this.cd=h,this.ed=b,this.dd=a,this.bd=k,this.gd=f,this.fd=e,this.ne||(jQuery(this.c).show(),this.ne=!0),d=Math.round(h)+jQuery(this.b.canvas).offset().left,f=Math.round(b)+jQuery(this.b.canvas).offset().top,jQuery(this.c).css("position","absolute"),
jQuery(this.c).offset({left:d,top:f}),jQuery(this.c).width(Math.round(a-h)),jQuery(this.c).height(Math.round(k-b)),this.bf&&jQuery(this.c).css("font-size",this.g.Xa(!0)/this.b.devicePixelRatio-.2+"em")):this.ne||(jQuery(this.c).show(),this.ne=!0))}};p.tc=function(){};p.rb=function(){};d.prototype.So=function(){return!0};d.prototype.Wd=function(){return!0};d.prototype.Zh=function(){return!0};h.e=new d;r.prototype.hi=function(d){this.b.F||(this.visible=0!==d)};r.prototype.Zn=function(d){if(!this.b.F){var h=
document.createElement("option");h.text=d;this.c.add(h)}};r.prototype.di=function(d){this.b.F||(d=Math.floor(d),this.c.remove(d))};r.prototype.fo=function(){this.b.F||(this.c.innerHTML="")};h.J=new r;h.P=new function(){}})();function fc(d){this.b=d}
(function(){function d(a,b){if(null!==b&&""!==b)return function(c){a.ph=b;a.Tm=c;a.b.trigger(c?fc.prototype.e.Io:fc.prototype.e.Co,a);a.ph=null;a.Tm=null}}function r(a){return h()?a.root:a.root()}function h(){return!0===window.FirebaseV3x}function p(){}function n(){}function t(){}var b=fc.prototype;b.na=function(a){this.f=a;this.b=a.b};b.na.prototype.M=function(){};b.X=function(a){this.type=a;this.b=a.b};var a=b.X.prototype,k=["value","child_added","child_changed","child_removed","child_moved"];a.M=
function(){this.Ec=this.k[0]+"/";this.Tm=this.ph=null;this.jc?this.ti.Wo():this.ti=new window.Bg;this.$m=this.Bn=this.$f=null;this.yl="";this.Gq=0;this.$l=!1;var a=this;setTimeout(function(){1===a.k[1]&&a.xp();1===a.k[2]&&a.ws()},0)};a.Dc=function(){this.ti.di()};a.ua=function(a){null==a&&(a="");var b;"https://"===a.substring(0,8)?b=a:b=this.Ec+a+"/";return h()?(a="https://"===b.substring(0,8)?"refFromURL":"ref",window.Firebase.database()[a](b)):new window.Firebase(b)};a.Xb=function(a,b,c){var d=
this;this.ti.Yn(a,k[b],c,function(a,b){d.$f=c;d.Bn=a;d.$m=b;d.b.trigger(fc.prototype.e.Lk,d);d.$f=null})};a.Bg=function(a,b,c){var d=this;a.once(k[b],function(a,b){d.$f=c;d.Bn=a;d.$m=b;d.b.trigger(fc.prototype.e.Lk,d);d.$f=null})};a.xp=function(){var a=this,b=r(this.ua())+"/.info/connected";this.ua(b).on("value",function(c){var b;c=c.val();!0===c?b=fc.prototype.e.Do:a.$l&&!c&&(b=fc.prototype.e.Ho);a.$l=c;a.b.trigger(b,a)})};a.ws=function(){var a=this,b=r(this.ua())+"/.info/serverTimeOffset";this.ua(b).on("value",
function(c){a.Gq=c.val()||0})};b.e=new p;p.prototype.Lk=function(a){return cb(a,this.$f)};p.prototype.Co=function(a){return cb(a,this.ph)};p.prototype.Io=function(a){return cb(a,this.ph)};p.prototype.Do=function(){return!0};p.prototype.Ho=function(){return!0};b.J=new n;n.prototype.Sk=function(a){this.Ec=a+"/"};n.prototype.di=function(a,b){var c=d(this,b);this.ua(a).remove(c)};b.P=new t;t.prototype.no=function(a){var b=this.ua().push();this.yl=h()?b.key:b.key();a.R(this.yl)}})();window.Firebase=window.firebase;
window.FirebaseV3x=!0;function gc(d){this.b=d}
(function(){function d(){return!0===window.FirebaseV3x}var r=gc.prototype;r.na=function(d){this.f=d;this.b=d.b};r.na.prototype.M=function(){};r.X=function(d){this.type=d;this.b=d.b};var h=r.X.prototype;h.M=function(){var d=window.Firebase;d.initializeApp({apiKey:this.k[0],authDomain:this.k[1],databaseURL:this.k[2],storageBucket:this.k[3]});d.database.enableLogging(1===this.k[4])};h.Dc=function(){};h.ua=function(h){null==h&&(h="");var t;"https://"===h.substring(0,8)?t=h:t=this.Ec+h+"/";return d()?
(h="https://"===t.substring(0,8)?"refFromURL":"ref",window.Firebase.database()[h](t)):new window.Firebase(t)};r.e=new function(){};r.J=new function(){};r.P=new function(){};if(null==window.Xb){r=function(){this.kg=1;this.Zg="__itemID__";this.qh=this.vh=this.th=this.uh=this.sh=this.Cn=null;this.V={};this.Pb=null;this.items=[];this.se={};this.tj=this.wg=this.Sj=this.ki=null};h=r.prototype;h.zo=0;h.sk=1;h.rk=2;h.Xb=function(){return this.items};h.po=function(d){return this.se[d]};h.oo=function(d){d=
this.po(d);return null==d?null:this.items[d]};h.We=function(){this.items.length=0;p(this.se)};h.Db=function(d){this.Ja();this.We();this.kg===this.zo?this.Jr(d):this.kg===this.sk?this.qp(d):this.kg===this.rk&&this.op(d)};h.Ja=function(){this.kg===this.sk?this.rp():this.kg===this.rk&&this.pp()};h.uk=function(d,h,b){if(null==h||0>h)h=0;if(null==b||b>this.items.length-1)b=this.items.length-1;for(var a=d.Wa(),k=a.ab,a=a.Br();h<=b;h++)a&&d.Ah(k.W),this.qh&&this.qh(this.items[h],h),k.os(),a&&d.Nd(k.W)};
h.vg=function(h,t,b){if(this.Cn)h=this.Cn(h);else{var a=d()?h.key:h.key();h=h.val();h[this.Zg]=a}if(!0===b)this.items.push(h);else return null==t?this.items.unshift(h):(t=this.se[t],t==this.items.length-1?this.items.push(h):this.items.splice(t+1,0,h)),h};h.jn=function(h){h=d()?h.key:h.key();h=this.se[h];var t=this.items[h];sa(this.items,h);return t};h.Se=function(){p(this.se);var d,h=this.items.length;for(d=0;d<h;d++)this.se[this.items[d][this.Zg]]=d};h.Jr=function(d){function h(a){b.vg(a,null,!0)}
var b=this;d.once("value",function(a){a.forEach(h);b.Se();b.vh&&b.vh(b.items)})};h.qp=function(d){function h(a,b){var c=k.jn(a);k.Se();k.vg(a,b);k.Se();k.th&&k.th(c)}function b(a){a=k.jn(a);k.Se();k.uh&&k.uh(a)}function a(a,b){var c=k.vg(a,b);k.Se();k.sh&&k.sh(c)}var k=this;this.Pb=d;this.ki=a;this.Sj=b;this.wg=h;d.on("child_added",a);d.on("child_removed",b);d.on("child_moved",h);d.on("child_changed",h)};h.rp=function(){this.Pb&&(this.Pb.off("child_added",this.ki),this.Pb.off("child_removed",this.Sj),
this.Pb.off("child_moved",this.wg),this.Pb.off("child_changed",this.wg),this.Pb=this.wg=this.Sj=this.ki=null)};h.op=function(d){function h(d){a.We();d.forEach(b);a.Se();a.vh&&a.vh(a.items)}function b(b){a.vg(b,null,!0)}var a=this;this.Pb=d;this.tj=h;d.on("value",h)};h.pp=function(){this.Pb&&(this.Pb.off("value",this.tj),this.Pb=this.tj=null)};var p=function(d){for(var h in d)delete d[h]};window.Xb=r;null==window.Bg&&(r=function(){this.map={}},h=r.prototype,h.Wo=function(){for(var d in this.map)delete this.map[d]},
h.ua=function(d){return new window.Firebase(d)},h.$q=function(d,h,b){return this.wk(d,h,b)?this.map[d][h][b]:null},h.wk=function(d,h,b){if(!this.map.hasOwnProperty(d))return!1;if(!h)return!0;d=this.map[d];return d.hasOwnProperty(h)?b?d[h].hasOwnProperty(b)?!0:!1:!0:!1},h.Yn=function(d,h,b,a){var k=d.toString();this.wk(k,h,b)||(this.map.hasOwnProperty(k)||(this.map[k]={}),k=this.map[k],k.hasOwnProperty(h)||(k[h]={}),k[h][b]=a,d.on(h,a))},h.di=function(d,h,b){null!=d&&"object"==typeof d&&(d=d.toString());
if(d&&h&&b){var a=this.$q(d,h,b);null!=a&&(get_ref(d).off(h,a),delete this.map[d][h][b])}else if(d&&h&&!b)(b=this.map[d])&&b[h]&&(get_ref(d).off(h),delete this.map[d][h]);else if(d&&!h&&!b){if(b=this.map[d])get_ref(d).off(),delete this.map[d]}else if(!d&&!h&&!b)for(a in this.map)get_ref(a).off(),delete this.map[a]},h.Bg=function(d){if(d){var h=this.map[d],b;for(b in h){var a=h[b],k;for(k in a)get_ref(d).off(b,a[k])}delete this.map[d]}else if(!d)for(var f in this.map){h=this.map[f];for(b in h)for(k in a=
h[b],a)get_ref(f).off(b,a[k]);delete this.map[f]}},h.Gi=function(d){var h,b,a,k,f;for(h in this.map)for(a in b=this.map[h],b)for(f in k=b[a],k)k=f+":"+a+"-"+h,d.push({name:k,value:""})},h.Xb=function(){return this.map},window.Bg=r)}})();function Z(d){this.b=d}
(function(){function d(a){this.rh=null;this.f=a.f;this.Dj=a;this.U=new window.Xb;this.mg={};this.H=a;this.ca="";this.eh=0;this.cm=!1;this.U.Zg="joinAt"}function r(a){this.f=a;this.Dj=a.H;this.mc=new window.Xb;this.mc.Zg="roomID"}function h(a){this.f=a;this.wl=!0;this.Bj=this.Wg=!1;this.Uj=this.md=this.ca=this.userName=this.gb="";this.Cj=0;this.Eg=this.Im=null;this.fm=this.jj=!1;this.te="";this.mh=[];this.U=new d(this)}function p(a){a=a.split("|");return[a[0],a[1]]}function n(a){return!0===window.FirebaseV3x?
a.key:a.key()}function t(){}function b(){}function a(){}var k=Z.prototype;k.na=function(a){this.f=a;this.b=a.b};k.na.prototype.M=function(){};k.X=function(a){this.type=a;this.b=a.b};var f=k.X.prototype,e=["closed","open"];f.M=function(){this.Ec=this.k[0]+"/"+this.k[1]+"/";this.Vd=!1;this.Ls=this.Mn=this.Kn=this.Ln="";this.Ki=this.xl=null;this.Gg=0;this.H=new h(this);this.H.wl=1===this.k[2];this.Dh=new r(this);this.U=this.H.U};f.ua=function(a){null==a&&(a="");var b;"https://"===a.substring(0,8)?b=
a:b=this.Ec+a+"/";return!0===window.FirebaseV3x?(a="https://"===b.substring(0,8)?"refFromURL":"ref",window.Firebase.database()[a](b)):new window.Firebase(b)};f.uf=function(a){var b=this.ua("rooms");a&&(b=b.child(a));return b};f.Ad=function(a,b){var d=this.uf(a).child("users");null!=b&&(d=d.child(b));return d};f.kr=function(a){return this.uf(a).child("alive")};f.Yi=function(a){var b=this.ua("room-filter");null!=a&&(b=b.child(a));return b};f.ke=function(a){var b=this.ua("room-metadata");null!=a&&(b=
b.child(a));return b};f.lr=function(a){return this.ua("user-metadata").child(a)};f.nc=function(a,b,d){var e=this;setTimeout(function(){e.Ln=b;e.Kn=d;e.b.trigger(a,e)},0)};f.Gh=function(a,b,d){var e=this;setTimeout(function(){e.Mn=b;e.Ls=d;e.b.trigger(a,e)},0)};k.e=new t;t.prototype.Eo=function(){return!0};t.prototype.Fo=function(){return!0};t.prototype.$h=function(){return!0};t.prototype.ai=function(){return!0};t.prototype.Hk=function(){return!0};t.prototype.Fk=function(){return!0};t.prototype.Kk=
function(){return!0};t.prototype.Ak=function(){return!0};t.prototype.Wb=function(){return this.H.Wb()};t.prototype.Uo=function(){return!0};t.prototype.vk=function(a,b){return this.Dh.vk(a,b)};t.prototype.Pk=function(){return!0};t.prototype.Yh=function(a,b){return this.U.Yh(a,b)};t.prototype.Qk=function(){return!0};t.prototype.Vo=function(){return!0};t.prototype.rg=function(){return this.U.rg()};t.prototype.zk=function(){return!0};k.J=new b;b.prototype.gi=function(a,b){""==a?console.error("rex_firebase_rooms: UserID should not be empty string."):
this.H.Zo(a,b)};b.prototype.lo=function(a,b,d,f,h,k,m){function n(){p.Vd=!1}this.Vd=!0;var p=this;h=e[h];if(m=1===m){var t=function(a){""!==k&&a&&p.H.Xk(k,n)},r=function(e){e?n():setTimeout(function(){p.H.ii(a,b,d,f,h,k,m,t)},10)};this.H.Wb()?this.H.sg(r):this.H.ii(a,b,d,f,h,k,m,t)}else this.H.ii(a,b,d,f,h,k,m,n)};b.prototype.Wk=function(a){a=e[a];this.H.Wk(a)};b.prototype.sg=function(){this.Vd=!0;var a=this;this.H.sg(function(){a.Vd=!1})};b.prototype.xk=function(a){this.H.xk(a)};b.prototype.ji=function(a){this.Dh.ji(a)};
b.prototype.Vk=function(){this.Dh.Vk()};b.prototype.Rk=function(){this.H.Rk()};b.prototype.vo=function(a,b){function d(){if(0>b)h(!0);else{--b;var f=n.Dh.mc.items,l=Math.floor(Math.random()*f.length);k=(f=f[l])?f.roomID:"";0===a?e():n.H.sg(e)}}function e(a){a||""===k?h(!0):setTimeout(function(){n.H.Xk(k,f,!0)},10)}function f(a){a?d():h()}function h(a){n.Vd=!1;a?n.nc(Z.prototype.e.ai,"",""):n.nc(Z.prototype.e.$h,n.H.md,n.H.ca)}var k="";this.Vd=!0;var n=this;d()};k.P=new a;a.prototype.gp=function(a){a.R(this.H.userName)};
a.prototype.fp=function(a){a.R(this.H.gb)};a.prototype.cp=function(a){a.R(this.Ln)};a.prototype.bp=function(a){a.R(this.Kn)};a.prototype.mo=function(a){var b=this.Ki;a.R(b?b.name:"")};a.prototype.dp=function(a){a.R(this.Mn)};a.prototype.co=function(a,b,d){null==d&&(d=this.H.ca);d=this.Ec+"/rooms/"+d+"/";null!=b&&(d+="channel-"+b+"/");a.R(d)};k=h.prototype;k.Zo=function(a,b){this.gb=a;this.userName=b};k.Wb=function(){return""!==this.ca};k.ii=function(a,b,d,e,f,h,k,p){if(this.Wb())p&&p(!0);else{var t=
this,r=function(e,f){e?U():(k&&(t.ca=h,t.md=a,t.Uj=b,t.Cj=d),t.f.nc(Z.prototype.e.Eo,a,h),t.Gj(h,f,p,void 0),p&&p())},U=function(){t.f.nc(Z.prototype.e.Fo,a,h);p&&p(!0)};""==h?(h=n(this.f.uf().push()),this.pl(a,b,d,e,f,h,k,r)):(t=this,this.f.kr(h).transaction(function(a){if(null===a)return!0},function(n,p){n||!p?U():t.pl(a,b,d,e,f,h,k,r)}))}};k.Wk=function(a){this.Wb()&&this.Tk(a)};k.Cr=function(a){return null==a||"closed"===a.filter.split("|")[0]?!1:a.moderators.hasOwnProperty(this.gb)?!0:"black-list"===
a.permission?(a=a["black-list"])&&a.hasOwnProperty(this.gb)?!1:!0:!0};k.Xk=function(a,b,d){if(this.Wb())b&&b(!0);else{var e=this,f=function(){d||e.f.nc(Z.prototype.e.ai,"",a);b&&b(!0)},h=function(h){function k(m){var n=!1;m.forEach(function(a){if(n=a.val().ID===e.gb)return!0});n?e.Gj(a,h,b,d):e.hn(a,f)}setTimeout(function(){e.f.Ad(a).limitToFirst(h.maxPeers).once("value",k)},0)},k=function(k){e.$k(a,function(m){m?f():k.maxPeers?h(k):e.Gj(a,k,b,d)})};(function(){e.f.ke(a).once("value",function(a){a=
a.val();e.Cr(a)?k(a):f()})})();this.Zr="JOIN"}};k.xk=function(a,b){var d=this.U.qo(a);null==d?b&&b(!0):this.f.Ad(this.ca,d.joinAt).remove(b)};k.sg=function(a){if(this.Wb()){this.Bj=!0;var b=this,d=function(d){b.Zr=null;d||(b.Wg=!1,b.fm=!1);a&&a(d)};this.Wg?this.ks(this.ca,d):this.hn(this.ca,d)}else a&&a(!0)};k.Xb=function(a,b,d){if(this.Wb()){var e={};e.permission=a;""!==b&&(e[a+"/"+b]=d);this.f.ke(this.ca).update(e)}};k.Rk=function(){if(this.Wb()){var a=this;this.f.ke(this.ca).once("value",function(b){a.Im=
b.val()})}};k.$k=function(a,b){var d=this.f.Ad(a).push();d.onDisconnect().remove();this.te=n(d);var e={ID:this.gb,name:this.userName};b&&d.set(e,b);d={};d[this.te]=e;return d};k.hn=function(a,b){null==a&&(a=this.ca);var d=this.f.Ad(a,this.te);d.remove(function(a){a||d.onDisconnect().cancel();b&&b(a)})};k.Nr=function(){function a(c){null==c.val()&&b.Vr()}var b=this,d=this.f.Ad(this.ca,this.te).child("ID");this.mh.push(d.toString());d.on("value",a);d=this.f.ke(this.ca).child("filter");a=function(a){a=
a.val();if(null!=a&&(a=a.split("|")[0],b.Eg!==a)){var c=Z.prototype.e;b.f.nc("open"===a?c.Kk:c.Ak,b.md,b.ca);b.Eg=a}};this.mh.push(d.toString());d.on("value",a)};k.Mr=function(){var a,b=this.mh.length;for(a=0;a<b;a++)this.f.ua(this.mh[a]).off()};k.pl=function(a,b,d,e,f,h,k,n){var p=this.f.Yi(h),t=this.f.ke(h),r=this.f.uf(h);if(this.Wg=0===e)p.onDisconnect().remove(),r.onDisconnect().remove(),t.onDisconnect().remove();e=f+"|"+b;b={filter:e,name:a};var D={name:a,filter:e,moderators:{}};D.moderators[this.gb]=
this.userName;0<d&&(D.maxPeers=d);a={alive:!0};if(k){a.users={};k=this.$k(h,!1);for(var y in k)a.users[y]=k[y]}y={};y["room-filter/"+h]=b;y["room-metadata/"+h]=D;y["rooms/"+h]=a;this.f.ua().update(y,function(a){n&&n(a,D)});this.fm=!0};k.ks=function(a,b){var d=this,e={};e["room-filter/"+a]=null;e["room-metadata/"+a]=null;e["rooms/"+a]=null;this.f.ua().update(e,function(e){if(!e){var f=d.f.Yi(a),h=d.f.ke(a),k=d.f.uf(a);f.onDisconnect().cancel();h.onDisconnect().cancel();k.onDisconnect().cancel();a===
d.ca&&(d.f.Ad(a,d.te).onDisconnect().cancel(),d.te="")}b&&b(e)})};k.Gj=function(a,b,d,e){this.Im=b;var f=p(b.filter);this.ca=a;this.md=b.name;this.Uj=f[1];this.Cj=b.maxPeers||0;this.Eg=null;this.Nr();var h=this;this.U.rh=function(){e||h.f.nc(Z.prototype.e.$h,h.md,a);d&&d();h.U.rh=null};this.U.Db(a,this.Cj)};k.Vr=function(){var a=this.ca,b=this.md;this.md=this.ca="";this.Eg=null;this.jj=!1;this.Mr();this.U.Ja();this.U.We();var d=Z.prototype.e.Hk;this.f.nc(d,b,a);this.Bj||(d=Z.prototype.e.Fk,this.f.nc(d,
b,a));this.Bj=!1};k.Tk=function(a){a=a+"|"+this.Uj;var b={};b["room-filter/"+this.ca+"/filter"]=a;b["room-metadata/"+this.ca+"/filter"]=a;this.f.ua().update(b,void 0)};k.Um=function(){var a=this;setTimeout(function(){var b=a.U.rg();a.wl&&a.U.am()&&a.jj!==b&&a.Tk(b?"closed":"open");a.jj=b},0)};k=r.prototype;k.ji=function(a){function b(a){d.f.nc(Z.prototype.e.Uo,a.name,a.roomID)}var d=this;this.mc.sh=b;this.mc.uh=b;this.mc.th=b;var e=this.f.Yi().orderByChild("filter"),e=""!=a?e.equalTo("open|"+a):e.startAt("open").endAt("open~");
this.mc.Db(e)};k.Vk=function(){this.mc.Ja()};k.vk=function(a,b){var d=this;this.mc.qh=function(a,b){d.f.xl=a;d.f.Gg=b};this.mc.uk(this.f.b,a,b);this.f.xl=null;this.f.Gg=0;return!1};k.Xb=function(){return this.mc.items};k=d.prototype;k.Db=function(a,b){function d(a){var b=Z.prototype.e.Pk;e.f.Gh(b,a.name,a.ID);(a=e.am())&&!e.cm&&(b=Z.prototype.e.zk,e.f.Gh(b,e.H.userName,e.H.gb));e.cm=a}null==b&&(b=0);this.Ja();this.ca=a;this.eh=b;var e=this,f=this.f.Ad(this.ca);0<b&&(f=f.limitToFirst(b));this.U.sh=
function(a){e.mg[a.ID]=a.joinAt;a.ID===e.H.gb&&e.rh&&e.rh(e.U.items);e.f.Gh(Z.prototype.e.Qk,a.name,a.ID);d(a);e.Dj.Um()};this.U.uh=function(a){e.mg.hasOwnProperty(a.ID)&&delete e.mg[a.ID];e.f.Gh(Z.prototype.e.Vo,a.name,a.ID);d(a);e.Dj.Um()};this.U.th=d;this.U.Db(f)};k.Ja=function(){this.U.Ja();this.ca="";this.eh=0};k.Yh=function(a,b){var d=this;this.U.qh=function(a,b){d.f.Ki=a;d.f.Gg=b};this.U.uk(this.f.b,a,b);this.f.Ki=null;this.f.Gg=0;return!1};k.We=function(){this.U.We()};k.rg=function(){return 0===
this.eh?!1:this.U.items.length>=this.eh};k.am=function(){var a;null==a&&(a=this.H.gb);var b=this.U.items[0];return b?b.ID===a:!1};k.qo=function(a){return this.mg.hasOwnProperty(a)?this.U.oo(this.mg[a]):null};k=function(a){this.H=a;this.f=a.f;this.ha=null}.prototype;k.Xb=function(){this.ha&&this.ha.onDisconnect().cancel();this.ha=this.f.lr(this.H.gb);this.ha.onDisconnect().remove();this.ep()};k.ep=function(){this.ha.set({name:this.H.userName,roomID:this.H.ca,roomName:this.H.md})}})();
function hc(d){this.b=d}
(function(){function d(){}function r(){}function h(){}var p=hc.prototype;p.na=function(d){this.f=d;this.b=d.b};p.na.prototype.M=function(){};p.X=function(d){this.type=d;this.b=d.b};var n=p.X.prototype;n.M=function(){this.Ec=this.k[0]+"/"+this.k[1]+"/";this.userName=this.gb="";this.$g=null;var d=this.k[2];this.Qm=this.k[3];if(!this.jc){var b=0==this.Qm?window.Gi:window.zl;this.Sg=this.Bp(b,d);this.Ij=new b(d)}this.qf=null};n.Dc=function(){this.Sg.Ja()};n.ua=function(d){null==d&&(d="");var b;"https://"===
d.substring(0,8)?b=d:b=this.Ec+d+"/";return!0===window.FirebaseV3x?(d="https://"===b.substring(0,8)?"refFromURL":"ref",window.Firebase.database()[d](b)):new window.Firebase(b)};n.Bp=function(d,b){var a=this,h=new d(b);h.Ce=function(b){a.qf=b;a.b.trigger(hc.prototype.e.Mk,a)};return h};n.$j=function(d,b){if(null!=d&&""!=d){if(this.$g!=d){var a=this.ua(d);this.Ij.Uk(a)}null==b?this.Ij.ei():this.Ij.ei(b,this.gb,this.userName)}};p.e=new d;d.prototype.Mk=function(){return!0};p.J=new r;r.prototype.Sk=function(d,
b){this.Sg.Ja();0==this.Qm&&this.$j(this.$g,null);this.$g=null;this.Ec=d+"/"+b+"/"};r.prototype.gi=function(d,b){this.gb=d;this.userName=b};r.prototype.Db=function(d){""!=d&&(d=this.ua(d),this.Sg.Db(d))};r.prototype.Ja=function(){this.Sg.Ja()};r.prototype.Xo=function(d,b){""!=d&&(this.$j(d,b),this.$g=d)};r.prototype.eo=function(d){""!=d&&this.$j(d,null)};p.P=new h;h.prototype.xo=function(d){var b=null;null!=this.qf&&(b=this.qf.senderName);null==b&&(b="");d.R(b)};h.prototype.wo=function(d){var b=null;
null!=this.qf&&(b=this.qf.message);null==b&&(b="");d.R(b)}})();
(function(){if(null==window.zl){var d=function(d){this.Ce=null;this.Rf=d;this.Mb=this.ha=null},r=d.prototype;r.Uk=function(d){var p=null!=this.Mb;this.Ja();this.ha=d;p&&this.Db()};r.ei=function(d,p,n){null==this.ha||null==d&&null==p&&null==n||(1==this.Rf&&(d=JSON.parse(d)),this.ha.push({message:d,senderID:p,senderName:n}))};r.Db=function(d){function p(d){var b=d.val();n.Le?n.Le=!1:null!=b&&(1==n.Rf&&(b.message=JSON.stringify(b.message)),n.Ce&&n.Ce(b),d.ref().remove())}this.Ja();null!=d&&(this.ha=
d);var n=this;this.ha.limitToFirst(1).on("child_added",p);this.Mb=p};r.Ja=function(){null!=this.Mb&&(this.ha.off("child_added",this.Mb),this.Mb=null)};window.zl=d}})();
(function(){if(null==window.Gi){var d=function(d){this.Ce=null;this.Rf=d;this.Le=!0;this.bk=!1;this.Mb=this.ha=null},r=d.prototype;r.Uk=function(d){var p=null!=this.Mb;this.Ja();this.ha=d;p&&this.Db()};r.ei=function(d,p,n){null!=this.ha&&(null==d&&null==p&&null==n?this.ha.remove():(1==this.Rf&&(d=JSON.parse(d)),d={message:d,senderID:p,senderName:n,stamp:this.bk},this.Le=!1,this.ha.set(d),this.bk=!this.bk))};r.Db=function(d){function p(d){d=d.val();n.Le?n.Le=!1:null!=d&&(1==n.Rf&&(d.message=JSON.stringify(d.message)),
n.Ce&&n.Ce(d))}this.Ja();null!=d&&(this.ha=d);this.Le=!0;var n=this;this.ha.on("value",p);this.Mb=p;this.ha.onDisconnect().remove()};r.Ja=function(){null!=this.Mb&&(this.ha.off("value",this.Mb),this.Mb=null,this.ha.remove(),this.ha.onDisconnect().cancel())};window.Gi=d}})();function ic(d){this.b=d}
(function(){function d(){}function r(){}function h(){}var p=ic.prototype;p.na=function(b){this.f=b;this.b=b.b};p.na.prototype.M=function(){};p.X=function(b){this.type=b;this.b=b.b};var n=p.X.prototype,t="text password email number tel url".split(" ");-1<navigator.userAgent.indexOf("MSIE 9")&&(t[2]="text",t[3]="text",t[4]="text",t[5]="text");n.M=function(){if(this.b.F)w("[Construct 2] Textbox plugin not supported on this platform - the object will not be created");else{6===this.k[7]?(this.c=document.createElement("textarea"),
jQuery(this.c).css("resize","none")):(this.c=document.createElement("input"),this.c.type=t[this.k[7]]);this.c.id=this.k[9];jQuery(this.c).appendTo(this.b.Sc?this.b.Sc:"body");this.c.autocomplete="off";this.c.value=this.k[0];this.c.placeholder=this.k[1];this.c.title=this.k[2];this.c.disabled=0===this.k[4];this.c.readOnly=1===this.k[5];this.c.spellcheck=1===this.k[6];this.bf=0!==this.k[8];this.Va=!1;0===this.k[3]&&(jQuery(this.c).hide(),this.visible=!1,this.Va=!0);var b=function(a){return function(){a.b.trigger(ic.prototype.e.To,
a)}}(this);this.c.oninput=b;-1!==navigator.userAgent.indexOf("MSIE")&&(this.c.oncut=b);this.c.onclick=function(a){return function(b){b.stopPropagation();a.b.cb=!0;a.b.trigger(ic.prototype.e.Wd,a);a.b.cb=!1}}(this);this.c.ondblclick=function(a){return function(b){b.stopPropagation();a.b.cb=!0;a.b.trigger(ic.prototype.e.Zh,a);a.b.cb=!1}}(this);this.c.addEventListener("touchstart",function(a){a.stopPropagation()},!1);this.c.addEventListener("touchmove",function(a){a.stopPropagation()},!1);this.c.addEventListener("touchend",
function(a){a.stopPropagation()},!1);jQuery(this.c).mousedown(function(a){a.stopPropagation()});jQuery(this.c).mouseup(function(a){a.stopPropagation()});jQuery(this.c).keydown(function(a){13!==a.which&&27!=a.which&&a.stopPropagation()});jQuery(this.c).keyup(function(a){13!==a.which&&27!=a.which&&a.stopPropagation()});this.fd=this.gd=this.bd=this.dd=this.ed=this.cd=0;this.rd(!0);this.b.ek(this)}};n.nb=function(){return{text:this.c.value,placeholder:this.c.placeholder,tooltip:this.c.title,disabled:!!this.c.disabled,
readonly:!!this.c.readOnly,spellcheck:!!this.c.spellcheck}};n.Lb=function(b){this.c.value=b.text;this.c.placeholder=b.placeholder;this.c.title=b.tooltip;this.c.disabled=b.disabled;this.c.readOnly=b.readonly;this.c.spellcheck=b.spellcheck};n.Dc=function(){this.b.F||(jQuery(this.c).remove(),this.c=null)};n.pd=function(){this.rd()};n.rd=function(b){if(!this.b.F){var a=this.g.aa(this.x,this.y,!0),d=this.g.aa(this.x,this.y,!1),f=this.g.aa(this.x+this.width,this.y+this.height,!0),e=this.g.aa(this.x+this.width,
this.y+this.height,!1),c=this.b.width/this.b.devicePixelRatio,g=this.b.height/this.b.devicePixelRatio;!this.visible||!this.g.visible||0>=f||0>=e||a>=c||d>=g?(this.Va||jQuery(this.c).hide(),this.Va=!0):(1>a&&(a=1),1>d&&(d=1),f>=c&&(f=c-1),e>=g&&(e=g-1),c=window.innerWidth,g=window.innerHeight,b||this.cd!==a||this.ed!==d||this.dd!==f||this.bd!==e||this.gd!==c||this.fd!==g?(this.cd=a,this.ed=d,this.dd=f,this.bd=e,this.gd=c,this.fd=g,this.Va&&(jQuery(this.c).show(),this.Va=!1),b=Math.round(a)+jQuery(this.b.canvas).offset().left,
c=Math.round(d)+jQuery(this.b.canvas).offset().top,jQuery(this.c).css("position","absolute"),jQuery(this.c).offset({left:b,top:c}),jQuery(this.c).width(Math.round(f-a)),jQuery(this.c).height(Math.round(e-d)),this.bf&&jQuery(this.c).css("font-size",this.g.Xa(!0)/this.b.devicePixelRatio-.2+"em")):this.Va&&(jQuery(this.c).show(),this.Va=!1))}};n.tc=function(){};n.rb=function(){};d.prototype.ko=function(b,a){return this.b.F?!1:0===a?cb(this.c.value,b):this.c.value===b};d.prototype.To=function(){return!0};
d.prototype.Wd=function(){return!0};d.prototype.Zh=function(){return!0};p.e=new d;r.prototype.fi=function(b){this.b.F||(this.c.value=b)};r.prototype.hi=function(b){this.b.F||(this.visible=0!==b)};p.J=new r;h.prototype.Text=function(b){this.b.F?b.R(""):b.R(this.c.value)};p.P=new h})();
function ac(){return[cc,Y,bc,dc,ec,gc,Z,hc,fc,ic,X.prototype.e.Gk,Z.prototype.J.gi,fc.prototype.P.no,Z.prototype.J.ji,hc.prototype.J.gi,Z.prototype.P.fp,Z.prototype.P.gp,bc.prototype.J.CallFunction,Z.prototype.e.$h,ic.prototype.J.fi,ic.prototype.P.Text,Z.prototype.P.cp,X.prototype.P.Pr,X.prototype.e.jo,Z.prototype.P.bp,cc.prototype.J.fi,cc.prototype.J.Yo,X.prototype.e.tk,Z.prototype.e.Hk,Z.prototype.e.Fk,Z.prototype.e.Ak,Z.prototype.e.Kk,cc.prototype.e.Wd,bc.prototype.e.ug,Z.prototype.J.vo,Z.prototype.e.ai,
Z.prototype.J.lo,Z.prototype.e.Pk,ec.prototype.J.fo,Z.prototype.e.Yh,ec.prototype.J.Zn,Z.prototype.P.mo,Z.prototype.e.zk,Z.prototype.e.Qk,Z.prototype.P.dp,Z.prototype.e.rg,hc.prototype.J.Sk,Z.prototype.P.co,hc.prototype.J.Db,hc.prototype.J.Ja,hc.prototype.J.eo,dc.prototype.e.Ck,Z.prototype.e.Wb,ic.prototype.e.ko,hc.prototype.J.Xo,hc.prototype.e.Mk,hc.prototype.P.xo,hc.prototype.P.wo,X.prototype.J.$o,X.prototype.J.ro]};
