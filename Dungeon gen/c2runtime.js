// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var aa,ba,ca,w,da,ea,fa,G,ga,ha,ja,la,ma,J,na,qa,K,ta,ua,va,wa,N,Q,xa,za,Aa,Ba,R,Ca,Da,Ea,Ga,Ha,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,T,Sa,Ta,Ua,Va,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,U,Tb,Ub={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(d){return d.__proto__}:function(d){return d.constructor.prototype});
(function(){function d(b,a,f,c){this.set(b,a,f,c)}function q(){this.Gb=this.Fb=this.Ib=this.Hb=this.Yb=this.Xb=this.Bb=this.Ab=0}function l(b,a,f,c){b<a?f<c?(v=b<f?b:f,E=a>c?a:c):(v=b<c?b:c,E=a>f?a:f):f<c?(v=a<f?a:f,E=b>c?b:c):(v=a<c?a:c,E=b>f?b:f)}function p(){this.items=this.Dc=null;this.ag=0;ka&&(this.Dc=new Set);this.of=[];this.qd=!0}function t(b){L[M++]=b}function m(){this.ja=this.ki=this.y=this.Ni=0}function g(b){this.bf=[];this.rl=this.tl=this.ul=this.sl=0;this.Cg(b)}function a(b,a){this.Ti=
b;this.Si=a;this.cells={}}function e(b,a){this.Ti=b;this.Si=a;this.cells={}}function c(b,a,f){var c;return P.length?(c=P.pop(),c.yj=b,c.x=a,c.y=f,c):new aa(b,a,f)}function b(b,a,f){this.yj=b;this.x=a;this.y=f;this.Ea=new ba}function f(b,a,f){var c;return x.length?(c=x.pop(),c.yj=b,c.x=a,c.y=f,c):new ca(b,a,f)}function n(b,a,f){this.yj=b;this.x=a;this.y=f;this.Ea=[];this.Te=!0;this.Bc=new ba;this.tf=!1}function h(b,a){return b.oc-a.oc}w=function(b){window.console&&window.console.log&&window.console.log(b)};
da=function(b){window.console&&window.console.error&&window.console.error(b)};ea=function(b){return"undefined"===typeof b};fa=function(b){return"number"===typeof b};G=function(b){return"string"===typeof b};ga=function(b){return 0<b&&0===(b-1&b)};ha=function(b){--b;for(var a=1;32>a;a<<=1)b=b|b>>a;return b+1};ja=function(b){return 0>b?-b:b};la=function(b,a){return b<a?b:a};ma=Math.PI;J=function(b){return 0<=b?b|0:(b|0)-1};na=function(b){var a=b|0;return a===b?a:a+1};qa=function(b,a,f,c,h,e,n,k){var g,
r,u,v;b<f?(r=b,g=f):(r=f,g=b);h<n?(v=h,u=n):(v=n,u=h);if(g<v||r>u)return!1;a<c?(r=a,g=c):(r=c,g=a);e<k?(v=e,u=k):(v=k,u=e);if(g<v||r>u)return!1;g=h-b+n-f;r=e-a+k-c;b=f-b;a=c-a;h=n-h;e=k-e;k=ja(a*h-e*b);return ja(h*r-e*g)>k?!1:ja(b*r-a*g)<=k};d.prototype.set=function(b,a,f,c){this.left=b;this.top=a;this.right=f;this.bottom=c};d.prototype.zf=function(b){this.left=b.left;this.top=b.top;this.right=b.right;this.bottom=b.bottom};d.prototype.width=function(){return this.right-this.left};d.prototype.height=
function(){return this.bottom-this.top};d.prototype.offset=function(b,a){this.left+=b;this.top+=a;this.right+=b;this.bottom+=a;return this};d.prototype.normalize=function(){var b=0;this.left>this.right&&(b=this.left,this.left=this.right,this.right=b);this.top>this.bottom&&(b=this.top,this.top=this.bottom,this.bottom=b)};d.prototype.rb=function(b,a){return b>=this.left&&b<=this.right&&a>=this.top&&a<=this.bottom};d.prototype.Ef=function(b){return this.left===b.left&&this.top===b.top&&this.right===
b.right&&this.bottom===b.bottom};K=d;q.prototype.ei=function(b){this.Ab=b.left;this.Bb=b.top;this.Xb=b.right;this.Yb=b.top;this.Hb=b.right;this.Ib=b.bottom;this.Fb=b.left;this.Gb=b.bottom};q.prototype.Ln=function(b,a){if(0===a)this.ei(b);else{var f=Math.sin(a),c=Math.cos(a),h=b.left*f,e=b.top*f,n=b.right*f,f=b.bottom*f,k=b.left*c,g=b.top*c,r=b.right*c,c=b.bottom*c;this.Ab=k-e;this.Bb=g+h;this.Xb=r-e;this.Yb=g+n;this.Hb=r-f;this.Ib=c+n;this.Fb=k-f;this.Gb=c+h}};q.prototype.offset=function(b,a){this.Ab+=
b;this.Bb+=a;this.Xb+=b;this.Yb+=a;this.Hb+=b;this.Ib+=a;this.Fb+=b;this.Gb+=a;return this};var v=0,E=0;q.prototype.xl=function(b){l(this.Ab,this.Xb,this.Hb,this.Fb);b.left=v;b.right=E;l(this.Bb,this.Yb,this.Ib,this.Gb);b.top=v;b.bottom=E};q.prototype.rb=function(b,a){var f=this.Ab,c=this.Bb,h=this.Xb-f,e=this.Yb-c,n=this.Hb-f,k=this.Ib-c,g=b-f,r=a-c,u=h*h+e*e,v=h*n+e*k,e=h*g+e*r,d=n*n+k*k,E=n*g+k*r,m=1/(u*d-v*v),h=(d*e-v*E)*m,u=(u*E-v*e)*m;if(0<=h&&0<u&&1>h+u)return!0;h=this.Fb-f;e=this.Gb-c;u=h*
h+e*e;v=h*n+e*k;e=h*g+e*r;m=1/(u*d-v*v);h=(d*e-v*E)*m;u=(u*E-v*e)*m;return 0<=h&&0<u&&1>h+u};ta=q;ua=function(b,a){for(var f in a)a.hasOwnProperty(f)&&(b[f]=a[f]);return b};va=function(b,a){var f,c;a=J(a);if(!(0>a||a>=b.length)){f=a;for(c=b.length-1;f<c;f++)b[f]=b[f+1];wa(b,c)}};wa=function(b,a){b.length=a};N=function(b){wa(b,0)};Q=function(b,a){N(b);var f,c;f=0;for(c=a.length;f<c;++f)b[f]=a[f]};xa=function(b,a){b.push.apply(b,a)};za=function(b,a){var f,c;f=0;for(c=b.length;f<c;++f)if(b[f]===a)return f;
return-1};Aa=function(b,a){var f=za(b,a);-1!==f&&va(b,f)};Ba=function(b,a,f){return b<a?a:b>f?f:b};R=function(b){return b/(180/ma)};Ca=function(b){return 180/ma*b};Da=function(b){b%=360;0>b&&(b+=360);return b};Ea=function(b){b%=2*ma;0>b&&(b+=2*ma);return b};Ga=function(b){return Da(Ca(b))};Ha=function(b){return Ea(R(b))};Ka=function(b,a,f,c){return Math.atan2(c-a,f-b)};La=function(b,a){if(b===a)return 0;var f=Math.sin(b),c=Math.cos(b),h=Math.sin(a),e=Math.cos(a),f=f*h+c*e;return 1<=f?0:-1>=f?ma:Math.acos(f)};
Ma=function(b,a,f){var c=Math.sin(b),h=Math.cos(b),e=Math.sin(a),n=Math.cos(a);return Math.acos(c*e+h*n)>f?0<h*e-c*n?Ea(b+f):Ea(b-f):Ea(a)};Na=function(b,a){var f=Math.sin(b),c=Math.cos(b),h=Math.sin(a),e=Math.cos(a);return 0>=c*h-f*e};Oa=function(b,a,f,c){b=f-b;a=c-a;return Math.sqrt(b*b+a*a)};Pa=function(b,a){return!b!==!a};Qa=function(b){for(var a in b)if(b.hasOwnProperty(a))return!0;return!1};Ra=function(b){for(var a in b)b.hasOwnProperty(a)&&delete b[a]};var u=+new Date;T=function(){if("undefined"!==
typeof window.performance){var b=window.performance;if("undefined"!==typeof b.now)return b.now();if("undefined"!==typeof b.webkitNow)return b.webkitNow();if("undefined"!==typeof b.mozNow)return b.mozNow();if("undefined"!==typeof b.msNow)return b.msNow()}return Date.now()-u};var k=!1,r=k=!1,Fa=!1;"undefined"!==typeof window&&(k=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),k=!k&&/safari/i.test(navigator.userAgent),r=/(iphone|ipod|ipad)/i.test(navigator.userAgent),Fa=window.c2ejecta);
var ka=!k&&!Fa&&!r&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;p.prototype.contains=function(b){return this.Vc()?!1:ka?this.Dc.has(b):this.items&&this.items.hasOwnProperty(b)};p.prototype.add=function(b){if(ka)this.Dc.has(b)||(this.Dc.add(b),this.qd=!1);else{var a=b.toString(),f=this.items;f?f.hasOwnProperty(a)||(f[a]=b,this.ag++,this.qd=!1):(this.items={},this.items[a]=b,this.ag=1,this.qd=!1)}};p.prototype.remove=function(b){if(!this.Vc())if(ka)this.Dc.has(b)&&(this.Dc["delete"](b),
this.qd=!1);else if(this.items){b=b.toString();var a=this.items;a.hasOwnProperty(b)&&(delete a[b],this.ag--,this.qd=!1)}};p.prototype.clear=function(){this.Vc()||(ka?this.Dc.clear():(this.items=null,this.ag=0),N(this.of),this.qd=!0)};p.prototype.Vc=function(){return 0===this.count()};p.prototype.count=function(){return ka?this.Dc.size:this.ag};var L=null,M=0;p.prototype.xt=function(){if(!this.qd){if(ka)N(this.of),L=this.of,M=0,this.Dc.forEach(t),L=null,M=0;else{var b=this.of;N(b);var a,f=0,c=this.items;
if(c)for(a in c)c.hasOwnProperty(a)&&(b[f++]=c[a])}this.qd=!0}};p.prototype.Td=function(){this.xt();return this.of};ba=p;new ba;Sa=function(b,a){ka?Ta(b,a.Dc):Ua(b,a.Td())};Ta=function(b,a){var f,c,h,e;c=f=0;for(h=b.length;f<h;++f)e=b[f],a.has(e)||(b[c++]=e);wa(b,c)};Ua=function(b,a){var f,c,h,e;c=f=0;for(h=b.length;f<h;++f)e=b[f],-1===za(a,e)&&(b[c++]=e);wa(b,c)};m.prototype.add=function(b){this.y=b-this.Ni;this.ki=this.ja+this.y;this.Ni=this.ki-this.ja-this.y;this.ja=this.ki};m.prototype.reset=
function(){this.ja=this.ki=this.y=this.Ni=0};Va=m;Xa=function(b){return b.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};g.prototype.Cg=function(b){this.wn=b;this.Vh=b.length/2;this.bf.length=b.length;this.Oi=this.Pi=-1;this.Al=0};g.prototype.ss=function(){return!this.wn.length};g.prototype.qa=function(){for(var b=this.bf,a=b[0],f=a,c=b[1],h=c,e,n,k=1,g=this.Vh;k<g;++k)n=2*k,e=b[n],n=b[n+1],e<a&&(a=e),e>f&&(f=e),n<c&&(c=n),n>h&&(h=n);this.sl=a;this.tl=f;this.ul=c;this.rl=h};g.prototype.ei=function(b,
a,f){this.bf.length=8;this.Vh=4;var c=this.bf;c[0]=b.left-a;c[1]=b.top-f;c[2]=b.right-a;c[3]=b.top-f;c[4]=b.right-a;c[5]=b.bottom-f;c[6]=b.left-a;c[7]=b.bottom-f;this.Pi=b.right-b.left;this.Oi=b.bottom-b.top;this.qa()};g.prototype.Up=function(b,a,f){if(this.Pi!==b||this.Oi!==a||this.Al!==f){this.Pi=b;this.Oi=a;this.Al=f;var c,h,e,n,k,g=0,r=1,u=this.wn,v=this.bf;0!==f&&(g=Math.sin(f),r=Math.cos(f));f=0;for(e=this.Vh;f<e;f++)c=2*f,h=c+1,n=u[c]*b,k=u[h]*a,v[c]=n*r-k*g,v[h]=k*r+n*g;this.qa()}};g.prototype.rb=
function(b,a){var f=this.bf;if(b===f[0]&&a===f[1])return!0;var c,h,e,n=this.Vh,k=this.sl-110,g=this.ul-101,r=this.tl+131,u=this.rl+120,v,d,E=0,m=0;for(c=0;c<n;c++)h=2*c,e=(c+1)%n*2,v=f[h],h=f[h+1],d=f[e],e=f[e+1],qa(k,g,b,a,v,h,d,e)&&E++,qa(r,u,b,a,v,h,d,e)&&m++;return 1===E%2||1===m%2};Ya=g;a.prototype.zd=function(b,a,f){var h;h=this.cells[b];return h?(h=h[a])?h:f?(h=c(this,b,a),this.cells[b][a]=h):null:f?(h=c(this,b,a),this.cells[b]={},this.cells[b][a]=h):null};a.prototype.Za=function(b){return J(b/
this.Ti)};a.prototype.$a=function(b){return J(b/this.Si)};a.prototype.update=function(b,a,f){var c,h,e,n,k;if(a)for(c=a.left,h=a.right;c<=h;++c)for(e=a.top,n=a.bottom;e<=n;++e)if(!f||!f.rb(c,e))if(k=this.zd(c,e,!1))k.remove(b),k.Vc()&&(k.Ea.clear(),1E3>P.length&&P.push(k),this.cells[c][e]=null);if(f)for(c=f.left,h=f.right;c<=h;++c)for(e=f.top,n=f.bottom;e<=n;++e)a&&a.rb(c,e)||this.zd(c,e,!0).Fj(b)};a.prototype.yn=function(b,a){var f,c,h,e,n,k;f=this.Za(b.left);h=this.$a(b.top);c=this.Za(b.right);
for(n=this.$a(b.bottom);f<=c;++f)for(e=h;e<=n;++e)(k=this.zd(f,e,!1))&&k.dump(a)};Za=a;e.prototype.zd=function(b,a,c){var h;h=this.cells[b];return h?(h=h[a])?h:c?(h=f(this,b,a),this.cells[b][a]=h):null:c?(h=f(this,b,a),this.cells[b]={},this.cells[b][a]=h):null};e.prototype.Za=function(b){return J(b/this.Ti)};e.prototype.$a=function(b){return J(b/this.Si)};e.prototype.update=function(b,a,f){var c,h,e,n,k;if(a)for(c=a.left,h=a.right;c<=h;++c)for(e=a.top,n=a.bottom;e<=n;++e)if(!f||!f.rb(c,e))if(k=this.zd(c,
e,!1))k.remove(b),k.Vc()&&(k.reset(),1E3>x.length&&x.push(k),this.cells[c][e]=null);if(f)for(c=f.left,h=f.right;c<=h;++c)for(e=f.top,n=f.bottom;e<=n;++e)a&&a.rb(c,e)||this.zd(c,e,!0).Fj(b)};e.prototype.yn=function(b,a,f,c,h){var e,n;b=this.Za(b);a=this.$a(a);f=this.Za(f);for(e=this.$a(c);b<=f;++b)for(c=a;c<=e;++c)(n=this.zd(b,c,!1))&&n.dump(h)};e.prototype.As=function(b){var a,f,c,h,e;a=b.left;c=b.top;f=b.right;for(h=b.bottom;a<=f;++a)for(b=c;b<=h;++b)if(e=this.zd(a,b,!1))e.Te=!1};$a=e;var P=[];b.prototype.Vc=
function(){return this.Ea.Vc()};b.prototype.Fj=function(b){this.Ea.add(b)};b.prototype.remove=function(b){this.Ea.remove(b)};b.prototype.dump=function(b){xa(b,this.Ea.Td())};aa=b;var x=[];n.prototype.Vc=function(){if(!this.Ea.length)return!0;if(this.Ea.length>this.Bc.count())return!1;this.lj();return!0};n.prototype.Fj=function(b){this.Bc.contains(b)?(this.Bc.remove(b),this.Bc.Vc()&&(this.tf=!1)):this.Ea.length?(this.Ea[this.Ea.length-1].vc()>b.vc()&&(this.Te=!1),this.Ea.push(b)):(this.Ea.push(b),
this.Te=!0)};n.prototype.remove=function(b){this.Bc.add(b);this.tf=!0;30<=this.Bc.count()&&this.lj()};n.prototype.lj=function(){this.tf&&(this.Bc.count()===this.Ea.length?this.reset():(Sa(this.Ea,this.Bc),this.Bc.clear(),this.tf=!1))};n.prototype.Dq=function(){this.Te||(this.Ea.sort(h),this.Te=!0)};n.prototype.reset=function(){N(this.Ea);this.Te=!0;this.Bc.clear();this.tf=!1};n.prototype.dump=function(b){this.lj();this.Dq();this.Ea.length&&b.push(this.Ea)};ca=n;var B="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");
ab=function(b){return 0>=b||11<=b?"source-over":B[b-1]};bb=function(b,a,f){if(f)switch(b.Ua=f.ONE,b.Ra=f.ONE_MINUS_SRC_ALPHA,a){case 1:b.Ua=f.ONE;b.Ra=f.ONE;break;case 3:b.Ua=f.ONE;b.Ra=f.ZERO;break;case 4:b.Ua=f.ONE_MINUS_DST_ALPHA;b.Ra=f.ONE;break;case 5:b.Ua=f.DST_ALPHA;b.Ra=f.ZERO;break;case 6:b.Ua=f.ZERO;b.Ra=f.SRC_ALPHA;break;case 7:b.Ua=f.ONE_MINUS_DST_ALPHA;b.Ra=f.ZERO;break;case 8:b.Ua=f.ZERO;b.Ra=f.ONE_MINUS_SRC_ALPHA;break;case 9:b.Ua=f.DST_ALPHA;b.Ra=f.ONE_MINUS_SRC_ALPHA;break;case 10:b.Ua=
f.ONE_MINUS_DST_ALPHA,b.Ra=f.SRC_ALPHA}};cb=function(b){return Math.round(1E6*b)/1E6};db=function(b,a){return"string"!==typeof b||"string"!==typeof a||b.length!==a.length?!1:b===a?!0:b.toLowerCase()===a.toLowerCase()};eb=function(b){b=b.target;return!b||b===document||b===window||document&&document.body&&b===document.body||db(b.tagName,"canvas")?!0:!1}})();var Vb="undefined"!==typeof Float32Array?Float32Array:Array;function Wb(d){var q=new Vb(3);d&&(q[0]=d[0],q[1]=d[1],q[2]=d[2]);return q}
function Xb(d){var q=new Vb(16);d&&(q[0]=d[0],q[1]=d[1],q[2]=d[2],q[3]=d[3],q[4]=d[4],q[5]=d[5],q[6]=d[6],q[7]=d[7],q[8]=d[8],q[9]=d[9],q[10]=d[10],q[11]=d[11],q[12]=d[12],q[13]=d[13],q[14]=d[14],q[15]=d[15]);return q}function Yb(d,q){q[0]=d[0];q[1]=d[1];q[2]=d[2];q[3]=d[3];q[4]=d[4];q[5]=d[5];q[6]=d[6];q[7]=d[7];q[8]=d[8];q[9]=d[9];q[10]=d[10];q[11]=d[11];q[12]=d[12];q[13]=d[13];q[14]=d[14];q[15]=d[15]}
function Zb(d,q){var l=q[0],p=q[1];q=q[2];d[0]*=l;d[1]*=l;d[2]*=l;d[3]*=l;d[4]*=p;d[5]*=p;d[6]*=p;d[7]*=p;d[8]*=q;d[9]*=q;d[10]*=q;d[11]*=q}
function $b(d,q,l,p){p||(p=Xb());var t,m,g,a,e,c,b,f,n=d[0],h=d[1];d=d[2];m=l[0];g=l[1];t=l[2];l=q[1];c=q[2];n===q[0]&&h===l&&d===c?(d=p,d[0]=1,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=1,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=1,d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1):(l=n-q[0],c=h-q[1],b=d-q[2],f=1/Math.sqrt(l*l+c*c+b*b),l*=f,c*=f,b*=f,q=g*b-t*c,t=t*l-m*b,m=m*c-g*l,(f=Math.sqrt(q*q+t*t+m*m))?(f=1/f,q*=f,t*=f,m*=f):m=t=q=0,g=c*m-b*t,a=b*q-l*m,e=l*t-c*q,(f=Math.sqrt(g*g+a*a+e*e))?(f=1/f,g*=f,a*=f,e*=f):e=a=g=0,
p[0]=q,p[1]=g,p[2]=l,p[3]=0,p[4]=t,p[5]=a,p[6]=c,p[7]=0,p[8]=m,p[9]=e,p[10]=b,p[11]=0,p[12]=-(q*n+t*h+m*d),p[13]=-(g*n+a*h+e*d),p[14]=-(l*n+c*h+b*d),p[15]=1)}
(function(){function d(a,e,c){this.Bd=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.W=!!c;this.qh=this.Wf=!1;this.aj=0;this.xi=1;this.Sk=1E3;this.Ft=(this.Sk-this.xi)/32768;this.Qi=Wb([0,0,100]);this.Em=Wb([0,0,0]);this.fo=Wb([0,1,0]);this.Pg=Wb([1,1,1]);this.Kl=!0;this.Kh=Xb();this.xb=Xb();this.Uj=Xb();this.$i=Xb();this.k=a;this.hm()}function q(a,e,c){this.k=a;this.Dg=e;this.name=c;this.Qb=a.getAttribLocation(e,"aPos");this.Kd=a.getAttribLocation(e,
"aTex");this.Cm=a.getUniformLocation(e,"matP");this.Gh=a.getUniformLocation(e,"matMV");this.Xe=a.getUniformLocation(e,"opacity");this.Zj=a.getUniformLocation(e,"colorFill");this.Dm=a.getUniformLocation(e,"samplerFront");this.jg=a.getUniformLocation(e,"samplerBack");this.qe=a.getUniformLocation(e,"destStart");this.pe=a.getUniformLocation(e,"destEnd");this.lg=a.getUniformLocation(e,"seconds");this.ak=a.getUniformLocation(e,"pixelWidth");this.$j=a.getUniformLocation(e,"pixelHeight");this.ig=a.getUniformLocation(e,
"layerScale");this.hg=a.getUniformLocation(e,"layerAngle");this.mg=a.getUniformLocation(e,"viewOrigin");this.kg=a.getUniformLocation(e,"scrollPos");this.$r=!!(this.ak||this.$j||this.lg||this.jg||this.qe||this.pe||this.ig||this.hg||this.mg||this.kg);this.Om=this.Pm=-999;this.Jh=1;this.Km=this.Jm=0;this.Mm=this.Im=this.Hm=1;this.Sm=this.Rm=this.Qm=this.Um=this.Tm=this.Lm=0;this.Tj=[];this.Nm=Xb();this.Xe&&a.uniform1f(this.Xe,1);this.Zj&&a.uniform4f(this.Zj,1,1,1,1);this.Dm&&a.uniform1i(this.Dm,0);this.jg&&
a.uniform1i(this.jg,1);this.qe&&a.uniform2f(this.qe,0,0);this.pe&&a.uniform2f(this.pe,1,1);this.ig&&a.uniform1f(this.ig,1);this.hg&&a.uniform1f(this.hg,0);this.mg&&a.uniform2f(this.mg,0,0);this.kg&&a.uniform2f(this.kg,0,0);this.lg&&a.uniform1f(this.lg,0);this.je=!1}function l(a,e){return a[0]===e[0]&&a[1]===e[1]&&a[2]===e[2]&&a[3]===e[3]&&a[4]===e[4]&&a[5]===e[5]&&a[6]===e[6]&&a[7]===e[7]&&a[8]===e[8]&&a[9]===e[9]&&a[10]===e[10]&&a[11]===e[11]&&a[12]===e[12]&&a[13]===e[13]&&a[14]===e[14]&&a[15]===
e[15]}function p(a,e){this.type=a;this.m=e;this.k=e.k;this.wc=this.Ya=this.mn=0;this.D=this.Wb=null;this.Mn=[]}var t=Xb();d.prototype.hm=function(){var a=this.k,e;this.wm=1;this.me=this.Gd=null;this.Yg=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.W?(a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL)):a.disable(a.DEPTH_TEST);this.xm=a.ONE;this.vm=a.ONE_MINUS_SRC_ALPHA;
this.vi=new Float32Array(8E3*(this.W?3:2));this.mi=new Float32Array(16E3);this.sn=new Float32Array(32E3);this.lk=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.lk);a.bufferData(a.ARRAY_BUFFER,this.sn.byteLength,a.DYNAMIC_DRAW);this.Og=Array(4);this.Ig=Array(4);for(e=0;4>e;e++)this.Og[e]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Og[e]),a.bufferData(a.ARRAY_BUFFER,this.vi.byteLength,a.DYNAMIC_DRAW),this.Ig[e]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Ig[e]),a.bufferData(a.ARRAY_BUFFER,
this.mi.byteLength,a.DYNAMIC_DRAW);this.Lc=0;this.cs=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.cs);for(var c=new Uint16Array(12E3),b=e=0;12E3>e;)c[e++]=b,c[e++]=b+1,c[e++]=b+2,c[e++]=b,c[e++]=b+2,c[e++]=b+3,b+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,c,a.STATIC_DRAW);this.mk=this.lf=this.gd=0;this.ia=[];e=this.W?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";c=this.Af({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},e,"<default>");this.ia.push(c);c=this.Af({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.ia.push(c);c=this.Af({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},e,"<earlyz>");this.ia.push(c);c=this.Af({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
e,"<fill>");this.ia.push(c);for(var f in ac)ac.hasOwnProperty(f)&&this.ia.push(this.Af(ac[f],e,f));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.pd=[];this.Kc=0;this.Sa=!1;this.Fl=this.bg=-1;this.He=null;this.kj=a.createFramebuffer();this.ah=this.Yh=null;this.ql=!1;this.W&&(this.ah=a.createRenderbuffer());this.Sd=Wb([0,0,0]);this.Vm=a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1];2048<this.Vm&&(this.Vm=2048);this.gb(0)};q.prototype.Ok=function(a){l(this.Nm,a)||(Yb(a,this.Nm),this.k.uniformMatrix4fv(this.Gh,
!1,a))};d.prototype.Af=function(a,e,c){var b=this.k,f=b.createShader(b.FRAGMENT_SHADER);b.shaderSource(f,a.src);b.compileShader(f);if(!b.getShaderParameter(f,b.COMPILE_STATUS))return b.deleteShader(f),null;var n=b.createShader(b.VERTEX_SHADER);b.shaderSource(n,e);b.compileShader(n);if(!b.getShaderParameter(n,b.COMPILE_STATUS))return b.deleteShader(f),b.deleteShader(n),null;e=b.createProgram();b.attachShader(e,f);b.attachShader(e,n);b.linkProgram(e);if(!b.getProgramParameter(e,b.LINK_STATUS))return b.deleteShader(f),
b.deleteShader(n),b.deleteProgram(e),null;b.useProgram(e);b.deleteShader(f);b.deleteShader(n);c=new q(b,e,c);c.ij=a.ij||0;c.jj=a.jj||0;c.El=!!a.El;c.jc=!!a.jc;c.ml=!!a.ml;c.F=a.F||[];a=0;for(f=c.F.length;a<f;a++)c.F[a][1]=b.getUniformLocation(e,c.F[a][0]),c.Tj.push(0),b.uniform1f(c.F[a][1],0);return c};d.prototype.wj=function(a){var e,c;e=0;for(c=this.ia.length;e<c;e++)if(this.ia[e].name===a)return e;return-1};d.prototype.vn=function(a,e,c){var b=this.xb,f=this.Kh,n=[0,0,0,0,0,0,0,0];n[0]=b[0]*a+
b[4]*e+b[12];n[1]=b[1]*a+b[5]*e+b[13];n[2]=b[2]*a+b[6]*e+b[14];n[3]=b[3]*a+b[7]*e+b[15];n[4]=f[0]*n[0]+f[4]*n[1]+f[8]*n[2]+f[12]*n[3];n[5]=f[1]*n[0]+f[5]*n[1]+f[9]*n[2]+f[13]*n[3];n[6]=f[2]*n[0]+f[6]*n[1]+f[10]*n[2]+f[14]*n[3];n[7]=-n[2];0!==n[7]&&(n[7]=1/n[7],n[4]*=n[7],n[5]*=n[7],n[6]*=n[7],c[0]=(.5*n[4]+.5)*this.width,c[1]=(.5*n[5]+.5)*this.height)};d.prototype.we=function(a,e,c){if(this.width!==a||this.height!==e||c){this.wd();c=this.k;this.width=a;this.height=e;c.viewport(0,0,a,e);$b(this.Qi,
this.Em,this.fo,this.xb);if(this.W){var b=-a/2;a=a/2;var f=e/2;e=-e/2;var n=this.xi,h=this.Sk,g=this.Kh;g||(g=Xb());var d=a-b,u=e-f,k=h-n;g[0]=2/d;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=2/u;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=-2/k;g[11]=0;g[12]=-(b+a)/d;g[13]=-(e+f)/u;g[14]=-(h+n)/k;g[15]=1;this.Pg[0]=1;this.Pg[1]=1}else e=a/e,b=this.xi,a=this.Sk,g=this.Kh,h=b*Math.tan(45*Math.PI/360),e*=h,f=-e,n=-h,g||(g=Xb()),d=e-f,u=h-n,k=a-b,g[0]=2*b/d,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=2*b/u,g[6]=0,g[7]=0,g[8]=(e+f)/d,
g[9]=(h+n)/u,g[10]=-(a+b)/k,g[11]=-1,g[12]=0,g[13]=0,g[14]=-(a*b*2)/k,g[15]=0,b=[0,0],a=[0,0],this.vn(0,0,b),this.vn(1,1,a),this.Pg[0]=1/(a[0]-b[0]),this.Pg[1]=-1/(a[1]-b[1]);b=0;for(a=this.ia.length;b<a;b++)f=this.ia[b],f.je=!1,f.Cm&&(c.useProgram(f.Dg),c.uniformMatrix4fv(f.Cm,!1,this.Kh));c.useProgram(this.ia[this.bg].Dg);c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE1);c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE0);this.me=this.Gd=null;this.ah&&(c.bindFramebuffer(c.FRAMEBUFFER,
this.kj),c.bindRenderbuffer(c.RENDERBUFFER,this.ah),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,this.width,this.height),this.ql||(c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,this.ah),this.ql=!0),c.bindRenderbuffer(c.RENDERBUFFER,null),c.bindFramebuffer(c.FRAMEBUFFER,null),this.Yh=null)}};d.prototype.Tb=function(){$b(this.Qi,this.Em,this.fo,this.xb);Zb(this.xb,this.Pg)};d.prototype.translate=function(a,e){if(0!==a||0!==e){this.Sd[0]=a;this.Sd[1]=e;this.Sd[2]=
0;var c=this.xb,b=this.Sd,f=b[0],n=b[1],b=b[2];c[12]=c[0]*f+c[4]*n+c[8]*b+c[12];c[13]=c[1]*f+c[5]*n+c[9]*b+c[13];c[14]=c[2]*f+c[6]*n+c[10]*b+c[14];c[15]=c[3]*f+c[7]*n+c[11]*b+c[15]}};d.prototype.scale=function(a,e){if(1!==a||1!==e)this.Sd[0]=a,this.Sd[1]=e,this.Sd[2]=1,Zb(this.xb,this.Sd)};d.prototype.$h=function(a){if(0!==a){var e=this.xb,c,b=Math.sin(a);a=Math.cos(a);var f=e[0],n=e[1],h=e[2],g=e[3],d=e[4],u=e[5],k=e[6],r=e[7];c?e!==c&&(c[8]=e[8],c[9]=e[9],c[10]=e[10],c[11]=e[11],c[12]=e[12],c[13]=
e[13],c[14]=e[14],c[15]=e[15]):c=e;c[0]=f*a+d*b;c[1]=n*a+u*b;c[2]=h*a+k*b;c[3]=g*a+r*b;c[4]=f*-b+d*a;c[5]=n*-b+u*a;c[6]=h*-b+k*a;c[7]=g*-b+r*a}};d.prototype.Cb=function(){if(!l(this.Uj,this.xb)){var a=this.ob();a.type=5;a.D?Yb(this.xb,a.D):a.D=Xb(this.xb);Yb(this.xb,this.Uj);this.Sa=!1}};d.prototype.ci=function(a){this.W&&(32760<a&&(a=32760),this.aj=this.Qi[2]-this.xi-a*this.Ft)};p.prototype.mq=function(){var a=this.k,e=this.m;0!==this.Ya?(a.depthMask(!0),a.colorMask(!1,!1,!1,!1),a.disable(a.BLEND),
a.bindFramebuffer(a.FRAMEBUFFER,e.kj),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.clear(a.DEPTH_BUFFER_BIT),a.bindFramebuffer(a.FRAMEBUFFER,null),e.qh=!0):(a.depthMask(!1),a.colorMask(!0,!0,!0,!0),a.enable(a.BLEND),e.qh=!1)};p.prototype.qq=function(){this.k.bindTexture(this.k.TEXTURE_2D,this.Wb)};p.prototype.rq=function(){var a=this.k;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.Wb);a.activeTexture(a.TEXTURE0)};p.prototype.nq=function(){var a=this.mn,
e=this.m;e.Yg=a;e=e.He;e.Xe&&e.Jh!==a&&(e.Jh=a,this.k.uniform1f(e.Xe,a))};p.prototype.hq=function(){this.k.drawElements(this.k.TRIANGLES,this.wc,this.k.UNSIGNED_SHORT,this.Ya)};p.prototype.jq=function(){this.k.blendFunc(this.Ya,this.wc)};p.prototype.sq=function(){var a,e,c,b=this.m.ia,f=this.m.Fl;a=0;for(e=b.length;a<e;a++)c=b[a],a===f&&c.Gh?(c.Ok(this.D),c.je=!0):c.je=!1;Yb(this.D,this.m.$i)};p.prototype.iq=function(){var a=this.k,e=this.m;this.Wb?(e.me===this.Wb&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,
null),e.me=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,e.kj),e.qh||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.Wb,0)):(e.W||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};p.prototype.fq=function(){var a=this.k,e=this.Ya;0===e?(a.clearColor(this.D[0],this.D[1],this.D[2],this.D[3]),a.clear(a.COLOR_BUFFER_BIT)):1===e?(a.enable(a.SCISSOR_TEST),a.scissor(this.D[0],this.D[1],this.D[2],
this.D[3]),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST)):a.clear(a.DEPTH_BUFFER_BIT)};p.prototype.lq=function(){var a=this.k;0!==this.Ya?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)};p.prototype.gq=function(){var a=this.k,e=this.m;e.W&&a.disable(a.DEPTH_TEST);var c=e.ia[1];a.useProgram(c.Dg);!c.je&&c.Gh&&(c.Ok(e.$i),c.je=!0);a.enableVertexAttribArray(c.Qb);a.bindBuffer(a.ARRAY_BUFFER,e.lk);a.vertexAttribPointer(c.Qb,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.Ya/
4,this.wc);c=e.He;a.useProgram(c.Dg);0<=c.Qb&&(a.enableVertexAttribArray(c.Qb),a.bindBuffer(a.ARRAY_BUFFER,e.Og[e.Lc]),a.vertexAttribPointer(c.Qb,e.W?3:2,a.FLOAT,!1,0,0));0<=c.Kd&&(a.enableVertexAttribArray(c.Kd),a.bindBuffer(a.ARRAY_BUFFER,e.Ig[e.Lc]),a.vertexAttribPointer(c.Kd,2,a.FLOAT,!1,0,0));e.W&&a.enable(a.DEPTH_TEST)};p.prototype.oq=function(){var a=this.k,e=this.m,c=e.ia[this.Ya];e.Fl=this.Ya;e.He=c;a.useProgram(c.Dg);!c.je&&c.Gh&&(c.Ok(e.$i),c.je=!0);c.Xe&&c.Jh!==e.Yg&&(c.Jh=e.Yg,a.uniform1f(c.Xe,
e.Yg));0<=c.Qb&&(a.enableVertexAttribArray(c.Qb),a.bindBuffer(a.ARRAY_BUFFER,e.Og[e.Lc]),a.vertexAttribPointer(c.Qb,e.W?3:2,a.FLOAT,!1,0,0));0<=c.Kd&&(a.enableVertexAttribArray(c.Kd),a.bindBuffer(a.ARRAY_BUFFER,e.Ig[e.Lc]),a.vertexAttribPointer(c.Kd,2,a.FLOAT,!1,0,0))};p.prototype.kq=function(){var a=this.D;this.k.uniform4f(this.m.He.Zj,a[0],a[1],a[2],a[3])};p.prototype.pq=function(){var a,e,c=this.m.He,b=this.k;a=this.D;c.jg&&this.m.me!==this.Wb&&(b.activeTexture(b.TEXTURE1),b.bindTexture(b.TEXTURE_2D,
this.Wb),this.m.me=this.Wb,b.activeTexture(b.TEXTURE0));var f=a[0];c.ak&&f!==c.Pm&&(c.Pm=f,b.uniform1f(c.ak,f));f=a[1];c.$j&&f!==c.Om&&(c.Om=f,b.uniform1f(c.$j,f));f=a[2];e=a[3];!c.qe||f===c.Jm&&e===c.Km||(c.Jm=f,c.Km=e,b.uniform2f(c.qe,f,e));f=a[4];e=a[5];!c.pe||f===c.Hm&&e===c.Im||(c.Hm=f,c.Im=e,b.uniform2f(c.pe,f,e));f=a[6];c.ig&&f!==c.Mm&&(c.Mm=f,b.uniform1f(c.ig,f));f=a[7];c.hg&&f!==c.Lm&&(c.Lm=f,b.uniform1f(c.hg,f));f=a[8];e=a[9];!c.mg||f===c.Tm&&e===c.Um||(c.Tm=f,c.Um=e,b.uniform2f(c.mg,f,
e));f=a[10];e=a[11];!c.kg||f===c.Qm&&e===c.Rm||(c.Qm=f,c.Rm=e,b.uniform2f(c.kg,f,e));f=a[12];c.lg&&f!==c.Sm&&(c.Sm=f,b.uniform1f(c.lg,f));if(c.F.length)for(a=0,e=c.F.length;a<e;a++)f=this.Mn[a],f!==c.Tj[a]&&(c.Tj[a]=f,b.uniform1f(c.F[a][1],f))};d.prototype.ob=function(){this.Kc===this.pd.length&&this.pd.push(new p(0,this));return this.pd[this.Kc++]};d.prototype.wd=function(){if(0!==this.Kc&&!this.k.isContextLost()){var a=this.k;0<this.mk&&(a.bindBuffer(a.ARRAY_BUFFER,this.lk),a.bufferSubData(a.ARRAY_BUFFER,
0,this.sn.subarray(0,this.mk)),e&&0<=e.Qb&&"<point>"===e.name&&a.vertexAttribPointer(e.Qb,4,a.FLOAT,!1,0,0));if(0<this.gd){var e=this.He;a.bindBuffer(a.ARRAY_BUFFER,this.Og[this.Lc]);a.bufferSubData(a.ARRAY_BUFFER,0,this.vi.subarray(0,this.gd));e&&0<=e.Qb&&"<point>"!==e.name&&a.vertexAttribPointer(e.Qb,this.W?3:2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Ig[this.Lc]);a.bufferSubData(a.ARRAY_BUFFER,0,this.mi.subarray(0,this.lf));e&&0<=e.Kd&&"<point>"!==e.name&&a.vertexAttribPointer(e.Kd,2,a.FLOAT,
!1,0,0)}for(var c,a=0,e=this.Kc;a<e;a++)switch(c=this.pd[a],c.type){case 1:c.hq();break;case 2:c.qq();break;case 3:c.nq();break;case 4:c.jq();break;case 5:c.sq();break;case 6:c.iq();break;case 7:c.fq();break;case 8:c.gq();break;case 9:c.oq();break;case 10:c.pq();break;case 11:c.rq();break;case 12:c.kq();break;case 13:c.lq();break;case 14:c.mq()}this.mk=this.lf=this.gd=this.Kc=0;this.qh=this.Sa=!1;this.Lc++;4<=this.Lc&&(this.Lc=0)}};d.prototype.gf=function(a){if(a!==this.wm&&!this.Wf){var e=this.ob();
e.type=3;this.wm=e.mn=a;this.Sa=!1}};d.prototype.zb=function(a){if(a!==this.Gd){var e=this.ob();e.type=2;this.Gd=e.Wb=a;this.Sa=!1}};d.prototype.Pd=function(a,e){if((a!==this.xm||e!==this.vm)&&!this.Wf){var c=this.ob();c.type=4;c.Ya=a;c.wc=e;this.xm=a;this.vm=e;this.Sa=!1}};d.prototype.Fn=function(){this.Pd(this.k.ONE,this.k.ONE_MINUS_SRC_ALPHA)};d.prototype.xg=function(a,e,c,b,f,n,h,g){15992<=this.gd&&this.wd();var d=this.gd,u=this.lf,k=this.vi,r=this.mi,m=this.aj;if(this.Sa)this.pd[this.Kc-1].wc+=
6;else{var l=this.ob();l.type=1;l.Ya=this.W?d:d/2*3;l.wc=6;this.Sa=!0}this.W?(k[d++]=a,k[d++]=e,k[d++]=m,k[d++]=c,k[d++]=b,k[d++]=m,k[d++]=f,k[d++]=n,k[d++]=m,k[d++]=h,k[d++]=g,k[d++]=m):(k[d++]=a,k[d++]=e,k[d++]=c,k[d++]=b,k[d++]=f,k[d++]=n,k[d++]=h,k[d++]=g);r[u++]=0;r[u++]=0;r[u++]=1;r[u++]=0;r[u++]=1;r[u++]=1;r[u++]=0;r[u++]=1;this.gd=d;this.lf=u};d.prototype.Nd=function(a,e,c,b,f,n,h,g,d){15992<=this.gd&&this.wd();var u=this.gd,k=this.lf,r=this.vi,m=this.mi,l=this.aj;if(this.Sa)this.pd[this.Kc-
1].wc+=6;else{var p=this.ob();p.type=1;p.Ya=this.W?u:u/2*3;p.wc=6;this.Sa=!0}var p=d.left,q=d.top,t=d.right;d=d.bottom;this.W?(r[u++]=a,r[u++]=e,r[u++]=l,r[u++]=c,r[u++]=b,r[u++]=l,r[u++]=f,r[u++]=n,r[u++]=l,r[u++]=h,r[u++]=g,r[u++]=l):(r[u++]=a,r[u++]=e,r[u++]=c,r[u++]=b,r[u++]=f,r[u++]=n,r[u++]=h,r[u++]=g);m[k++]=p;m[k++]=q;m[k++]=t;m[k++]=q;m[k++]=t;m[k++]=d;m[k++]=p;m[k++]=d;this.gd=u;this.lf=k};d.prototype.gb=function(a){if(this.bg!==a){if(!this.ia[a]){if(0===this.bg)return;a=0}var e=this.ob();
e.type=9;this.bg=e.Ya=a;this.Sa=!1}};d.prototype.ug=function(a){a=this.ia[a];return!(!a.qe&&!a.pe)};d.prototype.pk=function(a){a=this.ia[a];return!!(a.qe||a.pe||a.El)};d.prototype.ok=function(a){return this.ia[a].jc};d.prototype.Us=function(a){a=this.ia[a];return 0!==a.ij||0!==a.jj};d.prototype.Br=function(a){return this.ia[a].ij};d.prototype.Cr=function(a){return this.ia[a].jj};d.prototype.Dr=function(a,e){return this.ia[a].F[e][2]};d.prototype.Uh=function(a){return this.ia[a].ml};d.prototype.hf=
function(a,e,c,b,f,n,h,g,d,u,k,r,m,l,p){var q=this.ia[this.bg],t,x;if(q.$r||p.length){t=this.ob();t.type=10;t.D?Yb(this.xb,t.D):t.D=Xb();x=t.D;x[0]=e;x[1]=c;x[2]=b;x[3]=f;x[4]=n;x[5]=h;x[6]=g;x[7]=d;x[8]=u;x[9]=k;x[10]=r;x[11]=m;x[12]=l;q.jg?t.Wb=a:t.Wb=null;if(p.length)for(c=t.Mn,c.length=p.length,a=0,e=p.length;a<e;a++)c[a]=p[a];this.Sa=!1}};d.prototype.clear=function(a,e,c,b){var f=this.ob();f.type=7;f.Ya=0;f.D||(f.D=Xb());f.D[0]=a;f.D[1]=e;f.D[2]=c;f.D[3]=b;this.Sa=!1};d.prototype.clearRect=function(a,
e,c,b){if(!(0>c||0>b)){var f=this.ob();f.type=7;f.Ya=1;f.D||(f.D=Xb());f.D[0]=a;f.D[1]=e;f.D[2]=c;f.D[3]=b;this.Sa=!1}};d.prototype.In=function(a){if(this.W&&(a=!!a,this.Wf!==a)){var e=this.ob();e.type=14;e.Ya=a?1:0;this.Sa=!1;this.Wf=a;this.Yh=null;this.Wf?this.gb(2):this.gb(0)}};d.prototype.Hn=function(a){if(this.W){var e=this.ob();e.type=13;e.Ya=a?1:0;this.Sa=!1}};d.prototype.Rl=function(){Yb(this.Uj,t);this.Tb();this.Cb();var a=this.width/2,e=this.height/2;this.xg(-a,e,a,e,a,-e,-a,-e);Yb(t,this.xb);
this.Cb()};d.prototype.Gn=function(a,e,c){this.gb(3);var b=this.ob();b.type=12;b.D||(b.D=Xb());b.D[0]=a;b.D[1]=e;b.D[2]=c;b.D[3]=1;this.Sa=!1};d.prototype.it=function(){this.gb(0)};d.prototype.Xs=function(){this.gb(2)};d.prototype.Ts=function(){this.wd();this.k.flush()};var m=[],g={};d.prototype.Xp=function(){N(m);g={}};d.prototype.Bm=function(a,e,c){var b;b=!1;e=!!e;var f=a.src+","+b+","+e+(b?",undefined":""),n=null;if("undefined"!==typeof a.src&&g.hasOwnProperty(f))return n=g[f],n.Tg++,n;this.wd();
var h=this.k,d=ga(a.width)&&ga(a.height),n=h.createTexture();h.bindTexture(h.TEXTURE_2D,n);h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var p=h.RGBA,u=h.RGBA,k=h.UNSIGNED_BYTE;if(c&&!this.Bd)switch(c){case 1:u=p=h.RGB;break;case 2:k=h.UNSIGNED_SHORT_4_4_4_4;break;case 3:k=h.UNSIGNED_SHORT_5_5_5_1;break;case 4:u=p=h.RGB,k=h.UNSIGNED_SHORT_5_6_5}if(!d&&b){c=document.createElement("canvas");c.width=ha(a.width);c.height=ha(a.height);var r=c.getContext("2d");r.webkitImageSmoothingEnabled=e;r.mozImageSmoothingEnabled=
e;r.msImageSmoothingEnabled=e;r.imageSmoothingEnabled=e;r.drawImage(a,0,0,a.width,a.height,0,0,c.width,c.height);h.texImage2D(h.TEXTURE_2D,0,p,u,k,c)}else h.texImage2D(h.TEXTURE_2D,0,p,u,k,a);b?(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.REPEAT),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.REPEAT)):(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE));e?(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.LINEAR),d&&
this.Kl?(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.LINEAR_MIPMAP_LINEAR),h.generateMipmap(h.TEXTURE_2D)):h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.LINEAR)):(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST));h.bindTexture(h.TEXTURE_2D,null);this.Gd=null;n.be=a.width;n.ae=a.height;n.Tg=1;n.zl=f;m.push(n);return g[f]=n};d.prototype.sb=function(a,e,c,b){this.wd();var f=this.k;this.Bd&&(b=!1);var n=f.createTexture();
f.bindTexture(f.TEXTURE_2D,n);f.texImage2D(f.TEXTURE_2D,0,f.RGBA,a,e,0,f.RGBA,b?f.UNSIGNED_SHORT_4_4_4_4:f.UNSIGNED_BYTE,null);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,c?f.LINEAR:f.NEAREST);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,c?f.LINEAR:f.NEAREST);f.bindTexture(f.TEXTURE_2D,null);this.Gd=null;n.be=a;n.ae=e;m.push(n);return n};d.prototype.Ct=function(a,
e,c){this.wd();var b=this.k;this.Bd&&(c=!1);b.bindTexture(b.TEXTURE_2D,e);b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{b.texImage2D(b.TEXTURE_2D,0,b.RGBA,b.RGBA,c?b.UNSIGNED_SHORT_4_4_4_4:b.UNSIGNED_BYTE,a)}catch(f){console&&console.error&&console.error("Error updating WebGL texture: ",f)}b.bindTexture(b.TEXTURE_2D,null);this.Gd=null};d.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.Tg&&1<a.Tg?a.Tg--:(this.wd(),a===this.Gd&&(this.k.bindTexture(this.k.TEXTURE_2D,null),this.Gd=
null),a===this.me&&(this.k.activeTexture(this.k.TEXTURE1),this.k.bindTexture(this.k.TEXTURE_2D,null),this.k.activeTexture(this.k.TEXTURE0),this.me=null),Aa(m,a),"undefined"!==typeof a.zl&&delete g[a.zl],this.k.deleteTexture(a)))};d.prototype.Ub=function(a){if(a!==this.Yh){var e=this.ob();e.type=6;this.Yh=e.Wb=a;this.Sa=!1}};fb=d})();
(function(){function d(b){if(b&&(b.getContext||b.dc)&&!b.c2runtime){b.c2runtime=this;var a=this;this.Ob=(this.rh=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.Uc=!!b.dc;this.es="undefined"!==typeof window.AppMobi||
this.Uc;this.Nb=!!window.c2cocoonjs;this.fc=!!window.c2ejecta;this.Nb&&(CocoonJS.App.onSuspended.addEventListener(function(){a.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){a.setSuspended(!1)}));this.fc&&(document.addEventListener("pagehide",function(){a.setSuspended(!0)}),document.addEventListener("pageshow",function(){a.setSuspended(!1)}),document.addEventListener("resize",function(){a.setSize(window.innerWidth,window.innerHeight)}));this.La=this.Uc||this.Nb||this.fc;this.sh=
/edge\//i.test(navigator.userAgent);this.Bd=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.sh;this.pm=/tizen/i.test(navigator.userAgent);this.mm=/android/i.test(navigator.userAgent)&&!this.pm&&!this.Bd&&!this.sh;this.vs=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.Bd&&!this.sh;this.us=/ipad/i.test(navigator.userAgent);this.xh=this.vs||this.us||this.fc;this.Ij=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.Bd&&!this.sh;this.lm=/amazonwebappplatform/i.test(navigator.userAgent);this.ks=/firefox/i.test(navigator.userAgent);this.Ed="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.tm=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.rs=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.Re=!("undefined"===
typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.Qj=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.rm=!!window.cr_windows10;this.Pj=this.tm||this.rs||this.Qj||this.rm;this.gs=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.nm=this.mm&&!this.Ij&&!this.rh&&!this.ks&&!this.lm&&!this.La;this.devicePixelRatio=1;this.Dd=this.Ob||this.rh||this.es||this.Nb||this.mm||this.xh||this.Re||this.Qj||this.gs||this.pm||this.fc;this.Dd||
(this.Dd=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.Oj=!!(this.xh&&this.Ob&&window.indexedDB);this.fm=null;this.as="";this.Oj&&(this.fm=cordova&&cordova.plugins&&cordova.plugins.CorHttpd?cordova.plugins.CorHttpd:null);"undefined"===typeof cr_is_preview||this.Ed||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||(this.Ed=!0);this.canvas=b;this.Bl=document.getElementById("c2canvasdiv");
this.m=this.k=null;this.xj="(unavailable)";this.W=!1;this.ee=0;this.P=null;this.nj="";this.gh=!1;this.dn=this.en=0;this.canvas.oncontextmenu=function(b){b.preventDefault&&b.preventDefault();return!1};this.canvas.onselectstart=function(b){b.preventDefault&&b.preventDefault();return!1};this.Uc&&(window.c2runtime=this);this.Ed&&(window.ondragover=function(b){b.preventDefault();return!1},window.ondrop=function(b){b.preventDefault();return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());
this.nm&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=b.width;this.height=b.height;this.r=this.width;this.q=this.height;this.Wg=this.width;this.Cf=this.height;this.eg=window.innerWidth;this.dg=window.innerHeight;this.lr=!1;this.S=!0;this.Zf=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.j=[];this.ea=[];this.Xj={};this.hc=[];this.hj={};this.Qc=[];this.qf=[];this.qi=[];this.Np=[];this.Op=[];this.de={};this.Kj=
this.Ad=!1;this.wb=0;this.Jj=this.Mj=!1;this.sc=[];this.Xf=!1;this.Wc=this.Ta=this.Eh=this.Ak="";this.Gg=this.On=!1;this.fh=[];this.vd=this.Je=0;this.Xm=30;this.Yi=this.ng=0;this.Kg=1;this.Pb=new Va;this.wi=new Va;this.Nh=this.jh=this.he=this.Fc=this.oe=this.mj=this.zh=0;this.Vi=null;this.Hl=[];this.gj=[];this.dh=-1;this.bk=[[]];this.Kk=this.Hh=0;this.Xh(null);this.ck=[];this.Fm=-1;this.If=this.an=this.pg=0;this.Hg=[];this.Hk=this.rk=-1;this.yh=!0;this.We=0;this.Yf=!1;this.kt=0;this.wf=null;this.Cd=
this.am=!1;this.cn=new ba;this.fk=new ba;this.gk=new ba;this.An=[];new Ya([]);new Ya([]);this.Ge=[];this.nh={};this.rd={};this.od={};this.pf={};this.wl={};this.Am=this.Dh=this.ma=this.xa=this.zm=this.Ch=this.T=null;this.nf=this.Rj=!1;this.oj=[null,null];this.ie=0;this.Zc={};this.Eg=this.Id=null;this.Pn="";this.Mh=[];this.Ws()}}function q(b,a){return 128>=a?b[3]:256>=a?b[2]:512>=a?b[1]:b[0]}function l(){try{return!!window.indexedDB}catch(b){return!1}}function p(b){b.target.result.createObjectStore("saves",
{keyPath:"slot"})}function t(b,a,f,c){try{var h=indexedDB.open("_C2SaveStates");h.onupgradeneeded=p;h.onerror=c;h.onsuccess=function(h){h=h.target.result;h.onerror=c;h.transaction(["saves"],"readwrite").objectStore("saves").put({slot:b,data:a}).onsuccess=f}}catch(e){c(e)}}function m(b,a,f){try{var c=indexedDB.open("_C2SaveStates");c.onupgradeneeded=p;c.onerror=f;c.onsuccess=function(c){c=c.target.result;c.onerror=f;var h=c.transaction(["saves"]).objectStore("saves").get(b);h.onsuccess=function(){h.result?
a(h.result.data):a(null)}}}catch(h){f(h)}}function g(){w("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function a(b){var a,f={};for(a in b)!b.hasOwnProperty(a)||b[a]instanceof ba||b[a]&&"undefined"!==typeof b[a].Ju||"spriteCreatedDestroyCallback"!==a&&(f[a]=b[a]);return f}var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||
window.msRequestAnimationFrame||window.oRequestAnimationFrame;d.prototype.Ws=function(){var b=this;if(this.Oj)this.fm.startServer({port:0,localhost_only:!0},function(a){b.as=a;b.ir(function(a){b.gg(JSON.parse(a))},function(){alert("Error fetching data.js")})},function(b){alert("error starting local server: "+b)});else{var a;this.Re?a=new ActiveXObject("Microsoft.XMLHTTP"):a=new XMLHttpRequest;var f="data.js";if(this.tm||this.Re||this.Qj||this.rm)f="data.json";a.open("GET",f,!0);var c=!1;if(!this.La&&
"response"in a&&"responseType"in a)try{a.responseType="json",c="json"===a.responseType}catch(h){c=!1}if(!c&&"responseType"in a)try{a.responseType="text"}catch(e){}if("overrideMimeType"in a)try{a.overrideMimeType("application/json; charset=utf-8")}catch(n){}this.Re?a.onreadystatechange=function(){4===a.readyState&&b.gg(JSON.parse(a.responseText))}:(a.onload=function(){if(c)b.gg(a.response);else if(b.fc){var f=a.responseText,f=f.substr(f.indexOf("{"));b.gg(JSON.parse(f))}else b.gg(JSON.parse(a.responseText))},
a.onerror=function(b){da("Error requesting "+f+":");da(b)});a.send()}};d.prototype.ds=function(){var b=this,a,f,c,h,e,n,k,g,r;this.Qe=(!this.La||this.fc||this.Ob)&&this.zt&&!this.nm;0===this.cb&&this.xh&&(this.Qe=!1);this.devicePixelRatio=this.Qe?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.Pa();f=!(!this.lr&&(!this.Ii||this.Ed||this.Pj||this.Re||this.rh||this.Ob||this.lm));0<this.cb&&this.setSize(window.innerWidth,window.innerHeight,
!0);try{this.Bq&&(this.Nb||this.fc||!this.La)&&(a={alpha:f,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.k=this.canvas.getContext("webgl",a)||this.canvas.getContext("experimental-webgl",a))}catch(d){}if(this.k){if(a=this.k.getExtension("WEBGL_debug_renderer_info"))this.xj=this.k.getParameter(a.UNMASKED_RENDERER_WEBGL)+" ["+this.k.getParameter(a.UNMASKED_VENDOR_WEBGL)+"]";this.W&&(this.xj+=" [front-to-back enabled]");this.La||(this.Na=document.createElement("canvas"),jQuery(this.Na).appendTo(this.canvas.parentNode),
this.Na.oncontextmenu=function(){return!1},this.Na.onselectstart=function(){return!1},this.Na.width=Math.round(this.Wg*this.devicePixelRatio),this.Na.height=Math.round(this.Cf*this.devicePixelRatio),jQuery(this.Na).css({width:this.Wg+"px",height:this.Cf+"px"}),this.tn(),this.kk=this.Na.getContext("2d"));this.m=new fb(this.k,this.Dd,this.W);this.m.we(this.canvas.width,this.canvas.height);this.m.Kl=0!==this.tq;this.P=null;this.canvas.addEventListener("webglcontextlost",function(a){a.preventDefault();
b.Fs();w("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){b.m.hm();b.m.we(b.m.width,b.m.height,!0);b.xa=null;b.ma=null;b.oj[0]=null;b.oj[1]=null;b.Gs();b.S=!0;w("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);a=0;for(f=this.j.length;a<f;a++)for(e=this.j[a],c=0,h=e.u.length;c<h;c++)k=e.u[c],k.pa=this.m.wj(k.id),k.jc=this.m.ok(k.pa),this.nf=this.nf||this.m.ug(k.pa);a=0;for(f=this.hc.length;a<f;a++){g=
this.hc[a];c=0;for(h=g.u.length;c<h;c++)k=g.u[c],k.pa=this.m.wj(k.id),k.jc=this.m.ok(k.pa);g.nc();c=0;for(h=g.A.length;c<h;c++){r=g.A[c];e=0;for(n=r.u.length;e<n;e++)k=r.u[e],k.pa=this.m.wj(k.id),k.jc=this.m.ok(k.pa),this.nf=this.nf||this.m.ug(k.pa);r.nc()}}}else{if(0<this.cb&&this.Uc){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.P=AppMobi.canvas.getContext("2d");try{this.P.samplingMode=this.J?"smooth":"sharp",this.P.globalScale=1,this.P.HTML5CompatibilityMode=
!0,this.P.imageSmoothingEnabled=this.J}catch(u){}0!==this.width&&0!==this.height&&(this.P.width=this.width,this.P.height=this.height)}this.P||(this.Nb?(a={antialias:!!this.J,alpha:f},this.P=this.canvas.getContext("2d",a)):(a={alpha:f},this.P=this.canvas.getContext("2d",a)),this.P.webkitImageSmoothingEnabled=this.J,this.P.mozImageSmoothingEnabled=this.J,this.P.msImageSmoothingEnabled=this.J,this.P.imageSmoothingEnabled=this.J);this.kk=this.Na=null}this.Wn=function(a){b.Rd(!1,a)};window==window.top||
this.La||this.Pj||this.Re||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.Nb&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(w("Reloading for continuous preview"),this.Eh="__c2_continuouspreview",this.Gg=!0),this.Ms&&!this.Dd&&(jQuery(window).focus(function(){b.setSuspended(!1)}),jQuery(window).blur(function(){b.setSuspended(!0)})));
window.addEventListener("blur",function(){});this.La||(a=function(b){if(eb(b)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(a){}},window.navigator.pointerEnabled?document.addEventListener("pointerdown",a):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",a):document.addEventListener("touchstart",a),document.addEventListener("mousedown",a));0===this.cb&&this.Qe&&
1<this.devicePixelRatio&&this.setSize(this.za,this.ya,!0);this.ao();this.Xr();this.go();this.V={}};d.prototype.setSize=function(b,a,f){var c=0,h=0,e=0,n=0,n=0;if(this.eg!==b||this.dg!==a||f){this.eg=b;this.dg=a;var k=this.cb,g=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.Yf)&&!this.Ob;if(g||0!==this.cb||f)g&&0<this.ie&&(k=this.ie),f=this.devicePixelRatio,4<=k?(e=this.za/this.ya,b/a>e?(e*=a,5===k?(n=e*f/this.za,1<n?n=Math.floor(n):
1>n&&(n=1/Math.ceil(1/n)),e=this.za*n/f,n=this.ya*n/f,c=(b-e)/2,h=(a-n)/2,b=e,a=n):(c=(b-e)/2,b=e)):(n=b/e,5===k?(n=n*f/this.ya,1<n?n=Math.floor(n):1>n&&(n=1/Math.ceil(1/n)),e=this.za*n/f,n=this.ya*n/f,c=(b-e)/2,h=(a-n)/2,b=e):h=(a-n)/2,a=n),g&&!this.Ed&&(h=c=0)):this.Ed&&this.Yf&&0===this.Sl&&(c=Math.floor((b-this.za)/2),h=Math.floor((a-this.ya)/2),b=this.za,a=this.ya),2>k&&(this.vf=f),this.Wg=Math.round(b),this.Cf=Math.round(a),this.width=Math.round(b*f),this.height=Math.round(a*f),this.S=!0,this.lo?
(this.r=this.width,this.q=this.height,this.tb=!0):this.width<this.za&&this.height<this.ya||1===k?(this.r=this.width,this.q=this.height,this.tb=!0):(this.r=this.za,this.q=this.ya,this.tb=!1,2===k?(e=this.za/this.ya,k=this.eg/this.dg,k<e?this.r=this.q*k:k>e&&(this.q=this.r/k)):3===k&&(e=this.za/this.ya,k=this.eg/this.dg,k>e?this.r=this.q*k:k<e&&(this.q=this.r/k))),this.Bl&&!this.La&&(jQuery(this.Bl).css({width:Math.round(b)+"px",height:Math.round(a)+"px","margin-left":Math.floor(c)+"px","margin-top":Math.floor(h)+
"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(b)+"px",height:Math.round(a)+"px"})),this.canvas&&(this.canvas.width=Math.round(b*f),this.canvas.height=Math.round(a*f),this.fc?(this.canvas.style.left=Math.floor(c)+"px",this.canvas.style.top=Math.floor(h)+"px",this.canvas.style.width=Math.round(b)+"px",this.canvas.style.height=Math.round(a)+"px"):this.Qe&&!this.La&&(this.canvas.style.width=Math.round(b)+"px",this.canvas.style.height=Math.round(a)+"px")),this.Na&&
(this.Na.width=Math.round(b*f),this.Na.height=Math.round(a*f),this.Na.style.width=this.Wg+"px",this.Na.style.height=this.Cf+"px"),this.m&&this.m.we(Math.round(b*f),Math.round(a*f)),this.Uc&&this.P&&(this.P.width=Math.round(b),this.P.height=Math.round(a)),this.P&&(this.P.webkitImageSmoothingEnabled=this.J,this.P.mozImageSmoothingEnabled=this.J,this.P.msImageSmoothingEnabled=this.J,this.P.imageSmoothingEnabled=this.J),this.ao()}};d.prototype.ao=function(){if(this.Qp&&0!==this.jk){var b="portrait";2===
this.jk&&(b="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(b):screen.lockOrientation?screen.lockOrientation(b):screen.webkitLockOrientation?screen.webkitLockOrientation(b):screen.mozLockOrientation?screen.mozLockOrientation(b):screen.msLockOrientation&&screen.msLockOrientation(b)}catch(a){console&&console.warn&&console.warn("Failed to lock orientation: ",a)}}};d.prototype.Fs=function(){this.m.Xp();this.Rj=!0;var b,a,f;b=0;for(a=this.j.length;b<a;b++)f=this.j[b],
f.hk&&f.hk()};d.prototype.Gs=function(){this.Rj=!1;var b,a,f;b=0;for(a=this.j.length;b<a;b++)f=this.j[b],f.jn&&f.jn()};d.prototype.tn=function(){if(!this.La){var b=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.Yf)&&!this.Ob?jQuery(this.canvas).offset():jQuery(this.canvas).position();b.position="absolute";jQuery(this.Na).css(b)}};var c=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||
window.oCancelAnimationFrame;d.prototype.setSuspended=function(b){var a;if(b&&!this.Zf)for(w("[Construct 2] Suspending"),this.Zf=!0,-1!==this.rk&&c&&c(this.rk),-1!==this.Hk&&clearTimeout(this.Hk),b=0,a=this.Hg.length;b<a;b++)this.Hg[b](!0);else if(!b&&this.Zf){w("[Construct 2] Resuming");this.Zf=!1;this.zh=T();this.oe=T();b=this.ng=this.jh=0;for(a=this.Hg.length;b<a;b++)this.Hg[b](!1);this.Rd(!1)}};d.prototype.Lp=function(b){this.Hg.push(b)};d.prototype.ld=function(b){return this.Mh[b]};d.prototype.gg=
function(b){b&&b.project||da("Project model unavailable");b=b.project;this.name=b[0];this.Ql=b[1];this.cb=b[12];this.Sl=b[12];this.za=b[10];this.ya=b[11];this.nn=this.za/2;this.pn=this.ya/2;this.La&&!this.fc&&(4<=b[12]||0===b[12])&&(w("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.Sl=this.cb=3);this.Qk=b[18];this.Jd=b[19];if(0===this.Jd){var a=new Image;a.crossOrigin="anonymous";this.Jn(a,"loading-logo.png");this.Id={Ih:a}}else if(4===
this.Jd){a=new Image;a.src="";var f=new Image;f.src="";var c=new Image;c.src="";var h=new Image;h.src="";var e=new Image;e.src="";var n=new Image;n.src="";var k=new Image;k.src="";var g=new Image;g.src="";var r=new Image;r.src="";var d=new Image;d.src="";var u=new Image;u.src="";var v=new Image;v.src="";this.Id={Ih:[a,f,c,h],Qs:[e,n,k,g],Et:[r,d,u,v]}}this.pg=b[21];this.Mh=bc();this.Ec=new W(this);a=0;for(f=b[2].length;a<f;a++)k=b[2][a],c=this.ld(k[0]),gb(k,c.prototype),g=new c(this),g.gi=k[1],g.Fd=
k[2],g.Ym=k[9],g.R&&g.R(),this.plugins.push(g);this.Mh=bc();a=0;for(f=b[3].length;a<f;a++){k=b[3][a];e=this.ld(k[1]);g=null;c=0;for(h=this.plugins.length;c<h;c++)if(this.plugins[c]instanceof e){g=this.plugins[c];break}r=new g.Ba(g);r.name=k[0];r.G=k[2];r.Gj=k[3].slice(0);r.Bt=k[3].length;r.Rp=k[4];r.mr=k[5];r.H=k[11];r.G?(r.Lh=[],r.Rc=this.If++,r.ba=null):(r.Lh=null,r.Rc=-1,r.ba=[]);r.eh=null;r.Me=null;r.Ll=null;r.Wa=!1;r.ib=null;k[6]?(r.Un=k[6][0],r.Vn=k[6][1],r.nt=k[6][2]):(r.Un=null,r.Vn=0,r.nt=
0);k[7]?r.bb=k[7]:r.bb=null;r.index=a;r.d=[];r.$g=[];r.ed=[new hb(r)];r.tc=0;r.Kb=null;r.bq=0;r.kf=!0;r.ri=ib;r.sr=jb;r.Ar=kb;r.L=lb;r.wg=mb;r.Wh=nb;r.ve=ob;r.kh=pb;r.pj=qb;r.sj=rb;r.Ic=sb;r.tj=tb;r.Cl=new Za(this.za,this.ya);r.nl=!0;r.ol=!1;r.V={};r.toString=ub;r.ea=[];c=0;for(h=k[8].length;c<h;c++){d=k[8][c];u=this.ld(d[1]);v=null;e=0;for(n=this.ea.length;e<n;e++)if(this.ea[e]instanceof u){v=this.ea[e];break}v||(v=new u(this),v.Zm=[],v.ek=new ba,v.R&&v.R(),this.ea.push(v));-1===v.Zm.indexOf(r)&&
v.Zm.push(r);e=new v.Ba(v,r);e.name=d[0];e.H=d[2];e.R();r.ea.push(e)}r.global=k[9];r.Lj=k[10];r.u=[];c=0;for(h=k[12].length;c<h;c++)r.u.push({id:k[12][c][0],name:k[12][c][1],pa:-1,jc:!1,pb:!0,index:c});r.lv=k[13];this.Qk&&!r.G&&!r.Lj&&g.Fd||r.R();r.name&&(this.types[r.name]=r);this.j.push(r);g.gi&&(c=new g.ka(r),c.uid=this.pg++,c.xn=this.an++,c.ke=0,c.Of=vb,c.toString=wb,c.X=k[14],c.R(),r.d.push(c),this.Zc[c.uid.toString()]=c)}a=0;for(f=b[4].length;a<f;a++)for(e=b[4][a],n=this.j[e[0]],c=1,h=e.length;c<
h;c++)k=this.j[e[c]],k.ba.push(n),n.Lh.push(k);a=0;for(f=b[28].length;a<f;a++){e=b[28][a];n=[];c=0;for(h=e.length;c<h;c++)n.push(this.j[e[c]]);c=0;for(h=n.length;c<h;c++)n[c].Wa=!0,n[c].ib=n}if(0<this.If)for(a=0,f=this.j.length;a<f;a++)if(k=this.j[a],!k.G&&k.ba.length){k.eh=Array(this.If);k.Me=Array(this.If);k.Ll=Array(this.If);r=[];c=v=u=d=0;for(h=k.ba.length;c<h;c++)for(g=k.ba[c],k.eh[g.Rc]=d,d+=g.Bt,k.Me[g.Rc]=u,u+=g.Rp,k.Ll[g.Rc]=v,v+=g.mr,e=0,n=g.u.length;e<n;e++)r.push(ua({},g.u[e]));k.u=r.concat(k.u);
c=0;for(h=k.u.length;c<h;c++)k.u[c].index=c}a=0;for(f=b[5].length;a<f;a++)k=b[5][a],c=new xb(this,k),this.Xj[c.name]=c,this.hc.push(c);a=0;for(f=b[6].length;a<f;a++)k=b[6][a],c=new yb(this,k),this.hj[c.name]=c,this.Qc.push(c);a=0;for(f=this.Qc.length;a<f;a++)this.Qc[a].la();a=0;for(f=this.Qc.length;a<f;a++)this.Qc[a].Nk();a=0;for(f=this.qi.length;a<f;a++)this.qi[a].la();N(this.qi);this.Pp=b[7];this.bd=b[9];this.vf=1;this.Bq=b[13];this.J=b[14];this.Ii=b[15];this.zt=b[17];this.jk=b[20];this.Qp=0<this.jk;
this.Ms=b[22];this.tb=this.lo=b[23];this.tq=b[24];this.Rs=b[25];this.W=b[27]&&!this.Bd;this.hi=Date.now();N(this.Mh);this.ds()};var b=!1;d.prototype.Dt=function(a,f){a.cocoonLazyLoad=!0;a.onerror=function(f){b=a.yl=!0;console&&console.error&&console.error("Error loading image '"+a.src+"': ",f)};this.fc?a.src=f:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(f,function(b){a.src=b},function(c){b=a.yl=!0;console&&console.error&&console.error("Error extracting image '"+f+"' from expansion file: ",
c)}):(a.crossOrigin="anonymous",this.Jn(a,f)));this.qf.push(a)};d.prototype.kr=function(b){var a,f;a=0;for(f=this.qf.length;a<f;a++)if(this.qf[a].Zp===b)return this.qf[a];return null};var f=0,n=!1;d.prototype.Xr=function(){this.wf&&(f=this.wf.iv(this.Pp))};d.prototype.pl=function(){var b=f,a=0,c=0,h=!0,e,k,c=0;for(e=this.qf.length;c<e;c++){k=this.qf[c];var g=k.Yp;if(!g||0>=g)g=5E4;b+=g;k.src&&(k.complete||k.loaded)&&!k.yl?a+=g:h=!1}h&&this.Rs&&this.wf&&(n||(this.wf.jv(),n=!0),c=this.wf.Nu(),a+=c,
c<f&&(h=!1));this.kc=0==b?1:a/b;return h};var h=!1;d.prototype.go=function(){if(this.P||this.m){var a=this.P||this.kk;this.Na&&this.tn();this.kc=0;this.ym=-1;var f=this;if(this.pl()&&(4!==this.Jd||h))this.Yr();else{var c=Date.now()-this.hi;if(a){var k=this.width,n=this.height,g=this.devicePixelRatio;if(3>this.Jd&&(this.Nb||500<=c&&this.ym!=this.kc)){a.clearRect(0,0,k,n);var c=k/2,n=n/2,k=0===this.Jd&&this.Id.Ih.complete,r=40*g,d=0,u=80*g,v;if(k){var m=this.Id.Ih,u=m.width*g;v=m.height*g;r=u/2;d=v/
2;a.drawImage(m,J(c-r),J(n-d),u,v)}1>=this.Jd?(c=J(c-r)+.5,n=J(n+(d+(k?12*g:0)))+.5,a.fillStyle=b?"red":"DodgerBlue",a.fillRect(c,n,Math.floor(u*this.kc),6*g),a.strokeStyle="black",a.strokeRect(c,n,u,6*g),a.strokeStyle="white",a.strokeRect(c-1*g,n-1*g,u+2*g,8*g)):2===this.Jd&&(a.font=this.fc?"12pt ArialMT":"12pt Arial",a.fillStyle=b?"#f00":"#999",a.kv="middle",g=Math.round(100*this.kc)+"%",k=a.measureText?a.measureText(g):null,a.fillText(g,c-(k?k.width:0)/2,n));this.ym=this.kc}else if(4===this.Jd){this.yq(a);
e?e(function(){f.go()}):setTimeout(function(){f.go()},16);return}}setTimeout(function(){f.go()},this.Nb?10:100)}}};var v=-1,E="undefined"===typeof cr_is_preview?200:0,u=!0,k=!1,r=0,Fa=0,ka="undefined"===typeof cr_is_preview?3E3:0,L=null,M=null,P=0;d.prototype.yq=function(a){if(!h){for(var f=Math.ceil(this.width),c=Math.ceil(this.height),e=this.Id.Ih,n=this.Id.Qs,g=this.Id.Et,d=0;4>d;++d)if(!e[d].complete||!n[d].complete||!g[d].complete)return;0===P&&(v=Date.now());var d=Date.now(),m=!1,p=a,l,t;u||
k?(a.clearRect(0,0,f,c),L&&L.width===f&&L.height===c||(L=document.createElement("canvas"),L.width=f,L.height=c,M=L.getContext("2d")),p=M,m=!0,u&&1===P&&(v=Date.now())):a.globalAlpha=1;p.fillStyle="#333333";p.fillRect(0,0,f,c);256<this.Cf?(l=Ba(.22*c,105,.6*f),t=.25*l,p.drawImage(q(n,l),.5*f-l/2,.2*c-t/2,l,t),t=l=Math.min(.395*c,.95*f),p.drawImage(q(e,l),.5*f-l/2,.485*c-t/2,l,t),l=Ba(.22*c,105,.6*f),t=.25*l,p.drawImage(q(g,l),.5*f-l/2,.868*c-t/2,l,t),p.fillStyle="#3C3C3C",l=f,t=Math.max(.005*c,2),
p.fillRect(0,.8*c-t/2,l,t),p.fillStyle=b?"red":"#E0FF65",l=f*this.kc,p.fillRect(.5*f-l/2,.8*c-t/2,l,t)):(t=l=.55*c,p.drawImage(q(e,l),.5*f-l/2,.45*c-t/2,l,t),p.fillStyle="#3C3C3C",l=f,t=Math.max(.005*c,2),p.fillRect(0,.85*c-t/2,l,t),p.fillStyle=b?"red":"#E0FF65",l=f*this.kc,p.fillRect(.5*f-l/2,.85*c-t/2,l,t));m&&(u?a.globalAlpha=0===P?0:Math.min((d-v)/300,1):k&&(a.globalAlpha=Math.max(1-(d-Fa)/300,0)),a.drawImage(L,0,0,f,c));u&&300<=d-v&&2<=P&&(u=!1,r=d);!u&&d-r>=ka&&!k&&1<=this.kc&&(k=!0,Fa=d);if(k&&
d-Fa>=300+E||"undefined"!==typeof cr_is_preview&&1<=this.kc&&500>Date.now()-v)h=!0,k=u=!1,this.Id=M=L=null;++P}};d.prototype.Yr=function(){this.Na&&(this.canvas.parentNode.removeChild(this.Na),this.Na=this.kk=null);this.hi=Date.now();this.oe=T();var b,a,f;if(this.Qk)for(b=0,a=this.j.length;b<a;b++)f=this.j[b],f.G||f.Lj||!f.N.Fd||f.R();else this.yh=!1;b=0;for(a=this.hc.length;b<a;b++)this.hc[b].$p();2<=this.cb&&(b=this.za/this.ya,a=this.width/this.height,this.vf=2!==this.cb&&a>b||2===this.cb&&a<b?
this.height/this.ya:this.width/this.za);this.Ql?this.Xj[this.Ql].Ek():this.hc[0].Ek();this.Qk||(this.We=1,this.trigger(W.prototype.e.Xk,null));navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();b=0;for(a=this.j.length;b<a;b++)f=this.j[b],f.Es&&f.Es();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.Rd(!1);this.Uc&&AppMobi.webview.execute("onGameReady();")};d.prototype.Rd=function(b,a,f){if(this.T){var c=T();
if(f||!this.Zf||b){b||(e?this.rk=e(this.Wn):this.Hk=setTimeout(this.Wn,this.Dd?1:16));a=a||c;var h=this.cb;((f=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.Ob)||this.Yf)&&0<this.ie&&(h=this.ie);if(0<h){var h=window.innerWidth,k=window.innerHeight;this.eg===h&&this.dg===k||this.setSize(h,k)}this.La||(f?(this.gh||(this.nj=jQuery(this.canvas).css("margin")||"0",this.gh=!0),this.Ij||this.Ed||jQuery(this.canvas).css({"margin-left":""+
Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.gh?(this.Ij||this.Ed||jQuery(this.canvas).css("margin",this.nj),this.nj="",this.gh=!1,0===this.cb&&this.setSize(Math.round(this.en/this.devicePixelRatio),Math.round(this.dn/this.devicePixelRatio),!0)):(this.en=this.width,this.dn=this.height));this.yh&&(f=this.pl(),this.We=this.kc,f&&(this.yh=!1,this.kc=1,this.trigger(W.prototype.e.Xk,null)));
this.zs(a);!this.S&&!this.Nb||this.Rj||this.Gg||b||(this.S=!1,this.m?this.Lb():this.Pc(),this.Eg&&(this.canvas&&this.canvas.toDataURL&&(this.Pn=this.canvas.toDataURL(this.Eg[0],this.Eg[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.Pn),this.trigger(W.prototype.e.Yo,null)),this.Eg=null));this.Ou||(this.Fc++,this.he++,this.jh++);this.ng+=T()-c}}};d.prototype.zs=function(b){var a,f,c,h,e,k,n,g;1E3<=b-this.oe&&(this.oe+=1E3,1E3<=b-this.oe&&(this.oe=b),this.mj=this.jh,this.jh=0,this.Yi=this.ng,this.ng=
0);0!==this.zh&&(a=b-this.zh,0>a&&(a=0),this.vd=a/1E3,.5<this.vd?this.vd=0:this.vd>1/this.Xm&&(this.vd=1/this.Xm));this.zh=b;this.Je=this.vd*this.Kg;this.Pb.add(this.Je);this.wi.add(this.vd);b=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.Yf)&&!this.Ob;2<=this.cb||b&&0<this.ie?(a=this.za/this.ya,f=this.width/this.height,c=this.cb,b&&0<this.ie&&(c=this.ie),this.vf=2!==c&&f>a||2===c&&f<a?this.height/this.ya:this.width/this.za,this.T&&
(this.T.Dn(this.T.scrollX),this.T.En(this.T.scrollY))):this.vf=this.Qe?this.devicePixelRatio:1;this.Pa();this.wb++;this.Ec.$s();this.wb--;this.Pa();this.wb++;f=this.cn.Td();b=0;for(a=f.length;b<a;b++)f[b].av();b=0;for(a=this.j.length;b<a;b++)if(k=this.j[b],!k.G&&(k.ea.length||k.ba.length))for(f=0,c=k.d.length;f<c;f++)for(n=k.d[f],h=0,e=n.C.length;h<e;h++)n.C[h].Rd();b=0;for(a=this.j.length;b<a;b++)if(k=this.j[b],!k.G&&(k.ea.length||k.ba.length))for(f=0,c=k.d.length;f<c;f++)for(n=k.d[f],h=0,e=n.C.length;h<
e;h++)g=n.C[h],g.Ps&&g.Ps();f=this.fk.Td();b=0;for(a=f.length;b<a;b++)f[b].Rd();this.wb--;this.Zr();for(b=0;this.Vi&&10>b++;)this.Jl(this.Vi);b=0;for(a=this.Qc.length;b<a;b++)this.Qc[b].Aj=!1;this.T.fe&&this.T.fe.na();N(this.An);this.wb++;b=0;for(a=this.j.length;b<a;b++)if(k=this.j[b],!k.G&&(k.ea.length||k.ba.length))for(f=0,c=k.d.length;f<c;f++)for(n=k.d[f],h=0,e=n.C.length;h<e;h++)g=n.C[h],g.Gk&&g.Gk();f=this.gk.Td();b=0;for(a=f.length;b<a;b++)f[b].Gk();this.wb--};d.prototype.Jl=function(b){var a=
this.T;this.T.mt();var f,c,h;if(this.m)for(f=0,c=this.j.length;f<c;f++)h=this.j[f],h.G||!h.eo||h.global&&0!==h.d.length||-1!==b.Vf.indexOf(h)||h.eo();a==b&&N(this.Ec.Va);N(this.An);this.Bn(!0);b.Ek();this.Bn(!1);this.S=!0;this.Pa()};d.prototype.Bn=function(b){var a,f,c,h,e,k,n,g,r;a=0;for(f=this.ea.length;a<f;a++)c=this.ea[a],b?c.qg&&c.qg():c.sg&&c.sg();a=0;for(f=this.j.length;a<f;a++)if(c=this.j[a],c.global||c.N.gi)for(h=0,e=c.d.length;h<e;h++)if(k=c.d[h],b?k.qg&&k.qg():k.sg&&k.sg(),k.C)for(n=0,
g=k.C.length;n<g;n++)r=k.C[n],b?r.qg&&r.qg():r.sg&&r.sg()};d.prototype.Jg=function(b){this.fk.add(b)};d.prototype.ot=function(b){this.gk.add(b)};d.prototype.Wl=function(b){return b&&-1!==b.og?this.vd*b.og:this.Je};d.prototype.Pc=function(){this.T.Pc(this.P);this.Uc&&this.P.present()};d.prototype.Lb=function(){this.W&&(this.ee=1,this.T.Ie(this.m));this.T.Lb(this.m);this.m.Ts()};d.prototype.$l=function(b){b=b.toString();return this.Zc.hasOwnProperty(b)?this.Zc[b]:null};var x=[];d.prototype.Ae=function(b){var a,
f;a=b.type.name;var c=null;if(this.de.hasOwnProperty(a)){if(c=this.de[a],c.contains(b))return}else c=x.length?x.pop():new ba,this.de[a]=c;c.add(b);this.Ad=!0;if(b.Wa)for(a=0,f=b.siblings.length;a<f;a++)this.Ae(b.siblings[a]);this.Kj&&c.of.push(b);this.Jj||(this.wb++,this.trigger(Object.getPrototypeOf(b.type.N).e.Zo,b),this.wb--)};d.prototype.Pa=function(){if(this.Ad){var b,a,f,c,h,e;this.Kj=!0;f=0;for(h=this.sc.length;f<h;++f)for(b=this.sc[f],a=b.type,a.d.push(b),c=0,e=a.ba.length;c<e;++c)a.ba[c].d.push(b),
a.ba[c].kf=!0;N(this.sc);this.No();Ra(this.de);this.Ad=this.Kj=!1}};d.prototype.No=function(){for(var b in this.de)this.de.hasOwnProperty(b)&&this.so(this.de[b])};d.prototype.so=function(b){var a=b.Td(),f=a[0].type,c,h,e,k,n,g;Sa(f.d,b);f.kf=!0;0===f.d.length&&(f.ol=!1);c=0;for(h=f.ba.length;c<h;++c)g=f.ba[c],Sa(g.d,b),g.kf=!0;c=0;for(h=this.Ec.Va.length;c<h;++c)if(n=this.Ec.Va[c],n.Xa.hasOwnProperty(f.index)&&Sa(n.Xa[f.index].Tc,b),!f.G)for(e=0,k=f.ba.length;e<k;++e)g=f.ba[e],n.Xa.hasOwnProperty(g.index)&&
Sa(n.Xa[g.index].Tc,b);if(n=a[0].g){if(n.Db)for(e=n.d,c=0,h=e.length;c<h;++c)k=e[c],b.contains(k)&&(k.qa(),n.Oa.update(k,k.eb,null),k.eb.set(0,0,-1,-1));Sa(n.d,b);n.Ag(0)}for(c=0;c<a.length;++c)this.ro(a[c],f);b.clear();x.push(b);this.S=!0};d.prototype.ro=function(b,a){var f,c,h;f=0;for(c=this.Hl.length;f<c;++f)this.Hl[f](b);b.sd&&a.Cl.update(b,b.sd,null);(f=b.g)&&f.df(b,!0);if(b.C)for(f=0,c=b.C.length;f<c;++f)h=b.C[f],h.rg&&h.rg(),h.behavior.ek.remove(b);this.cn.remove(b);this.fk.remove(b);this.gk.remove(b);
b.rg&&b.rg();this.Zc.hasOwnProperty(b.uid.toString())&&delete this.Zc[b.uid.toString()];this.Nh--;100>a.$g.length&&a.$g.push(b)};d.prototype.Zi=function(b,a,f,c){if(b.G){var h=J(Math.random()*b.Lh.length);return this.Zi(b.Lh[h],a,f,c)}return b.Kb?this.td(b.Kb,a,!1,f,c,!1):null};var B=[];d.prototype.td=function(b,a,f,c,h,e){var k,n,g,r;if(!b)return null;var d=this.j[b[1]],u=d.N.Fd;if(this.yh&&u&&!d.Lj||u&&!this.m&&11===b[0][11])return null;var v=a;u||(a=null);var m;d.$g.length?(m=d.$g.pop(),m.yb=!0,
d.N.ka.call(m,d)):(m=new d.N.ka(d),m.yb=!1);!f||e||this.Zc.hasOwnProperty(b[2].toString())?m.uid=this.pg++:m.uid=b[2];this.Zc[m.uid.toString()]=m;m.xn=this.an++;m.ke=d.d.length;k=0;for(n=this.sc.length;k<n;++k)this.sc[k].type===d&&m.ke++;m.Of=vb;m.toString=wb;g=b[3];if(m.yb)Ra(m.V);else{m.V={};if("undefined"!==typeof cr_is_preview)for(m.km=[],m.km.length=g.length,k=0,n=g.length;k<n;k++)m.km[k]=g[k][1];m.ua=[];m.ua.length=g.length}k=0;for(n=g.length;k<n;k++)m.ua[k]=g[k][0];if(u){var l=b[0];m.x=ea(c)?
l[0]:c;m.y=ea(h)?l[1]:h;m.z=l[2];m.width=l[3];m.height=l[4];m.depth=l[5];m.i=l[6];m.opacity=l[7];m.lb=l[8];m.mb=l[9];m.Qa=l[10];k=l[11];!this.m&&d.u.length&&(m.Qa=k);m.yf=ab(m.Qa);this.k&&bb(m,m.Qa,this.k);if(m.yb){k=0;for(n=l[12].length;k<n;k++)for(g=0,r=l[12][k].length;g<r;g++)m.fa[k][g]=l[12][k][g];m.Fa.set(0,0,0,0);m.sd.set(0,0,-1,-1);m.eb.set(0,0,-1,-1);m.$d.ei(m.Fa);N(m.Mi)}else{m.fa=l[12].slice(0);k=0;for(n=m.fa.length;k<n;k++)m.fa[k]=l[12][k].slice(0);m.K=[];m.nd=[];m.nd.length=d.u.length;
m.Fa=new K(0,0,0,0);m.sd=new K(0,0,-1,-1);m.eb=new K(0,0,-1,-1);m.$d=new ta;m.Mi=[];m.oa=zb;m.Iu=Ab;m.rb=Bb;m.qa=Cb;m.yt=Db;m.nv=Eb;m.vc=Fb}m.tt=!1;m.wt=0;m.ut=0;m.qt=null;14===l.length&&(m.tt=!0,m.wt=l[13][0],m.ut=l[13][1],m.qt=l[13][2]);k=0;for(n=d.u.length;k<n;k++)m.nd[k]=!0;m.cd=!0;m.nc=Gb;m.nc();m.jo=!!m.K.length;m.Li=!0;m.Ri=!0;d.nl=!0;m.visible=!0;m.og=-1;m.g=a;m.oc=a.d.length;m.ee=0;"undefined"===typeof m.qc&&(m.qc=null);this.S=m.xf=!0}var p;N(B);k=0;for(n=d.ba.length;k<n;k++)B.push.apply(B,
d.ba[k].ea);B.push.apply(B,d.ea);if(m.yb)for(k=0,n=B.length;k<n;k++){var q=B[k];p=m.C[k];p.yb=!0;q.behavior.ka.call(p,q,m);l=b[4][k];g=0;for(r=l.length;g<r;g++)p.X[g]=l[g];p.R();q.behavior.ek.add(m)}else for(m.C=[],k=0,n=B.length;k<n;k++)q=B[k],p=new q.behavior.ka(q,m),p.yb=!1,p.X=b[4][k].slice(0),p.R(),m.C.push(p),q.behavior.ek.add(m);l=b[5];if(m.yb)for(k=0,n=l.length;k<n;k++)m.X[k]=l[k];else m.X=l.slice(0);this.sc.push(m);this.Ad=!0;a&&(a.uf(m,!0),1!==a.$c||1!==a.ad)&&(d.ol=!0);this.Nh++;if(d.Wa){if(m.Wa=
!0,m.yb?N(m.siblings):m.siblings=[],!f&&!e){k=0;for(n=d.ib.length;k<n;k++)if(d.ib[k]!==d){if(!d.ib[k].Kb)return null;m.siblings.push(this.td(d.ib[k].Kb,v,!1,u?m.x:c,u?m.y:h,!0))}k=0;for(n=m.siblings.length;k<n;k++)for(m.siblings[k].siblings.push(m),g=0;g<n;g++)k!==g&&m.siblings[k].siblings.push(m.siblings[g])}}else m.Wa=!1,m.siblings=null;m.R();k=0;for(n=m.C.length;k<n;k++)m.C[k].Os&&m.C[k].Os();return m};d.prototype.uj=function(b){var a,f;a=0;for(f=this.T.A.length;a<f;a++){var c=this.T.A[a];if(db(c.name,
b))return c}return null};d.prototype.Mf=function(b){b=J(b);0>b&&(b=0);b>=this.T.A.length&&(b=this.T.A.length-1);return this.T.A[b]};d.prototype.Wi=function(b){var a,f;a=0;for(f=b.length;a<f;a++)b[a].L().O=!0};d.prototype.wg=function(b){var a,f;a=0;for(f=b.length;a<f;a++)b[a].wg()};d.prototype.Wh=function(b){var a,f;a=0;for(f=b.length;a<f;a++)b[a].Wh()};d.prototype.ve=function(b){var a,f;a=0;for(f=b.length;a<f;a++)b[a].ve()};d.prototype.li=function(b,a,f){var c=b.L(),k,h,e,n,g,r;if(c.O)for(c.O=!1,
N(c.d),k=0,n=b.d.length;k<n;k++)e=b.d[k],e.qa(),g=e.g.Ga(a,f,!0),r=e.g.Ga(a,f,!1),e.rb(g,r)&&c.d.push(e);else{k=h=0;for(n=c.d.length;k<n;k++)e=c.d[k],e.qa(),g=e.g.Ga(a,f,!0),r=e.g.Ga(a,f,!1),e.rb(g,r)&&(c.d[h]=c.d[k],h++);c.d.length=h}b.Ic();return c.zj()};new ta;new K(0,0,0,0);d.prototype.bo=function(b,a){if(!a)return!1;var f,c,k,h,e;f=0;for(c=b.ea.length;f<c;f++)if(b.ea[f].behavior instanceof a)return!0;if(!b.G)for(f=0,c=b.ba.length;f<c;f++)for(e=b.ba[f],k=0,h=e.ea.length;k<h;k++)if(e.ea[k].behavior instanceof
a)return!0;return!1};d.prototype.Lk=function(b){return this.bo(b,Ub.gu)};d.prototype.Mk=function(b){return this.bo(b,Ub.hu)};var C=-1;d.prototype.trigger=function(b,a,f){if(!this.T)return!1;var c=this.T.fe;if(!c)return!1;var k=!1,h,e,n;C++;var g=c.cj;e=0;for(n=g.length;e<n;++e)h=this.Yn(b,a,g[e],f),k=k||h;h=this.Yn(b,a,c,f);C--;return k||h};d.prototype.Yn=function(b,a,f,c){var k=!1,h,e,n,g;if(a)for(n=this.Jk(b,a,a.type.name,f,c),k=k||n,g=a.type.ba,h=0,e=g.length;h<e;++h)n=this.Jk(b,a,g[h].name,f,
c),k=k||n;else n=this.Jk(b,a,"system",f,c),k=k||n;return k};d.prototype.Jk=function(b,a,f,c,k){var h,e=!1,n=!1,n="undefined"!==typeof k,g=(n?c.Nl:c.$n)[f];if(!g)return e;var r=null;c=0;for(h=g.length;c<h;++c)if(g[c].method==b){r=g[c].Ff;break}if(!r)return e;var d;n?d=r[k]:d=r;if(!d)return null;c=0;for(h=d.length;c<h;c++)b=d[c][0],k=d[c][1],n=this.gr(a,f,b,k),e=e||n;return e};d.prototype.gr=function(b,a,f,c){var k,h,e=!1;this.Kk++;var n=this.Ka().Ia;n&&this.wg(n.Qd);var g=1<this.Kk;this.wg(f.Qd);g&&
this.Vs();var r=this.Xh(f);r.Ia=f;b&&(k=this.types[a].L(),k.O=!1,N(k.d),k.d[0]=b,this.types[a].Ic());b=!0;if(f.parent){a=r.Rn;for(k=f.parent;k;)a.push(k),k=k.parent;a.reverse();k=0;for(h=a.length;k<h;k++)if(!a[k].ct()){b=!1;break}}b&&(this.he++,f.ic?f.bt(c):f.na(),e=e||r.ne);this.Th();g&&this.Ns();this.ve(f.Qd);n&&this.ve(n.Qd);this.Ad&&0===this.wb&&0===C&&!this.Mj&&this.Pa();this.Kk--;return e};d.prototype.qr=function(){var b=this.Ka();return b.Ia.ta[b.ra]};d.prototype.pr=function(){var b=this.Ka();
return b.Ia.Eb[b.ab]};d.prototype.Vs=function(){this.Hh++;this.Hh>=this.bk.length&&this.bk.push([])};d.prototype.Ns=function(){this.Hh--};d.prototype.Vl=function(){return this.bk[this.Hh]};d.prototype.Xh=function(b){this.dh++;this.dh>=this.gj.length&&this.gj.push(new Hb);var a=this.Ka();a.reset(b);return a};d.prototype.Th=function(){this.dh--};d.prototype.Ka=function(){return this.gj[this.dh]};d.prototype.rr=function(){return this.ck[this.Fm]};d.prototype.Xl=function(b,a){for(var f,c,k,h,e,n;a;){f=
0;for(c=a.Vb.length;f<c;f++)if(n=a.Vb[f],n instanceof Ib&&db(b,n.name))return n;a=a.parent}f=0;for(c=this.Qc.length;f<c;f++)for(e=this.Qc[f],k=0,h=e.xd.length;k<h;k++)if(n=e.xd[k],n instanceof Ib&&db(b,n.name))return n;return null};d.prototype.Yl=function(b){var a,f;a=0;for(f=this.hc.length;a<f;a++)if(this.hc[a].H===b)return this.hc[a];return null};d.prototype.mh=function(b){var a,f;a=0;for(f=this.j.length;a<f;a++)if(this.j[a].H===b)return this.j[a];return null};d.prototype.tr=function(b){var a,f;
a=0;for(f=this.Ge.length;a<f;a++)if(this.Ge[a].H===b)return this.Ge[a];return null};d.prototype.cq=function(b,a){this.Eg=[b,a];this.S=!0};d.prototype.Zr=function(){var b=this,a=this.Ak,f=this.Wc,c=this.Eh,k=!1;this.On&&(k=!0,a="__c2_continuouspreview",this.On=!1);if(a.length){this.Pa();f=this.gt();if(l()&&!this.Nb)t(a,f,function(){w("Saved state to IndexedDB storage ("+f.length+" bytes)");b.Wc=f;b.trigger(W.prototype.e.Ei,null);b.Wc="";k&&g()},function(c){try{localStorage.setItem("__c2save_"+a,f),
w("Saved state to WebStorage ("+f.length+" bytes)"),b.Wc=f,b.trigger(W.prototype.e.Ei,null),b.Wc="",k&&g()}catch(h){w("Failed to save game state: "+c+"; "+h)}});else try{localStorage.setItem("__c2save_"+a,f),w("Saved state to WebStorage ("+f.length+" bytes)"),b.Wc=f,this.trigger(W.prototype.e.Ei,null),b.Wc="",k&&g()}catch(h){w("Error saving to WebStorage: "+h)}this.Ta=this.Eh=this.Ak=""}if(c.length){if(l()&&!this.Nb)m(c,function(a){a?(b.Ta=a,w("Loaded state from IndexedDB storage ("+b.Ta.length+" bytes)")):
(b.Ta=localStorage.getItem("__c2save_"+c)||"",w("Loaded state from WebStorage ("+b.Ta.length+" bytes)"));b.Gg=!1;b.Ta.length||b.trigger(W.prototype.e.Ci,null)},function(){b.Ta=localStorage.getItem("__c2save_"+c)||"";w("Loaded state from WebStorage ("+b.Ta.length+" bytes)");b.Gg=!1;b.Ta.length||b.trigger(W.prototype.e.Ci,null)});else{try{this.Ta=localStorage.getItem("__c2save_"+c)||"",w("Loaded state from WebStorage ("+this.Ta.length+" bytes)")}catch(e){this.Ta=""}this.Gg=!1;b.Ta.length||b.trigger(W.prototype.e.Ci,
null)}this.Ak=this.Eh=""}this.Ta.length&&(this.Pa(),this.xs(this.Ta),this.Wc=this.Ta,this.trigger(W.prototype.e.fp,null),this.Ta=this.Wc="")};d.prototype.gt=function(){var b,f,c,k,h,e,n,g={c2save:!0,version:1,rt:{time:this.Pb.ja,walltime:this.wi.ja,timescale:this.Kg,tickcount:this.Fc,execcount:this.he,next_uid:this.pg,running_layout:this.T.H,start_time_offset:Date.now()-this.hi},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};b=0;for(f=this.j.length;b<f;b++)if(h=this.j[b],!h.G&&!this.Lk(h)){e=
{instances:[]};Qa(h.V)&&(e.ex=a(h.V));c=0;for(k=h.d.length;c<k;c++)e.instances.push(this.zk(h.d[c]));g.types[h.H.toString()]=e}b=0;for(f=this.hc.length;b<f;b++)c=this.hc[b],g.layouts[c.H.toString()]=c.Aa();k=g.events.groups;b=0;for(f=this.Ge.length;b<f;b++)c=this.Ge[b],k[c.H.toString()]=this.nh[c.Qf].Pf;f=g.events.cnds;for(n in this.rd)this.rd.hasOwnProperty(n)&&(b=this.rd[n],Qa(b.V)&&(f[n]={ex:a(b.V)}));f=g.events.acts;for(n in this.od)this.od.hasOwnProperty(n)&&(b=this.od[n],Qa(b.V)&&(f[n]={ex:a(b.V)}));
f=g.events.vars;for(n in this.pf)this.pf.hasOwnProperty(n)&&(b=this.pf[n],b.vh||b.parent&&!b.$f||(f[n]=b.data));g.system=this.Ec.Aa();return JSON.stringify(g)};d.prototype.zn=function(){var b,a,f,c,k,h;this.Zc={};b=0;for(a=this.j.length;b<a;b++)if(f=this.j[b],!f.G)for(c=0,k=f.d.length;c<k;c++)h=f.d[c],this.Zc[h.uid.toString()]=h};d.prototype.xs=function(b){b=JSON.parse(b);if(b.c2save&&!(1<b.version)){this.Xf=!0;var a=b.rt;this.Pb.reset();this.Pb.ja=a.time;this.wi.reset();this.wi.ja=a.walltime||0;
this.Kg=a.timescale;this.Fc=a.tickcount;this.he=a.execcount;this.hi=Date.now()-a.start_time_offset;var f=a.running_layout;if(f!==this.T.H)if(f=this.Yl(f))this.Jl(f);else return;var c,k,h,e,n,g,r;g=b.types;for(k in g)if(g.hasOwnProperty(k)&&(e=this.mh(parseInt(k,10)))&&!e.G&&!this.Lk(e)){g[k].ex?e.V=g[k].ex:Ra(e.V);n=e.d;h=g[k].instances;f=0;for(c=la(n.length,h.length);f<c;f++)this.Fh(n[f],h[f]);f=h.length;for(c=n.length;f<c;f++)this.Ae(n[f]);f=n.length;for(c=h.length;f<c;f++){n=null;if(e.N.Fd&&(n=
this.T.lh(h[f].w.l),!n))continue;n=this.td(e.Kb,n,!1,0,0,!0);this.Fh(n,h[f])}e.kf=!0}this.Pa();this.zn();c=b.layouts;for(k in c)c.hasOwnProperty(k)&&(f=this.Yl(parseInt(k,10)))&&f.Ma(c[k]);c=b.events.groups;for(k in c)c.hasOwnProperty(k)&&(f=this.tr(parseInt(k,10)))&&this.nh[f.Qf]&&this.nh[f.Qf].ht(c[k]);f=b.events.cnds;for(k in this.rd)this.rd.hasOwnProperty(k)&&(f.hasOwnProperty(k)?this.rd[k].V=f[k].ex:this.rd[k].V={});f=b.events.acts;for(k in this.od)this.od.hasOwnProperty(k)&&(f.hasOwnProperty(k)?
this.od[k].V=f[k].ex:this.od[k].V={});f=b.events.vars;for(k in f)f.hasOwnProperty(k)&&this.pf.hasOwnProperty(k)&&(this.pf[k].data=f[k]);this.pg=a.next_uid;this.Xf=!1;f=0;for(c=this.fh.length;f<c;++f)n=this.fh[f],this.trigger(Object.getPrototypeOf(n.type.N).e.De,n);N(this.fh);this.Ec.Ma(b.system);f=0;for(c=this.j.length;f<c;f++)if(e=this.j[f],!e.G&&!this.Lk(e))for(k=0,b=e.d.length;k<b;k++){n=e.d[k];if(e.Wa)for(g=n.Of(),N(n.siblings),a=0,h=e.ib.length;a<h;a++)r=e.ib[a],e!==r&&n.siblings.push(r.d[g]);
n.Wd&&n.Wd();if(n.C)for(a=0,h=n.C.length;a<h;a++)g=n.C[a],g.Wd&&g.Wd()}this.S=!0}};d.prototype.zk=function(b,f){var c,k,h,e,n;e=b.type;h=e.N;var g={};f?g.c2=!0:g.uid=b.uid;Qa(b.V)&&(g.ex=a(b.V));if(b.ua&&b.ua.length)for(g.ivs={},c=0,k=b.ua.length;c<k;c++)g.ivs[b.type.Gj[c].toString()]=b.ua[c];if(h.Fd){h={x:b.x,y:b.y,w:b.width,h:b.height,l:b.g.H,zi:b.vc()};0!==b.i&&(h.a=b.i);1!==b.opacity&&(h.o=b.opacity);.5!==b.lb&&(h.hX=b.lb);.5!==b.mb&&(h.hY=b.mb);0!==b.Qa&&(h.bm=b.Qa);b.visible||(h.v=b.visible);
b.xf||(h.ce=b.xf);-1!==b.og&&(h.mts=b.og);if(e.u.length)for(h.fx=[],c=0,k=e.u.length;c<k;c++)n=e.u[c],h.fx.push({name:n.name,active:b.nd[n.index],params:b.fa[n.index]});g.w=h}if(b.C&&b.C.length)for(g.behs={},c=0,k=b.C.length;c<k;c++)e=b.C[c],e.Aa&&(g.behs[e.type.H.toString()]=e.Aa());b.Aa&&(g.data=b.Aa());return g};d.prototype.xr=function(b,a){var f,c;f=0;for(c=b.Gj.length;f<c;f++)if(b.Gj[f]===a)return f;return-1};d.prototype.or=function(b,a){var f,c;f=0;for(c=b.C.length;f<c;f++)if(b.C[f].type.H===
a)return f;return-1};d.prototype.Fh=function(b,a,f){var c,k,h,e,n;n=b.type;e=n.N;if(f){if(!a.c2)return}else b.uid=a.uid;a.ex?b.V=a.ex:Ra(b.V);if(k=a.ivs)for(c in k)k.hasOwnProperty(c)&&(h=this.xr(n,parseInt(c,10)),0>h||h>=b.ua.length||(b.ua[h]=k[c]));if(e.Fd){h=a.w;b.g.H!==h.l&&(k=b.g,b.g=this.T.lh(h.l),b.g?(k.df(b,!0),b.g.uf(b,!0),b.oa(),b.g.Ag(0)):(b.g=k,f||this.Ae(b)));b.x=h.x;b.y=h.y;b.width=h.w;b.height=h.h;b.oc=h.zi;b.i=h.hasOwnProperty("a")?h.a:0;b.opacity=h.hasOwnProperty("o")?h.o:1;b.lb=
h.hasOwnProperty("hX")?h.hX:.5;b.mb=h.hasOwnProperty("hY")?h.hY:.5;b.visible=h.hasOwnProperty("v")?h.v:!0;b.xf=h.hasOwnProperty("ce")?h.ce:!0;b.og=h.hasOwnProperty("mts")?h.mts:-1;b.Qa=h.hasOwnProperty("bm")?h.bm:0;b.yf=ab(b.Qa);this.k&&bb(b,b.Qa,this.k);b.oa();if(h.hasOwnProperty("fx"))for(f=0,k=h.fx.length;f<k;f++)e=n.sj(h.fx[f].name),0>e||(b.nd[e]=h.fx[f].active,b.fa[e]=h.fx[f].params);b.nc()}if(n=a.behs)for(c in n)n.hasOwnProperty(c)&&(f=this.or(b,parseInt(c,10)),0>f||b.C[f].Ma(n[c]));a.data&&
b.Ma(a.data)};d.prototype.Ol=function(b,a,f){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+"www/"+b,function(b){b.file(a,f)},f)};d.prototype.ir=function(b,a){this.Ol("data.js",function(f){var c=new FileReader;c.onload=function(a){b(a.target.result)};c.onerror=a;c.readAsText(f)},a)};d.prototype.hr=function(b,a,f){this.Ol(b,function(b){var f=new FileReader;f.onload=function(b){a(b.target.result)};f.readAsArrayBuffer(b)},f)};d.prototype.jr=function(b,a,f){this.hr(b,function(b){b=
URL.createObjectURL(new Blob([b]));a(b)},f)};d.prototype.Jn=function(b,a){this.Oj?this.jr(a,function(a){b.src=a},function(b){alert("Failed to load image: "+b)}):b.src=a};Jb=function(b){return new d(document.getElementById(b))};Kb=function(b,a){return new d({dc:!0,width:b,height:a})};window.cr_createRuntime=Jb;window.cr_createDCRuntime=Kb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var b=document.createElement("screencanvas")||document.createElement("canvas");b.Jc=!0;document.body.appendChild(b);
b=new d(b);window.c2runtime=b;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return b};window.createEjectaRuntime=function(){var b=new d(document.getElementById("canvas"));window.c2runtime=b;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return b}})();
window.cr_getC2Runtime=function(){var d=document.getElementById("c2canvas");return d?d.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(d,q){var l=window.cr_getC2Runtime();l&&l.cq(d,q)};window.cr_sizeCanvas=function(d,q){if(0!==d&&0!==q){var l=window.cr_getC2Runtime();l&&l.setSize(d,q)}};window.cr_setSuspended=function(d){var q=window.cr_getC2Runtime();q&&q.setSuspended(d)};
(function(){function d(b,a){this.b=b;this.fe=null;this.scrollX=this.b.za/2;this.scrollY=this.b.ya/2;this.scale=1;this.i=0;this.Ne=!0;this.name=a[0];this.width=a[1];this.height=a[2];this.co=a[3];this.Nn=a[4];this.H=a[5];var c=a[6],h,e;this.A=[];this.Vf=[];h=0;for(e=c.length;h<e;h++){var g=new Lb(this,c[h]);g.bn=h;this.A.push(g)}c=a[7];this.le=[];h=0;for(e=c.length;h<e;h++){var g=c[h],d=this.b.j[g[1]];d.Kb||(d.Kb=g);this.le.push(g);-1===this.Vf.indexOf(d)&&this.Vf.push(d)}this.u=[];this.K=[];this.cd=
!0;this.fa=[];h=0;for(e=a[8].length;h<e;h++)this.u.push({id:a[8][h][0],name:a[8][h][1],pa:-1,jc:!1,pb:!0,index:h}),this.fa.push(a[8][h][2].slice(0));this.nc();this.cf=new K(0,0,1,1);this.sk=new K(0,0,1,1);this.Md={}}function q(b,a){return b.oc-a.oc}function l(b,a){this.Da=b;this.b=b.b;this.d=[];this.scale=1;this.i=0;this.Oc=!1;this.fd=new K(0,0,0,0);this.Xn=new ta;this.ca=this.Z=this.da=this.Y=0;this.ze=!1;this.jd=-1;this.Xi=0;this.name=a[0];this.index=a[1];this.H=a[2];this.visible=a[3];this.ac=a[4];
this.mc=a[5];this.$c=a[6];this.ad=a[7];this.opacity=a[8];this.ih=a[9];this.Db=a[10];this.kd=a[11];this.Qa=a[12];this.Aq=a[13];this.yf="source-over";this.Ra=this.Ua=0;this.Oa=null;this.Xc=p();this.lc=!0;this.Ve=new K(0,0,-1,-1);this.Ha=new K(0,0,-1,-1);this.Db&&(this.Oa=new $a(this.b.za,this.b.ya));this.Cc=!1;var c=a[14],h,e;this.Qn=[];this.ub=[];this.Bf=[];h=0;for(e=c.length;h<e;h++){var g=c[h],d=this.b.j[g[1]];d.Kb||(d.Kb=g,d.bq=this.index);this.ub.push(g);-1===this.Da.Vf.indexOf(d)&&this.Da.Vf.push(d)}Q(this.Qn,
this.ub);this.u=[];this.K=[];this.cd=!0;this.fa=[];h=0;for(e=a[15].length;h<e;h++)this.u.push({id:a[15][h][0],name:a[15][h][1],pa:-1,jc:!1,pb:!0,index:h}),this.fa.push(a[15][h][2].slice(0));this.nc();this.cf=new K(0,0,1,1);this.sk=new K(0,0,1,1)}function p(){return a.length?a.pop():[]}function t(b){N(b);a.push(b)}d.prototype.ft=function(b){var a=b.type.H.toString();this.Md.hasOwnProperty(a)||(this.Md[a]=[]);this.Md[a].push(this.b.zk(b))};d.prototype.cm=function(){var b=this.A[0];return!b.mc&&1===
b.opacity&&!b.ih&&b.visible};d.prototype.nc=function(){N(this.K);this.cd=!0;var b,a,c;b=0;for(a=this.u.length;b<a;b++)c=this.u[b],c.pb&&(this.K.push(c),c.jc||(this.cd=!1))};d.prototype.rj=function(b){var a,c,h;a=0;for(c=this.u.length;a<c;a++)if(h=this.u[a],h.name===b)return h;return null};var m=[],g=!0;d.prototype.Ek=function(){this.Nn&&(this.fe=this.b.hj[this.Nn],this.fe.Nk());this.b.T=this;this.scrollX=this.b.za/2;this.scrollY=this.b.ya/2;var b,a,c,h,e,d,u;b=0;for(c=this.b.j.length;b<c;b++)if(a=
this.b.j[b],!a.G)for(e=a.d,a=0,h=e.length;a<h;a++)if(d=e[a],d.g){var k=d.g.bn;k>=this.A.length&&(k=this.A.length-1);d.g=this.A[k];-1===d.g.d.indexOf(d)&&d.g.d.push(d);d.g.ze=!0}if(!g)for(b=0,c=this.A.length;b<c;++b)this.A[b].d.sort(q);N(m);this.Sp();b=0;for(c=this.A.length;b<c;b++)d=this.A[b],d.aq(),d.si();e=!1;if(!this.Ne){for(u in this.Md)if(this.Md.hasOwnProperty(u)&&(a=this.b.mh(parseInt(u,10)))&&!a.G&&this.b.Mk(a)){h=this.Md[u];b=0;for(c=h.length;b<c;b++){d=null;if(a.N.Fd&&(d=this.lh(h[b].w.l),
!d))continue;d=this.b.td(a.Kb,d,!1,0,0,!0);this.b.Fh(d,h[b]);e=!0;m.push(d)}N(h)}b=0;for(c=this.A.length;b<c;b++)this.A[b].d.sort(q),this.A[b].ze=!0}e&&(this.b.Pa(),this.b.zn());for(b=0;b<m.length;b++)if(d=m[b],d.type.Wa)for(c=d.Of(),a=0,h=d.type.ib.length;a<h;a++)u=d.type.ib[a],d.type!==u&&(u.d.length>c?d.siblings.push(u.d[c]):u.Kb&&(e=this.b.td(u.Kb,d.g,!0,d.x,d.y,!0),this.b.Pa(),u.ri(),d.siblings.push(e),m.push(e)));b=0;for(c=this.le.length;b<c;b++)this.b.td(this.le[b],null,!0);this.b.Vi=null;
this.b.Pa();if(this.b.P&&!this.b.La)for(b=0,c=this.b.j.length;b<c;b++)u=this.b.j[b],!u.G&&u.d.length&&u.un&&u.un(this.b.P);if(this.b.Xf)Q(this.b.fh,m);else for(b=0,c=m.length;b<c;b++)d=m[b],this.b.trigger(Object.getPrototypeOf(d.type.N).e.De,d);N(m);this.b.Xf||this.b.trigger(W.prototype.e.Wk,null);this.Ne=!1};d.prototype.$p=function(){var b,a,c,h,e;a=b=0;for(c=this.le.length;b<c;b++)h=this.le[b],e=this.b.j[h[1]],e.global?e.Wa||this.b.td(h,null,!0):(this.le[a]=h,a++);wa(this.le,a)};d.prototype.mt=
function(){this.b.Xf||this.b.trigger(W.prototype.e.ep,null);this.b.Jj=!0;N(this.b.Ec.Va);var b,a,c,h,e,d;if(!this.Ne)for(b=0,a=this.A.length;b<a;b++)for(this.A[b].Pk(),e=this.A[b].d,c=0,h=e.length;c<h;c++)d=e[c],d.type.global||this.b.Mk(d.type)&&this.ft(d);b=0;for(a=this.A.length;b<a;b++){e=this.A[b].d;c=0;for(h=e.length;c<h;c++)d=e[c],d.type.global||this.b.Ae(d);this.b.Pa();N(e);this.A[b].ze=!0}b=0;for(a=this.b.j.length;b<a;b++)if(e=this.b.j[b],!(e.global||e.N.Fd||e.N.gi||e.G)){c=0;for(h=e.d.length;c<
h;c++)this.b.Ae(e.d[c]);this.b.Pa()}g=!1;this.b.Jj=!1};new K(0,0,0,0);d.prototype.Pc=function(b){var a,c=b,h=!1,e=!this.b.tb;e&&(this.b.Dh||(this.b.Dh=document.createElement("canvas"),a=this.b.Dh,a.width=this.b.r,a.height=this.b.q,this.b.Am=a.getContext("2d"),h=!0),a=this.b.Dh,c=this.b.Am,a.width!==this.b.r&&(a.width=this.b.r,h=!0),a.height!==this.b.q&&(a.height=this.b.q,h=!0),h&&(c.webkitImageSmoothingEnabled=this.b.J,c.mozImageSmoothingEnabled=this.b.J,c.msImageSmoothingEnabled=this.b.J,c.imageSmoothingEnabled=
this.b.J));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.b.Ii&&!this.cm()&&c.clearRect(0,0,this.b.r,this.b.q);var g,d,h=0;for(g=this.A.length;h<g;h++)d=this.A[h],d.visible&&0<d.opacity&&11!==d.Qa&&(d.d.length||!d.mc)?d.Pc(c):d.si();e&&b.drawImage(a,0,0,this.b.width,this.b.height)};d.prototype.Ie=function(b){b.In(!0);this.b.ma||(this.b.ma=b.sb(this.b.r,this.b.q,this.b.J));if(this.b.ma.be!==this.b.r||this.b.ma.ae!==this.b.q)b.deleteTexture(this.b.ma),this.b.ma=b.sb(this.b.r,this.b.q,
this.b.J);b.Ub(this.b.ma);this.b.tb||b.we(this.b.r,this.b.q);var a,c;for(a=this.A.length-1;0<=a;--a)c=this.A[a],c.visible&&1===c.opacity&&c.cd&&0===c.Qa&&(c.d.length||!c.mc)?c.Ie(b):c.si();b.In(!1)};d.prototype.Lb=function(b){var a=0<this.K.length||this.b.nf||!this.b.tb||this.b.W;if(a){this.b.ma||(this.b.ma=b.sb(this.b.r,this.b.q,this.b.J));if(this.b.ma.be!==this.b.r||this.b.ma.ae!==this.b.q)b.deleteTexture(this.b.ma),this.b.ma=b.sb(this.b.r,this.b.q,this.b.J);b.Ub(this.b.ma);this.b.tb||b.we(this.b.r,
this.b.q)}else this.b.ma&&(b.Ub(null),b.deleteTexture(this.b.ma),this.b.ma=null);this.b.Ii&&!this.cm()&&b.clear(0,0,0,0);var c,h,e;c=0;for(h=this.A.length;c<h;c++)e=this.A[c],e.visible&&0<e.opacity&&(e.d.length||!e.mc)?e.Lb(b):e.si();a&&(0===this.K.length||1===this.K.length&&this.b.tb?(1===this.K.length?(a=this.K[0].index,b.gb(this.K[0].pa),b.hf(null,1/this.b.r,1/this.b.q,0,0,1,1,this.scale,this.i,0,0,this.b.r/2,this.b.q/2,this.b.Pb.ja,this.fa[a]),b.Uh(this.K[0].pa)&&(this.b.S=!0)):b.gb(0),this.b.tb||
b.we(this.b.width,this.b.height),b.Ub(null),b.Hn(!1),b.gf(1),b.zb(this.b.ma),b.Fn(),b.Tb(),b.Cb(),a=this.b.width/2,c=this.b.height/2,b.xg(-a,c,a,c,a,-c,-a,-c),b.zb(null),b.Hn(!0)):this.tk(b,null,null,null))};d.prototype.Nf=function(){return 0<this.K.length||this.b.nf||!this.b.tb||this.b.W?this.b.ma:null};d.prototype.Zl=function(){var b=this.A[0].kb(),a,c,h;a=1;for(c=this.A.length;a<c;a++)h=this.A[a],(0!==h.$c||0!==h.ad)&&h.kb()<b&&(b=h.kb());return b};d.prototype.Dn=function(b){if(!this.co){var a=
1/this.Zl()*this.b.r/2;b>this.width-a&&(b=this.width-a);b<a&&(b=a)}this.scrollX!==b&&(this.scrollX=b,this.b.S=!0)};d.prototype.En=function(b){if(!this.co){var a=1/this.Zl()*this.b.q/2;b>this.height-a&&(b=this.height-a);b<a&&(b=a)}this.scrollY!==b&&(this.scrollY=b,this.b.S=!0)};d.prototype.Sp=function(){this.Dn(this.scrollX);this.En(this.scrollY)};d.prototype.tk=function(b,a,c,h){var e=c?c.K:a?a.K:this.K,g=1,d=0,k=0,r=0,m=this.b.r,l=this.b.q;c?(g=c.g.kb(),d=c.g.jb(),k=c.g.Y,r=c.g.Z,m=c.g.da,l=c.g.ca):
a&&(g=a.kb(),d=a.jb(),k=a.Y,r=a.Z,m=a.da,l=a.ca);var p=this.b.oj,q,t,x,B,C=0,oa=1,pa,O=this.b.r,I=this.b.q,Ia=O/2,Ja=I/2,V=a?a.cf:this.cf,z=a?a.sk:this.sk,A=0,S=0,D=0,y=0,F=O,ra=O,H=I,sa=I,ia=x=0;B=c?c.g.jb():0;if(c){q=0;for(t=e.length;q<t;q++)x+=b.Br(e[q].pa),ia+=b.Cr(e[q].pa);y=c.Fa;A=a.wa(y.left,y.top,!0);D=a.wa(y.left,y.top,!1);F=a.wa(y.right,y.bottom,!0);H=a.wa(y.right,y.bottom,!1);0!==B&&(q=a.wa(y.right,y.top,!0),t=a.wa(y.right,y.top,!1),S=a.wa(y.left,y.bottom,!0),y=a.wa(y.left,y.bottom,!1),
B=Math.min(A,F,q,S),F=Math.max(A,F,q,S),A=B,B=Math.min(D,H,t,y),H=Math.max(D,H,t,y),D=B);A-=x;D-=ia;F+=x;H+=ia;z.left=A/O;z.top=1-D/I;z.right=F/O;z.bottom=1-H/I;S=A=J(A);y=D=J(D);ra=F=na(F);sa=H=na(H);S-=x;y-=ia;ra+=x;sa+=ia;0>A&&(A=0);0>D&&(D=0);F>O&&(F=O);H>I&&(H=I);0>S&&(S=0);0>y&&(y=0);ra>O&&(ra=O);sa>I&&(sa=I);V.left=A/O;V.top=1-D/I;V.right=F/O;V.bottom=1-H/I}else V.left=z.left=0,V.top=z.top=0,V.right=z.right=1,V.bottom=z.bottom=1;ia=c&&(b.ug(e[0].pa)||0!==x||0!==ia||1!==c.opacity||c.type.N.Ym)||
a&&!c&&1!==a.opacity;b.Fn();if(ia){p[C]||(p[C]=b.sb(O,I,this.b.J));if(p[C].be!==O||p[C].ae!==I)b.deleteTexture(p[C]),p[C]=b.sb(O,I,this.b.J);b.gb(0);b.Ub(p[C]);pa=sa-y;b.clearRect(S,I-y-pa,ra-S,pa);c?c.Lb(b):(b.zb(this.b.xa),b.gf(a.opacity),b.Tb(),b.translate(-Ia,-Ja),b.Cb(),b.Nd(A,H,F,H,F,D,A,D,V));z.left=z.top=0;z.right=z.bottom=1;c&&(B=V.top,V.top=V.bottom,V.bottom=B);C=1;oa=0}b.gf(1);x=e.length-1;var Wa=b.pk(e[x].pa)||!a&&!c&&!this.b.tb,ya=0;q=0;for(t=e.length;q<t;q++){p[C]||(p[C]=b.sb(O,I,this.b.J));
if(p[C].be!==O||p[C].ae!==I)b.deleteTexture(p[C]),p[C]=b.sb(O,I,this.b.J);b.gb(e[q].pa);ya=e[q].index;b.Uh(e[q].pa)&&(this.b.S=!0);0!=q||ia?(b.hf(h,1/O,1/I,z.left,z.top,z.right,z.bottom,g,d,k,r,(k+m)/2,(r+l)/2,this.b.Pb.ja,c?c.fa[ya]:a?a.fa[ya]:this.fa[ya]),b.zb(null),q!==x||Wa?(b.Ub(p[C]),pa=sa-y,B=I-y-pa,b.clearRect(S,B,ra-S,pa)):(c?b.Pd(c.Ua,c.Ra):a&&b.Pd(a.Ua,a.Ra),b.Ub(h)),b.zb(p[oa]),b.Tb(),b.translate(-Ia,-Ja),b.Cb(),b.Nd(A,H,F,H,F,D,A,D,V),q!==x||Wa||b.zb(null)):(b.Ub(p[C]),pa=sa-y,B=I-y-
pa,b.clearRect(S,B,ra-S,pa),c?(b.hf(h,1/c.width,1/c.height,z.left,z.top,z.right,z.bottom,g,d,k,r,(k+m)/2,(r+l)/2,this.b.Pb.ja,c.fa[ya]),c.Lb(b)):(b.hf(h,1/O,1/I,0,0,1,1,g,d,k,r,(k+m)/2,(r+l)/2,this.b.Pb.ja,a?a.fa[ya]:this.fa[ya]),b.zb(a?this.b.xa:this.b.ma),b.Tb(),b.translate(-Ia,-Ja),b.Cb(),b.Nd(A,H,F,H,F,D,A,D,V)),z.left=z.top=0,z.right=z.bottom=1,c&&!Wa&&(B=H,H=D,D=B));C=0===C?1:0;oa=0===C?1:0}Wa&&(b.gb(0),c?b.Pd(c.Ua,c.Ra):a?b.Pd(a.Ua,a.Ra):this.b.tb||(b.we(this.b.width,this.b.height),Ia=this.b.width/
2,Ja=this.b.height/2,D=A=0,F=this.b.width,H=this.b.height),b.Ub(h),b.zb(p[oa]),b.Tb(),b.translate(-Ia,-Ja),b.Cb(),c&&1===e.length&&!ia?b.Nd(A,D,F,D,F,H,A,H,V):b.Nd(A,H,F,H,F,D,A,D,V),b.zb(null))};d.prototype.lh=function(b){var a,c;a=0;for(c=this.A.length;a<c;a++)if(this.A[a].H===b)return this.A[a];return null};d.prototype.Aa=function(){var b,a,c,e={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.i,w:this.width,h:this.height,fv:this.Ne,persist:this.Md,fx:[],layers:{}};b=0;for(a=this.u.length;b<
a;b++)c=this.u[b],e.fx.push({name:c.name,active:c.pb,params:this.fa[c.index]});b=0;for(a=this.A.length;b<a;b++)c=this.A[b],e.layers[c.H.toString()]=c.Aa();return e};d.prototype.Ma=function(b){var a,c,e,g;this.scrollX=b.sx;this.scrollY=b.sy;this.scale=b.s;this.i=b.a;this.width=b.w;this.height=b.h;this.Md=b.persist;"undefined"!==typeof b.fv&&(this.Ne=b.fv);var d=b.fx;a=0;for(c=d.length;a<c;a++)if(e=this.rj(d[a].name))e.pb=d[a].active,this.fa[e.index]=d[a].params;this.nc();a=b.layers;for(g in a)a.hasOwnProperty(g)&&
(b=this.lh(parseInt(g,10)))&&b.Ma(a[g])};xb=d;l.prototype.nc=function(){N(this.K);this.cd=!0;var b,a,c;b=0;for(a=this.u.length;b<a;b++)c=this.u[b],c.pb&&(this.K.push(c),c.jc||(this.cd=!1))};l.prototype.rj=function(b){var a,c,e;a=0;for(c=this.u.length;a<c;a++)if(e=this.u[a],e.name===b)return e;return null};l.prototype.aq=function(){var b,a,c,e,g,d;a=b=0;for(c=this.ub.length;b<c;b++){e=this.ub[b];g=this.b.j[e[1]];d=this.b.Mk(g);g=!0;if(!d||this.Da.Ne){e=this.b.td(e,this,!0);if(!e)continue;m.push(e);
e.type.global&&(g=!1,this.Bf.push(e.uid))}g&&(this.ub[a]=this.ub[b],a++)}this.ub.length=a;this.b.Pa();!this.b.m&&this.u.length&&(this.Qa=this.Aq);this.yf=ab(this.Qa);this.b.k&&bb(this,this.Qa,this.b.k);this.lc=!0};l.prototype.df=function(b,a){var c=za(this.d,b);0>c||(a&&this.Db&&b.eb&&b.eb.right>=b.eb.left&&(b.qa(),this.Oa.update(b,b.eb,null),b.eb.set(0,0,-1,-1)),c===this.d.length-1?this.d.pop():(va(this.d,c),this.Ag(c)),this.lc=!0)};l.prototype.uf=function(b,a){b.oc=this.d.length;this.d.push(b);
a&&this.Db&&b.eb&&b.oa();this.lc=!0};l.prototype.Ss=function(b){this.d.unshift(b);this.Ag(0)};l.prototype.Ds=function(b,a,c){var e=b.vc();a=a.vc();va(this.d,e);e<a&&a--;c&&a++;a===this.d.length?this.d.push(b):this.d.splice(a,0,b);this.Ag(e<a?e:a)};l.prototype.Ag=function(b){-1===this.jd?this.jd=b:b<this.jd&&(this.jd=b);this.lc=this.ze=!0};l.prototype.Pk=function(){if(this.ze){-1===this.jd&&(this.jd=0);var b,a,c;if(this.Db)for(b=this.jd,a=this.d.length;b<a;++b)c=this.d[b],c.oc=b,this.Oa.As(c.eb);else for(b=
this.jd,a=this.d.length;b<a;++b)this.d[b].oc=b;this.ze=!1;this.jd=-1}};l.prototype.kb=function(b){return this.yr()*(this.b.tb||b?this.b.vf:1)};l.prototype.yr=function(){return(this.scale*this.Da.scale-1)*this.kd+1};l.prototype.jb=function(){return this.Oc?0:Ea(this.Da.i+this.i)};var a=[],e=[],c=[];l.prototype.vj=function(){this.Pk();this.Oa.yn(this.Y,this.Z,this.da,this.ca,c);if(!c.length)return p();if(1===c.length){var b=p();Q(b,c[0]);N(c);return b}for(var a=!0;1<c.length;){for(var b=c,g=void 0,
h=void 0,d=void 0,m=void 0,u=void 0,g=0,h=b.length;g<h-1;g+=2){var d=b[g],m=b[g+1],u=p(),k=d,r=m,l=u,q=0,L=0,M=0,P=k.length,x=r.length,B=void 0,C=void 0;for(l.length=P+x;q<P&&L<x;++M)B=k[q],C=r[L],B.oc<C.oc?(l[M]=B,++q):(l[M]=C,++L);for(;q<P;++q,++M)l[M]=k[q];for(;L<x;++L,++M)l[M]=r[L];a||(t(d),t(m));e.push(u)}1===h%2&&(a?(d=p(),Q(d,b[h-1]),e.push(d)):e.push(b[h-1]));Q(b,e);N(e);a=!1}b=c[0];N(c);return b};l.prototype.Pc=function(b){this.Cc=this.ih||1!==this.opacity||0!==this.Qa;var a=this.b.canvas,
c=b,e=!1;this.Cc&&(this.b.Ch||(this.b.Ch=document.createElement("canvas"),a=this.b.Ch,a.width=this.b.r,a.height=this.b.q,this.b.zm=a.getContext("2d"),e=!0),a=this.b.Ch,c=this.b.zm,a.width!==this.b.r&&(a.width=this.b.r,e=!0),a.height!==this.b.q&&(a.height=this.b.q,e=!0),e&&(c.webkitImageSmoothingEnabled=this.b.J,c.mozImageSmoothingEnabled=this.b.J,c.msImageSmoothingEnabled=this.b.J,c.imageSmoothingEnabled=this.b.J),this.mc&&c.clearRect(0,0,this.b.r,this.b.q));c.globalAlpha=1;c.globalCompositeOperation=
"source-over";this.mc||(c.fillStyle="rgb("+this.ac[0]+","+this.ac[1]+","+this.ac[2]+")",c.fillRect(0,0,this.b.r,this.b.q));c.save();this.Oc=!0;var e=this.Ga(0,0,!0,!0),g=this.Ga(0,0,!1,!0);this.Oc=!1;this.b.bd&&(e=Math.round(e),g=Math.round(g));this.Zh(e,g,c);var d=this.kb();c.scale(d,d);c.translate(-e,-g);this.Db?(this.Ha.left=this.Oa.Za(this.Y),this.Ha.top=this.Oa.$a(this.Z),this.Ha.right=this.Oa.Za(this.da),this.Ha.bottom=this.Oa.$a(this.ca),this.lc||!this.Ha.Ef(this.Ve)?(t(this.Xc),e=this.vj(),
this.lc=!1,this.Ve.zf(this.Ha)):e=this.Xc):e=this.d;for(var m,k=null,g=0,d=e.length;g<d;++g)m=e[g],m!==k&&(this.uq(m,c),k=m);this.Db&&(this.Xc=e);c.restore();this.Cc&&(b.globalCompositeOperation=this.yf,b.globalAlpha=this.opacity,b.drawImage(a,0,0))};l.prototype.uq=function(b,a){if(b.visible&&0!==b.width&&0!==b.height){b.qa();var c=b.Fa;c.right<this.Y||c.bottom<this.Z||c.left>this.da||c.top>this.ca||(a.globalCompositeOperation=b.yf,b.Pc(a))}};l.prototype.si=function(){this.Oc=!0;var b=this.Ga(0,0,
!0,!0),a=this.Ga(0,0,!1,!0);this.Oc=!1;this.b.bd&&(b=Math.round(b),a=Math.round(a));this.Zh(b,a,null)};l.prototype.Zh=function(b,a,c){var e=this.kb();this.Y=b;this.Z=a;this.da=b+1/e*this.b.r;this.ca=a+1/e*this.b.q;b=this.jb();0!==b&&(c&&(c.translate(this.b.r/2,this.b.q/2),c.rotate(-b),c.translate(this.b.r/-2,this.b.q/-2)),this.fd.set(this.Y,this.Z,this.da,this.ca),this.fd.offset((this.Y+this.da)/-2,(this.Z+this.ca)/-2),this.Xn.Ln(this.fd,b),this.Xn.xl(this.fd),this.fd.offset((this.Y+this.da)/2,(this.Z+
this.ca)/2),this.Y=this.fd.left,this.Z=this.fd.top,this.da=this.fd.right,this.ca=this.fd.bottom)};l.prototype.Ie=function(b){if(this.Cc=this.ih){this.b.xa||(this.b.xa=b.sb(this.b.r,this.b.q,this.b.J));if(this.b.xa.be!==this.b.r||this.b.xa.ae!==this.b.q)b.deleteTexture(this.b.xa),this.b.xa=b.sb(this.b.r,this.b.q,this.b.J);b.Ub(this.b.xa)}this.Oc=!0;var a=this.Ga(0,0,!0,!0),c=this.Ga(0,0,!1,!0);this.Oc=!1;this.b.bd&&(a=Math.round(a),c=Math.round(c));this.Zh(a,c,null);a=this.kb();b.Tb();b.scale(a,a);
b.$h(-this.jb());b.translate((this.Y+this.da)/-2,(this.Z+this.ca)/-2);b.Cb();this.Db?(this.Ha.left=this.Oa.Za(this.Y),this.Ha.top=this.Oa.$a(this.Z),this.Ha.right=this.Oa.Za(this.da),this.Ha.bottom=this.Oa.$a(this.ca),this.lc||!this.Ha.Ef(this.Ve)?(t(this.Xc),a=this.vj(),this.lc=!1,this.Ve.zf(this.Ha)):a=this.Xc):a=this.d;for(var e,g=null,c=a.length-1;0<=c;--c)e=a[c],e!==g&&(this.wq(a[c],b),g=e);this.Db&&(this.Xc=a);this.mc||(this.Xi=this.b.ee++,b.ci(this.Xi),b.Gn(1,1,1),b.Rl(),b.Xs())};l.prototype.Lb=
function(b){var a=0,c=0;if(this.Cc=this.ih||1!==this.opacity||0<this.K.length||0!==this.Qa){this.b.xa||(this.b.xa=b.sb(this.b.r,this.b.q,this.b.J));if(this.b.xa.be!==this.b.r||this.b.xa.ae!==this.b.q)b.deleteTexture(this.b.xa),this.b.xa=b.sb(this.b.r,this.b.q,this.b.J);b.Ub(this.b.xa);this.mc&&b.clear(0,0,0,0)}this.mc||(this.b.W?(b.ci(this.Xi),b.Gn(this.ac[0]/255,this.ac[1]/255,this.ac[2]/255),b.Rl(),b.it()):b.clear(this.ac[0]/255,this.ac[1]/255,this.ac[2]/255,1));this.Oc=!0;var e=this.Ga(0,0,!0,
!0),a=this.Ga(0,0,!1,!0);this.Oc=!1;this.b.bd&&(e=Math.round(e),a=Math.round(a));this.Zh(e,a,null);e=this.kb();b.Tb();b.scale(e,e);b.$h(-this.jb());b.translate((this.Y+this.da)/-2,(this.Z+this.ca)/-2);b.Cb();this.Db?(this.Ha.left=this.Oa.Za(this.Y),this.Ha.top=this.Oa.$a(this.Z),this.Ha.right=this.Oa.Za(this.da),this.Ha.bottom=this.Oa.$a(this.ca),this.lc||!this.Ha.Ef(this.Ve)?(t(this.Xc),a=this.vj(),this.lc=!1,this.Ve.zf(this.Ha)):a=this.Xc):a=this.d;var g,d,m=null,c=0;for(g=a.length;c<g;++c)d=a[c],
d!==m&&(this.vq(a[c],b),m=d);this.Db&&(this.Xc=a);this.Cc&&(a=this.K.length?this.K[0].pa:0,c=this.K.length?this.K[0].index:0,0===this.K.length||1===this.K.length&&!b.pk(a)&&1===this.opacity?(1===this.K.length?(b.gb(a),b.hf(this.Da.Nf(),1/this.b.r,1/this.b.q,0,0,1,1,e,this.jb(),this.Y,this.Z,(this.Y+this.da)/2,(this.Z+this.ca)/2,this.b.Pb.ja,this.fa[c]),b.Uh(a)&&(this.b.S=!0)):b.gb(0),b.Ub(this.Da.Nf()),b.gf(this.opacity),b.zb(this.b.xa),b.Pd(this.Ua,this.Ra),b.Tb(),b.Cb(),e=this.b.r/2,a=this.b.q/
2,b.xg(-e,a,e,a,e,-a,-e,-a),b.zb(null)):this.Da.tk(b,this,null,this.Da.Nf()))};l.prototype.vq=function(b,a){if(b.visible&&0!==b.width&&0!==b.height){b.qa();var c=b.Fa;c.right<this.Y||c.bottom<this.Z||c.left>this.da||c.top>this.ca||(a.ci(b.ee),b.jo?this.xq(b,a):(a.gb(0),a.Pd(b.Ua,b.Ra),b.Lb(a)))}};l.prototype.wq=function(b,a){if(b.visible&&0!==b.width&&0!==b.height){b.qa();var c=b.Fa;c.right<this.Y||c.bottom<this.Z||c.left>this.da||c.top>this.ca||(b.ee=this.b.ee++,0===b.Qa&&1===b.opacity&&b.cd&&b.Ie&&
(a.ci(b.ee),b.Ie(a)))}};l.prototype.xq=function(b,a){var c=b.K[0].pa,e=b.K[0].index,g=this.kb();if(1!==b.K.length||a.pk(c)||a.Us(c)||(b.i||b.g.jb())&&a.ug(c)||1!==b.opacity||b.type.N.Ym)this.Da.tk(a,this,b,this.Cc?this.b.xa:this.Da.Nf()),a.Tb(),a.scale(g,g),a.$h(-this.jb()),a.translate((this.Y+this.da)/-2,(this.Z+this.ca)/-2),a.Cb();else{a.gb(c);a.Pd(b.Ua,b.Ra);a.Uh(c)&&(this.b.S=!0);var d=0,m=0,k=0,r=0;a.ug(c)&&(c=b.Fa,d=this.wa(c.left,c.top,!0),m=this.wa(c.left,c.top,!1),k=this.wa(c.right,c.bottom,
!0),c=this.wa(c.right,c.bottom,!1),d=d/windowWidth,m=1-m/windowHeight,k=k/windowWidth,r=1-c/windowHeight);a.hf(this.Cc?this.b.xa:this.Da.Nf(),1/b.width,1/b.height,d,m,k,r,g,this.jb(),this.Y,this.Z,(this.Y+this.da)/2,(this.Z+this.ca)/2,this.b.Pb.ja,b.fa[e]);b.Lb(a)}};l.prototype.Ga=function(b,a,c,e){var g=this.b.devicePixelRatio;this.b.Qe&&(b*=g,a*=g);var g=this.b.nn,d=this.b.pn,g=(this.Da.scrollX-g)*this.$c+g,d=(this.Da.scrollY-d)*this.ad+d,m=g,k=d,r=1/this.kb(!e);e?(m-=this.b.r*r/2,k-=this.b.q*r/
2):(m-=this.b.width*r/2,k-=this.b.height*r/2);m+=b*r;k+=a*r;a=this.jb();0!==a&&(m-=g,k-=d,b=Math.cos(a),a=Math.sin(a),e=m*b-k*a,k=k*b+m*a,m=e+g,k+=d);return c?m:k};l.prototype.wa=function(b,a,c){var e=this.b.nn,g=this.b.pn,e=(this.Da.scrollX-e)*this.$c+e,d=(this.Da.scrollY-g)*this.ad+g,g=e,m=d,k=this.jb();if(0!==k){b-=e;a-=d;var r=Math.cos(-k),k=Math.sin(-k),l=b*r-a*k;a=a*r+b*k;b=l+e;a+=d}e=1/this.kb(!1);g-=this.b.r*e/2;m-=this.b.q*e/2;g=(b-g)/e;return c?g:(a-m)/e};l.prototype.Aa=function(){var b,
a,c,e={s:this.scale,a:this.i,vl:this.Y,vt:this.Z,vr:this.da,vb:this.ca,v:this.visible,bc:this.ac,t:this.mc,px:this.$c,py:this.ad,o:this.opacity,zr:this.kd,fx:[],cg:this.Bf,instances:[]};b=0;for(a=this.u.length;b<a;b++)c=this.u[b],e.fx.push({name:c.name,active:c.pb,params:this.fa[c.index]});return e};l.prototype.Ma=function(b){var a,c,e;this.scale=b.s;this.i=b.a;this.Y=b.vl;this.Z=b.vt;this.da=b.vr;this.ca=b.vb;this.visible=b.v;this.ac=b.bc;this.mc=b.t;this.$c=b.px;this.ad=b.py;this.opacity=b.o;this.kd=
b.zr;this.Bf=b.cg||[];Q(this.ub,this.Qn);var g=new ba;a=0;for(e=this.Bf.length;a<e;++a)g.add(this.Bf[a]);c=a=0;for(e=this.ub.length;a<e;++a)g.contains(this.ub[a][2])||(this.ub[c]=this.ub[a],++c);wa(this.ub,c);c=b.fx;a=0;for(e=c.length;a<e;a++)if(b=this.rj(c[a].name))b.pb=c[a].active,this.fa[b.index]=c[a].params;this.nc();this.d.sort(q);this.ze=!0};Lb=l})();
(function(){function d(b,a){var c,f=b.length;switch(f){case 0:return!0;case 1:return b[0]===a[0];case 2:return b[0]===a[0]&&b[1]===a[1];default:for(c=0;c<f;c++)if(b[c]!==a[c])return!1;return!0}}function q(b,a){return b.index-a.index}function l(b){var a,c,f,e;2===b.length?b[0].index>b[1].index&&(a=b[0],b[0]=b[1],b[1]=a):2<b.length&&b.sort(q);b.length>=v.length&&(v.length=b.length+1);v[b.length]||(v[b.length]=[]);e=v[b.length];a=0;for(c=e.length;a<c;a++)if(f=e[a],d(b,f))return f;e.push(b);return b}
function p(b,a){this.b=b;this.$n={};this.Nl={};this.Aj=!1;this.gm=new ba;this.cj=[];this.Ji=[];this.name=a[0];var c=a[1];this.xd=[];var f,e;f=0;for(e=c.length;f<e;f++)this.im(c[f],null,this.xd)}function t(b){this.type=b;this.d=[];this.I=[];this.O=!0}function m(b,a,c){this.sheet=b;this.parent=a;this.b=b.b;this.U=[];this.Qd=[];this.em=this.oi=this.Ik=this.Ej=this.group=this.Dk=!1;this.ta=[];this.Eb=[];this.Vb=[];this.Qf="";this.Pf=this.Ej=this.group=!1;this.Vg=null;c[1]&&(this.Qf=c[1][1].toLowerCase(),
this.group=!0,this.Ej=!!c[1][0],this.Vg=[],this.Pf=this.Ej,this.b.Ge.push(this),this.b.nh[this.Qf]=this);this.ic=c[2];this.H=c[4];this.group||(this.b.wl[this.H.toString()]=this);var f=c[5];b=0;for(a=f.length;b<a;b++){var e=new Mb(this,f[b]);e.index=b;this.ta.push(e);this.kl(e.type)}f=c[6];b=0;for(a=f.length;b<a;b++)e=new Nb(this,f[b]),e.index=b,this.Eb.push(e);if(8===c.length)for(c=c[7],b=0,a=c.length;b<a;b++)this.sheet.im(c[b],this,this.Vb);this.wh=!1;this.ta.length&&(this.wh=null==this.ta[0].type&&
this.ta[0].Ja==W.prototype.e.Uk)}function g(b,a){var c,f,e;if(b&&(-1===a.indexOf(b)&&a.push(b),b.Wa))for(c=0,f=b.ib.length;c<f;c++)e=b.ib[c],b!==e&&-1===a.indexOf(e)&&a.push(e)}function a(b,a){this.qb=b;this.sheet=b.sheet;this.b=b.b;this.F=[];this.ga=[];this.V={};this.index=-1;this.sf=!1;this.Ja=this.b.ld(a[1]);this.trigger=0<a[3];this.Ml=2===a[3];this.Hj=a[5];this.ws=a[6];this.H=a[7];this.b.rd[this.H.toString()]=this;-1===a[0]?(this.type=null,this.na=this.yk,this.Zd=null,this.cc=-1):(this.type=this.b.j[a[0]],
this.na=this.ws?this.dt:this.xk,a[2]?(this.Zd=this.type.kh(a[2]),this.cc=this.type.pj(a[2])):(this.Zd=null,this.cc=-1),this.qb.parent&&this.qb.parent.di());this.Ml&&(this.na=this.et);if(10===a.length){var c,f,e=a[9];c=0;for(f=e.length;c<f;c++){var g=new Ob(this,e[c]);this.F.push(g)}this.ga.length=e.length}}function e(b,a){this.qb=b;this.sheet=b.sheet;this.b=b.b;this.F=[];this.ga=[];this.V={};this.index=-1;this.sf=!1;this.Ja=this.b.ld(a[1]);-1===a[0]?(this.type=null,this.na=this.yk,this.Zd=null,this.cc=
-1):(this.type=this.b.j[a[0]],this.na=this.xk,a[2]?(this.Zd=this.type.kh(a[2]),this.cc=this.type.pj(a[2])):(this.Zd=null,this.cc=-1));this.H=a[3];this.b.od[this.H.toString()]=this;if(6===a.length){var c,f,e=a[5];c=0;for(f=e.length;c<f;c++){var g=new Ob(this,e[c]);this.F.push(g)}this.ga.length=e.length}}function c(){u++;E.length===u&&E.push(new Pb);return E[u]}function b(b,a){this.Sb=b;this.qb=b.qb;this.sheet=b.sheet;this.b=b.b;this.type=a[0];this.uc=null;this.dd=0;this.get=null;this.Dl=0;this.Da=
null;this.key=0;this.object=null;this.index=0;this.Mg=this.xe=this.Mg=this.xe=this.Pl=this.ge=this.Ng=null;this.Zb=!1;var c,f,e;switch(a[0]){case 0:case 7:this.uc=new Qb(this,a[1]);this.dd=0;this.get=this.Or;break;case 1:this.uc=new Qb(this,a[1]);this.dd=0;this.get=this.Pr;break;case 5:this.uc=new Qb(this,a[1]);this.dd=0;this.get=this.Tr;break;case 3:case 8:this.Dl=a[1];this.get=this.Mr;break;case 6:this.Da=this.b.Xj[a[1]];this.get=this.Ur;break;case 9:this.key=a[1];this.get=this.Sr;break;case 4:this.object=
this.b.j[a[1]];this.get=this.Vr;this.qb.kl(this.object);this.Sb instanceof Nb?this.qb.di():this.qb.parent&&this.qb.parent.di();break;case 10:this.index=a[1];b.type.G?(this.get=this.Qr,this.Zb=!0):this.get=this.Rr;break;case 11:this.Ng=a[1];this.ge=null;this.get=this.Nr;break;case 2:case 12:this.Pl=a[1];this.get=this.Lr;break;case 13:for(this.get=this.Wr,this.xe=[],this.Mg=[],c=1,f=a.length;c<f;c++)e=new Ob(this.Sb,a[c]),this.xe.push(e),this.Mg.push(0)}}function f(b,a,c){this.sheet=b;this.parent=a;
this.b=b.b;this.U=[];this.name=c[1];this.Dj=c[3];this.$f=!!c[4];this.vh=!!c[5];this.H=c[6];this.b.pf[this.H.toString()]=this;this.data=this.Dj;this.parent?(this.re=this.$f||this.vh?-1:this.b.kt++,this.b.Op.push(this)):(this.re=-1,this.b.Np.push(this))}function n(b,a,c){this.sheet=b;this.parent=a;this.b=b.b;this.U=[];this.Uf=null;this.bs=c[1];this.pb=!0}function h(){this.Rn=[];this.reset(null)}var v=[];p.prototype.toString=function(){return this.name};p.prototype.im=function(b,a,c){switch(b[0]){case 0:b=
new Rb(this,a,b);if(b.ic)for(c.push(b),c=0,a=b.ta.length;c<a;c++)b.ta[c].trigger&&this.jm(b,c);else b.um()?this.jm(b,0):c.push(b);break;case 1:b=new Ib(this,a,b);c.push(b);break;case 2:b=new Sb(this,a,b),c.push(b)}};p.prototype.la=function(){var b,a;b=0;for(a=this.xd.length;b<a;b++)this.xd[b].la(b<a-1&&this.xd[b+1].wh)};p.prototype.Nk=function(){N(this.cj);N(this.Ji);this.jl(this);N(this.Ji)};p.prototype.jl=function(b){var a,c,f,e,g=b.cj,h=b.Ji,d=this.gm.Td();a=0;for(c=d.length;a<c;++a)f=d[a],e=f.Uf,
!f.pb||b===e||-1<h.indexOf(e)||(h.push(e),e.jl(b),g.push(e))};p.prototype.na=function(b){this.b.hv||(this.Aj=!0,b||(this.b.Mj=!0));var a,c;a=0;for(c=this.xd.length;a<c;a++){var f=this.xd[a];f.na();this.b.Wi(f.U);this.b.Ad&&this.b.Pa()}b||(this.b.Mj=!1)};p.prototype.jm=function(b,a){b.ic||this.b.qi.push(b);var c,f,e=b.ta[a],g;e.type?g=e.type.name:g="system";var h=(c=e.Ml)?this.Nl:this.$n;h[g]||(h[g]=[]);g=h[g];h=e.Ja;if(c){if(e.F.length&&(e=e.F[0],1===e.type&&2===e.uc.type)){e=e.uc.value.toLowerCase();
c=0;for(f=g.length;c<f;c++)if(g[c].method==h){c=g[c].Ff;c[e]?c[e].push([b,a]):c[e]=[[b,a]];return}c={};c[e]=[[b,a]];g.push({method:h,Ff:c})}}else{c=0;for(f=g.length;c<f;c++)if(g[c].method==h){g[c].Ff.push([b,a]);return}cc&&h===cc.prototype.e.Ee?g.unshift({method:h,Ff:[[b,a]]}):g.push({method:h,Ff:[[b,a]]})}};yb=p;t.prototype.zj=function(){return this.O?this.type.d.length:this.d.length};t.prototype.Mb=function(){return this.O?this.type.d:this.d};t.prototype.tg=function(b){b&&(b.b.Ka().Ia.ic?(this.O&&
(N(this.d),Q(this.I,b.type.d),this.O=!1),b=this.I.indexOf(b),-1!==b&&(this.d.push(this.I[b]),this.I.splice(b,1))):(this.O=!1,N(this.d),this.d[0]=b))};hb=t;window._c2hh_="7D411AF2A209E605333BECE836F523824A3967F9";m.prototype.la=function(b){var a,c=this.parent;if(this.group)for(this.oi=!0;c;){if(!c.group){this.oi=!1;break}c=c.parent}this.Ik=!this.um()&&(!this.parent||this.parent.group&&this.parent.oi);this.em=!!b;this.Qd=this.U.slice(0);for(c=this.parent;c;){b=0;for(a=c.U.length;b<a;b++)this.Kp(c.U[b]);
c=c.parent}this.U=l(this.U);this.Qd=l(this.Qd);b=0;for(a=this.ta.length;b<a;b++)this.ta[b].la();b=0;for(a=this.Eb.length;b<a;b++)this.Eb[b].la();b=0;for(a=this.Vb.length;b<a;b++)this.Vb[b].la(b<a-1&&this.Vb[b+1].wh)};m.prototype.ht=function(b){if(this.Pf!==!!b){this.Pf=!!b;var a;b=0;for(a=this.Vg.length;b<a;++b)this.Vg[b].ho();0<a&&this.b.T.fe&&this.b.T.fe.Nk()}};m.prototype.kl=function(b){g(b,this.U)};m.prototype.Kp=function(b){g(b,this.Qd)};m.prototype.di=function(){this.Dk=!0;this.parent&&this.parent.di()};
m.prototype.um=function(){return this.ta.length?this.ta[0].trigger:!1};m.prototype.na=function(){var b,a,c=!1,f=this.b,e=this.b.Ka();e.Ia=this;var g=this.ta;this.wh||(e.fj=!1);if(this.ic){0===g.length&&(c=!0);e.ra=0;for(b=g.length;e.ra<b;e.ra++)a=g[e.ra],a.trigger||(a=a.na())&&(c=!0);(e.ne=c)&&this.ai()}else{e.ra=0;for(b=g.length;e.ra<b;e.ra++)if(a=g[e.ra].na(),!a){e.ne=!1;this.Ik&&f.Ad&&f.Pa();return}e.ne=!0;this.ai()}this.Cq(e)};m.prototype.Cq=function(b){b.ne&&this.em&&(b.fj=!0);this.Ik&&this.b.Ad&&
this.b.Pa()};m.prototype.bt=function(b){this.b.Ka().Ia=this;this.ta[b].na()&&(this.ai(),this.b.Ka().ne=!0)};m.prototype.ai=function(){var b=this.b.Ka(),a;b.ab=0;for(a=this.Eb.length;b.ab<a;b.ab++)if(this.Eb[b.ab].na())return;this.Cn()};m.prototype.Ys=function(){var b=this.b.Ka(),a;for(a=this.Eb.length;b.ab<a;b.ab++)if(this.Eb[b.ab].na())return;this.Cn()};m.prototype.Cn=function(){if(this.Vb.length){var b,a,c,f,e=this.Vb.length-1;this.b.Xh(this);if(this.Dk)for(b=0,a=this.Vb.length;b<a;b++)c=this.Vb[b],
(f=!this.oi||!this.group&&b<e)&&this.b.Wh(c.U),c.na(),f?this.b.ve(c.U):this.b.Wi(c.U);else for(b=0,a=this.Vb.length;b<a;b++)this.Vb[b].na();this.b.Th()}};m.prototype.ct=function(){var b=this.b.Ka();b.Ia=this;var a=!1,c;b.ra=0;for(c=this.ta.length;b.ra<c;b.ra++)if(this.ta[b.ra].na())a=!0;else if(!this.ic)return!1;return this.ic?a:!0};m.prototype.Zs=function(){this.b.he++;var b=this.b.Ka().ra,a=this.b.Xh(this);if(!this.ic)for(a.ra=b+1,b=this.ta.length;a.ra<b;a.ra++)if(!this.ta[a.ra].na()){this.b.Th();
return}this.ai();this.b.Th()};m.prototype.ls=function(b){var a=b.index;if(0===a)return!0;for(--a;0<=a;--a)if(this.ta[a].type===b.type)return!1;return!0};Rb=m;a.prototype.la=function(){var b,a,c;b=0;for(a=this.F.length;b<a;b++)c=this.F[b],c.la(),c.Zb&&(this.sf=!0)};a.prototype.et=function(){return!0};a.prototype.yk=function(){var b,a;b=0;for(a=this.F.length;b<a;b++)this.ga[b]=this.F[b].get();return Pa(this.Ja.apply(this.b.Ec,this.ga),this.Hj)};a.prototype.dt=function(){var b,a;b=0;for(a=this.F.length;b<
a;b++)this.ga[b]=this.F[b].get();b=this.Ja.apply(this.Zd?this.Zd:this.type,this.ga);this.type.Ic();return b};a.prototype.xk=function(){var b,a,c,f,e,g,h,d,n=this.type,m=n.L(),u=this.qb.ic&&!this.trigger;a=0;var l=n.Wa,p=n.G,q=n.Rc,v=this.cc,t=-1<v,E=this.sf,z=this.F,A=this.ga,S=this.Hj,D=this.Ja,y;if(E)for(a=0,e=z.length;a<e;++a)g=z[a],g.Zb||(A[a]=g.get(0));else for(a=0,e=z.length;a<e;++a)A[a]=z[a].get(0);if(m.O){N(m.d);N(m.I);y=n.d;b=0;for(f=y.length;b<f;++b){d=y[b];if(E)for(a=0,e=z.length;a<e;++a)g=
z[a],g.Zb&&(A[a]=g.get(b));t?(a=0,p&&(a=d.type.Me[q]),a=D.apply(d.C[v+a],A)):a=D.apply(d,A);(h=Pa(a,S))?m.d.push(d):u&&m.I.push(d)}n.finish&&n.finish(!0);m.O=!1;n.Ic();return m.zj()}c=0;y=(h=u&&!this.qb.ls(this))?m.I:m.d;var F=!1;b=0;for(f=y.length;b<f;++b){d=y[b];if(E)for(a=0,e=z.length;a<e;++a)g=z[a],g.Zb&&(A[a]=g.get(b));t?(a=0,p&&(a=d.type.Me[q]),a=D.apply(d.C[v+a],A)):a=D.apply(d,A);if(Pa(a,S))if(F=!0,h){if(m.d.push(d),l)for(a=0,e=d.siblings.length;a<e;a++)g=d.siblings[a],g.type.L().d.push(g)}else{y[c]=
d;if(l)for(a=0,e=d.siblings.length;a<e;a++)g=d.siblings[a],g.type.L().d[c]=g;c++}else if(h){y[c]=d;if(l)for(a=0,e=d.siblings.length;a<e;a++)g=d.siblings[a],g.type.L().I[c]=g;c++}else if(u&&(m.I.push(d),l))for(a=0,e=d.siblings.length;a<e;a++)g=d.siblings[a],g.type.L().I.push(g)}wa(y,c);if(l)for(p=n.ib,b=0,f=p.length;b<f;b++)d=p[b].L(),h?wa(d.I,c):wa(d.d,c);c=F;if(h&&!F)for(b=0,f=m.d.length;b<f;b++){d=m.d[b];if(E)for(a=0,e=z.length;a<e;a++)g=z[a],g.Zb&&(A[a]=g.get(b));a=t?D.apply(d.C[v],A):D.apply(d,
A);if(Pa(a,S)){F=!0;break}}n.finish&&n.finish(c||u);return u?F:m.zj()};Mb=a;e.prototype.la=function(){var b,a,c;b=0;for(a=this.F.length;b<a;b++)c=this.F[b],c.la(),c.Zb&&(this.sf=!0)};e.prototype.yk=function(){var b=this.b,a,c,f=this.F,e=this.ga;a=0;for(c=f.length;a<c;++a)e[a]=f[a].get();return this.Ja.apply(b.Ec,e)};e.prototype.xk=function(){var b=this.type,a=this.cc,c=b.Rc,f=this.sf,e=this.F,g=this.ga,h=this.Ja,d=b.L().Mb(),b=b.G,n=-1<a,m,u,l,p,q,v;if(f)for(u=0,p=e.length;u<p;++u)q=e[u],q.Zb||(g[u]=
q.get(0));else for(u=0,p=e.length;u<p;++u)g[u]=e[u].get(0);m=0;for(l=d.length;m<l;++m){v=d[m];if(f)for(u=0,p=e.length;u<p;++u)q=e[u],q.Zb&&(g[u]=q.get(m));n?(u=0,b&&(u=v.type.Me[c]),h.apply(v.C[a+u],g)):h.apply(v,g)}return!1};Nb=e;var E=[],u=-1;b.prototype.la=function(){var b,a;if(11===this.type)this.ge=this.b.Xl(this.Ng,this.qb.parent);else if(13===this.type)for(b=0,a=this.xe.length;b<a;b++)this.xe[b].la();this.uc&&this.uc.la()};b.prototype.Cs=function(b){this.Zb||!b||b.N.gi||(this.Zb=!0)};b.prototype.Kn=
function(){this.Zb=!0};b.prototype.Or=function(b){this.dd=b||0;b=c();this.uc.get(b);u--;return b.data};b.prototype.Pr=function(b){this.dd=b||0;b=c();this.uc.get(b);u--;return G(b.data)?b.data:""};b.prototype.Vr=function(){return this.object};b.prototype.Mr=function(){return this.Dl};b.prototype.Tr=function(b){this.dd=b||0;b=c();this.uc.get(b);u--;return b.Ca()?this.b.Mf(b.data):this.b.uj(b.data)};b.prototype.Ur=function(){return this.Da};b.prototype.Sr=function(){return this.key};b.prototype.Rr=function(){return this.index};
b.prototype.Qr=function(b){b=b||0;var a=this.Sb.type,c=null,c=a.L(),f=c.Mb();if(f.length)c=f[b%f.length].type;else if(c.I.length)c=c.I[b%c.I.length].type;else if(a.d.length)c=a.d[b%a.d.length].type;else return 0;return this.index+c.eh[a.Rc]};b.prototype.Nr=function(){return this.ge};b.prototype.Lr=function(){return this.Pl};b.prototype.Wr=function(){var b,a;b=0;for(a=this.xe.length;b<a;b++)this.Mg[b]=this.xe[b].get();return this.Mg};Ob=b;f.prototype.la=function(){this.U=l(this.U)};f.prototype.jt=
function(b){var a=this.b.Vl();this.parent&&!this.$f&&a?(this.re>=a.length&&(a.length=this.re+1),a[this.re]=b):this.data=b};f.prototype.Kr=function(){var b=this.b.Vl();return!this.parent||this.$f||!b||this.vh?this.data:this.re>=b.length||"undefined"===typeof b[this.re]?this.Dj:b[this.re]};f.prototype.na=function(){!this.parent||this.$f||this.vh||this.jt(this.Dj)};Ib=f;n.prototype.toString=function(){return"include:"+this.Uf.toString()};n.prototype.la=function(){this.Uf=this.b.hj[this.bs];this.sheet.gm.add(this);
this.U=l(this.U);for(var b=this.parent;b;)b.group&&b.Vg.push(this),b=b.parent;this.ho()};n.prototype.na=function(){this.parent&&this.b.wg(this.b.j);this.Uf.Aj||this.Uf.na(!0);this.parent&&this.b.ve(this.b.j)};n.prototype.ho=function(){for(var b=this.parent;b;){if(b.group&&!b.Pf){this.pb=!1;return}b=b.parent}this.pb=!0};Sb=n;h.prototype.reset=function(b){this.Ia=b;this.ab=this.ra=0;N(this.Rn);this.fj=this.ne=!1};h.prototype.os=function(){return this.Ia.Dk?!0:this.ra<this.Ia.ta.length-1?!!this.Ia.U.length:
!1};Hb=h})();
(function(){function d(g,a){this.Sb=g;this.b=g.b;this.type=a[0];this.get=[this.Tq,this.Pq,this.cr,this.fr,this.Eq,this.dr,this.Xq,this.Mq,this.Wq,this.br,this.Fq,this.$q,this.Nq,this.Yq,this.Uq,this.Vq,this.Qq,this.Rq,this.Lq,this.er,this.Zq,this.Sq,this.Kq,this.Oq][this.type];var e=null;this.Yc=this.F=this.ga=this.Ja=this.ni=this.second=this.first=this.value=null;this.cc=-1;this.ec=null;this.ko=-1;this.ge=this.Ng=null;this.ef=!1;switch(this.type){case 0:case 1:case 2:this.value=a[1];break;case 3:this.first=
new Qb(g,a[1]);break;case 18:this.first=new Qb(g,a[1]);this.second=new Qb(g,a[2]);this.ni=new Qb(g,a[3]);break;case 19:this.Ja=this.b.ld(a[1]);this.Ja!==W.prototype.Q.random&&this.Ja!==W.prototype.Q.Wp||this.Sb.Kn();this.ga=[];this.F=[];3===a.length?(e=a[2],this.ga.length=e.length+1):this.ga.length=1;break;case 20:this.Yc=this.b.j[a[1]];this.cc=-1;this.Ja=this.b.ld(a[2]);this.ef=a[3];dc&&this.Ja===dc.prototype.Q.qo&&this.Sb.Kn();a[4]?this.ec=new Qb(g,a[4]):this.ec=null;this.ga=[];this.F=[];6===a.length?
(e=a[5],this.ga.length=e.length+1):this.ga.length=1;break;case 21:this.Yc=this.b.j[a[1]];this.ef=a[2];a[3]?this.ec=new Qb(g,a[3]):this.ec=null;this.ko=a[4];break;case 22:this.Yc=this.b.j[a[1]];this.Yc.kh(a[2]);this.cc=this.Yc.pj(a[2]);this.Ja=this.b.ld(a[3]);this.ef=a[4];a[5]?this.ec=new Qb(g,a[5]):this.ec=null;this.ga=[];this.F=[];7===a.length?(e=a[6],this.ga.length=e.length+1):this.ga.length=1;break;case 23:this.Ng=a[1],this.ge=null}this.Sb.Cs(this.Yc);4<=this.type&&17>=this.type&&(this.first=new Qb(g,
a[1]),this.second=new Qb(g,a[2]));if(e){var c,b;c=0;for(b=e.length;c<b;c++)this.F.push(new Qb(g,e[c]))}}function q(){++m;t.length===m&&t.push(new Pb);return t[m]}function l(g,a,e){var c,b;c=0;for(b=g.length;c<b;++c)g[c].get(e),a[c+1]=e.data}function p(g,a){this.type=g||U.Ce;this.data=a||0;this.ue=null;this.type==U.Ce&&(this.data=Math.floor(this.data))}d.prototype.la=function(){23===this.type&&(this.ge=this.Sb.b.Xl(this.Ng,this.Sb.qb.parent));this.first&&this.first.la();this.second&&this.second.la();
this.ni&&this.ni.la();this.ec&&this.ec.la();if(this.F){var g,a;g=0;for(a=this.F.length;g<a;g++)this.F[g].la()}};var t=[],m=-1;d.prototype.er=function(g){var a=this.F,e=this.ga;e[0]=g;g=q();l(a,e,g);--m;this.Ja.apply(this.b.Ec,e)};d.prototype.Zq=function(g){var a=this.Yc,e=this.ga,c=this.F,b=this.ec,f=this.Ja,d=this.Sb.dd,h=a.L(),p=h.Mb();if(!p.length)if(h.I.length)p=h.I;else{this.ef?g.fb(""):g.B(0);return}e[0]=g;g.ue=a;g=q();l(c,e,g);b&&(b.get(g),g.Ca()&&(d=g.data,p=a.d));--m;a=p.length;if(d>=a||
d<=-a)d%=a;0>d&&(d+=a);f.apply(p[d],e)};d.prototype.Kq=function(g){var a=this.Yc,e=this.ga,c=this.F,b=this.ec,f=this.cc,d=this.Ja,h=this.Sb.dd,p=a.L(),t=p.Mb();if(!t.length)if(p.I.length)t=p.I;else{this.ef?g.fb(""):g.B(0);return}e[0]=g;g.ue=a;g=q();l(c,e,g);b&&(b.get(g),g.Ca()&&(h=g.data,t=a.d));--m;c=t.length;if(h>=c||h<=-c)h%=c;0>h&&(h+=c);h=t[h];t=0;a.G&&(t=h.type.Me[a.Rc]);d.apply(h.C[f+t],e)};d.prototype.Sq=function(g){var a=this.ec,e=this.Yc,c=this.ko,b=this.Sb.dd,f=e.L(),d=f.Mb();if(!d.length)if(f.I.length)d=
f.I;else{this.ef?g.fb(""):g.B(0);return}if(a){f=q();a.get(f);if(f.Ca()){b=f.data;d=e.d;0!==d.length&&(b%=d.length,0>b&&(b+=d.length));b=e.tj(b);e=b.ua[c];G(e)?g.fb(e):g.n(e);--m;return}--m}a=d.length;if(b>=a||b<=-a)b%=a;0>b&&(b+=a);b=d[b];d=0;e.G&&(d=b.type.eh[e.Rc]);e=b.ua[c+d];G(e)?g.fb(e):g.n(e)};d.prototype.Tq=function(g){g.type=U.Ce;g.data=this.value};d.prototype.Pq=function(g){g.type=U.Be;g.data=this.value};d.prototype.cr=function(g){g.type=U.String;g.data=this.value};d.prototype.fr=function(g){this.first.get(g);
g.Ca()&&(g.data=-g.data)};d.prototype.Eq=function(g){this.first.get(g);var a=q();this.second.get(a);g.Ca()&&a.Ca()&&(g.data+=a.data,a.Se()&&g.Ye());--m};d.prototype.dr=function(g){this.first.get(g);var a=q();this.second.get(a);g.Ca()&&a.Ca()&&(g.data-=a.data,a.Se()&&g.Ye());--m};d.prototype.Xq=function(g){this.first.get(g);var a=q();this.second.get(a);g.Ca()&&a.Ca()&&(g.data*=a.data,a.Se()&&g.Ye());--m};d.prototype.Mq=function(g){this.first.get(g);var a=q();this.second.get(a);g.Ca()&&a.Ca()&&(g.data/=
a.data,g.Ye());--m};d.prototype.Wq=function(g){this.first.get(g);var a=q();this.second.get(a);g.Ca()&&a.Ca()&&(g.data%=a.data,a.Se()&&g.Ye());--m};d.prototype.br=function(g){this.first.get(g);var a=q();this.second.get(a);g.Ca()&&a.Ca()&&(g.data=Math.pow(g.data,a.data),a.Se()&&g.Ye());--m};d.prototype.Fq=function(g){this.first.get(g);var a=q();this.second.get(a);a.Ue()||g.Ue()?this.Hq(g,a):this.Gq(g,a);--m};d.prototype.Hq=function(g,a){g.Ue()&&a.Ue()?this.Jq(g,a):this.Iq(g,a)};d.prototype.Jq=function(g,
a){g.data+=a.data};d.prototype.Iq=function(g,a){g.Ue()?g.data+=(Math.round(1E10*a.data)/1E10).toString():g.fb(g.data.toString()+a.data)};d.prototype.Gq=function(g,a){g.B(g.data&&a.data?1:0)};d.prototype.$q=function(g){this.first.get(g);var a=q();this.second.get(a);g.Ca()&&a.Ca()&&(g.data||a.data?g.B(1):g.B(0));--m};d.prototype.Lq=function(g){this.first.get(g);g.data?this.second.get(g):this.ni.get(g)};d.prototype.Nq=function(g){this.first.get(g);var a=q();this.second.get(a);g.B(g.data===a.data?1:0);
--m};d.prototype.Yq=function(g){this.first.get(g);var a=q();this.second.get(a);g.B(g.data!==a.data?1:0);--m};d.prototype.Uq=function(g){this.first.get(g);var a=q();this.second.get(a);g.B(g.data<a.data?1:0);--m};d.prototype.Vq=function(g){this.first.get(g);var a=q();this.second.get(a);g.B(g.data<=a.data?1:0);--m};d.prototype.Qq=function(g){this.first.get(g);var a=q();this.second.get(a);g.B(g.data>a.data?1:0);--m};d.prototype.Rq=function(g){this.first.get(g);var a=q();this.second.get(a);g.B(g.data>=
a.data?1:0);--m};d.prototype.Oq=function(g){var a=this.ge.Kr();fa(a)?g.n(a):g.fb(a)};Qb=d;p.prototype.Se=function(){return this.type===U.Be};p.prototype.Ca=function(){return this.type===U.Ce||this.type===U.Be};p.prototype.Ue=function(){return this.type===U.String};p.prototype.Ye=function(){this.Se()||(this.Ue()&&(this.data=parseFloat(this.data)),this.type=U.Be)};p.prototype.B=function(g){this.type=U.Ce;this.data=Math.floor(g)};p.prototype.n=function(g){this.type=U.Be;this.data=g};p.prototype.fb=function(g){this.type=
U.String;this.data=g};p.prototype.Bg=function(g){fa(g)?(this.type=U.Be,this.data=g):G(g)?(this.type=U.String,this.data=g.toString()):(this.type=U.Ce,this.data=0)};Pb=p;U={Ce:0,Be:1,String:2}})();function W(d){this.b=d;this.Va=[]}
W.prototype.Aa=function(){var d={},q,l,p,t,m,g,a,e;d.waits=[];var c=d.waits,b;q=0;for(l=this.Va.length;q<l;q++){g=this.Va[q];b={t:g.time,st:g.Ck,s:g.fi,ev:g.Ke.H,sm:[],sols:{}};g.Ke.Eb[g.ab]&&(b.act=g.Ke.Eb[g.ab].H);p=0;for(t=g.U.length;p<t;p++)b.sm.push(g.U[p].H);for(m in g.Xa)if(g.Xa.hasOwnProperty(m)){a=this.b.j[parseInt(m,10)];e={sa:g.Xa[m].bi,insts:[]};p=0;for(t=g.Xa[m].Tc.length;p<t;p++)e.insts.push(g.Xa[m].Tc[p].uid);b.sols[a.H.toString()]=e}c.push(b)}return d};
W.prototype.Ma=function(d){d=d.waits;var q,l,p,t,m,g,a,e,c,b,f;N(this.Va);q=0;for(l=d.length;q<l;q++)if(g=d[q],e=this.b.wl[g.ev.toString()]){c=-1;p=0;for(t=e.Eb.length;p<t;p++)if(e.Eb[p].H===g.act){c=p;break}if(-1!==c){a={Xa:{},U:[],dj:!1};a.time=g.t;a.Ck=g.st||"";a.fi=!!g.s;a.Ke=e;a.ab=c;p=0;for(t=g.sm.length;p<t;p++)(e=this.b.mh(g.sm[p]))&&a.U.push(e);for(m in g.sols)if(g.sols.hasOwnProperty(m)&&(e=this.b.mh(parseInt(m,10)))){c=g.sols[m];b={bi:c.sa,Tc:[]};p=0;for(t=c.insts.length;p<t;p++)(f=this.b.$l(c.insts[p]))&&
b.Tc.push(f);a.Xa[e.index.toString()]=b}this.Va.push(a)}}};
(function(){function d(){}function q(){}function l(){}var p=W.prototype;d.prototype.Wk=function(){return!0};d.prototype.ep=function(){return!0};d.prototype.Uk=function(){var g=this.b.Ka();return g.fj?!1:!g.ne};d.prototype.Xk=function(){return!0};d.prototype.Yo=function(){return!0};d.prototype.Ei=function(){return!0};d.prototype.fp=function(){return!0};d.prototype.Ci=function(){return!0};d.prototype.oo=function(g,a,e){return La(R(g),R(e))<=R(a)};d.prototype.Io=function(g,a){return Na(R(g),R(a))};d.prototype.Ho=
function(g,a,e){g=Ha(g);a=Ha(a);e=Ha(e);return Na(e,a)?Na(g,a)&&!Na(g,e):!(!Na(g,a)&&Na(g,e))};p.e=new d;q.prototype.uo=function(g,a,e,c){if(a&&g&&(a=this.b.Zi(g,a,e,c))){this.b.wb++;var b;this.b.trigger(Object.getPrototypeOf(g.N).e.De,a);if(a.Wa)for(e=0,c=a.siblings.length;e<c;e++)b=a.siblings[e],this.b.trigger(Object.getPrototypeOf(b.type.N).e.De,b);this.b.wb--;g=g.L();g.O=!1;N(g.d);g.d[0]=a;if(a.Wa)for(e=0,c=a.siblings.length;e<c;e++)b=a.siblings[e],g=b.type.L(),g.O=!1,N(g.d),g.d[0]=b}};var t=
[],m=[];q.prototype.xp=function(g){var a,e,c,b=this.b.Ka(),f;t.length?f=t.pop():f={Xa:{},U:[]};f.dj=!1;f.time=-1;f.Ck=g.toLowerCase();f.fi=!1;f.Ke=b.Ia;f.ab=b.ab+1;g=0;for(a=this.b.j.length;g<a;g++)c=this.b.j[g],e=c.L(),e.O&&-1===b.Ia.U.indexOf(c)||(f.U.push(c),c=void 0,m.length?c=m.pop():c={Tc:[]},c.bi=!1,c.bi=e.O,Q(c.Tc,e.d),f.Xa[g.toString()]=c);this.Va.push(f);return!0};q.prototype.sp=function(g){g=g.toLowerCase();var a,e,c;a=0;for(e=this.Va.length;a<e;++a)c=this.Va[a],-1===c.time&&c.Ck===g&&
(c.fi=!0)};p.M=new q;l.prototype["int"]=function(g,a){G(a)?(g.B(parseInt(a,10)),isNaN(g.data)&&(g.data=0)):g.B(a)};l.prototype["float"]=function(g,a){G(a)?(g.n(parseFloat(a)),isNaN(g.data)&&(g.data=0)):g.n(a)};l.prototype.random=function(g,a,e){void 0===e?g.n(Math.random()*a):g.n(Math.random()*(e-a)+a)};l.prototype.sqrt=function(g,a){g.n(Math.sqrt(a))};l.prototype.abs=function(g,a){g.n(Math.abs(a))};l.prototype.round=function(g,a){g.B(Math.round(a))};l.prototype.floor=function(g,a){g.B(Math.floor(a))};
l.prototype.ceil=function(g,a){g.B(Math.ceil(a))};l.prototype.sin=function(g,a){g.n(Math.sin(R(a)))};l.prototype.cos=function(g,a){g.n(Math.cos(R(a)))};l.prototype.tan=function(g,a){g.n(Math.tan(R(a)))};l.prototype.asin=function(g,a){g.n(Ca(Math.asin(a)))};l.prototype.acos=function(g,a){g.n(Ca(Math.acos(a)))};l.prototype.atan=function(g,a){g.n(Ca(Math.atan(a)))};l.prototype.exp=function(g,a){g.n(Math.exp(a))};l.prototype.log10=function(g,a){g.n(Math.log(a)/Math.LN10)};l.prototype.max=function(g){var a=
arguments[1];"number"!==typeof a&&(a=0);var e,c,b;e=2;for(c=arguments.length;e<c;e++)b=arguments[e],"number"===typeof b&&a<b&&(a=b);g.n(a)};l.prototype.min=function(g){var a=arguments[1];"number"!==typeof a&&(a=0);var e,c,b;e=2;for(c=arguments.length;e<c;e++)b=arguments[e],"number"===typeof b&&a>b&&(a=b);g.n(a)};l.prototype.Je=function(g){g.n(this.b.Je)};l.prototype.Kg=function(g){g.n(this.b.Kg)};l.prototype.time=function(g){g.n(this.b.Pb.ja)};l.prototype.Fc=function(g){g.B(this.b.Fc)};l.prototype.Nh=
function(g){g.B(this.b.Nh)};l.prototype.mj=function(g){g.B(this.b.mj)};l.prototype.Gm=function(g,a){var e,c;if(this.b.ck.length)if(a){for(c=this.b.Fm;0<=c;--c)if(e=this.b.ck[c],e.name===a){g.B(e.index);return}g.B(0)}else e=this.b.rr(),g.B(e?e.index:-1);else g.B(0)};l.prototype.i=function(g,a,e,c,b){g.n(Ca(Ka(a,e,c,b)))};l.prototype.left=function(g,a,e){g.fb(G(a)?a.substr(0,e):"")};l.prototype.right=function(g,a,e){g.fb(G(a)?a.substr(a.length-e):"")};l.prototype.replace=function(g,a,e,c){G(a)&&G(e)&&
G(c)?g.fb(a.replace(new RegExp(Xa(e),"gi"),c)):g.fb(G(a)?a:"")};l.prototype.trim=function(g,a){g.fb(G(a)?a.trim():"")};l.prototype.Wp=function(g){var a=J(Math.random()*(arguments.length-1));g.Bg(arguments[a+1])};l.prototype.Yi=function(g){g.n(this.b.Yi/1E3)};l.prototype.We=function(g){g.n(this.b.We)};p.Q=new l;p.$s=function(){var g,a,e,c,b,f,d=this.b.Ka();g=0;for(e=this.Va.length;g<e;g++){c=this.Va[g];if(-1===c.time){if(!c.fi)continue}else if(c.time>this.b.Pb.ja)continue;d.Ia=c.Ke;d.ab=c.ab;d.ra=
0;for(a in c.Xa)c.Xa.hasOwnProperty(a)&&(b=this.b.j[parseInt(a,10)].L(),f=c.Xa[a],b.O=f.bi,Q(b.d,f.Tc),b=f,N(b.Tc),m.push(b));c.Ke.Ys();this.b.Wi(c.U);c.dj=!0}a=g=0;for(e=this.Va.length;g<e;g++)c=this.Va[g],this.Va[a]=c,c.dj?(Ra(c.Xa),N(c.U),t.push(c)):a++;wa(this.Va,a)}})();
(function(){gb=function(d,l){var p=d[1],t=d[3],m=d[4],g=d[5],a=d[6],e=d[7],c=d[8];l.e||(l.e={});l.M||(l.M={});l.Q||(l.Q={});var b=l.e,f=l.M,n=l.Q;t&&(b.Rt=function(b,a){return Tb(this.x,b,a)},b.St=function(b,a){return Tb(this.y,b,a)},b.Xt=function(){var b=this.g;this.qa();var a=this.Fa;return!(a.right<b.Y||a.bottom<b.Z||a.left>b.da||a.top>b.ca)},b.Yt=function(){this.qa();var b=this.Fa,a=this.b.T;return 0>b.right||0>b.bottom||b.left>a.width||b.top>a.height},b.ju=function(b,a,c){var f=this.L(),e=f.Mb();
if(!e.length)return!1;var g=e[0],d=g,n=Oa(g.x,g.y,a,c),m,l,p;m=1;for(l=e.length;m<l;m++)if(g=e[m],p=Oa(g.x,g.y,a,c),0===b&&p<n||1===b&&p>n)n=p,d=g;f.tg(d);return!0},f.Bu=function(b){this.x!==b&&(this.x=b,this.oa())},f.Cu=function(b){this.y!==b&&(this.y=b,this.oa())},f.wu=function(b,a){if(this.x!==b||this.y!==a)this.x=b,this.y=a,this.oa()},f.xu=function(b,a){var c=b.Ar(this);if(c){var f;c.Lf?(f=c.Lf(a,!0),c=c.Lf(a,!1)):(f=c.x,c=c.y);if(this.x!==f||this.y!==c)this.x=f,this.y=c,this.oa()}},f.cu=function(b){0!==
b&&(this.x+=Math.cos(this.i)*b,this.y+=Math.sin(this.i)*b,this.oa())},f.bu=function(b,a){0!==a&&(this.x+=Math.cos(R(b))*a,this.y+=Math.sin(R(b))*a,this.oa())},n.Bp=function(b){b.n(this.x)},n.Dp=function(b){b.n(this.y)},n.Je=function(b){b.n(this.b.Wl(this))});m&&(b.Qt=function(b,a){return Tb(this.width,b,a)},b.Nt=function(b,a){return Tb(this.height,b,a)},f.Rg=function(b){this.width!==b&&(this.width=b,this.oa())},f.Hi=function(b){this.height!==b&&(this.height=b,this.oa())},f.yu=function(b,a){if(this.width!==
b||this.height!==a)this.width=b,this.height=a,this.oa()},n.yp=function(b){b.n(this.width)},n.Go=function(b){b.n(this.height)},n.Kt=function(b){this.qa();b.n(this.Fa.left)},n.Mt=function(b){this.qa();b.n(this.Fa.top)},n.Lt=function(b){this.qa();b.n(this.Fa.right)},n.Jt=function(b){this.qa();b.n(this.Fa.bottom)});g&&(b.oo=function(b,a){return La(this.i,R(a))<=R(b)},b.Io=function(b){return Na(this.i,R(b))},b.Ho=function(b,a){var c=Ha(b),f=Ha(a),e=Ea(this.i);return Na(f,c)?Na(e,c)&&!Na(e,f):!(!Na(e,c)&&
Na(e,f))},f.ru=function(b){b=R(Da(b));isNaN(b)||this.i===b||(this.i=b,this.oa())},f.nu=function(b){0===b||isNaN(b)||(this.i+=R(b),this.i=Ea(this.i),this.oa())},f.ou=function(b){0===b||isNaN(b)||(this.i-=R(b),this.i=Ea(this.i),this.oa())},f.pu=function(b,a){var c=Ma(this.i,R(a),R(b));isNaN(c)||this.i===c||(this.i=c,this.oa())},f.qu=function(b,a,c){b=Ma(this.i,Math.atan2(c-this.y,a-this.x),R(b));isNaN(b)||this.i===b||(this.i=b,this.oa())},f.zu=function(b,a){var c=Math.atan2(a-this.y,b-this.x);isNaN(c)||
this.i===c||(this.i=c,this.oa())},n.Ht=function(b){b.n(Ga(this.i))});p||(b.Ot=function(b,a,c){return Tb(this.ua[b],a,c)},b.Vt=function(b){return this.ua[b]},b.ku=function(b,a){var c=this.L(),f=c.Mb();if(!f.length)return!1;var e=f[0],g=e,d=e.ua[a],n,m,l;n=1;for(m=f.length;n<m;n++)if(e=f[n],l=e.ua[a],0===b&&l<d||1===b&&l>d)d=l,g=e;c.tg(g);return!0},b.iu=function(b){var a,c,f,e,g;if(this.b.qr().Hj){g=this.L();if(g.O)for(g.O=!1,N(g.d),N(g.I),f=this.d,a=0,c=f.length;a<c;a++)e=f[a],e.uid===b?g.I.push(e):
g.d.push(e);else{f=a=0;for(c=g.d.length;a<c;a++)e=g.d[a],g.d[f]=e,e.uid===b?g.I.push(e):f++;wa(g.d,f)}this.Ic();return!!g.d.length}e=this.b.$l(b);if(!e)return!1;g=this.L();if(!g.O&&-1===g.d.indexOf(e))return!1;if(this.G)for(b=e.type.ba,a=0,c=b.length;a<c;a++){if(b[a]===this)return g.tg(e),this.Ic(),!0}else if(e.type===this)return g.tg(e),this.Ic(),!0;return!1},b.De=function(){return!0},b.Zo=function(){return!0},f.qp=function(b,a){var c=this.ua;fa(c[b])?c[b]=fa(a)?a:parseFloat(a):G(c[b])&&(c[b]=G(a)?
a:a.toString())},f.no=function(b,a){var c=this.ua;fa(c[b])?c[b]=fa(a)?c[b]+a:c[b]+parseFloat(a):G(c[b])&&(c[b]=G(a)?c[b]+a:c[b]+a.toString())},f.Du=function(b,a){var c=this.ua;fa(c[b])&&(c[b]=fa(a)?c[b]-a:c[b]-parseFloat(a))},f.su=function(b,a){this.ua[b]=a?1:0},f.Eu=function(b){this.ua[b]=1-this.ua[b]},f.Tk=function(){this.b.Ae(this)},f.So||(f.So=function(b){var a,c;try{a=JSON.parse(b)}catch(f){return}this.b.Fh(this,a,!0);this.Wd&&this.Wd();if(this.C)for(b=0,a=this.C.length;b<a;++b)c=this.C[b],c.Wd&&
c.Wd()}),n.Tt=function(b){var a=b.ue.d.length,c,f,e;c=0;for(f=this.b.sc.length;c<f;c++)e=this.b.sc[c],b.ue.G?0<=e.type.ba.indexOf(b.ue)&&a++:e.type===b.ue&&a++;b.B(a)},n.mu=function(b){b.B(b.ue.L().Mb().length)},n.Fu=function(b){b.B(this.uid)},n.Ut=function(b){b.B(this.Of())},n.po||(n.po=function(b){b.fb(JSON.stringify(this.b.zk(this,!0)))}));a&&(b.Zt=function(){return this.visible},f.Au=function(b){!b!==!this.visible&&(this.visible=!!b,this.b.S=!0)},b.Pt=function(b,a){return Tb(cb(100*this.opacity),
b,a)},f.vu=function(b){b=b/100;0>b?b=0:1<b&&(b=1);b!==this.opacity&&(this.opacity=b,this.b.S=!0)},n.Opacity=function(b){b.n(cb(100*this.opacity))});e&&(b.Wt=function(b){return b?this.g===b:!1},b.lu=function(b){var a=this.L(),c=a.Mb();if(!c.length)return!1;var f=c[0],e=f,g,d;g=1;for(d=c.length;g<d;g++)if(f=c[g],0===b){if(f.g.index>e.g.index||f.g.index===e.g.index&&f.vc()>e.vc())e=f}else if(f.g.index<e.g.index||f.g.index===e.g.index&&f.vc()<e.vc())e=f;a.tg(e);return!0},f.fu=function(){var b=this.g,
a=b.d;a.length&&a[a.length-1]===this||(b.df(this,!1),b.uf(this,!1),this.b.S=!0)},f.du=function(){var b=this.g,a=b.d;a.length&&a[0]===this||(b.df(this,!1),b.Ss(this),this.b.S=!0)},f.eu=function(b){b&&b!=this.g&&(this.g.df(this,!0),this.g=b,b.uf(this,!0),this.b.S=!0)},f.Hu=function(b,a){var c=0===b;if(a){var f=a.sr(this);f&&f.uid!==this.uid&&(this.g.index!==f.g.index&&(this.g.df(this,!0),this.g=f.g,f.g.uf(this,!0)),this.g.Ds(this,f,c),this.b.S=!0)}},n.au=function(b){b.B(this.g.bn)},n.$t=function(b){b.fb(this.g.name)},
n.Gu=function(b){b.B(this.vc())});c&&(f.tu=function(b,a){if(this.b.m){var c=this.type.sj(a);if(!(0>c)){var f=1===b;this.nd[c]!==f&&(this.nd[c]=f,this.nc(),this.b.S=!0)}}},f.uu=function(b,a,c){if(this.b.m){var f=this.type.sj(b);0>f||(b=this.type.u[f],f=this.fa[f],a=Math.floor(a),0>a||a>=f.length||(1===this.b.m.Dr(b.pa,a)&&(c/=100),f[a]!==c&&(f[a]=c,b.pb&&(this.b.S=!0))))}})};zb=function(){this.Ri=this.Li=!0;this.type.nl=!0;this.b.S=!0;var d,l,p=this.Mi;d=0;for(l=p.length;d<l;++d)p[d](this);this.g.Db&&
this.qa()};Ab=function(d){d&&this.Mi.push(d)};Cb=function(){if(this.Li){var d=this.Fa,l=this.$d;d.set(this.x,this.y,this.x+this.width,this.y+this.height);d.offset(-this.lb*this.width,-this.mb*this.height);this.i?(d.offset(-this.x,-this.y),l.Ln(d,this.i),l.offset(this.x,this.y),l.xl(d)):l.ei(d);d.normalize();this.Li=!1;this.yt()}};var d=new K(0,0,0,0);Db=function(){if(this.g.Db){var q=this.g.Oa,l=this.Fa;d.set(q.Za(l.left),q.$a(l.top),q.Za(l.right),q.$a(l.bottom));this.eb.Ef(d)||(this.eb.right<this.eb.left?
q.update(this,null,d):q.update(this,this.eb,d),this.eb.zf(d),this.g.lc=!0)}};Eb=function(){if(this.Ri&&this.xf){this.qa();var q=this.type.Cl,l=this.Fa;d.set(q.Za(l.left),q.$a(l.top),q.Za(l.right),q.$a(l.bottom));this.sd.Ef(d)||(this.sd.right<this.sd.left?q.update(this,null,d):q.update(this,this.sd,d),this.sd.zf(d),this.Ri=!1)}};Bb=function(d,l){return this.Fa.rb(d,l)&&this.$d.rb(d,l)?this.qc&&!this.qc.ss()?(this.qc.Up(this.width,this.height,this.i),this.qc.rb(d-this.x,l-this.y)):!0:!1};vb=function(){this.type.ri();
return this.ke};Fb=function(){this.g.Pk();return this.oc};Gb=function(){N(this.K);var d,l,p,t=!0;d=0;for(l=this.nd.length;d<l;d++)this.nd[d]&&(p=this.type.u[d],this.K.push(p),p.jc||(t=!1));this.jo=!!this.K.length;this.cd=t};wb=function(){return"Inst"+this.xn};jb=function(d){if(d&&d.Wa&&d.type!=this){var l,p,t;l=0;for(p=d.siblings.length;l<p;l++)if(t=d.siblings[l],t.type==this)return t}d=this.L().Mb();return d.length?d[0]:null};kb=function(d){var l=this.L().Mb();return l.length?l[d.Of()%l.length]:
null};ib=function(){if(this.kf&&!this.G){var d,l;d=0;for(l=this.d.length;d<l;d++)this.d[d].ke=d;var p=d,t=this.b.sc;d=0;for(l=t.length;d<l;++d)t[d].type===this&&(t[d].ke=p++);this.kf=!1}};tb=function(d){if(d<this.d.length)return this.d[d];d-=this.d.length;var l=this.b.sc,p,t;p=0;for(t=l.length;p<t;++p)if(l[p].type===this){if(0===d)return l[p];--d}return null};lb=function(){return this.ed[this.tc]};mb=function(){this.tc++;this.tc===this.ed.length?this.ed.push(new hb(this)):(this.ed[this.tc].O=!0,N(this.ed[this.tc].I))};
nb=function(){this.tc++;this.tc===this.ed.length&&this.ed.push(new hb(this));var d=this.ed[this.tc],l=this.ed[this.tc-1];l.O?(d.O=!0,N(d.I)):(d.O=!1,Q(d.d,l.d),Q(d.I,l.I))};ob=function(){this.tc--};pb=function(d){var l,p,t,m,g,a=0;if(!this.G)for(l=0,p=this.ba.length;l<p;l++)for(g=this.ba[l],t=0,m=g.ea.length;t<m;t++){if(d===g.ea[t].name)return this.V.lastBehIndex=a,g.ea[t];a++}l=0;for(p=this.ea.length;l<p;l++){if(d===this.ea[l].name)return this.V.lastBehIndex=a,this.ea[l];a++}return null};qb=function(d){return this.kh(d)?
this.V.lastBehIndex:-1};rb=function(d){var l,p;l=0;for(p=this.u.length;l<p;l++)if(this.u[l].name===d)return l;return-1};sb=function(){if(this.Wa&&!this.G){var d,l,p,t,m,g,a;this.ri();g=this.L();var e=g.O,c=(d=this.b.Ka())&&d.Ia&&d.Ia.ic;d=0;for(l=this.ib.length;d<l;d++)if(m=this.ib[d],m!==this&&(m.ri(),a=m.L(),a.O=e,!e)){N(a.d);p=0;for(t=g.d.length;p<t;++p)a.d[p]=m.tj(g.d[p].ke);if(c)for(N(a.I),p=0,t=g.I.length;p<t;++p)a.I[p]=m.tj(g.I[p].ke)}}};ub=function(){return"Type"+this.H};Tb=function(d,l,p){if("undefined"===
typeof d||"undefined"===typeof p)return!1;switch(l){case 0:return d===p;case 1:return d!==p;case 2:return d<p;case 3:return d<=p;case 4:return d>p;case 5:return d>=p;default:return!1}}})();var ac={};function X(d){this.b=d}
(function(){function d(){}var q=X.prototype;q.Ba=function(d){this.N=d;this.b=d.b};q.Ba.prototype.R=function(){};q.ka=function(d){this.type=d;this.b=d.b};q.ka.prototype.R=function(){var d=this;window.addEventListener("resize",function(){d.b.trigger(X.prototype.e.kp,d)});"undefined"!==typeof navigator.onLine&&(window.addEventListener("online",function(){d.b.trigger(X.prototype.e.hp,d)}),window.addEventListener("offline",function(){d.b.trigger(X.prototype.e.gp,d)}));"undefined"!==typeof window.applicationCache&&
(window.applicationCache.addEventListener("updateready",function(){d.b.We=1;d.b.trigger(X.prototype.e.dl,d)}),window.applicationCache.addEventListener("progress",function(p){d.b.We=p.loaded/p.total||0}));this.b.Uc||(document.addEventListener("appMobi.device.update.available",function(){d.b.trigger(X.prototype.e.dl,d)}),document.addEventListener("backbutton",function(){d.b.trigger(X.prototype.e.Bi,d)}),document.addEventListener("menubutton",function(){d.b.trigger(X.prototype.e.Yk,d)}),document.addEventListener("searchbutton",
function(){d.b.trigger(X.prototype.e.lp,d)}),document.addEventListener("tizenhwkey",function(p){var t;switch(p.keyName){case "back":t=d.b.trigger(X.prototype.e.Bi,d);!t&&window.tizen&&window.tizen.application.getCurrentApplication().exit();break;case "menu":(t=d.b.trigger(X.prototype.e.Yk,d))||p.preventDefault()}}));this.b.Pj&&WinJS.Application&&(WinJS.Application.onbackclick=function(){return!!d.b.trigger(X.prototype.e.Bi,d)});this.b.Lp(function(p){p?d.b.trigger(X.prototype.e.ip,d):d.b.trigger(X.prototype.e.jp,
d)})};d.prototype.hp=function(){return!0};d.prototype.gp=function(){return!0};d.prototype.dl=function(){return!0};d.prototype.jp=function(){return!0};d.prototype.ip=function(){return!0};d.prototype.kp=function(){return!0};d.prototype.Bi=function(){return!0};d.prototype.Yk=function(){return!0};d.prototype.lp=function(){return!0};q.e=new d;q.M=new function(){};q.Q=new function(){}})();function dc(d){this.b=d}
(function(){function d(){this.name="";this.yg=0;this.Ld=[]}function q(){a++;a===g.length&&g.push(new d);return g[a]}function l(){}function p(){}function t(){}var m=dc.prototype;m.Ba=function(a){this.N=a;this.b=a.b};m.Ba.prototype.R=function(){};m.ka=function(a){this.type=a;this.b=a.b};var g=[],a=-1;m.ka.prototype.R=function(){var e=this;window.c2_callFunction=function(c,b){var f,g,d,m=q();m.name=c.toLowerCase();m.yg=0;if(b)for(m.Ld.length=b.length,f=0,g=b.length;f<g;++f)d=b[f],m.Ld[f]="number"===
typeof d||"string"===typeof d?d:"boolean"===typeof d?d?1:0:0;else N(m.Ld);e.b.trigger(dc.prototype.e.Qg,e,m.name);a--;return m.yg}};l.prototype.Qg=function(e){var c=0>a?null:g[a];return c?db(e,c.name):!1};m.e=new l;p.prototype.CallFunction=function(e,c){var b=q();b.name=e.toLowerCase();b.yg=0;Q(b.Ld,c);this.b.trigger(dc.prototype.e.Qg,this,b.name);a--};m.M=new p;t.prototype.op=function(e,c){c=J(c);var b=0>a?null:g[a];b?0<=c&&c<b.Ld.length?e.Bg(b.Ld[c]):e.B(0):e.B(0)};t.prototype.qo=function(e,c){var b=
q();b.name=c.toLowerCase();b.yg=0;N(b.Ld);var f,g;f=2;for(g=arguments.length;f<g;f++)b.Ld.push(arguments[f]);this.b.trigger(dc.prototype.e.Qg,this,b.name);a--;e.Bg(b.yg)};m.Q=new t})();function Y(d){this.b=d}
(function(){function d(){}function q(){}function l(){}var p=Y.prototype;p.Ba=function(d){this.N=d;this.b=d.b};p.Ba.prototype.R=function(){};p.ka=function(d){this.type=d;this.b=d.b};var t=p.ka.prototype;t.R=function(){this.yb||(this.bh=new window.DungeonGen);this.Od=this.map=null;this.Gf=this.Hf=0;this.Zg=this.yd=null};t.rg=function(){this.yi()};t.Fe=function(d,g,a,e,c){this.bh.Stop();var b=this;this.Zg=[d,g,a,e,c];this.bh.Start(d,g,a,e,c,function(c){b.Hf=g;b.Gf=a;c=c[0];b.map=c[0];b.Od=c[1];b.Zg=
null;b.b.trigger(Y.prototype.e.Vk,b)})};t.yi=function(){this.Zg=null;this.bh.Stop()};t.rf=function(d,g){var a;this.map&&this.map[d]&&(a=this.map[d][g]);null==a&&(a=-1);return a};t.ms=function(d,g){return 0<=d&&d<this.Hf&&0<=g&&g<this.Gf};t.Ai=function(d,g){if(!this.ms(d,g))return-1;var a,e=this.Od.length,c;for(a=0;a<e;a++)if(c=this.Od[a],d>=c[0]&&d<=c[2]&&g>=c[1]&&g<=c[3])return a;return-1};t.ns=function(d,g){return-1===this.rf(d,g)};t.qm=function(d,g){return 1===this.rf(d,g)};t.yc=function(d,g){return 0===
this.rf(d,g)};t.om=function(d,g){if(this.qm(d,g)){var a=this.yc(d,g-1);a||(a=this.yc(d+1,g));a||(a=this.yc(d,g+1));a||(a=this.yc(d-1,g));a||(a=this.yc(d+1,g-1));a||(a=this.yc(d+1,g+1));a||(a=this.yc(d-1,g+1));a||(a=this.yc(d-1,g-1));return a}return!1};t.js=function(d,g){return this.qm(d,g)&&!this.om(d,g)};t.gc=function(d,g){return-1!==this.Ai(d,g)};t.xc=function(d,g,a){if(this.yc(d,g)&&!this.gc(d,g)){if(a)return!0;(a=this.gc(d,g-1))||(a=this.gc(d+1,g));a||(a=this.gc(d,g+1));a||(a=this.gc(d-1,g));
return!a}return!1};t.hs=function(d,g){if(this.yc(d,g)&&!this.gc(d,g)){var a=this.gc(d,g-1);a||(a=this.gc(d+1,g));a||(a=this.gc(d,g+1));a||(a=this.gc(d-1,g));return a}return!1};t.qj=function(d,g){var a=0;this.xc(d,g-1,!0)&&(a+=1);this.xc(d+1,g,!0)&&(a+=1);this.xc(d,g+1,!0)&&(a+=1);this.xc(d-1,g,!0)&&(a+=1);return a};t.Ul=function(d,g){var a=0;this.xc(d+1,g,!0)&&(a|=1);this.xc(d,g+1,!0)&&(a|=2);this.xc(d-1,g,!0)&&(a|=4);this.xc(d,g-1,!0)&&(a|=8);return a};t.Hr=function(d){return null===d?-1:d[0]};t.Ir=
function(d){return null===d?-1:d[2]};t.Jr=function(d){return null===d?-1:d[1]};t.Er=function(d){return null===d?-1:d[3]};t.Fr=function(d){return null===d?-1:Math.floor((d[0]+d[2])/2)};t.Gr=function(d){return null===d?-1:Math.floor((d[1]+d[3])/2)};t.Jc=function(d){return null===d?-1:d[2]-d[0]+1};t.Gl=function(d){return null===d?-1:d[3]-d[1]+1};t.Aa=function(){return{map:this.map,rooms:this.Od,w:this.Hf,h:this.Gf,curTsk:this.Zg}};t.Ma=function(d){this.map=d.map;this.Od=d.rooms;this.Hf=d.w;this.Gf=d.h;
d=d.curTsk;null!==d&&this.Fe.apply(this,d)};p.e=new d;d.prototype.Ko=function(){return this.bh.IsProcessing()};d.prototype.Vk=function(){return!0};d.prototype.vp=function(d,g,a){switch(a){case 0:return this.ns(d,g);case 1:return this.js(d,g);case 2:return this.om(d,g);case 3:return this.gc(d,g);case 4:return this.xc(d,g);case 5:return this.hs(d,g);default:return!1}};d.prototype.Jo=function(d,g,a){if(!this.xc(d,g,!0))return!1;switch(a){case 0:return 1===this.qj(d,g);case 1:return d=this.Ul(d,g),3===
d||6===d||12===d||9==d;case 2:return d=this.Ul(d,g),5===d||10===d;case 3:return 3===this.qj(d,g);case 4:return 4===this.qj(d,g);default:return!1}};d.prototype.Bo=function(){if(null==this.Od)return!1;var d=this.b,g=d.Ka(),a=g.Ia,g=g.os(),e,c=this.Od.length;for(e=0;e<c;e++)g&&d.Wh(a.U),this.yd=this.Od[e],a.Zs(),g&&d.ve(a.U);this.yd=null;return!1};p.M=new q;q.prototype.Co=function(d,g,a,e,c,b,f,n,h,p,l){this.Fe("Digger",d,g,a,{roomWidth:[e,c],roomHeight:[b,f],corridorLength:[n,h],dugPercentage:p,timeLimit:1E3*
l})};q.prototype.Eo=function(d,g,a,e,c,b,f,n,h){this.Fe("Uniform",d,g,a,{roomWidth:[e,c],roomHeight:[b,f],dugPercentage:n,timeLimit:1E3*h})};q.prototype.Do=function(d,g,a,e,c){this.Fe("Rogue",d,g,a,{cellWidth:e,cellHeight:c})};q.prototype.yi=function(){this.yi()};p.Q=new l;l.prototype.Uo=function(d){d.n(this.Hf)};l.prototype.To=function(d){d.n(this.Gf)};l.prototype.rf=function(d,g,a){d.Bg(this.rf(g,a))};l.prototype.yo=function(d){d.B(this.Hr(this.yd))};l.prototype.zo=function(d){d.B(this.Ir(this.yd))};
l.prototype.Ao=function(d){d.B(this.Jr(this.yd))};l.prototype.vo=function(d){d.B(this.Er(this.yd))};l.prototype.wo=function(d){d.B(this.Fr(this.yd))};l.prototype.xo=function(d){d.B(this.Gr(this.yd))};l.prototype.Ai=function(d,g,a){d.B(this.Ai(g,a))}})();function ec(d){this.b=d}
(function(){function d(){}function q(){}var l=ec.prototype;l.Ba=function(d){this.N=d;this.b=d.b};l.Ba.prototype.R=function(){};l.ka=function(d){this.type=d;this.b=d.b};var p=l.ka.prototype;p.R=function(){this.Sj=0==this.X[0];var d=this.X[1];.01>d&&(d=.01);this.nk=1/60*1E3*d;this.uk=this.X[2];this.zc=!1;this.ej=0;this.Zn=!1};p.Rd=function(){this.zc&&(this.ej+=1,this.Sj?this.Fp():this.Gp())};p.Fp=function(){for(var d=!1,m=Date.now();!d;){this.b.trigger(ec.prototype.e.Di,this);if(!this.zc)break;d=Date.now()-
m>this.nk}};p.Gp=function(){var d;for(d=0;d<this.uk&&(this.b.trigger(ec.prototype.e.Di,this),this.zc);d++);};p.Aa=function(){return{dm:this.Sj,pt:this.nk,rc:this.uk,isrun:this.zc}};p.Ma=function(d){this.Sj=d.dm;this.nk=d.pt;this.uk=d.rc;(this.zc=d.isrun)&&this.b.Jg(this)};l.e=new d;d.prototype.al=function(){return!0};d.prototype.Di=function(){return!0};d.prototype.bl=function(){return!0};d.prototype.Lo=function(){return this.zc};l.M=new q;q.prototype.Fe=function(){this.Zn||(this.b.Jg(this),this.Zn=
!0);this.zc=!0;this.ej=0;this.b.trigger(ec.prototype.e.al,this)};q.prototype.up=function(){this.zc&&(this.zc=!1,this.b.trigger(ec.prototype.e.bl,this))};l.Q=new function(){}})();function fc(d){this.b=d}
(function(){function d(){}function q(){}function l(){}var p=fc.prototype;p.Ba=function(d){this.N=d;this.b=d.b};p.Ba.prototype.R=function(){};p.ka=function(d){this.type=d;this.b=d.b};var t=p.ka.prototype;t.R=function(){this.se=new fc.Jc;this.Sg=null};t.ts=function(){var d=this.b.Fc,g=this.Sg!=d;this.Sg=d;return g};t.Aa=function(){return{lps:this.se.Aa(),lt:this.Sg}};t.Ma=function(d){this.se.Ma(d.lps);this.Sg=d.lt};p.e=new d;d.prototype.Fo=function(){return this.se.Tf()};p.M=new q;q.prototype.mo=function(d,
g,a,e){this.ts()&&this.se.reset();this.se.Mp(d,g,a,e)};q.prototype.Vo=function(){this.se.next()};p.Q=new l;l.prototype.Gm=function(d,g){d.Bg(this.se.ph(g))}})();
(function(){function d(d,l){this.name=d;this.list=l;this.current=null}function q(d,l,m,g){this.name=d;this.start=l;this.end=m;this.step=g;this.current=null}fc.Jc=function(){this.Rb=[];this.Ud={};this.Kf=!0};var l=fc.Jc.prototype;l.reset=function(){this.Rb.length=0;for(var d in this.Ud)delete this.Ud[d];this.Kf=!0};l.Mp=function(d,l,m,g){null==this.Ud[d]&&(l=new q(d,l,m,g),this.Rb.push(l),this.Ud[d]=l)};l.Jc=function(p,l){if(null==this.Ud[p]){var m=new d(p,l);this.Rb.push(m);this.Ud[p]=m}};l.Tf=function(){var d,
l=this.Rb.length;for(d=0;d<l;d++)if(this.Rb[d].Tf())return!0;return!1};l.next=function(){if(this.Kf)this.Ep(),this.Kf=!1;else{var d,l;for(d=this.Rb.length-1;0<=d;d--)if(l=this.Rb[d],l.Tf()){l.next();break}else l.zg()}};l.Ep=function(){var d;for(d=this.Rb.length-1;0<=d;d--)this.Rb[d].zg()};l.ph=function(d){d=this.Ud[d];return null!=d?d.ph():0};l.Aa=function(){var d,l=this.Rb.length,m,g,a=[];for(d=0;d<l;d++)m=this.Rb[d],g=m instanceof q?"for":"list",m=m.Aa(),m.__type=g,a.push(m);return{loops:a,ff:this.Kf}};
l.Ma=function(l){var t=l.loops,m,g=t.length,a,e;for(m=0;m<g;m++)a=t[m],e=a.__type,e="for"==e?q:d,e=new e,e.Ma(a),this.Rb.push(e),this.Ud[a.name]=e;this.Kf=l.ff};l=q.prototype;l.Tf=function(){return null==this.current?!0:this.current+this.step<=this.end};l.zg=function(){this.current=this.start};l.next=function(){null==this.current?this.zg():this.current+=this.step};l.ph=function(){var d=this.current;null==d&&(d=this.start);return d};l.Aa=function(){return{name:this.name,start:this.start,end:this.end,
step:this.step,cur:this.current}};l.Ma=function(d){this.name=d.name;this.start=d.start;this.end=d.end;this.step=d.step;this.current=d.cur};l=d.prototype;l.Tf=function(){return null==this.current?!0:this.current+1<this.list.length};l.zg=function(){this.current=0};l.next=function(){null==this.current?this.zg():this.current+=1};l.ph=function(){var d=this.current;null==d&&(d=0);return this.list[d]};l.Aa=function(){return{name:this.name,l:this.list,cur:this.current}};l.Ma=function(d){this.name=d.name;
this.list=d.l;this.current=d.cur}})();function gc(d){this.b=d}
(function(){function d(a,c,b,f){var d;0==f?d=1==a&&0==c?0:0==a&&1==c?1:-1==a&&0==c?2:0==a&&-1==c?3:1==a&&1==c?4:-1==a&&1==c?5:-1==a&&-1==c?6:1==a&&-1==c?7:null:1==f?d=1==a&&0==c?0:0==a&&1==c?1:-1==a&&0==c?2:0==a&&-1==c?3:1==a&&1==c?4:-1==a&&1==c?5:-1==a&&-1==c?6:1==a&&-1==c?7:null:2==f&&(d=b&1?1==a&&-1==c?0:1==a&&1==c?1:0==a&&1==c?2:0==a&&-1==c?3:0==a&&2==c?4:-1==a&&0==c?5:0==a&&-2==c?6:1==a&&-0==c?7:null:0==a&&-1==c?0:0==a&&1==c?1:-1==a&&1==c?2:-1==a&&-1==c?3:0==a&&2==c?4:-1==a&&0==c?5:0==a&&-2==
c?6:1==a&&-0==c?7:null);return d}function q(){}var l=gc.prototype;l.Ba=function(a){this.N=a;this.b=a.b};l.Ba.prototype.R=function(){};l.ka=function(a){this.type=a;this.b=a.b};var p=l.ka.prototype;p.R=function(){this.mode=this.X[0];this.uh=1==this.X[5];this.el(this.X[1]);this.fl(this.X[2]);this.Rg(this.X[3]);this.Hi(this.X[4])};p.el=function(a){this.Vd=a};p.fl=function(a){this.md=a};p.Lu=function(){return this.Vd};p.Pu=function(){return this.md};p.Rg=function(a){this.width=a;this.Rf=a/2};p.Hi=function(a){this.height=
a;this.Pe=a/2};p.Qo=function(a,c){var b;0==this.mode?b=a*this.width:1==this.mode?b=(a-c)*this.Rf:2==this.mode&&(b=a*this.width,c&1&&(b+=this.Rf));return b+this.Vd};p.Ro=function(a,c){var b;0==this.mode?b=c*this.height:1==this.mode?b=(a+c)*this.Pe:2==this.mode&&(b=c*this.Pe);return b+this.md};p.mv=function(a,c){var b;0==this.mode?(a-=this.Vd,b=Math.round(a/this.width)):1==this.mode?(a-=this.Vd,c-=this.md,b=.5*(Math.round(c/this.Pe)+Math.round(a/this.Rf))):2==this.mode&&(b=Math.round((c-this.md)/this.Pe),
a=a-this.Vd,b&1&&(a-=this.Rf),b=Math.round(a/this.width));return b};p.Gt=function(a,c){var b;0==this.mode?(c-=this.md,b=Math.round(c/this.height)):1==this.mode?(a-=this.Vd,c-=this.md,b=.5*(Math.round(c/this.Pe)-Math.round(a/this.Rf))):2==this.mode&&(b=Math.round((c-this.md)/this.Pe));return b};var t=[[1,0],[0,1],[-1,0],[0,-1],[1,1],[-1,1],[-1,-1],[1,-1]],m=[0,-1,-1,0,0,-1,0,1],g=[1,0,0,1,0,-1,0,1];p.Gl=function(a,c,b){var f;0==this.mode?f=t[b][0]:1==this.mode?f=t[b][0]:2==this.mode&&(f=c&1?g[b]:m[b]);
return a+f};var a=[1,1,-1,-1,2,0,-2,0];p.zq=function(e,c,b){var f;0==this.mode?f=t[b][1]:1==this.mode?f=t[b][1]:2==this.mode&&(f=a[b]);return c+f};p.Jc=function(){return this.uh?8:4};p.It=function(a,c){var b=this.Cp(a,c);return null==b?-1:4>b?90*b:90*(b-4)+45};p.Cp=function(a,c){var b=c.x-a.x,f=c.y-a.y,g=Math.max(0>b?-b:b,0>f?-f:f);0!=g&&(b/=g,f/=g);return d(b,f,a.y,this.mode)};p.Zu=function(a,c){var b=d(c.x-a.x,c.y-a.y,a.y,this.mode);null!=b&&!this.uh&&3<b&&(b=null);return b};p.Ru=function(a,c,b,
f){var d;switch(this.mode){case 0:case 1:switch(f){case 1:d=-c;break;case 2:d=-a;break;case 3:d=c;break;default:d=a}}return d};p.Su=function(a,c,b,f){var d;switch(this.mode){case 0:case 1:switch(f){case 1:d=a;break;case 2:d=-c;break;case 3:d=-a;break;default:d=c}}return d};p.Qu=function(a,c,b,f,d,g,l){a=f-a;c=d-c;var m;l?m=(0>a?-a:a)+(0>c?-c:c):m=Math.sqrt(a*a+c*c);return m};p.$u=function(a,c,b,f){return a+f};p.bv=function(a,c,b,f,d){return c+d};p.cv=function(a,c,b,f){var d;a=Ka(a,c,b,f);switch(this.mode){case 0:d=
a;break;case 1:case 2:d=4.7123889804-a}return d};p.Aa=function(){return{iso:this.mode,w:this.width,h:this.height,ox:this.Vd,oy:this.md,is8d:this.uh}};p.Ma=function(a){this.mode=a.iso;this.Rg(a.w);this.Hi(a.h);this.el(a.ox);this.fl(a.oy);this.uh=a.is8d};l.e=new function(){};l.M=new function(){};l.Q=new q;q.prototype.yp=function(a){a.n(this.width)};q.prototype.Go=function(a){a.n(this.height)};q.prototype.Oo=function(a,c,b){a.n(this.Qo(c,b))};q.prototype.Po=function(a,c,b){a.n(this.Ro(c,b))}})();
function cc(d){this.b=d}
(function(){function d(){if(0===this.bj.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.jf?b.drawImage(this.hb,this.Ze,this.$e,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.hb,0,0,this.width,this.height);this.bj=a.toDataURL("image/png")}return this.bj}function q(){}function l(){}var p=cc.prototype;p.Ba=function(a){this.N=a;this.b=a.b};var t=p.Ba.prototype;t.R=function(){if(!this.G){var a,b,f,e,g,l,m,u,k;this.$b=
[];this.Sf=!1;a=0;for(b=this.bb.length;a<b;a++){g=this.bb[a];m={};m.name=g[0];m.speed=g[1];m.loop=g[2];m.vk=g[3];m.wk=g[4];m.qn=g[5];m.H=g[6];m.frames=[];f=0;for(e=g[7].length;f<e;f++)l=g[7][f],u={},u.Un=l[0],u.Vn=l[1],u.Ze=l[2],u.$e=l[3],u.width=l[4],u.height=l[5],u.duration=l[6],u.lb=l[7],u.mb=l[8],u.Bj=l[9],u.Sh=l[10],u.rn=l[11],u.jf=0!==u.width,u.bj="",u.Mu=d,k={left:0,top:0,right:1,bottom:1},u.Bk=k,u.hd=null,(k=this.b.kr(l[0]))?u.hb=k:(u.hb=new Image,u.hb.Zp=l[0],u.hb.Yp=l[1],u.hb.Tp=null,this.b.Dt(u.hb,
l[0])),m.frames.push(u),this.$b.push(u);this.bb[a]=m}}};t.io=function(){var a,b,f;a=0;for(b=this.d.length;a<b;a++)f=this.d[a],f.Xg=f.Jb.hd};t.hk=function(){if(!this.G){var a,b,f;a=0;for(b=this.$b.length;a<b;++a)f=this.$b[a],f.hb.Tp=null,f.hd=null;this.Sf=!1;this.io()}};t.jn=function(){if(!this.G&&this.d.length){var a,b,f;a=0;for(b=this.$b.length;a<b;++a)f=this.$b[a],f.hd=this.b.m.Bm(f.hb,this.b.J,f.rn);this.io()}};t.ys=function(){if(!this.G&&!this.Sf&&this.b.m){var a,b,f;a=0;for(b=this.$b.length;a<
b;++a)f=this.$b[a],f.hd=this.b.m.Bm(f.hb,this.b.J,f.rn);this.Sf=!0}};t.eo=function(){if(!this.G&&!this.d.length&&this.Sf){var a,b,f;a=0;for(b=this.$b.length;a<b;++a)f=this.$b[a],this.b.m.deleteTexture(f.hd),f.hd=null;this.Sf=!1}};var m=[];t.un=function(a){var b,f,d;N(m);b=0;for(f=this.$b.length;b<f;++b)d=this.$b[b].hb,-1===m.indexOf(d)&&(a.drawImage(d,0,0),m.push(d))};p.ka=function(a){this.type=a;this.b=a.b;a=this.type.bb[0].frames[0].Sh;this.yb?this.qc.Cg(a):this.qc=new Ya(a)};var g=p.ka.prototype;
g.R=function(){this.visible=0===this.X[0];this.Cj=this.Nj=!1;this.xf=0!==this.X[3];1===this.type.bb.length&&1===this.type.bb[0].frames.length||0===this.type.bb[0].speed||(this.b.Jg(this),this.Nj=!0);this.aa=this.Tl(this.X[1])||this.type.bb[0];this.p=this.X[2];0>this.p&&(this.p=0);this.p>=this.aa.frames.length&&(this.p=this.aa.frames.length-1);var a=this.aa.frames[this.p];this.qc.Cg(a.Sh);this.lb=a.lb;this.mb=a.mb;this.Df=this.aa.speed;this.ud=this.aa.wk;this.yb?this.pc.reset():this.pc=new Va;this.Sc=
this.pc.ja;this.Yd=!0;this.Hc=0;this.Xd=!0;this.Ui=this.ll="";this.Vp=0;this.Ug=-1;this.type.ys();var b,f,d,e,g,l,m,a=0;for(b=this.type.bb.length;a<b;a++)for(e=this.type.bb[a],f=0,d=e.frames.length;f<d;f++)g=e.frames[f],0===g.width&&(g.width=g.hb.width,g.height=g.hb.height),g.jf&&(m=g.hb,l=g.Bk,l.left=g.Ze/m.width,l.top=g.$e/m.height,l.right=(g.Ze+g.width)/m.width,l.bottom=(g.$e+g.height)/m.height,0===g.Ze&&0===g.$e&&g.width===m.width&&g.height===m.height&&(g.jf=!1));this.Jb=this.aa.frames[this.p];
this.Xg=this.Jb.hd};g.Aa=function(){var a={a:this.aa.H,f:this.p,cas:this.Df,fs:this.Sc,ar:this.Hc,at:this.pc.ja,rt:this.ud};this.Yd||(a.ap=this.Yd);this.Xd||(a.af=this.Xd);return a};g.Ma=function(a){var b=this.nr(a.a);b&&(this.aa=b);this.p=a.f;0>this.p&&(this.p=0);this.p>=this.aa.frames.length&&(this.p=this.aa.frames.length-1);this.Df=a.cas;this.Sc=a.fs;this.Hc=a.ar;this.pc.reset();this.pc.ja=a.at;this.Yd=a.hasOwnProperty("ap")?a.ap:!0;this.Xd=a.hasOwnProperty("af")?a.af:!0;a.hasOwnProperty("rt")?
this.ud=a.rt:this.ud=this.aa.wk;this.Jb=this.aa.frames[this.p];this.Xg=this.Jb.hd;this.qc.Cg(this.Jb.Sh);this.lb=this.Jb.lb;this.mb=this.Jb.mb};g.Ki=function(a){this.p=a?0:this.aa.frames.length-1;this.Yd=!1;this.ll=this.aa.name;this.Cj=!0;this.b.trigger(cc.prototype.e.Xo,this);this.b.trigger(cc.prototype.e.Wo,this);this.Cj=!1;this.Hc=0};g.Jc=function(){return this.pc.ja};g.Rd=function(){this.pc.add(this.b.Wl(this));this.Ui.length&&this.dq();0<=this.Ug&&this.Il();var a=this.pc.ja,b=this.aa,f=b.frames[this.p],
d=f.duration/this.Df;this.Yd&&a>=this.Sc+d&&(this.Xd?this.p++:this.p--,this.Sc+=d,this.p>=b.frames.length&&(b.qn?(this.Xd=!1,this.p=b.frames.length-2):b.loop?this.p=this.ud:(this.Hc++,this.Hc>=b.vk?this.Ki(!1):this.p=this.ud)),0>this.p&&(b.qn?(this.p=1,this.Xd=!0,b.loop||(this.Hc++,this.Hc>=b.vk&&this.Ki(!0))):b.loop?this.p=this.ud:(this.Hc++,this.Hc>=b.vk?this.Ki(!0):this.p=this.ud)),0>this.p?this.p=0:this.p>=b.frames.length&&(this.p=b.frames.length-1),a>this.Sc+b.frames[this.p].duration/this.Df&&
(this.Sc=a),a=b.frames[this.p],this.Ee(f,a),this.b.S=!0)};g.Tl=function(a){var b,f,d;b=0;for(f=this.type.bb.length;b<f;b++)if(d=this.type.bb[b],db(d.name,a))return d;return null};g.nr=function(a){var b,f,d;b=0;for(f=this.type.bb.length;b<f;b++)if(d=this.type.bb[b],d.H===a)return d;return null};g.dq=function(){var a=this.aa.frames[this.p],b=this.Tl(this.Ui);this.Ui="";!b||db(b.name,this.aa.name)&&this.Yd||(this.aa=b,this.Df=b.speed,this.ud=b.wk,0>this.p&&(this.p=0),this.p>=this.aa.frames.length&&(this.p=
this.aa.frames.length-1),1===this.Vp&&(this.p=0),this.Yd=!0,this.Sc=this.pc.ja,this.Xd=!0,this.Ee(a,this.aa.frames[this.p]),this.b.S=!0)};g.Il=function(){var a=this.aa.frames[this.p],b=this.p;this.p=J(this.Ug);0>this.p&&(this.p=0);this.p>=this.aa.frames.length&&(this.p=this.aa.frames.length-1);b!==this.p&&(this.Ee(a,this.aa.frames[this.p]),this.Sc=this.pc.ja,this.b.S=!0);this.Ug=-1};g.Ee=function(a,b){var f=a.width,d=a.height,e=b.width,g=b.height;f!=e&&(this.width*=e/f);d!=g&&(this.height*=g/d);this.lb=
b.lb;this.mb=b.mb;this.qc.Cg(b.Sh);this.oa();this.Jb=b;this.Xg=b.hd;f=0;for(d=this.C.length;f<d;f++)e=this.C[f],e.Ks&&e.Ks(a,b);this.b.trigger(cc.prototype.e.Ee,this)};g.Pc=function(a){a.globalAlpha=this.opacity;var b=this.Jb,f=b.jf,d=b.hb,e=this.x,g=this.y,l=this.width,m=this.height;if(0===this.i&&0<=l&&0<=m)e-=this.lb*l,g-=this.mb*m,this.b.bd&&(e=Math.round(e),g=Math.round(g)),f?a.drawImage(d,b.Ze,b.$e,b.width,b.height,e,g,l,m):a.drawImage(d,e,g,l,m);else{this.b.bd&&(e=Math.round(e),g=Math.round(g));
a.save();var k=0<l?1:-1,p=0<m?1:-1;a.translate(e,g);1===k&&1===p||a.scale(k,p);a.rotate(this.i*k*p);e=0-this.lb*ja(l);g=0-this.mb*ja(m);f?a.drawImage(d,b.Ze,b.$e,b.width,b.height,e,g,ja(l),ja(m)):a.drawImage(d,e,g,ja(l),ja(m));a.restore()}};g.Ie=function(a){this.Lb(a)};g.Lb=function(a){a.zb(this.Xg);a.gf(this.opacity);var b=this.Jb,f=this.$d;if(this.b.bd){var d=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;b.jf?a.Nd(f.Ab+d,f.Bb+e,f.Xb+d,f.Yb+e,f.Hb+d,f.Ib+e,f.Fb+d,f.Gb+e,b.Bk):a.xg(f.Ab+d,
f.Bb+e,f.Xb+d,f.Yb+e,f.Hb+d,f.Ib+e,f.Fb+d,f.Gb+e)}else b.jf?a.Nd(f.Ab,f.Bb,f.Xb,f.Yb,f.Hb,f.Ib,f.Fb,f.Gb,b.Bk):a.xg(f.Ab,f.Bb,f.Xb,f.Yb,f.Hb,f.Ib,f.Fb,f.Gb)};g.ur=function(a){var b=this.Jb,f,d;f=0;for(d=b.Bj.length;f<d;f++)if(db(a,b.Bj[f][0]))return f;return-1};g.Lf=function(a,b){var f=this.Jb,d=f.Bj,e;G(a)?e=this.ur(a):e=a-1;e=J(e);if(0>e||e>=d.length)return b?this.x:this.y;var g=(d[e][1]-f.lb)*this.width,d=d[e][2],d=(d-f.mb)*this.height,f=Math.cos(this.i);e=Math.sin(this.i);var l=g*f-d*e,d=d*f+
g*e,g=l+this.x,d=d+this.y;return b?g:d};var a=new ba,e=!1;new K(0,0,0,0);t.finish=function(c){if(e){if(c){var b=this.b.Ka().Ia.ic;c=null.L();var f=a.Td(),d,g;if(c.O){c.O=!1;N(c.d);d=0;for(g=f.length;d<g;++d)c.d[d]=f[d];if(b)for(N(c.I),d=0,g=null.d.length;d<g;++d)f=null.d[d],a.contains(f)||c.I.push(f)}else if(b)for(b=c.d.length,d=0,g=f.length;d<g;++d)c.d[b+d]=f[d],Aa(c.I,f[d]);else Q(c.d,f);null.Ic()}a.clear();e=!1}};q.prototype.Wo=function(a){return db(this.ll,a)};q.prototype.Xo=function(){return!0};
q.prototype.Ee=function(){return!0};p.e=new q;l.prototype.tp=function(a,b,f){if(a&&b&&(b=this.b.Zi(a,b,this.Lf(f,!0),this.Lf(f,!1)))){"undefined"!==typeof b.i&&(b.i=this.i,b.oa());this.b.wb++;var d,e,g;this.b.trigger(Object.getPrototypeOf(a.N).e.De,b);if(b.Wa)for(d=0,e=b.siblings.length;d<e;d++)g=b.siblings[d],this.b.trigger(Object.getPrototypeOf(g.type.N).e.De,g);this.b.wb--;d=this.b.pr();f=!1;if(ea(d.V.Spawn_LastExec)||d.V.Spawn_LastExec<this.b.he)f=!0,d.V.Spawn_LastExec=this.b.he;if(a!=this.type&&
(a=a.L(),a.O=!1,f?(N(a.d),a.d[0]=b):a.d.push(b),b.Wa))for(d=0,e=b.siblings.length;d<e;d++)g=b.siblings[d],a=g.type.L(),a.O=!1,f?(N(a.d),a.d[0]=g):a.d.push(g)}};l.prototype.pp=function(a){this.Ug=a;this.Nj||(this.b.Jg(this),this.Nj=!0);this.Cj||this.Il()};p.M=new l;p.Q=new function(){}})();function hc(d){this.b=d}
(function(){function d(){return c.length?c.pop():{}}function q(b){var a,d;a=0;for(d=b.length;a<d;a++)c.push(b[a]);N(b)}function l(b){return b.length&&" "===b.charAt(b.length-1)?b.substring(0,b.length-1):b}function p(){}function t(){}function m(){}var g=hc.prototype;g.R=function(){g.M.Rg=function(b){this.width!==b&&(this.width=b,this.ye=!0,this.oa())}};g.Ba=function(b){this.N=b;this.b=b.b};var a=g.Ba.prototype;a.R=function(){};a.hk=function(){if(!this.G){var b,a,c;b=0;for(a=this.d.length;b<a;b++)c=
this.d[b],c.Ac=null,c.te=null,c.nb=null}};g.ka=function(b){this.type=b;this.b=b.b;this.yb?N(this.Hd):this.Hd=[];this.ye=!0};a=g.ka.prototype;a.R=function(){this.text=this.X[0];this.visible=0===this.X[1];this.font=this.X[2];this.color=this.X[3];this.oh=this.X[4];this.ti=this.X[5];this.Rk=0===this.X[7];this.Wj=this.Bh=this.width;this.Ah=this.height;this.Yj=this.X[8];this.hh=this.Le="";this.Sn=this.Tn=this.vg=0;this.Ls();this.nb=this.te=this.Ac=null;this.$m=!1;this.fg=this.b.Fc;this.yb?this.cf.set(0,
0,1,1):this.cf=new K(0,0,1,1);this.b.m&&this.b.Jg(this)};a.Ls=function(){var b=this.font.split(" "),a;for(a=0;a<b.length;a++)if("pt"===b[a].substr(b[a].length-2,2)){this.vg=parseInt(b[a].substr(0,b[a].length-2));this.qk=Math.ceil(this.vg/72*96)+4;0<a&&(this.hh=b[a-1]);this.Le=b[a+1];for(a+=2;a<b.length;a++)this.Le+=" "+b[a];break}};a.Aa=function(){return{t:this.text,f:this.font,c:this.color,ha:this.oh,va:this.ti,wr:this.Rk,lho:this.Yj,fn:this.Le,fs:this.hh,ps:this.vg,pxh:this.qk,tw:this.Tn,th:this.Sn,
lrt:this.fg}};a.Ma=function(b){this.text=b.t;this.font=b.f;this.color=b.c;this.oh=b.ha;this.ti=b.va;this.Rk=b.wr;this.Yj=b.lho;this.Le=b.fn;this.hh=b.fs;this.vg=b.ps;this.qk=b.pxh;this.Tn=b.tw;this.Sn=b.th;this.fg=b.lrt;this.ye=!0;this.Wj=this.Bh=this.width;this.Ah=this.height};a.Rd=function(){if(this.b.m&&this.nb&&300<=this.b.Fc-this.fg){var b=this.g;this.qa();var a=this.Fa;if(a.right<b.Y||a.bottom<b.Z||a.left>b.da||a.top>b.ca)this.b.m.deleteTexture(this.nb),this.Ac=this.te=this.nb=null}};a.rg=function(){this.Ac=
this.te=null;this.b.m&&this.nb&&this.b.m.deleteTexture(this.nb);this.nb=null};a.Jc=function(){this.font=this.hh+" "+this.vg.toString()+"pt "+this.Le;this.ye=!0;this.b.S=!0};a.Pc=function(b,a){b.font=this.font;b.textBaseline="top";b.fillStyle=this.color;b.globalAlpha=a?1:this.opacity;var c=1;a&&(c=this.g.kb(),b.save(),b.scale(c,c));if(this.ye||this.width!==this.Wj)this.type.N.zp(this.text,this.Hd,b,this.width,this.Rk),this.ye=!1,this.Wj=this.width;this.qa();var c=a?0:this.$d.Ab,d=a?0:this.$d.Bb;this.b.bd&&
(c=c+.5|0,d=d+.5|0);0===this.i||a||(b.save(),b.translate(c,d),b.rotate(this.i),d=c=0);var e=d+this.height,g=this.qk,g=g+this.Yj,l,k;1===this.ti?d+=Math.max(this.height/2-this.Hd.length*g/2,0):2===this.ti&&(d+=Math.max(this.height-this.Hd.length*g-2,0));for(k=0;k<this.Hd.length&&!(l=c,1===this.oh?l=c+(this.width-this.Hd[k].width)/2:2===this.oh&&(l=c+(this.width-this.Hd[k].width)),b.fillText(this.Hd[k].text,l,d),d+=g,d>=e-g);k++);(0!==this.i||a)&&b.restore();this.fg=this.b.Fc};a.Lb=function(b){if(!(1>
this.width||1>this.height)){var a=this.ye||this.$m;this.$m=!1;var c=this.g.kb(),d=this.g.jb(),e=this.cf,g=c*this.width,l=c*this.height,k=Math.ceil(g),m=Math.ceil(l),p=this.b.r/2,q=this.b.q/2;this.te||(this.Ac=document.createElement("canvas"),this.Ac.width=k,this.Ac.height=m,this.Bh=k,this.Ah=m,a=!0,this.te=this.Ac.getContext("2d"));if(k!==this.Bh||m!==this.Ah)this.Ac.width=k,this.Ac.height=m,this.nb&&(b.deleteTexture(this.nb),this.nb=null),a=!0;a&&(this.te.clearRect(0,0,k,m),this.Pc(this.te,!0),this.nb||
(this.nb=b.sb(k,m,this.b.J,this.b.Dd)),b.Ct(this.Ac,this.nb,this.b.Dd));this.Bh=k;this.Ah=m;b.zb(this.nb);b.gf(this.opacity);b.Tb();b.translate(-p,-q);b.Cb();var t=this.$d,a=this.g.wa(t.Ab,t.Bb,!0),p=this.g.wa(t.Ab,t.Bb,!1),q=this.g.wa(t.Xb,t.Yb,!0),M=this.g.wa(t.Xb,t.Yb,!1),P=this.g.wa(t.Hb,t.Ib,!0),x=this.g.wa(t.Hb,t.Ib,!1),B=this.g.wa(t.Fb,t.Gb,!0),t=this.g.wa(t.Fb,t.Gb,!1);if(this.b.bd||0===this.i&&0===d)var C=(a+.5|0)-a,oa=(p+.5|0)-p,a=a+C,p=p+oa,q=q+C,M=M+oa,P=P+C,x=x+oa,B=B+C,t=t+oa;0===this.i&&
0===d?(q=a+k,M=p,P=q,x=p+m,B=a,t=x,e.right=1,e.bottom=1):(e.right=g/k,e.bottom=l/m);b.Nd(a,p,q,M,P,x,B,t,e);b.Tb();b.scale(c,c);b.$h(-this.g.jb());b.translate((this.g.Y+this.g.da)/-2,(this.g.Z+this.g.ca)/-2);b.Cb();this.fg=this.b.Fc}};var e=[];g.wp=function(b){N(e);for(var a="",c,d=0;d<b.length;)if(c=b.charAt(d),"\n"===c)a.length&&(e.push(a),a=""),e.push("\n"),++d;else if(" "===c||"\t"===c||"-"===c){do a+=b.charAt(d),d++;while(d<b.length&&(" "===b.charAt(d)||"\t"===b.charAt(d)));e.push(a);a=""}else d<
b.length&&(a+=c,d++);a.length&&e.push(a)};var c=[];g.zp=function(b,a,c,e,g){if(b&&b.length)if(2>=e)q(a);else{if(100>=b.length&&-1===b.indexOf("\n")){var l=c.measureText(b).width;if(l<=e){q(a);a.push(d());a[0].text=b;a[0].width=l;return}}this.Ap(b,a,c,e,g)}else q(a)};g.Ap=function(b,a,g,h,m){m&&(this.wp(b),b=e);var p="",u,k,r,q=0;for(r=0;r<b.length;r++)"\n"===b[r]?(q>=a.length&&a.push(d()),p=l(p),k=a[q],k.text=p,k.width=g.measureText(p).width,q++,p=""):(u=p,p+=b[r],k=g.measureText(p).width,k>=h&&(q>=
a.length&&a.push(d()),u=l(u),k=a[q],k.text=u,k.width=g.measureText(u).width,q++,p=b[r],m||" "!==p||(p="")));p.length&&(q>=a.length&&a.push(d()),p=l(p),k=a[q],k.text=p,k.width=g.measureText(p).width,q++);for(r=q;r<a.length;r++)c.push(a[r]);a.length=q};p.prototype.to=function(b,a){return a?this.text==b:db(this.text,b)};g.e=new p;t.prototype.rp=function(a){fa(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.ye=!0,this.b.S=!0)};g.M=new t;m.prototype.Text=function(a){a.fb(this.text)};
g.Q=new m})();function Z(d){this.b=d}
(function(){function d(a){e=a.x;c=a.y;b=a.z}function q(a,b,c,d){var e;e=f.length?f.pop():new l;e.init(a,b,c,d);return e}function l(){this.Fg=this.id=this.y=this.x=this.ji=this.ii=this.Vj=this.time=this.Fk=0;this.Lg=this.pi=!1}function p(){}function t(){}var m=Z.prototype;m.Ba=function(a){this.N=a;this.b=a.b};m.Ba.prototype.R=function(){};m.ka=function(a){this.type=a;this.b=a.b;this.touches=[];this.dk=!1};var g=m.ka.prototype,a={left:0,top:0};g.Jf=function(a){var b,c;b=0;for(c=this.touches.length;b<
c;b++)if(this.touches[b].id===a)return b;return-1};var e=0,c=0,b=0,f=[];l.prototype.init=function(a,b,c,d){var e=T();this.Fk=this.Vj=this.time=e;this.ii=a;this.ji=b;this.x=a;this.y=b;this.pressure=this.height=this.width=0;this.id=c;this.Fg=d;this.Lg=this.pi=!1};l.prototype.update=function(a,b,c,d,e,f){this.Vj=this.time;this.time=a;this.x=b;this.y=c;this.width=d;this.height=e;this.pressure=f;!this.Lg&&15<=Oa(this.ii,this.ji,this.x,this.y)&&(this.Lg=!0)};l.prototype.Bs=function(a,b){!this.pi&&500<=
T()-this.Fk&&!this.Lg&&15>Oa(this.ii,this.ji,this.x,this.y)&&(this.pi=!0,a.Gc=this.Fg,a.mf=this.id,a.Oe=b,a.b.trigger(Z.prototype.e.cp,a),a.Mc=this.x,a.Nc=this.y,a.b.trigger(Z.prototype.e.dp,a),a.Oe=0)};var n=-1E3,h=-1E3,v=-1E4;l.prototype.Wm=function(a,b){if(!this.pi){var c=T();333>=c-this.Fk&&!this.Lg&&15>Oa(this.ii,this.ji,this.x,this.y)&&(a.Gc=this.Fg,a.mf=this.id,a.Oe=b,666>=c-v&&25>Oa(n,h,this.x,this.y)?(a.b.trigger(Z.prototype.e.$o,a),a.Mc=this.x,a.Nc=this.y,a.b.trigger(Z.prototype.e.bp,a),
h=n=-1E3,v=-1E4):(a.b.trigger(Z.prototype.e.mp,a),a.Mc=this.x,a.Nc=this.y,a.b.trigger(Z.prototype.e.np,a),n=this.x,h=this.y,v=c),a.Oe=0)}};g.R=function(){this.qs=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Oe=this.mf=this.Gc=this.Nc=this.Mc=this.il=this.hl=this.gl=this.Jp=this.Ip=this.Hp=this.Rh=this.Qh=this.Ph=0;this.At=0!==this.X[0];var a=0<this.b.cb?document:this.b.canvas,b=document;this.b.Uc?b=a=window.Canvas:this.b.Nb&&(b=a=window);var c=this;window.navigator.pointerEnabled?
(a.addEventListener("pointerdown",function(a){c.hn(a)},!1),a.addEventListener("pointermove",function(a){c.gn(a)},!1),b.addEventListener("pointerup",function(a){c.Oh(a,!1)},!1),b.addEventListener("pointercancel",function(a){c.Oh(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.b.canvas.addEventListener("gesturehold",function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",
function(a){a.preventDefault()},!1))):window.navigator.msPointerEnabled?(a.addEventListener("MSPointerDown",function(a){c.hn(a)},!1),a.addEventListener("MSPointerMove",function(a){c.gn(a)},!1),b.addEventListener("MSPointerUp",function(a){c.Oh(a,!1)},!1),b.addEventListener("MSPointerCancel",function(a){c.Oh(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1))):(a.addEventListener("touchstart",
function(a){c.ln(a)},!1),a.addEventListener("touchmove",function(a){c.kn(a)},!1),b.addEventListener("touchend",function(a){c.ik(a,!1)},!1),b.addEventListener("touchcancel",function(a){c.ik(a,!0)},!1));if(this.qs){var e=function(a){a=a.reading;c.gl=a.accelerationX;c.hl=a.accelerationY;c.il=a.accelerationZ},f=function(a){a=a.reading;c.Ph=a.yawDegrees;c.Qh=a.pitchDegrees;c.Rh=a.rollDegrees},g=Windows.Devices.Sensors.Accelerometer.getDefault();g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),
g.addEventListener("readingchanged",e));var h=Windows.Devices.Sensors.Inclinometer.getDefault();h&&(h.reportInterval=Math.max(h.minimumReportInterval,16),h.addEventListener("readingchanged",f));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?(g&&g.removeEventListener("readingchanged",e),h&&h.removeEventListener("readingchanged",f)):(g&&g.addEventListener("readingchanged",e),h&&h.addEventListener("readingchanged",f))},!1)}else window.addEventListener("deviceorientation",
function(a){c.Ph=a.alpha||0;c.Qh=a.beta||0;c.Rh=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(c.Hp=a.accelerationIncludingGravity.x||0,c.Ip=a.accelerationIncludingGravity.y||0,c.Jp=a.accelerationIncludingGravity.z||0);a.acceleration&&(c.gl=a.acceleration.x||0,c.hl=a.acceleration.y||0,c.il=a.acceleration.z||0)},!1);this.At&&!this.b.La&&(jQuery(document).mousemove(function(a){c.Is(a)}),jQuery(document).mousedown(function(a){c.Hs(a)}),jQuery(document).mouseup(function(a){c.Js(a)}));
!this.b.xh&&this.b.Ob&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(d,null,{frequency:40});this.b.ot(this)};g.gn=function(b){if(b.pointerType!==b.MSPOINTER_TYPE_MOUSE&&"mouse"!==b.pointerType){b.preventDefault&&b.preventDefault();var c=this.Jf(b.pointerId),d=T();if(0<=c){var e=this.b.La?a:jQuery(this.b.canvas).offset(),c=this.touches[c];2>d-c.time||c.update(d,b.pageX-e.left,b.pageY-e.top,b.width||0,b.height||0,b.pressure||0)}}};g.hn=
function(b){if(b.pointerType!==b.MSPOINTER_TYPE_MOUSE&&"mouse"!==b.pointerType){b.preventDefault&&eb(b)&&b.preventDefault();var c=this.b.La?a:jQuery(this.b.canvas).offset(),d=b.pageX-c.left,c=b.pageY-c.top;T();this.Gc=this.touches.length;this.mf=b.pointerId;this.touches.push(q(d,c,b.pointerId,this.Gc));this.b.Cd=!0;this.b.trigger(Z.prototype.e.$k,this);this.b.trigger(Z.prototype.e.Gi,this);this.Mc=d;this.Nc=c;this.b.trigger(Z.prototype.e.Fi,this);this.b.Cd=!1}};g.Oh=function(a,b){if(a.pointerType!==
a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&eb(a)&&a.preventDefault();var c=this.Jf(a.pointerId);this.Gc=0<=c?this.touches[c].Fg:-1;this.mf=0<=c?this.touches[c].id:-1;this.b.Cd=!0;this.b.trigger(Z.prototype.e.Zk,this);this.b.trigger(Z.prototype.e.cl,this);0<=c&&(b||this.touches[c].Wm(this,c),100>f.length&&f.push(this.touches[c]),this.touches.splice(c,1));this.b.Cd=!1}};g.kn=function(b){b.preventDefault&&b.preventDefault();var c=T(),d,e,f,g;d=0;for(e=b.changedTouches.length;d<
e;d++)if(f=b.changedTouches[d],g=this.Jf(f.identifier),0<=g){var h=this.b.La?a:jQuery(this.b.canvas).offset();g=this.touches[g];2>c-g.time||g.update(c,f.pageX-h.left,f.pageY-h.top,2*(f.dv||f.pv||f.Uu||f.Xu||0),2*(f.gv||f.qv||f.Vu||f.Yu||0),f.Ku||f.ov||f.Tu||f.Wu||0)}};g.ln=function(b){b.preventDefault&&eb(b)&&b.preventDefault();var c=this.b.La?a:jQuery(this.b.canvas).offset();T();this.b.Cd=!0;var d,f,e,g;d=0;for(f=b.changedTouches.length;d<f;d++)if(e=b.changedTouches[d],g=this.Jf(e.identifier),-1===
g){g=e.pageX-c.left;var h=e.pageY-c.top;this.Gc=this.touches.length;this.mf=e.identifier;this.touches.push(q(g,h,e.identifier,this.Gc));this.b.trigger(Z.prototype.e.$k,this);this.b.trigger(Z.prototype.e.Gi,this);this.Mc=g;this.Nc=h;this.b.trigger(Z.prototype.e.Fi,this)}this.b.Cd=!1};g.ik=function(a,b){a.preventDefault&&eb(a)&&a.preventDefault();this.b.Cd=!0;var c,d,e;c=0;for(d=a.changedTouches.length;c<d;c++)e=a.changedTouches[c],e=this.Jf(e.identifier),0<=e&&(this.Gc=this.touches[e].Fg,this.mf=this.touches[e].id,
this.b.trigger(Z.prototype.e.Zk,this),this.b.trigger(Z.prototype.e.cl,this),b||this.touches[e].Wm(this,e),100>f.length&&f.push(this.touches[e]),this.touches.splice(e,1));this.b.Cd=!1};g.Jc=function(){return this.b.Ob&&0===this.Ph&&0!==b?90*b:this.Ph};g.Gl=function(){return this.b.Ob&&0===this.Qh&&0!==c?90*c:this.Qh};g.zq=function(){return this.b.Ob&&0===this.Rh&&0!==e?90*e:this.Rh};g.Hs=function(a){this.ln({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.dk=!0};g.Is=function(a){this.dk&&
this.kn({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};g.Js=function(a){a.preventDefault&&this.b.am&&!this.b.Dd&&a.preventDefault();this.b.am=!0;this.ik({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.dk=!1};g.Gk=function(){var a,b,c,d=T();a=0;for(b=this.touches.length;a<b;++a)c=this.touches[a],c.time<=d-50&&(c.Vj=d),c.Bs(this,a)};p.prototype.Gi=function(){return!0};p.prototype.cl=function(){return!0};p.prototype.Fi=function(a){return a?this.b.li(a,this.Mc,this.Nc):
!1};var E=[];p.prototype.Mo=function(a){if(!a)return!1;var b=a.L(),c=b.Mb(),d,e,f,g,h,l;f=0;for(g=c.length;f<g;f++){var m=c[f];m.qa();h=0;for(l=this.touches.length;h<l;h++)if(e=this.touches[h],d=m.g.Ga(e.x,e.y,!0),e=m.g.Ga(e.x,e.y,!1),m.rb(d,e)){E.push(m);break}}return E.length?(b.O=!1,Q(b.d,E),a.Ic(),N(E),!0):!1};p.prototype.$k=function(a){a=Math.floor(a);return a===this.Gc};p.prototype.Zk=function(a){a=Math.floor(a);return a===this.Gc};p.prototype.cp=function(){return!0};p.prototype.mp=function(){return!0};
p.prototype.$o=function(){return!0};p.prototype.dp=function(a){return a?this.b.li(a,this.Mc,this.Nc):!1};p.prototype.np=function(a){return a?this.b.li(a,this.Mc,this.Nc):!1};p.prototype.bp=function(a){return a?this.b.li(a,this.Mc,this.Nc):!1};m.e=new p;t.prototype.Bp=function(a,b){var c=this.Oe;if(0>c||c>=this.touches.length)a.n(0);else{var d,e,f,g,h;ea(b)?(d=this.b.Mf(0),e=d.scale,f=d.kd,g=d.$c,h=d.i,d.scale=1,d.kd=1,d.$c=1,d.i=0,a.n(d.Ga(this.touches[c].x,this.touches[c].y,!0)),d.scale=e,d.kd=f,
d.$c=g,d.i=h):(d=fa(b)?this.b.Mf(b):this.b.uj(b))?a.n(d.Ga(this.touches[c].x,this.touches[c].y,!0)):a.n(0)}};t.prototype.Dp=function(a,b){var c=this.Oe;if(0>c||c>=this.touches.length)a.n(0);else{var d,e,f,g,h;ea(b)?(d=this.b.Mf(0),e=d.scale,f=d.kd,g=d.ad,h=d.i,d.scale=1,d.kd=1,d.ad=1,d.i=0,a.n(d.Ga(this.touches[c].x,this.touches[c].y,!1)),d.scale=e,d.kd=f,d.ad=g,d.i=h):(d=fa(b)?this.b.Mf(b):this.b.uj(b))?a.n(d.Ga(this.touches[c].x,this.touches[c].y,!1)):a.n(0)}};m.Q=new t})();
function bc(){return[X,dc,gc,Y,ec,fc,cc,hc,Z,W.prototype.e.Wk,cc.prototype.M.Tk,hc.prototype.M.rp,dc.prototype.M.CallFunction,hc.prototype.Q.Text,Z.prototype.e.Fi,hc.prototype.e.to,W.prototype.e.Uk,Z.prototype.e.Gi,Z.prototype.e.Mo,dc.prototype.e.Qg,hc.prototype.M.Tk,hc.prototype.M.qp,dc.prototype.Q.op,W.prototype.M.xp,ec.prototype.M.Fe,Y.prototype.M.Co,W.prototype.Q.random,Y.prototype.M.Do,Y.prototype.M.Eo,Y.prototype.e.Vk,W.prototype.M.sp,ec.prototype.e.al,fc.prototype.M.mo,Y.prototype.Q.To,Y.prototype.Q.Uo,
ec.prototype.e.Di,fc.prototype.M.Vo,fc.prototype.Q.Gm,fc.prototype.e.Fo,ec.prototype.M.up,W.prototype.M.uo,gc.prototype.Q.Oo,gc.prototype.Q.Po,Y.prototype.e.vp,cc.prototype.M.pp,Y.prototype.e.Jo,cc.prototype.M.tp,ec.prototype.e.bl,Y.prototype.e.Bo,Y.prototype.Q.yo,Y.prototype.Q.Ao,Y.prototype.Q.zo,Y.prototype.Q.vo,Y.prototype.Q.wo,Y.prototype.Q.xo,Y.prototype.e.Ko,ec.prototype.e.Lo,hc.prototype.M.no]};
