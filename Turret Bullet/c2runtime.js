// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var n=!0,p=null,q=!1;function E(){return function(){}}function I(b){return function(){return this[b]}}function J(b){return function(){return b}}var K,aa,ba,L,da,M,N,P,Q,R,ea,fa,ga,ha,ia,la,S,T,pa,qa,V,ra,sa,ta,ua,va,wa,xa,ya,za,Aa,Ba,Ca,Da,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,W,Va,Wa,Xa,X,Ya={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(b){return b.__proto__}:function(b){return b.constructor.prototype});
(function(){function b(a,c,k,b){this.set(a,c,k,b)}function h(){this.Ma=this.La=this.Oa=this.Na=this.$a=this.Za=this.ta=this.ra=0}function d(){this.jc={};this.Ie=0;this.Ye=[];this.ke=n}function f(){this.Ya=this.bg=this.y=this.rg=0}function a(a){this.Ba=[];this.Se(a)}K=function(a){window.console&&window.console.log&&window.console.log(a)};aa=function(a){return"undefined"===typeof a};ba=function(a){return"number"===typeof a};L=function(a){return"string"===typeof a};da=function(a){return 0<a&&0===(a-
1&a)};M=function(a){return 0>a?-a:a};N=function(a,c){return a>c?a:c};P=function(a,c){return a<c?a:c};Q=Math.PI;R=function(a){return a|0};ea=function(a,c,k,b,g,t,w,u){if(N(a,k)<P(g,w)||P(a,k)>N(g,w)||N(c,b)<P(t,u)||P(c,b)>N(t,u))return q;var x=g-a+w-k,y=t-c+u-b;a=k-a;c=b-c;g=w-g;t=u-t;u=M(c*g-t*a);return M(g*y-t*x)<=u&&M(a*y-c*x)<=u};b.prototype.set=function(a,c,k,b){this.left=a;this.top=c;this.right=k;this.bottom=b};b.prototype.width=function(){return this.right-this.left};b.prototype.height=function(){return this.bottom-
this.top};b.prototype.offset=function(a,c){this.left+=a;this.top+=c;this.right+=a;this.bottom+=c;return this};b.prototype.im=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};b.prototype.Db=function(a,c){return a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom};fa=b;h.prototype.Jh=function(a){this.ra=a.left;this.ta=a.top;this.Za=a.right;this.$a=a.top;this.Na=a.right;this.Oa=a.bottom;this.La=a.left;this.Ma=a.bottom};h.prototype.Qj=function(a,c){if(0===
c)this.Jh(a);else{var k=Math.sin(c),b=Math.cos(c),g=a.left*k,t=a.top*k,w=a.right*k,k=a.bottom*k,u=a.left*b,x=a.top*b,y=a.right*b,b=a.bottom*b;this.ra=u-t;this.ta=x+g;this.Za=y-t;this.$a=x+w;this.Na=y-k;this.Oa=b+w;this.La=u-k;this.Ma=b+g}};h.prototype.offset=function(a,c){this.ra+=a;this.ta+=c;this.Za+=a;this.$a+=c;this.Na+=a;this.Oa+=c;this.La+=a;this.Ma+=c;return this};h.prototype.hi=function(a){a.left=P(P(this.ra,this.Za),P(this.Na,this.La));a.top=P(P(this.ta,this.$a),P(this.Oa,this.Ma));a.right=
N(N(this.ra,this.Za),N(this.Na,this.La));a.bottom=N(N(this.ta,this.$a),N(this.Oa,this.Ma))};h.prototype.Db=function(a,c){var k=this.Za-this.ra,b=this.$a-this.ta,g=this.Na-this.ra,t=this.Oa-this.ta,w=a-this.ra,u=c-this.ta,x=k*k+b*b,y=k*g+b*t,b=k*w+b*u,s=g*g+t*t,m=g*w+t*u,B=1/(x*s-y*y),k=(s*b-y*m)*B,x=(x*m-y*b)*B;if(0<=k&&0<x&&1>k+x)return n;k=this.La-this.ra;b=this.Ma-this.ta;x=k*k+b*b;y=k*g+b*t;b=k*w+b*u;B=1/(x*s-y*y);k=(s*b-y*m)*B;x=(x*m-y*b)*B;return 0<=k&&0<x&&1>k+x};h.prototype.uc=function(a,
c){switch(a){case 0:return c?this.ra:this.ta;case 1:return c?this.Za:this.$a;case 2:return c?this.Na:this.Oa;case 3:return c?this.La:this.Ma;case 4:return c?this.ra:this.ta;default:return c?this.ra:this.ta}};h.prototype.nj=function(){return(this.ra+this.Za+this.Na+this.La)/4};h.prototype.oj=function(){return(this.ta+this.$a+this.Oa+this.Ma)/4};h.prototype.hm=function(a){var c=a.nj(),k=a.oj();if(this.Db(c,k))return n;c=this.nj();k=this.oj();if(a.Db(c,k))return n;var b,g,t,w,u,x,y,s;for(y=0;4>y;y++)for(s=
0;4>s;s++)if(c=this.uc(y,n),k=this.uc(y,q),b=this.uc(y+1,n),g=this.uc(y+1,q),t=a.uc(s,n),w=a.uc(s,q),u=a.uc(s+1,n),x=a.uc(s+1,q),ea(c,k,b,g,t,w,u,x))return n;return q};ga=h;ha=function(a,c){for(var k in c)c.hasOwnProperty(k)&&(a[k]=c[k]);return a};ia=function(a,c){var k,b;c=R(c);if(!(0>c||c>=a.length))if(0===c)a.shift();else if(c===a.length-1)a.pop();else{k=c;for(b=a.length-1;k<b;k++)a[k]=a[k+1];a.length=b}};la=function(a,c){a.length=c.length;var b,d;b=0;for(d=c.length;b<d;b++)a[b]=c[b]};S=function(a,
c){var b=a.indexOf(c);-1!==b&&ia(a,b)};T=function(a){return a/(180/Q)};pa=function(a){return a*(180/Q)};qa=function(a){a%=360;0>a&&(a+=360);return a};V=function(a){a%=2*Q;0>a&&(a+=2*Q);return a};ra=function(a){return qa(pa(a))};sa=function(a){return V(T(a))};ta=function(a,c,b,d){return Math.atan2(d-c,b-a)};ua=function(a,c){if(a===c)return 0;var b=Math.sin(a),d=Math.cos(a),g=Math.sin(c),t=Math.cos(c),b=b*g+d*t;return 1<=b?0:-1>=b?Q:Math.acos(b)};va=function(a,c,b){var d=Math.sin(a),g=Math.cos(a),t=
Math.sin(c),w=Math.cos(c);return Math.acos(d*t+g*w)>b?0<g*t-d*w?V(a+b):V(a-b):V(c)};wa=function(a,c){var b=Math.sin(a),d=Math.cos(a),g=Math.sin(c),t=Math.cos(c);return 0>=d*g-b*t};xa=function(a,c,b,d){a=b-a;c=d-c;return Math.sqrt(a*a+c*c)};ya=function(a,c){return!a!==!c};za=function(a){for(var c in a)if(a.hasOwnProperty(c))return n;return q};Aa=function(a){for(var c in a)a.hasOwnProperty(c)&&delete a[c]};Ba=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==
typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()};d.prototype.contains=function(a){return this.jc.hasOwnProperty(a.toString())};d.prototype.add=function(a){var c=a.toString();this.jc.hasOwnProperty(c)||(this.jc[c]=a,this.Ie++,this.ke=q);return this};d.prototype.remove=function(a){a=a.toString();this.jc.hasOwnProperty(a)&&(delete this.jc[a],this.Ie--,this.ke=q);return this};d.prototype.clear=function(){Aa(this.jc);
this.Ie=0;this.Ye.length=0;this.ke=n;return this};d.prototype.De=function(){return 0===this.Ie};d.prototype.sn=function(){if(!this.ke){this.Ye.length=this.Ie;var a,c=0;for(a in this.jc)this.jc.hasOwnProperty(a)&&(this.Ye[c++]=this.jc[a]);this.ke=n}};d.prototype.qc=function(){this.sn();return this.Ye};Ca=d;f.prototype.add=function(a){this.y=a-this.rg;this.bg=this.Ya+this.y;this.rg=this.bg-this.Ya-this.y;this.Ya=this.bg};f.prototype.reset=function(){this.Ya=this.bg=this.y=this.rg=0};Da=f;Ea=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,
"\\$&")};a.prototype.Se=function(a){this.Fj=a;this.lc=a.length/2;this.Ba.length=a.length;this.jf=this.le=-1;this.ii=0};a.prototype.Ge=function(){return!this.Fj.length};a.prototype.Zf=function(a,c,b,d,g){this.Ba.length=8;this.lc=4;var t=this.Ba;t[0]=a.ra-c;t[1]=a.ta-b;t[2]=a.Za-c;t[3]=a.$a-b;t[4]=a.Na-c;t[5]=a.Oa-b;t[6]=a.La-c;t[7]=a.Ma-b;this.le=d;this.jf=g};a.prototype.Pj=function(a){this.lc=a.lc;la(this.Ba,a.Ba)};a.prototype.je=function(a,c,b){if(!(this.le===a&&this.jf===c&&this.ii===b)){this.le=
a;this.jf=c;this.ii=b;var d,g,t,w=0,u=1,x=this.Fj,y=this.Ba;0!==b&&(w=Math.sin(b),u=Math.cos(b));b=0;for(d=this.lc;b<d;b++)g=x[2*b]*a,t=x[2*b+1]*c,y[2*b]=g*u-t*w,y[2*b+1]=t*u+g*w}};a.prototype.Db=function(a,c){var b=this.Ba;if(a===b[0]&&c===b[1])return n;var d=5*-this.le-1,g=5*-this.jf-1,t=5*this.le+1,w,u,x,y,s,m,B=0,f=0;s=0;for(m=this.lc;s<m;s++)w=b[2*s],u=b[2*s+1],x=b[2*((s+1)%m)],y=b[2*((s+1)%m)+1],ea(d,g,a,c,w,u,x,y)&&B++,ea(t,-1,a,c,w,u,x,y)&&f++;return 1===B%2||1===f%2};a.prototype.Pi=function(a,
c,b){var d=a.Ba,g=this.Ba;if(this.Db(d[0]+c,d[1]+b)||a.Db(g[0]-c,g[1]-b))return n;var t,w,u,x,y,s,m,B,f,h,ma,H;t=0;for(w=this.lc;t<w;t++){y=g[2*t];s=g[2*t+1];m=g[2*((t+1)%w)];B=g[2*((t+1)%w)+1];u=0;for(x=a.lc;u<x;u++)if(f=d[2*u]+c,h=d[2*u+1]+b,ma=d[2*((u+1)%x)]+c,H=d[2*((u+1)%x)+1]+b,ea(y,s,m,B,f,h,ma,H))return n}return q};Fa=a;var c="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");Ga=function(a){return 0>=a||11<=a?"source-over":
c[a-1]};Ha=function(a,c,b){if(b)switch(a.Ca=b.ONE,a.ya=b.ONE_MINUS_SRC_ALPHA,c){case 1:a.Ca=b.ONE;a.ya=b.ONE;break;case 3:a.Ca=b.ONE;a.ya=b.ZERO;break;case 4:a.Ca=b.ONE_MINUS_DST_ALPHA;a.ya=b.ONE;break;case 5:a.Ca=b.DST_ALPHA;a.ya=b.ZERO;break;case 6:a.Ca=b.ZERO;a.ya=b.SRC_ALPHA;break;case 7:a.Ca=b.ONE_MINUS_DST_ALPHA;a.ya=b.ZERO;break;case 8:a.Ca=b.ZERO;a.ya=b.ONE_MINUS_SRC_ALPHA;break;case 9:a.Ca=b.DST_ALPHA;a.ya=b.ONE_MINUS_SRC_ALPHA;break;case 10:a.Ca=b.ONE_MINUS_DST_ALPHA,a.ya=b.SRC_ALPHA}};
Ia=function(a){return Math.round(1E6*a)/1E6}})();var Za="undefined"!==typeof Float32Array?Float32Array:Array;function $a(b){var h=new Za(3);b&&(h[0]=b[0],h[1]=b[1],h[2]=b[2]);return h}function Y(b){var h=new Za(16);b&&(h[0]=b[0],h[1]=b[1],h[2]=b[2],h[3]=b[3],h[4]=b[4],h[5]=b[5],h[6]=b[6],h[7]=b[7],h[8]=b[8],h[9]=b[9],h[10]=b[10],h[11]=b[11],h[12]=b[12],h[13]=b[13],h[14]=b[14],h[15]=b[15]);return h}
function ab(b,h){h[0]=b[0];h[1]=b[1];h[2]=b[2];h[3]=b[3];h[4]=b[4];h[5]=b[5];h[6]=b[6];h[7]=b[7];h[8]=b[8];h[9]=b[9];h[10]=b[10];h[11]=b[11];h[12]=b[12];h[13]=b[13];h[14]=b[14];h[15]=b[15]}function bb(b,h){var d=h[0],f=h[1];h=h[2];b[0]*=d;b[1]*=d;b[2]*=d;b[3]*=d;b[4]*=f;b[5]*=f;b[6]*=f;b[7]*=f;b[8]*=h;b[9]*=h;b[10]*=h;b[11]*=h}
function cb(b,h,d,f){f||(f=Y());var a,c,l,e,k,r,g,t,w=b[0],u=b[1];b=b[2];c=d[0];l=d[1];a=d[2];d=h[1];r=h[2];w===h[0]&&u===d&&b===r?(b=f,b[0]=1,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=1,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[10]=1,b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1):(d=w-h[0],r=u-h[1],g=b-h[2],t=1/Math.sqrt(d*d+r*r+g*g),d*=t,r*=t,g*=t,h=l*g-a*r,a=a*d-c*g,c=c*r-l*d,(t=Math.sqrt(h*h+a*a+c*c))?(t=1/t,h*=t,a*=t,c*=t):c=a=h=0,l=r*c-g*a,e=g*h-d*c,k=d*a-r*h,(t=Math.sqrt(l*l+e*e+k*k))?(t=1/t,l*=t,e*=t,k*=t):k=e=l=0,
f[0]=h,f[1]=l,f[2]=d,f[3]=0,f[4]=a,f[5]=e,f[6]=r,f[7]=0,f[8]=c,f[9]=k,f[10]=g,f[11]=0,f[12]=-(h*w+a*u+c*b),f[13]=-(l*w+e*u+k*b),f[14]=-(d*w+r*u+g*b),f[15]=1)}
(function(){function b(a){this.height=this.width=0;this.ji=$a([0,0,100]);this.lj=$a([0,0,0]);this.fk=$a([0,1,0]);this.Yh=$a([1,1,1]);this.fh=Y();this.tb=Y();this.aj=Y();this.yg=Y();this.n=a;this.Mi()}function h(a,c,b){this.n=a;this.Te=c;this.name=b;this.sb=a.getAttribLocation(c,"aPos");this.Ec=a.getAttribLocation(c,"aTex");this.jj=a.getUniformLocation(c,"matP");this.Ld=a.getUniformLocation(c,"matMV");this.Md=a.getUniformLocation(c,"opacity");this.kj=a.getUniformLocation(c,"samplerFront");this.Of=
a.getUniformLocation(c,"samplerBack");this.Kd=a.getUniformLocation(c,"destStart");this.Jd=a.getUniformLocation(c,"destEnd");this.dh=a.getUniformLocation(c,"seconds");this.bh=a.getUniformLocation(c,"pixelWidth");this.ah=a.getUniformLocation(c,"pixelHeight");this.$g=a.getUniformLocation(c,"layerScale");this.Md&&a.uniform1f(this.Md,1);this.kj&&a.uniform1i(this.kj,0);this.Of&&a.uniform1i(this.Of,1);this.Kd&&a.uniform2f(this.Kd,0,0);this.Jd&&a.uniform2f(this.Jd,1,1);this.ad=q}function d(a,c){this.type=
a;this.D=c;this.n=c.n;this.Tb=this.wb=this.yj=0;this.u=this.sd=p;this.Kh=[]}b.prototype.Mi=function(){var a=this.n,c;this.bj=1;this.Gd=p;this.pi=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.DEPTH_TEST);this.Vo=a.getParameter(a.MAX_TEXTURE_SIZE);this.cj=a.ONE;this.$i=a.ONE_MINUS_SRC_ALPHA;this.nh=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.nh);this.$e=Array(4);this.We=Array(4);for(c=0;4>c;c++)this.$e[c]=
a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.$e[c]),this.We[c]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.We[c]);this.cc=0;this.gm=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.gm);this.Xh=new Float32Array(16E3);this.Ph=new Float32Array(16E3);this.Mm=new Float32Array(32E3);for(var b=new Uint16Array(12E3),e=c=0;12E3>c;)b[c++]=e,b[c++]=e+1,b[c++]=e+2,b[c++]=e,b[c++]=e+2,b[c++]=e+3,e+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,b,a.STATIC_DRAW);this.oh=this.Xb=0;this.ma=[];c=this.xg({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}","<default>");this.ma.push(c);c=this.xg({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}",
"<point>");this.ma.push(c);for(var k in db)db.hasOwnProperty(k)&&this.ma.push(this.xg(db[k],"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",k));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,p);this.wc=[];this.$b=0;this.pb=this.Qa=q;this.qi=this.Je=-1;this.pe=p;this.tl=a.createFramebuffer();this.Jj=
p;this.Nc=$a([0,0,0]);a=a.getParameter(a.ALIASED_POINT_SIZE_RANGE);this.Wo=a[0];this.Uo=a[1];this.Vb(0)};b.prototype.xg=function(a,c,b){var e=this.n,k=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(k,a.src);e.compileShader(k);if(!e.getShaderParameter(k,e.COMPILE_STATUS))return e.deleteShader(k),p;var d=e.createShader(e.VERTEX_SHADER);e.shaderSource(d,c);e.compileShader(d);if(!e.getShaderParameter(d,e.COMPILE_STATUS))return e.deleteShader(k),e.deleteShader(d),p;c=e.createProgram();e.attachShader(c,
k);e.attachShader(c,d);e.linkProgram(c);if(!e.getProgramParameter(c,e.LINK_STATUS))return e.deleteShader(k),e.deleteShader(d),e.deleteProgram(c),p;e.useProgram(c);e.validateProgram(c);e.deleteShader(k);e.deleteShader(d);b=new h(e,c,b);b.Eg=a.Eg||0;b.Fg=a.Fg||0;b.oi=!!a.oi;b.ei=!!a.ei;b.p=a.p||[];a=0;for(k=b.p.length;a<k;a++)b.p[a][1]=e.getUniformLocation(c,b.p[a][0]),e.uniform1f(b.p[a][1],0);return b};b.prototype.Ng=function(a){var c,b;c=0;for(b=this.ma.length;c<b;c++)if(this.ma[c].name===a)return c;
return-1};b.prototype.Ej=function(a,c,b){var e=[0,0,this.width,this.height],d=this.tb,f=this.fh,g=[0,0,0,0,0,0,0,0];g[0]=d[0]*a+d[4]*c+d[12];g[1]=d[1]*a+d[5]*c+d[13];g[2]=d[2]*a+d[6]*c+d[14];g[3]=d[3]*a+d[7]*c+d[15];g[4]=f[0]*g[0]+f[4]*g[1]+f[8]*g[2]+f[12]*g[3];g[5]=f[1]*g[0]+f[5]*g[1]+f[9]*g[2]+f[13]*g[3];g[6]=f[2]*g[0]+f[6]*g[1]+f[10]*g[2]+f[14]*g[3];g[7]=-g[2];0!==g[7]&&(g[7]=1/g[7],g[4]*=g[7],g[5]*=g[7],g[6]*=g[7],b[0]=(0.5*g[4]+0.5)*e[2]+e[0],b[1]=(0.5*g[5]+0.5)*e[3]+e[1])};b.prototype.Ih=function(a,
c,b){if(!(this.width===a&&this.height===c&&!b)){this.Wc();this.width=a;this.height=c;this.n.viewport(0,0,a,c);c=a/c;var e=this.fh,d;d=1*Math.tan(45*Math.PI/360);c*=d;a=-c;b=-d;e||(e=Y());var f=c-a,g=d-b;e[0]=2/f;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=2/g;e[6]=0;e[7]=0;e[8]=(c+a)/f;e[9]=(d+b)/g;e[10]=-1001/999;e[11]=-1;e[12]=0;e[13]=0;e[14]=-2E3/999;e[15]=0;cb(this.ji,this.lj,this.fk,this.tb);a=[0,0];c=[0,0];this.Ej(0,0,a);this.Ej(1,1,c);this.Yh[0]=1/(c[0]-a[0]);this.Yh[1]=-1/(c[1]-a[1]);a=0;for(c=this.ma.length;a<
c;a++)b=this.ma[a],b.ad=q,b.jj&&(this.n.useProgram(b.Te),this.n.uniformMatrix4fv(b.jj,q,this.fh));this.n.useProgram(this.ma[this.Je].Te);this.n.bindTexture(this.n.TEXTURE_2D,p);this.Gd=p}};b.prototype.Hc=function(){cb(this.ji,this.lj,this.fk,this.tb);bb(this.tb,this.Yh)};b.prototype.translate=function(a,c){if(!(0===a&&0===c)){this.Nc[0]=a;this.Nc[1]=c;this.Nc[2]=0;var b=this.tb,e=this.Nc,d=e[0],f=e[1],e=e[2];b[12]=b[0]*d+b[4]*f+b[8]*e+b[12];b[13]=b[1]*d+b[5]*f+b[9]*e+b[13];b[14]=b[2]*d+b[6]*f+b[10]*
e+b[14];b[15]=b[3]*d+b[7]*f+b[11]*e+b[15]}};b.prototype.scale=function(a,c){1===a&&1===c||(this.Nc[0]=a,this.Nc[1]=c,this.Nc[2]=1,bb(this.tb,this.Nc))};b.prototype.Kj=function(a){if(0!==a){var c=this.tb,b,e=Math.sin(a);a=Math.cos(a);var d=c[0],f=c[1],g=c[2],t=c[3],w=c[4],u=c[5],x=c[6],y=c[7];b?c!==b&&(b[8]=c[8],b[9]=c[9],b[10]=c[10],b[11]=c[11],b[12]=c[12],b[13]=c[13],b[14]=c[14],b[15]=c[15]):b=c;b[0]=d*a+w*e;b[1]=f*a+u*e;b[2]=g*a+x*e;b[3]=t*a+y*e;b[4]=d*-e+w*a;b[5]=f*-e+u*a;b[6]=g*-e+x*a;b[7]=t*
-e+y*a}};b.prototype.Oc=function(){for(var a=q,c=0;16>c;c++)if(this.aj[c]!==this.tb[c]){a=n;break}a&&(a=this.Hb(),a.type=5,a.u?ab(this.tb,a.u):a.u=Y(this.tb),ab(this.tb,this.aj),this.pb=this.Qa=q)};d.prototype.Tk=function(){this.n.bindTexture(this.n.TEXTURE_2D,this.sd)};d.prototype.Qk=function(){var a=this.yj,c=this.D;c.pi=a;c=c.pe;c.Md&&this.n.uniform1f(c.Md,a)};d.prototype.Nk=function(){this.n.drawElements(this.n.TRIANGLES,this.Tb,this.n.UNSIGNED_SHORT,2*this.wb)};d.prototype.Pk=function(){this.n.blendFunc(this.wb,
this.Tb)};d.prototype.Uk=function(){var a,c,b,e=this.D.ma,d=this.D.qi;a=0;for(c=e.length;a<c;a++)b=e[a],a===d&&b.Ld?(this.n.uniformMatrix4fv(b.Ld,q,this.u),b.ad=n):b.ad=q;ab(this.u,this.D.yg)};d.prototype.Ok=function(){var a=this.n,c=this.D;this.sd?(a.bindFramebuffer(a.FRAMEBUFFER,c.tl),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.sd,0)):(a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,p,0),a.bindFramebuffer(a.FRAMEBUFFER,p))};d.prototype.Lk=function(){var a=
this.n;0===this.wb?(a.clearColor(this.u[0],this.u[1],this.u[2],this.u[3]),a.clear(a.COLOR_BUFFER_BIT)):(a.enable(a.SCISSOR_TEST),a.scissor(this.u[0],this.u[1],this.u[2],this.u[3]),a.clearColor(0,0,0,0),a.clear(this.n.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST))};d.prototype.Mk=function(){var a=this.n,c=this.D,b=c.ma[1];a.useProgram(b.Te);!b.ad&&b.Ld&&(a.uniformMatrix4fv(b.Ld,q,c.yg),b.ad=n);a.enableVertexAttribArray(b.sb);a.bindBuffer(a.ARRAY_BUFFER,c.nh);a.vertexAttribPointer(b.sb,4,a.FLOAT,q,0,
0);a.drawArrays(a.POINTS,this.wb/4,this.Tb);b=c.pe;a.useProgram(b.Te);0<=b.sb&&(a.enableVertexAttribArray(b.sb),a.bindBuffer(a.ARRAY_BUFFER,c.$e[c.cc]),a.vertexAttribPointer(b.sb,2,a.FLOAT,q,0,0));0<=b.Ec&&(a.enableVertexAttribArray(b.Ec),a.bindBuffer(a.ARRAY_BUFFER,c.We[c.cc]),a.vertexAttribPointer(b.Ec,2,a.FLOAT,q,0,0))};d.prototype.Rk=function(){var a=this.n,c=this.D,b=c.ma[this.wb];c.qi=this.wb;c.pe=b;a.useProgram(b.Te);!b.ad&&b.Ld&&(a.uniformMatrix4fv(b.Ld,q,c.yg),b.ad=n);b.Md&&a.uniform1f(b.Md,
c.pi);0<=b.sb&&(a.enableVertexAttribArray(b.sb),a.bindBuffer(a.ARRAY_BUFFER,c.$e[c.cc]),a.vertexAttribPointer(b.sb,2,a.FLOAT,q,0,0));0<=b.Ec&&(a.enableVertexAttribArray(b.Ec),a.bindBuffer(a.ARRAY_BUFFER,c.We[c.cc]),a.vertexAttribPointer(b.Ec,2,a.FLOAT,q,0,0))};d.prototype.Sk=function(){var a,c,b=this.D.pe,e=this.n;b.Of&&(e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,this.sd),e.activeTexture(e.TEXTURE0));b.bh&&e.uniform1f(b.bh,this.u[0]);b.ah&&e.uniform1f(b.ah,this.u[1]);b.Kd&&e.uniform2f(b.Kd,
this.u[2],this.u[3]);b.Jd&&e.uniform2f(b.Jd,this.u[4],this.u[5]);b.$g&&e.uniform1f(b.$g,this.u[6]);b.dh&&e.uniform1f(b.dh,Ba()/1E3);if(b.p.length){a=0;for(c=b.p.length;a<c;a++)e.uniform1f(b.p[a][1],this.Kh[a])}};b.prototype.Hb=function(){this.$b===this.wc.length&&this.wc.push(new d(0,this));return this.wc[this.$b++]};b.prototype.Wc=function(){if(0!==this.$b&&!this.n.isContextLost()){var a=this.n;0<this.oh&&(a.bindBuffer(a.ARRAY_BUFFER,this.nh),a.bufferData(a.ARRAY_BUFFER,this.Mm.subarray(0,this.oh),
a.STREAM_DRAW),c&&(0<=c.sb&&"<point>"===c.name)&&a.vertexAttribPointer(c.sb,4,a.FLOAT,q,0,0));if(0<this.Xb){var c=this.pe;a.bindBuffer(a.ARRAY_BUFFER,this.$e[this.cc]);a.bufferData(a.ARRAY_BUFFER,this.Xh.subarray(0,this.Xb),a.STREAM_DRAW);c&&(0<=c.sb&&"<point>"!==c.name)&&a.vertexAttribPointer(c.sb,2,a.FLOAT,q,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.We[this.cc]);a.bufferData(a.ARRAY_BUFFER,this.Ph.subarray(0,this.Xb),a.STREAM_DRAW);c&&(0<=c.Ec&&"<point>"!==c.name)&&a.vertexAttribPointer(c.Ec,2,a.FLOAT,
q,0,0)}for(var b,a=0,c=this.$b;a<c;a++)switch(b=this.wc[a],b.type){case 1:b.Nk();break;case 2:b.Tk();break;case 3:b.Qk();break;case 4:b.Pk();break;case 5:b.Uk();break;case 6:b.Ok();break;case 7:b.Lk();break;case 8:b.Mk();break;case 9:b.Rk();break;case 10:b.Sk()}this.oh=this.Xb=this.$b=0;this.pb=this.Qa=q;this.cc++;4<=this.cc&&(this.cc=0)}};b.prototype.Re=function(a){if(a!==this.bj){var c=this.Hb();c.type=3;this.bj=c.yj=a;this.pb=this.Qa=q}};b.prototype.Jb=function(a){if(a!==this.Gd){var c=this.Hb();
c.type=2;this.Gd=c.sd=a;this.pb=this.Qa=q}};b.prototype.Ic=function(a,c){if(!(a===this.cj&&c===this.$i)){var b=this.Hb();b.type=4;b.wb=a;b.Tb=c;this.cj=a;this.$i=c;this.pb=this.Qa=q}};b.prototype.Oj=function(){this.Ic(this.n.ONE,this.n.ONE_MINUS_SRC_ALPHA)};b.prototype.Wf=function(a,c,b,e,d,f,g,t){15992<=this.Xb&&this.Wc();var w=this.Xb,u=this.Xh,x=this.Ph;if(this.Qa)this.wc[this.$b-1].Tb+=6;else{var y=this.Hb();y.type=1;y.wb=3*(w/4);y.Tb=6;this.Qa=n;this.pb=q}u[w]=a;x[w++]=0;u[w]=c;x[w++]=0;u[w]=
b;x[w++]=1;u[w]=e;x[w++]=0;u[w]=d;x[w++]=1;u[w]=f;x[w++]=1;u[w]=g;x[w++]=0;u[w]=t;x[w++]=1;this.Xb=w};b.prototype.od=function(a,c,b,e,d,f,g,t,w){15992<=this.Xb&&this.Wc();var u=this.Xb,x=this.Xh,y=this.Ph;if(this.Qa)this.wc[this.$b-1].Tb+=6;else{var s=this.Hb();s.type=1;s.wb=3*(u/4);s.Tb=6;this.Qa=n;this.pb=q}x[u]=a;y[u++]=w.left;x[u]=c;y[u++]=w.top;x[u]=b;y[u++]=w.right;x[u]=e;y[u++]=w.top;x[u]=d;y[u++]=w.right;x[u]=f;y[u++]=w.bottom;x[u]=g;y[u++]=w.left;x[u]=t;y[u++]=w.bottom;this.Xb=u};b.prototype.Vb=
function(a){if(this.Je!==a){if(!this.ma[a]){if(0===this.Je)return;a=0}var c=this.Hb();c.type=9;this.Je=c.wb=a;this.pb=this.Qa=q}};b.prototype.Oe=function(a){a=this.ma[a];return!(!a.Kd&&!a.Jd)};b.prototype.qh=function(a){return this.ma[a].oi};b.prototype.Rm=function(a){a=this.ma[a];return 0!==a.Eg||0!==a.Fg};b.prototype.Kl=function(a){return this.ma[a].Eg};b.prototype.Ll=function(a){return this.ma[a].Fg};b.prototype.Ml=function(a,c){return this.ma[a].p[c][2]};b.prototype.Vf=function(a){return this.ma[a].ei};
b.prototype.Vd=function(a,c,b,e,d,f,g,t,w){var u=this.ma[this.Je];if(u.bh||u.ah||u.dh||u.Of||u.Kd||u.Jd||u.$g||w.length){u=this.Hb();u.type=10;u.u?ab(this.tb,u.u):u.u=Y();u.u[0]=c;u.u[1]=b;u.u[2]=e;u.u[3]=d;u.u[4]=f;u.u[5]=g;u.u[6]=t;u.sd=a;if(w.length){u.Kh.length=w.length;a=0;for(c=w.length;a<c;a++)u.Kh[a]=w[a]}this.pb=this.Qa=q}};b.prototype.clear=function(a,c,b,e){var d=this.Hb();d.type=7;d.wb=0;d.u||(d.u=Y());d.u[0]=a;d.u[1]=c;d.u[2]=b;d.u[3]=e;this.pb=this.Qa=q};b.prototype.clearRect=function(a,
c,b,e){var d=this.Hb();d.type=7;d.wb=1;d.u||(d.u=Y());d.u[0]=a;d.u[1]=c;d.u[2]=b;d.u[3]=e;this.pb=this.Qa=q};b.prototype.Qm=function(){this.Wc();this.n.flush()};var f=[];b.prototype.ij=function(a,c,b){this.Wc();var e=this.n,d=da(a.width)&&da(a.height),h=e.createTexture();e.bindTexture(e.TEXTURE_2D,h);e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n);var g=e.RGBA,t=e.RGBA,w=e.UNSIGNED_BYTE;if(b)switch(b){case 1:t=g=e.RGB;break;case 2:w=e.UNSIGNED_SHORT_4_4_4_4;break;case 3:w=e.UNSIGNED_SHORT_5_5_5_1;
break;case 4:t=g=e.RGB,w=e.UNSIGNED_SHORT_5_6_5}e.texImage2D(e.TEXTURE_2D,0,g,t,w,a);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);c?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),d?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_NEAREST),e.generateMipmap(e.TEXTURE_2D)):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),
e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST));e.bindTexture(e.TEXTURE_2D,p);this.Gd=p;h.ie=a.width;h.he=a.height;f.push(h);return h};b.prototype.yc=function(a,c,b){this.Wc();var e=this.n,d=e.createTexture();e.bindTexture(e.TEXTURE_2D,d);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,a,c,0,e.RGBA,e.UNSIGNED_BYTE,p);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,b?e.LINEAR:
e.NEAREST);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,b?e.LINEAR:e.NEAREST);e.bindTexture(e.TEXTURE_2D,p);this.Gd=p;d.ie=a;d.he=c;f.push(d);return d};b.prototype.deleteTexture=function(a){a&&(this.Wc(),this.n.bindTexture(this.n.TEXTURE_2D,p),this.Gd=p,this.n.deleteTexture(a),S(f,a))};b.prototype.mc=function(a){if(a!==this.Jj){var c=this.Hb();c.type=6;this.Jj=c.sd=a;this.pb=this.Qa=q}};Ja=b})();
(function(){function b(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var c=this;this.Vi="undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap);this.Cc=!!a.dc;this.jm="undefined"!==typeof window.AppMobi||this.Cc;if(this.ic=!!window.c2cocoonjs)CocoonJS.App.onSuspended.addEventListener(function(){c.setSuspended(n)}),CocoonJS.App.onActivated.addEventListener(function(){c.setSuspended(q)});this.qb=this.Cc||this.ic;this.Af=
/tizen/i.test(navigator.userAgent);this.Qi=/android/i.test(navigator.userAgent)&&!this.Af;this.Po=/msie/i.test(navigator.userAgent);this.Ef=/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent);this.Yi=/ipad/i.test(navigator.userAgent);this.Xi=this.Ef||this.Yi;this.Ri=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent);this.Qo=!this.Ri&&/safari/i.test(navigator.userAgent);this.nm=/windows/i.test(navigator.userAgent);this.Ui="undefined"!==typeof window.c2nodewebkit;
this.km="undefined"!==typeof window.is_scirra_arcade;this.om=!!("undefined"!==typeof window.c2isWindows8&&window.c2isWindows8);this.pm=!!("undefined"!==typeof window.c2isWindowsPhone8&&window.c2isWindowsPhone8);this.lm=!!("undefined"!==typeof window.c2isBlackberry10&&window.c2isBlackberry10);this.devicePixelRatio=1;this.Cd=this.Vi||this.jm||this.ic||this.Qi||this.Xi||this.pm||this.lm||this.Af;this.Cd||(this.Cd=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet)/i.test(navigator.userAgent));
this.canvas=a;this.ki=document.getElementById("c2canvasdiv");this.N=this.D=this.n=p;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return q};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return q};this.Cc&&(window.c2runtime=this);this.width=a.width;this.height=a.height;this.fj=this.width;this.ej=this.height;this.M=n;this.Fe=q;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.k=[];this.X=[];this.Xg={};this.Gb=
[];this.Dg={};this.Xc=[];this.Pc=[];this.gg=[];this.yk=[];this.Pb=new Ca;this.Tg=q;this.Eb=0;this.Vg=q;this.Ob=[];this.Ti=q;this.kc=this.Ea=this.Mf=this.Gh="";this.Ve=this.Sj=q;this.vn=this.wg=this.Qf=this.Ac=this.yd=0;this.$d=1;this.dd=new Da;this.If=0;this.mj=n;this.Rf=this.rf=this.zd=this.Xe=this.Ke=this.Hg=0;this.ug=p;this.lf=[];this.Cg=[];this.nf=-1;this.eh=[[]];this.Th=this.Pf=0;this.th(p);this.Ro=[];this.So=-1;this.rj=this.Ne=0;this.hj=n;this.te=0;this.ag=[];this.Qh=this.uh=0;this.Ff=n;this.Nf=
0;this.zf=q;this.nn=0;this.Oo=q;this.gh=new Ca;this.tj=new Ca;this.Ij=[];this.rd=new Fa([]);this.Oh=new Fa([]);this.wd=[];this.ng={};this.xd={};this.vd={};this.be={};this.gi={};this.Fb=this.gb=this.gj=this.Lf=this.$=p;this.ae=this.Wg=q;this.Ig=[p,p];this.ve=0;this.ul="";this.Pd={};this.$f=this.Id=p;this.ln="";this.load();this.devicePixelRatio=(this.Ee=!this.qb&&this.tn&&(this.Xi||this.Af))?window.devicePixelRatio||1:1;this.xa();var b;"undefined"!==typeof jQuery&&0<this.nb&&this.setSize(jQuery(window).width(),
jQuery(window).height());try{if(this.Wk&&(this.ic||!this.qb)){b={depth:q,antialias:!this.Cd};var g=n;if(this.Ri&&this.nm){var e=document.createElement("canvas");if("OES_texture_float,OES_standard_derivatives,WEBKIT_WEBGL_lose_context"===(e.getContext("webgl",b)||e.getContext("experimental-webgl",b)).getSupportedExtensions().toString())g=q}g&&(this.n=a.getContext("webgl",b)||a.getContext("experimental-webgl",b))}}catch(s){}if(this.n){this.qb||(this.Ka=document.createElement("canvas"),jQuery(this.Ka).appendTo(this.canvas.parentNode),
this.Ka.oncontextmenu=J(q),this.Ka.onselectstart=J(q),this.Ka.width=a.width,this.Ka.height=a.height,this.Cj(),this.mh=this.Ka.getContext("2d"));this.D=new Ja(this.n,this.Cd);this.D.Ih(a.width,a.height);this.N=p;this.canvas.addEventListener("webglcontextlost",function(a){a.preventDefault();c.xm();window.cr_setSuspended(n)},q);this.canvas.addEventListener("webglcontextrestored",function(){c.D.Mi();c.D.Ih(c.D.width,c.D.height,n);c.gb=p;c.Fb=p;c.Ig[0]=p;c.Ig[1]=p;c.ym();c.M=n;window.cr_setSuspended(q)},
q);var m,d,l,f,k;a=0;for(b=this.k.length;a<b;a++){m=this.k[a];g=0;for(e=m.z.length;g<e;g++)l=m.z[g],l.wa=this.D.Ng(l.id),this.ae=this.ae||this.D.Oe(l.wa)}a=0;for(b=this.Gb.length;a<b;a++){f=this.Gb[a];g=0;for(e=f.z.length;g<e;g++)l=f.z[g],l.wa=this.D.Ng(l.id);g=0;for(e=f.I.length;g<e;g++){k=f.I[g];m=0;for(d=k.z.length;m<d;m++)l=k.z[m],l.wa=this.D.Ng(l.id),this.ae=this.ae||this.D.Oe(l.wa)}}}else{if(0<this.nb&&this.Cc){this.canvas=p;document.oncontextmenu=J(q);document.onselectstart=J(q);this.N=AppMobi.canvas.getContext("2d");
try{this.N.samplingMode=this.ia?"smooth":"sharp",this.N.globalScale=1,this.N.HTML5CompatibilityMode=n}catch(h){}0!==this.width&&0!==this.height&&(this.N.width=this.width,this.N.height=this.height)}this.N||(this.ic?(b={antialias:!!this.ia},this.N=a.getContext("2d",b)):this.N=a.getContext("2d"),this.N.webkitImageSmoothingEnabled=this.ia,this.N.mozImageSmoothingEnabled=this.ia,this.N.msImageSmoothingEnabled=this.ia,this.N.imageSmoothingEnabled=this.ia);this.mh=this.Ka=p}this.Yj=function(){c.Wb()};window!=
window.top&&(!this.qb&&!this.om)&&(document.addEventListener("mousedown",function(){window.focus()},n),document.addEventListener("touchstart",function(){window.focus()},n));"undefined"!==typeof cr_is_preview&&("?continuous"===window.location.search&&(K("Reloading for continuous preview"),this.Mf="__c2_continuouspreview",this.Ve=n),this.Lm&&!this.Cd&&(jQuery(window).focus(function(){c.setSuspended(q)}),jQuery(window).blur(function(){c.setSuspended(n)})));this.go();this.S={}}}function h(a){a.target.result.createObjectStore("saves",
{keyPath:"slot"})}function d(a,c,b,g){var e=indexedDB.open("_C2SaveStates");e.onupgradeneeded=h;e.onerror=g;e.onsuccess=function(s){s=s.target.result;s.onerror=g;s.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:c}).onsuccess=b}}function f(a,c,b){var g=indexedDB.open("_C2SaveStates");g.onupgradeneeded=h;g.onerror=b;g.onsuccess=function(g){g=g.target.result;g.onerror=b;var s=g.transaction(["saves"]).objectStore("saves").get(a);s.onsuccess=function(){s.result?c(s.result.data):
c(p)}}}function a(){K("Reloading for continuous preview");"?continuous"===window.location.search?window.location.reload(n):window.location+="?continuous"}function c(a){var c,b={};for(c in a)a.hasOwnProperty(c)&&!(a[c]instanceof Ca)&&"undefined"===typeof a[c].Lo&&"mouseOverInverted"!==c&&(b[c]=a[c]);return b}b.prototype.setSize=function(a,c){var b=this.em&&this.Ef&&!navigator.standalone&&!this.qb&&!this.Vi,g=0;b&&(this.Ef?g=60:this.Qi&&(g=56),c+=g);var e=0,s=0,m=0,d=0,l=0,l=this.nb,f=document.mozFullScreen||
document.webkitIsFullScreen||document.fullScreen||this.zf;f&&0<this.ve&&(l=this.ve);4<=l?(m=this.Va/this.Ua,a/c>m?(m*=c,5===l?(l=m/this.Va,1<l?l=Math.floor(l):1>l&&(l=1/Math.ceil(1/l)),m=this.Va*l,d=this.Ua*l,e=(a-m)/2,s=(c-d)/2,a=m,c=d):(e=(a-m)/2,a=m)):(d=a/m,5===l?(l=d/this.Ua,1<l?l=Math.floor(l):1>l&&(l=1/Math.ceil(1/l)),m=this.Va*l,d=this.Ua*l,e=(a-m)/2,s=(c-d)/2,a=m):s=(c-d)/2,c=d),f&&!this.Ui&&(s=e=0),e=Math.floor(e),s=Math.floor(s),a=Math.floor(a),c=Math.floor(c)):this.Ui&&(this.zf&&0===this.Bi)&&
(e=Math.floor((a-this.Va)/2),s=Math.floor((c-this.Ua)/2),a=this.Va,c=this.Ua);this.Ee&&(this.Yi&&1<this.devicePixelRatio)&&(1024<=a&&(a=1023),1024<=c&&(c=1023));f=this.devicePixelRatio;this.width=a*f;this.height=c*f;this.M=n;this.ki&&!this.qb&&(jQuery(this.ki).css({width:a+"px",height:c+"px","margin-left":e,"margin-top":s}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:a+"px",height:c+"px"}));this.canvas&&(this.canvas.width=a*f,this.canvas.height=c*f,this.Ee&&jQuery(this.canvas).css({width:a+
"px",height:c+"px"}));this.Ka&&(this.Ka.width=a,this.Ka.height=c);this.D&&this.D.Ih(a,c);this.Cc&&this.N&&(this.N.width=a,this.N.height=c);this.N&&(this.N.webkitImageSmoothingEnabled=this.ia,this.N.mozImageSmoothingEnabled=this.ia,this.N.msImageSmoothingEnabled=this.ia,this.N.imageSmoothingEnabled=this.ia);b&&0<g&&window.setTimeout(function(){window.scrollTo(0,1)},100)};b.prototype.xm=function(){this.Wg=n;var a,c,b;a=0;for(c=this.k.length;a<c;a++)b=this.k[a],b.uj&&b.uj()};b.prototype.ym=function(){this.Wg=
q;var a,c,b;a=0;for(c=this.k.length;a<c;a++)b=this.k[a],b.wj&&b.wj()};b.prototype.Cj=function(){if(!this.qb){var a=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||this.zf?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.Ka).css(a)}};var l=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;b.prototype.setSuspended=function(a){var c;
if(a&&!this.Fe){this.Fe=n;0!==this.uh&&l&&l(this.uh);0!==this.Qh&&clearTimeout(this.Qh);a=0;for(c=this.ag.length;a<c;a++)this.ag[a](n)}else if(!a&&this.Fe){this.Fe=q;this.If=Ba();this.Ke=Ba();a=this.rf=0;for(c=this.ag.length;a<c;a++)this.ag[a](q);this.Wb()}};b.prototype.load=function(){var a=eb();this.name=a[0];this.Ai=a[1];this.nb=a[11];this.Bi=a[11];this.qb&&4<=a[11]&&(K("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.Bi=
this.nb=3);this.Vh=a[17];this.Le=a[18];0===this.Le&&(this.Id=new Image,this.Id.src="logo.png");this.Ne=a[20];this.nc=new Z(this);var c,b,g,e,s,m,d,l,f;c=0;for(b=a[2].length;c<b;c++)d=a[2][c],fb(d),f=new d[0](this),f.Mh=d[1],f.Dc=d[2],f.pj=d[9],f.ja&&f.ja(),this.plugins.push(f);a=eb();c=0;for(b=a[3].length;c<b;c++){d=a[3][c];s=d[1];f=p;g=0;for(e=this.plugins.length;g<e;g++)if(this.plugins[g]instanceof s){f=this.plugins[g];break}var k=new f.Cb(f);k.name=d[0];k.H=d[2];k.Sg=d[3].slice(0);k.un=d[3].length;
k.Ak=d[4];k.xl=d[5];k.F=d[11];k.H?(k.Me=[],k.Sb=this.te++,k.T=p):(k.Me=p,k.Sb=-1,k.T=[]);k.qf=p;k.Ad=p;k.vi=p;k.fb=q;k.Ia=p;d[6]?(k.Vj=d[6][0],k.Wj=d[6][1],k.pn=d[6][2]):(k.Vj=p,k.Wj=0,k.pn=0);k.aa=d[7]?d[7]:p;k.index=c;k.c=[];k.kf=[];k.Lc=[new Ka(k)];k.ec=0;k.mb=p;k.Mc=n;k.hg=gb;k.Cl=hb;k.Jl=ib;k.W=jb;k.Pe=kb;k.sh=lb;k.Td=mb;k.tf=nb;k.Jg=ob;k.Lg=pb;k.ff=qb;k.S={};k.toString=rb;k.X=[];g=0;for(e=d[8].length;g<e;g++){l=d[8][g];var h=l[1],r=p;s=0;for(m=this.X.length;s<m;s++)if(this.X[s]instanceof h){r=
this.X[s];break}r||(r=new h(this),r.gd=new Ca,r.ja&&r.ja(),this.X.push(r));s=new r.Cb(r,k);s.name=l[0];s.F=l[2];s.ja();k.X.push(s)}k.global=d[9];k.Ug=d[10];k.z=[];g=0;for(e=d[12].length;g<e;g++)k.z.push({id:d[12][g][0],name:d[12][g][1],wa:-1,Yb:n,index:g});(!this.Vh||k.H||k.Ug||!f.Dc)&&k.ja();k.name&&(this.types[k.name]=k);this.k.push(k);f.Mh&&(g=new f.Fa(k),g.uid=this.Ne++,g.Gj=this.rj++,g.Ae=0,g.ze=sb,g.toString=tb,g.U=d[13],g.ja(),k.c.push(g))}c=0;for(b=a[4].length;c<b;c++){s=a[4][c];m=this.k[s[0]];
g=1;for(e=s.length;g<e;g++)d=this.k[s[g]],d.T.push(m),m.Me.push(d)}c=0;for(b=a[22].length;c<b;c++){s=a[22][c];m=[];g=0;for(e=s.length;g<e;g++)m.push(this.k[s[g]]);g=0;for(e=m.length;g<e;g++)m[g].fb=n,m[g].Ia=m}if(0<this.te){c=0;for(b=this.k.length;c<b;c++)if(d=this.k[c],!d.H&&d.T.length){d.qf=Array(this.te);d.Ad=Array(this.te);d.vi=Array(this.te);k=[];g=r=h=l=0;for(e=d.T.length;g<e;g++){f=d.T[g];d.qf[f.Sb]=l;l+=f.un;d.Ad[f.Sb]=h;h+=f.Ak;d.vi[f.Sb]=r;r+=f.xl;s=0;for(m=f.z.length;s<m;s++)k.push(ha({},
f.z[s]))}d.z=k.concat(d.z);g=0;for(e=d.z.length;g<e;g++)d.z[g].index=g}}c=0;for(b=a[5].length;c<b;c++)d=a[5][c],g=new La(this,d),this.Xg[g.name]=g,this.Gb.push(g);c=0;for(b=a[6].length;c<b;c++)d=a[6][c],g=new Ma(this,d),this.Dg[g.name]=g,this.Xc.push(g);c=0;for(b=this.Xc.length;c<b;c++)this.Xc[c].ba();c=0;for(b=this.gg.length;c<b;c++)this.gg[c].ba();this.gg.length=0;this.ul=a[7];this.Sd=a[8];this.Va=a[9];this.Ua=a[10];this.gf=1;this.Wk=a[12];this.ia=a[13];this.li=a[14];this.bp=a[15];c=a[16];2===c&&
(c=this.Ef?1:0);this.tn=0!==c;this.em=a[19];this.Lm=a[21];this.Ue=Date.now()};b.prototype.wl=function(a){var c,b;c=0;for(b=this.Pc.length;c<b;c++)if(this.Pc[c].Fk===a)return this.Pc[c];return p};b.prototype.fi=function(){var a=0,c=0,b=n,g,e;g=0;for(e=this.Pc.length;g<e;g++){var s=this.Pc[g].Ek;if(!s||0>=s)s=5E4;a+=s;this.Pc[g].complete||this.Pc[g].loaded?c+=s:b=q}this.nd=0==a?0:c/a;return b};b.prototype.go=function(){if(this.N||this.D){var a=this.N||this.mh;this.Ka&&this.Cj();this.nd=0;this.dj=-1;
if(this.fi())this.cm();else{var c=Date.now()-this.Ue,b=1;this.Af&&(b=this.devicePixelRatio);if(a){if(3!==this.Le&&500<=c&&this.dj!=this.nd){a.clearRect(0,0,this.width,this.height);var c=this.width/(2*b),b=this.height/(2*b),g=0===this.Le&&this.Id.complete,e=40,s=0,m=80;g&&(m=this.Id.width,e=m/2,s=this.Id.height/2,a.drawImage(this.Id,R(c-e),R(b-s)));1>=this.Le?(c=R(c-e)+0.5,b=R(b+(s+(g?12:0)))+0.5,a.fillStyle="DodgerBlue",a.fillRect(c,b,Math.floor(m*this.nd),6),a.strokeStyle="black",a.strokeRect(c,
b,m,6),a.strokeStyle="white",a.strokeRect(c-1,b-1,m+2,8)):2===this.Le&&(a.font="12pt Arial",a.fillStyle="#999",a.Yo="middle",g=Math.round(100*this.nd)+"%",e=a.measureText?a.measureText(g):p,a.fillText(g,c-(e?e.width:0)/2,b))}this.dj=this.nd}setTimeout(function(a){return function(){a.go()}}(this),100)}}};b.prototype.cm=function(){this.Ka&&(this.canvas.parentNode.removeChild(this.Ka),this.Ka=this.mh=p);this.Ue=Date.now();this.Ke=Ba();var a,c,b;if(this.Vh){a=0;for(c=this.k.length;a<c;a++)b=this.k[a],
!b.H&&(!b.Ug&&b.Aa.Dc)&&b.ja()}else this.Ff=q;a=0;for(c=this.Gb.length;a<c;a++)this.Gb[a].Gk();2<=this.nb&&(a=this.Va/this.Ua,c=this.width/this.height,this.gf=2!==this.nb&&c>a||2===this.nb&&c<a?this.height/this.Ua:this.width/this.Va);this.Ai?this.Xg[this.Ai].Nh():this.Gb[0].Nh();this.Vh||(this.Nf=1,this.trigger(Z.prototype.C.$h,p));this.Wb();this.Cc&&AppMobi.webview.execute("onGameReady();")};var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||
window.msRequestAnimationFrame||window.oRequestAnimationFrame;b.prototype.Wb=function(){if(this.km){var a=jQuery(window).width(),c=jQuery(window).height();if(this.fj!==a||this.ej!==c)this.fj=a,this.ej=c,this.setSize(a,c)}a=Ba();this.Ff&&(c=this.fi(),this.Nf=this.nd,c&&(this.Ff=q,this.nd=1,this.trigger(Z.prototype.C.$h,p)));this.um();if((this.M||this.ic)&&!this.Wg&&!this.Ve)this.M=q,this.D?this.Qb():this.Vc(),this.$f&&(this.canvas&&this.canvas.toDataURL&&(this.ln=this.canvas.toDataURL(this.$f[0],this.$f[1]),
this.trigger(Z.prototype.C.mk,p)),this.$f=p);this.Xe++;this.zd++;this.rf++;this.Qf+=Ba()-a;this.Fe||(e?this.uh=e(this.Yj,this.canvas):this.Qh=setTimeout(this.Yj,this.Cd?1:16))};b.prototype.um=function(){var a,c,b,g,e,s,m,d,l;a=Ba();1E3<=a-this.Ke&&(this.Ke+=1E3,this.Hg=this.rf,this.rf=0,this.wg=this.Qf,this.Qf=0);this.mj&&(0!==this.If&&(c=a-this.If,0===c?(this.vn++,10<=this.dp&&(this.mj=q),this.Ac=1/60):(this.Ac=c/1E3,0.5<this.Ac?this.Ac=0:0.1<this.Ac&&(this.Ac=0.1))),this.If=a);this.yd=this.Ac*this.$d;
this.dd.add(this.yd);a=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||this.zf;2<=this.nb||a&&0<this.ve?(c=this.Va/this.Ua,b=this.width/this.height,g=this.nb,a&&0<this.ve&&(g=this.ve),this.gf=2!==g&&b>c||2===g&&b<c?this.height/this.Ua:this.width/this.Va,this.$&&(this.$.hn(this.$.scrollX),this.$.jn(this.$.scrollY))):this.gf=1;this.xa();this.Eb++;this.nc.Zm();this.Eb--;this.xa();this.Eb++;a=0;for(c=this.k.length;a<c;a++)if(m=this.k[a],!(m.H||!m.X.length&&!m.T.length)){b=0;
for(g=m.c.length;b<g;b++){d=m.c[b];e=0;for(s=d.B.length;e<s;e++)d.B[e].Wb()}}a=0;for(c=this.k.length;a<c;a++)if(m=this.k[a],!(m.H||!m.X.length&&!m.T.length)){b=0;for(g=m.c.length;b<g;b++){d=m.c[b];e=0;for(s=d.B.length;e<s;e++)l=d.B[e],l.Pm&&l.Pm()}}b=this.gh.qc();a=0;for(c=b.length;a<c;a++)b[a].Wb();this.Eb--;this.dm();for(a=0;this.ug&&10>a++;)this.si(this.ug);a=0;for(c=this.Xc.length;a<c;a++)this.Xc[a].Og=q;this.$.mf&&this.$.mf.la();this.Ij.length=0;this.hj=q;this.Eb++;a=0;for(c=this.k.length;a<
c;a++)if(m=this.k[a],!(m.H||!m.X.length&&!m.T.length)){b=0;for(g=m.c.length;b<g;b++){d=m.c[b];e=0;for(s=d.B.length;e<s;e++)l=d.B[e],l.Xj&&l.Xj()}}b=this.tj.qc();a=0;for(c=b.length;a<c;a++)b[a].Xj();this.Eb--};b.prototype.si=function(a){this.$.on();var c,b,g,e,s,m,d,l;c=0;for(b=this.k.length;c<b;c++)m=this.k[c],m.ek&&-1===a.Be.indexOf(m)&&m.ek();a.Nh();c=0;for(b=this.k.length;c<b;c++)if(m=this.k[c],m.global||m.Aa.Mh){a=0;for(g=m.c.length;a<g;a++)if(d=m.c[a],d.lh&&d.lh(),d.B){e=0;for(s=d.B.length;e<
s;e++)l=d.B[e],l.lh&&l.lh()}}this.hj=this.M=n;this.xa()};b.prototype.qn=function(a){this.gh.add(a)};b.prototype.uf=function(a){return!a||-1===a.hd?this.yd:this.Ac*a.hd};b.prototype.Vc=function(){this.$.Vc(this.N);this.Cc&&this.N.present()};b.prototype.Qb=function(){this.$.Qb(this.D)};b.prototype.vk=function(a){a&&this.lf.push(a)};b.prototype.Xm=function(a){S(this.lf,a)};b.prototype.Mg=function(a){return this.Pd[a.toString()]};b.prototype.Qc=function(a){var c,b;if(!this.Pb.contains(a)){this.Pb.add(a);
if(a.fb){c=0;for(b=a.siblings.length;c<b;c++)this.Qc(a.siblings[c])}this.Tg&&this.Pb.Ye.push(a);this.Eb++;this.trigger(Object.getPrototypeOf(a.type.Aa).C.nk,a);this.Eb--}};b.prototype.xa=function(){var a,c,b,g,e,s,m,d,l,k;this.Tg=n;g=0;for(s=this.Ob.length;g<s;g++){a=this.Ob[g];c=a.type;c.c.push(a);c.Mc=n;e=0;for(m=c.T.length;e<m;e++)c.T[e].c.push(a),c.T[e].Mc=n}this.Ob.length=0;s=this.Pb.qc();for(g=0;g<s.length;g++){a=s[g];c=a.type;b=c.c;e=0;for(m=this.lf.length;e<m;e++)this.lf[e](a);S(b,a);a.j&&
(ia(a.j.c,a.Ja()),a.j.ab=n);e=0;for(m=c.T.length;e<m;e++)S(c.T[e].c,a),c.T[e].Mc=n;if(a.B){e=0;for(m=a.B.length;e<m;e++)b=a.B[e],b.Sf&&b.Sf(),b.va.gd.remove(a)}this.gh.remove(a);this.tj.remove(a);e=0;for(m=this.nc.ib.length;e<m;e++)if(l=this.nc.ib[e],l.Xa.hasOwnProperty(c.index)&&S(l.Xa[c.index].cd,a),!c.H){b=0;for(d=c.T.length;b<d;b++)k=c.T[b],l.Xa.hasOwnProperty(k.index)&&S(l.Xa[k.index].cd,a)}a.Sf&&a.Sf();this.Pd.hasOwnProperty(a.uid.toString())&&delete this.Pd[a.uid.toString()];this.Rf--;64>c.kf.length&&
c.kf.push(a);c.Mc=n}this.Pb.De()||(this.M=n);this.Pb.clear();this.Tg=q};b.prototype.ni=function(a,c,b,g){if(a.H){var e=R(Math.random()*a.Me.length);return this.ni(a.Me[e],c,b,g)}return!a.mb?p:this.zc(a.mb,c,q,b,g,q)};var k=[];b.prototype.zc=function(a,c,b,g,e,s){var m,d,l,f;if(!a)return p;var h=this.k[a[1]],r=h.Aa.Dc;if(this.Ff&&r&&!h.Ug||r&&!this.D&&11===a[0][11])return p;r||(c=p);var v;h.kf.length?(v=h.kf.pop(),v.Ib=n,h.Aa.Fa.call(v,h)):(v=new h.Aa.Fa(h),v.Ib=q);v.uid=b&&!s?a[2]:this.Ne++;this.Pd[v.uid.toString()]=
v;v.Gj=this.rj++;v.Ae=0;v.ze=sb;h.Mc=n;l=a[3];if(v.Ib){m=0;for(d=l.length;m<d;m++)v.za[m]=l[m];Aa(v.S)}else v.za=l.slice(0),v.S={};if(r){var z=a[0];v.x=aa(g)?z[0]:g;v.y=aa(e)?z[1]:e;v.cp=z[2];v.width=z[3];v.height=z[4];v.depth=z[5];v.i=z[6];v.opacity=z[7];v.Ra=z[8];v.Sa=z[9];v.Ga=z[10];m=z[11];!this.D&&h.z.length&&(v.Ga=m);v.me=Ga(v.Ga);this.n&&Ha(v,v.Ga,this.n);if(v.Ib){m=0;for(d=z[12].length;m<d;m++){l=0;for(f=z[12][m].length;l<f;l++)v.Z[m][l]=z[12][m][l]}v.J.set(0,0,0,0);v.cb.Jh(v.J);v.hf.length=
0}else{v.Z=z[12].slice(0);m=0;for(d=v.Z.length;m<d;m++)v.Z[m]=z[12][m].slice(0);v.L=[];v.tc=[];v.tc.length=h.z.length;v.J=new fa(0,0,0,0);v.cb=new ga;v.hf=[];v.G=ub;v.Ko=vb;v.Db=wb;v.Lb=xb;v.Ja=yb}m=0;for(d=h.z.length;m<d;m++)v.tc[m]=n;v.pc=zb;v.pc();v.gk=!!v.L.length;v.qg=n;v.visible=n;v.hd=-1;v.j=c;v.ud=c.c.length;"undefined"===typeof v.Q&&(v.Q=p);this.M=v.xc=n}v.toString=tb;var C;m=k.length=0;for(d=h.T.length;m<d;m++)k.push.apply(k,h.T[m].X);k.push.apply(k,h.X);if(v.Ib){m=0;for(d=k.length;m<d;m++){var A=
k[m];C=v.B[m];C.Ib=n;A.va.Fa.call(C,A,v);z=a[4][m];l=0;for(f=z.length;l<f;l++)C.U[l]=z[l];C.ja();A.va.gd.add(v)}}else{v.B=[];m=0;for(d=k.length;m<d;m++)A=k[m],C=new A.va.Fa(A,v),C.Ib=q,C.U=a[4][m].slice(0),C.ja(),v.B.push(C),A.va.gd.add(v)}z=a[5];if(v.Ib){m=0;for(d=z.length;m<d;m++)v.U[m]=z[m]}else v.U=z.slice(0);this.Ob.push(v);c&&c.c.push(v);this.Rf++;if(h.fb){if(v.fb=n,v.Ib?v.siblings.length=0:v.siblings=[],!b&&!s){m=0;for(d=h.Ia.length;m<d;m++)if(h.Ia[m]!==h){if(!h.Ia[m].mb)return p;v.siblings.push(this.zc(h.Ia[m].mb,
c,q,r?v.x:g,r?v.y:e,n))}m=0;for(d=v.siblings.length;m<d;m++){v.siblings[m].siblings.push(v);for(l=0;l<d;l++)m!==l&&v.siblings[m].siblings.push(v.siblings[l])}}}else v.fb=q,v.siblings=p;v.ja();m=0;for(d=v.B.length;m<d;m++)v.B[m].Om&&v.B[m].Om();return v};b.prototype.Gl=function(a){var c,b;c=0;for(b=this.$.I.length;c<b;c++){var g=this.$.I[c];if(g.name.toLowerCase()===a.toLowerCase())return g}return p};b.prototype.Hl=function(a){a=R(a);0>a&&(a=0);a>=this.$.I.length&&(a=this.$.I.length-1);return this.$.I[a]};
b.prototype.vg=function(a){var c,b;c=0;for(b=a.length;c<b;c++)a[c].W().ca=n};b.prototype.Pe=function(a){var c,b;c=0;for(b=a.length;c<b;c++)a[c].Pe()};b.prototype.sh=function(a){var c,b;c=0;for(b=a.length;c<b;c++)a[c].sh()};b.prototype.Td=function(a){var c,b;c=0;for(b=a.length;c<b;c++)a[c].Td()};b.prototype.Yd=function(a,c){if(!a||!c||a===c||!a.xc||!c.xc)return q;a.Lb();c.Lb();var b=a.j,g=c.j,e,s,d,l,k,f;if(b!==g&&(b.ld!==g.ld||g.md!==g.md||b.scale!==g.scale||b.i!==g.i||b.cf!==g.cf)){k=a.Q&&!a.Q.Ge();
e=c.Q&&!c.Q.Ge();k?(a.Q.je(a.width,a.height,a.i),this.rd.Pj(a.Q)):this.rd.Zf(a.cb,a.x,a.y,a.width,a.height);k=this.rd;e?(c.Q.je(c.width,c.height,c.i),this.Oh.Pj(c.Q)):this.Oh.Zf(c.cb,c.x,c.y,c.width,c.height);f=this.Oh;e=0;for(s=k.lc;e<s;e++)d=k.Ba[2*e],l=k.Ba[2*e+1],k.Ba[2*e]=b.Da(d+a.x,l+a.y,n),k.Ba[2*e+1]=b.Da(d+a.x,l+a.y,q);e=0;for(s=f.lc;e<s;e++)d=f.Ba[2*e],l=f.Ba[2*e+1],f.Ba[2*e]=g.Da(d+c.x,l+c.y,n),f.Ba[2*e+1]=g.Da(d+c.x,l+c.y,q);return k.Pi(f,0,0)}if(!a.J.im(c.J)||!a.cb.hm(c.cb))return q;
k=a.Q&&!a.Q.Ge();e=c.Q&&!c.Q.Ge();if(!k&&!e)return n;k?(a.Q.je(a.width,a.height,a.i),k=a.Q):(this.rd.Zf(a.cb,a.x,a.y,a.width,a.height),k=this.rd);e?(c.Q.je(c.width,c.height,c.i),f=c.Q):(this.rd.Zf(c.cb,c.x,c.y,c.width,c.height),f=this.rd);return k.Pi(f,c.x-a.x,c.y-a.y)};new ga;b.prototype.bk=function(a,c){if(!c)return q;var b,g,e,s,d;b=0;for(g=a.X.length;b<g;b++)if(a.X[b].va instanceof c)return n;if(!a.H){b=0;for(g=a.T.length;b<g;b++){d=a.T[b];e=0;for(s=d.X.length;e<s;e++)if(d.X[e].va instanceof c)return n}}return q};
b.prototype.ck=function(a){return this.bk(a,Ya.ao)};b.prototype.Uh=function(a){return this.bk(a,Ya.bo)};b.prototype.Nl=function(){if(!Ya.mn)return p;var a,c;a=0;for(c=this.X.length;a<c;a++)if(this.X[a]instanceof Ya.mn)return this.X[a];return p};b.prototype.Zd=function(a){var c=this.Nl();if(!c)return p;var b,g,e=c.gd.qc(),c=0;for(b=e.length;c<b;++c)if(g=e[c],g.S.Xo&&this.Yd(a,g))return g;return p};b.prototype.Um=function(a,c,b,g){g=g||50;var e=a.x,d=a.y,m,l=p,k=p;for(m=0;m<g;m++)if(a.x=e+c*m,a.y=d+
b*m,a.G(),!this.Yd(a,l)&&((l=this.Zd(a))&&(k=l),!l&&!l))return k&&this.Sm(a,c,b,k),n;a.x=e;a.y=d;a.G();return q};b.prototype.Sm=function(a,c,b,g){var e=2,d,m=q;d=q;for(var l=a.x,k=a.y;16>=e;)d=1/e,e*=2,a.x+=c*d*(m?1:-1),a.y+=b*d*(m?1:-1),a.G(),this.Yd(a,g)?d=m=n:(d=m=q,l=a.x,k=a.y);d&&(a.x=l,a.y=k,a.G())};b.prototype.Vm=function(a){for(var c=0,b=a.x,g=a.y,e=0,d=0,m=0,l=p;100>=c;){switch(e){case 0:d=0;m=-1;c++;break;case 1:d=1;m=-1;break;case 2:d=1;m=0;break;case 3:m=d=1;break;case 4:d=0;m=1;break;
case 5:d=-1;m=1;break;case 6:d=-1;m=0;break;case 7:m=d=-1}e=(e+1)%8;a.x=R(b+d*c);a.y=R(g+m*c);a.G();if(!this.Yd(a,l)&&(l=this.Zd(a),!l))return}a.x=b;a.y=g;a.G()};b.prototype.Wm=function(a,c){a.xc&&c.xc&&this.Ij.push([a,c])};b.prototype.Ck=function(a,c,b){var g=a.x,e=a.y,d=N(10,xa(c,b,g,e)),m=ta(c,b,g,e),l=this.Zd(a);if(!l)return V(m+Q);var k=l,f,h,r,v,z=T(5);for(f=1;36>f;f++)if(h=m-f*z,a.x=c+Math.cos(h)*d,a.y=b+Math.sin(h)*d,a.G(),!this.Yd(a,k)&&(k=this.Zd(a),!k)){r=h;break}36===f&&(r=V(m+Q));k=l;
for(f=1;36>f;f++)if(h=m+f*z,a.x=c+Math.cos(h)*d,a.y=b+Math.sin(h)*d,a.G(),!this.Yd(a,k)&&(k=this.Zd(a),!k)){v=h;break}36===f&&(v=V(m+Q));a.x=g;a.y=e;a.G();if(v===r)return v;a=ua(v,r)/2;a=wa(v,r)?V(r+a+Q):V(v+a);r=Math.cos(m);m=Math.sin(m);v=Math.cos(a);a=Math.sin(a);c=r*v+m*a;return ta(0,0,r-2*c*v,m-2*c*a)};var r=[],g=-1;b.prototype.trigger=function(a,c,b){if(!this.$)return q;var e=this.$.mf;if(!e)return q;g++;g===r.length?r.push(new Ca):r[g].clear();a=this.$j(a,c,e,b);g--;return a};b.prototype.$j=
function(a,c,b,e){var d=r[g];if(d.contains(b))return q;d.add(b);var d=b.Li.qc(),s=q,m,l,k;m=0;for(l=d.length;m<l;m++)k=this.$j(a,c,d[m],e),s=s||k;if(c){k=this.Sh(a,c,c.type.name,b,e);s=s||k;m=0;for(l=c.type.T.length;m<l;m++)k=this.Sh(a,c,c.type.T[m].name,b,e),s=s||k}else k=this.Sh(a,c,"system",b,e),s=s||k;return s};b.prototype.Sh=function(a,c,b,g,e){var d,m=q,l=q,l="undefined"!==typeof e,k=(l?g.xi:g.ak)[b];if(!k)return m;var f=p;g=0;for(d=k.length;g<d;g++)if(k[g].method==a){f=k[g].of;break}if(!f)return m;
a=l?f[e]:f;if(!a)return p;g=0;for(d=a.length;g<d;g++)e=a[g][0],l=a[g][1],l=this.sl(c,b,e,l),m=m||l;return m};b.prototype.sl=function(a,c,b,e){var d,s,m=q;this.Th++;var l=this.Pa().lb;l&&this.Pe(l.Jc);var k=1<this.Th;this.Pe(b.Jc);k&&this.Tm();var f=this.th(b);f.lb=b;a&&(d=this.types[c].W(),d.ca=q,d.c.length=1,d.c[0]=a,this.types[c].ff());a=n;if(b.parent){c=f.Uj;for(d=b.parent;d;)c.push(d),d=d.parent;c.reverse();d=0;for(s=c.length;d<s;d++)if(!c[d].an()){a=q;break}}a&&(this.zd++,b.Ub?b.$m(e):b.la(),
m=m||f.Hd);this.Bj();k&&this.Nm();this.Td(b.Jc);l&&this.Td(l.Jc);0===this.Eb&&(0===g&&!this.Vg&&(!this.Pb.De()||this.Ob.length))&&this.xa();this.Th--;return m};b.prototype.Bl=function(){var a=this.Pa();return a.lb.ea[a.Ha]};b.prototype.Al=function(){var a=this.Pa();return a.lb.jb[a.bb]};b.prototype.Tm=function(){this.Pf++;this.Pf>=this.eh.length&&this.eh.push([])};b.prototype.Nm=function(){this.Pf--};b.prototype.Di=function(){return this.eh[this.Pf]};b.prototype.th=function(a){this.nf++;this.nf>=
this.Cg.length&&this.Cg.push(new Na);var c=this.Pa();c.reset(a);return c};b.prototype.Bj=function(){this.nf--};b.prototype.Pa=function(){return this.Cg[this.nf]};b.prototype.Ei=function(a,c){for(var b,g,e,d,m,l;c;){b=0;for(g=c.xb.length;b<g;b++)if(l=c.xb[b],l instanceof Oa&&a.toLowerCase()===l.name.toLowerCase())return l;c=c.parent}b=0;for(g=this.Xc.length;b<g;b++){m=this.Xc[b];e=0;for(d=m.Bc.length;e<d;e++)if(l=m.Bc[e],l instanceof Oa&&a.toLowerCase()===l.name.toLowerCase())return l}return p};b.prototype.Fi=
function(a){var c,b;c=0;for(b=this.Gb.length;c<b;c++)if(this.Gb[c].F===a)return this.Gb[c];return p};b.prototype.xe=function(a){var c,b;c=0;for(b=this.k.length;c<b;c++)if(this.k[c].F===a)return this.k[c];return p};b.prototype.Dl=function(a){var c,b;c=0;for(b=this.wd.length;c<b;c++)if(this.wd[c].F===a)return this.wd[c];return p};b.prototype.dm=function(){var c=this,b=this.Gh,g=this.kc,e=this.Mf,l=q;this.Sj&&(l=n,b="__c2_continuouspreview",this.Sj=q);if(b.length){this.xa();g=this.gn();if(window.indexedDB&&
!this.ic)d(b,g,function(){K("Saved state to IndexedDB storage ("+g.length+" bytes)");c.kc=g;c.trigger(Z.prototype.C.lg,p);c.kc="";l&&a()},function(e){try{localStorage.setItem("__c2save_"+b,g),K("Saved state to WebStorage ("+g.length+" bytes)"),c.kc=g,c.trigger(Z.prototype.C.lg,p),c.kc="",l&&a()}catch(d){K("Failed to save game state: "+e+"; "+d)}});else try{localStorage.setItem("__c2save_"+b,g),K("Saved state to WebStorage ("+g.length+" bytes)"),c.kc=g,this.trigger(Z.prototype.C.lg,p),c.kc="",l&&a()}catch(s){K("Error saving to WebStorage: "+
s)}this.Ea=this.Mf=this.Gh=""}e.length&&(window.indexedDB&&!this.ic?f(e,function(a){a?(c.Ea=a,K("Loaded state from IndexedDB storage ("+c.Ea.length+" bytes)")):(c.Ea=localStorage.getItem("__c2save_"+e)||"",K("Loaded state from WebStorage ("+c.Ea.length+" bytes)"));c.Ve=q;c.Ea.length||c.trigger(Z.prototype.C.kg,p)},function(){c.Ea=localStorage.getItem("__c2save_"+e)||"";K("Loaded state from WebStorage ("+c.Ea.length+" bytes)");c.Ve=q;c.Ea.length||c.trigger(Z.prototype.C.kg,p)}):(this.Ea=localStorage.getItem("__c2save_"+
e)||"",K("Loaded state from WebStorage ("+this.Ea.length+" bytes)"),this.Ve=q,c.Ea.length||c.trigger(Z.prototype.C.kg,p)),this.Gh=this.Mf="");this.Ea.length&&(this.xa(),this.rm(this.Ea),this.kc=this.Ea,this.trigger(Z.prototype.C.sk,p),this.Ea=this.kc="")};b.prototype.gn=function(){var a,b,g,e,d,s,m,l={c2save:n,version:1,rt:{time:this.dd.Ya,timescale:this.$d,tickcount:this.Xe,execcount:this.zd,next_uid:this.Ne,running_layout:this.$.F,start_time_offset:Date.now()-this.Ue},types:{},layouts:{},events:{groups:{},
cnds:{},acts:{},vars:{}}};a=0;for(b=this.k.length;a<b;a++)if(d=this.k[a],!d.H&&!this.ck(d)){s={instances:[]};za(d.S)&&(s.ex=c(d.S));g=0;for(e=d.c.length;g<e;g++)s.instances.push(this.Nj(d.c[g]));l.types[d.F.toString()]=s}a=0;for(b=this.Gb.length;a<b;a++)g=this.Gb[a],l.layouts[g.F.toString()]=g.Wa();e=l.events.groups;a=0;for(b=this.wd.length;a<b;a++)g=this.wd[a],e[g.F.toString()]=!!this.ng[g.xf];b=l.events.cnds;for(m in this.xd)this.xd.hasOwnProperty(m)&&(a=this.xd[m],za(a.S)&&(b[m]={ex:c(a.S)}));
b=l.events.acts;for(m in this.vd)this.vd.hasOwnProperty(m)&&(a=this.vd[m],za(a.S)&&(b[m]={ex:a.S}));b=l.events.vars;for(m in this.be)if(this.be.hasOwnProperty(m)&&(a=this.be[m],!a.Bf&&(!a.parent||a.He)))b[m]=a.data;l.system=this.nc.Wa();return JSON.stringify(l)};b.prototype.Hj=function(){var a,c,b,g,e,d;this.Pd={};a=0;for(c=this.k.length;a<c;a++)if(b=this.k[a],!b.H){g=0;for(e=b.c.length;g<e;g++)d=b.c[g],this.Pd[d.uid.toString()]=d}};b.prototype.rm=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){var c=
a.rt;this.dd.reset();this.dd.Ya=c.time;this.$d=c.timescale;this.Xe=c.tickcount;this.zd=c.execcount;this.Ue=Date.now()-c.start_time_offset;var b=c.running_layout;if(b!==this.$.F)if(b=this.Fi(b))this.si(b);else return;this.Ti=n;var g,e,d,m,l,k,f;k=a.types;for(e in k)if(k.hasOwnProperty(e)&&(m=this.xe(parseInt(e,10)))&&!m.H&&!this.ck(m)){k[e].ex?m.S=k[e].ex:Aa(m.S);l=m.c;d=k[e].instances;b=0;for(g=P(l.length,d.length);b<g;b++)this.Yg(l[b],d[b]);b=d.length;for(g=l.length;b<g;b++)this.Qc(l[b]);b=l.length;
for(g=d.length;b<g;b++){l=p;if(m.Aa.Dc&&(l=this.$.vf(d[b].w.l),!l))continue;l=this.zc(m.mb,l,q,0,0,n);this.Yg(l,d[b])}m.Mc=n}this.xa();this.Hj();g=a.layouts;for(e in g)g.hasOwnProperty(e)&&(b=this.Fi(parseInt(e,10)))&&b.rb(g[e]);g=a.events.groups;for(e in g)g.hasOwnProperty(e)&&(b=this.Dl(parseInt(e,10)))&&(this.ng[b.xf]=g[e]);b=a.events.cnds;for(e in b)b.hasOwnProperty(e)&&this.xd.hasOwnProperty(e)&&(this.xd[e].S=b[e].ex);b=a.events.acts;for(e in b)b.hasOwnProperty(e)&&this.vd.hasOwnProperty(e)&&
(this.vd[e].S=b[e].ex);b=a.events.vars;for(e in b)b.hasOwnProperty(e)&&this.be.hasOwnProperty(e)&&(this.be[e].data=b[e]);this.Ne=c.next_uid;this.Ti=q;this.nc.rb(a.system);b=0;for(g=this.k.length;b<g;b++)if(m=this.k[b],!m.H){e=0;for(a=m.c.length;e<a;e++){l=m.c[e];if(m.fb){k=l.ze();c=l.siblings.length=0;for(d=m.Ia.length;c<d;c++)f=m.Ia[c],m!==f&&l.siblings.push(f.c[k])}l.ef&&l.ef();if(l.B){c=0;for(d=l.B.length;c<d;c++)k=l.B[c],k.ef&&k.ef()}}}this.M=n}};b.prototype.Nj=function(a){var b,g,e,d,l;d=a.type;
e=d.Aa;var m={uid:a.uid};za(a.S)&&(m.ex=c(a.S));if(a.za&&a.za.length){m.ivs={};b=0;for(g=a.za.length;b<g;b++)m.ivs[a.type.Sg[b].toString()]=a.za[b]}if(e.Dc){e={x:a.x,y:a.y,w:a.width,h:a.height,l:a.j.F,zi:a.Ja()};0!==a.i&&(e.a=a.i);1!==a.opacity&&(e.o=a.opacity);0.5!==a.Ra&&(e.hX=a.Ra);0.5!==a.Sa&&(e.hY=a.Sa);0!==a.Ga&&(e.bm=a.Ga);a.visible||(e.v=a.visible);a.xc||(e.ce=a.xc);-1!==a.hd&&(e.mts=a.hd);if(d.z.length){e.fx=[];b=0;for(g=d.z.length;b<g;b++)l=d.z[b],e.fx.push({name:l.name,active:a.tc[l.index],
params:a.Z[l.index]})}m.w=e}if(a.B&&a.B.length){m.behs={};b=0;for(g=a.B.length;b<g;b++)d=a.B[b],d.Wa&&(m.behs[d.type.F.toString()]=d.Wa())}a.Wa&&(m.data=a.Wa());return m};b.prototype.Fl=function(a,c){var b,g;b=0;for(g=a.Sg.length;b<g;b++)if(a.Sg[b]===c)return b;return-1};b.prototype.zl=function(a,c){var b,g;b=0;for(g=a.B.length;b<g;b++)if(a.B[b].type.F===c)return b;return-1};b.prototype.Yg=function(a,c){var b,g,e,d,l,k;k=a.type;e=k.Aa;a.uid=c.uid;c.ex?a.S=c.ex:Aa(a.S);if(g=c.ivs)for(b in g)g.hasOwnProperty(b)&&
(d=this.Fl(k,parseInt(b,10)),0>d||d>=a.za.length||(a.za[d]=g[b]));if(e.Dc){d=c.w;a.j.F!==d.l&&(g=a.j,a.j=this.$.vf(d.l),a.j?(a.j.c.push(a),a.j.ab=n,S(g.c,a),g.ab=n):(a.j=g,this.Qc(a)));a.x=d.x;a.y=d.y;a.width=d.w;a.height=d.h;a.ud=d.zi;a.i=d.hasOwnProperty("a")?d.a:0;a.opacity=d.hasOwnProperty("o")?d.o:1;a.Ra=d.hasOwnProperty("hX")?d.hX:0.5;a.Sa=d.hasOwnProperty("hY")?d.hY:0.5;a.visible=d.hasOwnProperty("v")?d.v:n;a.xc=d.hasOwnProperty("ce")?d.ce:n;a.hd=d.hasOwnProperty("mts")?d.mts:-1;a.Ga=d.hasOwnProperty("bm")?
d.bm:0;a.me=Ga(a.Ga);this.n&&Ha(a,a.Ga,this.n);a.G();if(d.hasOwnProperty("fx")){g=0;for(e=d.fx.length;g<e;g++)l=k.Lg(d.fx[g].name),0>l||(a.tc[l]=d.fx[g].active,a.Z[l]=d.fx[g].params)}a.pc()}if(k=c.behs)for(b in k)k.hasOwnProperty(b)&&(d=this.zl(a,parseInt(b,10)),0>d||a.B[d].rb(k[b]));c.data&&a.rb(c.data)};Pa=function(a){return new b(document.getElementById(a))};Qa=function(a,c){return new b({dc:n,width:a,height:c})};window.cr_createRuntime=Pa;window.cr_createDCRuntime=Qa;window.createCocoonJSRuntime=
function(){window.c2cocoonjs=n;var a=document.createElement("screencanvas")||document.createElement("canvas");document.body.appendChild(a);a=new b(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});return a}})();window.cr_getC2Runtime=function(){var b=document.getElementById("c2canvas");return b?b.c2runtime:window.c2runtime?window.c2runtime:p};
window.cr_sizeCanvas=function(b,h){if(!(0===b||0===h)){var d=window.cr_getC2Runtime();d&&d.setSize(b,h)}};window.cr_setSuspended=function(b){var h=window.cr_getC2Runtime();h&&h.setSuspended(b)};
(function(){function b(a,c){this.b=a;this.mf=p;this.scrollX=this.b.Va/2;this.scrollY=this.b.Ua/2;this.scale=1;this.i=0;this.ue=n;this.name=c[0];this.width=c[1];this.height=c[2];this.dk=c[3];this.Rj=c[4];this.F=c[5];var b=c[6],e,d;this.I=[];this.Be=[];e=0;for(d=b.length;e<d;e++){var f=new Ra(this,b[e]);f.sj=e;this.I.push(f)}b=c[7];this.bd=[];e=0;for(d=b.length;e<d;e++){var f=b[e],g=this.b.k[f[1]];g.mb||(g.mb=f);this.bd.push(f);-1===this.Be.indexOf(g)&&this.Be.push(g)}this.z=[];this.L=[];this.Z=[];
e=0;for(d=c[8].length;e<d;e++)this.z.push({id:c[8][e][0],name:c[8][e][1],wa:-1,Yb:n,index:e}),this.Z.push(c[8][e][2].slice(0));this.pc();this.wh=new fa(0,0,1,1);this.xh=new fa(0,0,1,1);this.Fc={}}function h(a,c){this.O=a;this.b=a.b;this.c=[];this.scale=1;this.i=0;this.Tc=q;this.oc=new fa(0,0,0,0);this.Zj=new ga;this.yb=this.Bb=this.Ab=this.zb=0;this.ab=q;this.name=c[0];this.index=c[1];this.F=c[2];this.visible=c[3];this.vc=c[4];this.td=c[5];this.ld=c[6];this.md=c[7];this.opacity=c[8];this.Gg=c[9];
this.cf=c[10];this.Ga=c[11];this.Vk=c[12];this.me="source-over";this.ya=this.Ca=0;this.Gc=q;var b=c[13],e,d;this.Bd=[];e=0;for(d=b.length;e<d;e++){var f=b[e],g=this.b.k[f[1]];g.mb||(g.mb=f);this.Bd.push(f);-1===this.O.Be.indexOf(g)&&this.O.Be.push(g)}this.z=[];this.L=[];this.Z=[];e=0;for(d=c[14].length;e<d;e++)this.z.push({id:c[14][e][0],name:c[14][e][1],wa:-1,Yb:n,index:e}),this.Z.push(c[14][e][2].slice(0));this.pc();this.wh=new fa(0,0,1,1);this.xh=new fa(0,0,1,1)}function d(a,c){return a.ud-c.ud}
b.prototype.dn=function(a){var c=a.type.F.toString();this.Fc.hasOwnProperty(c)||(this.Fc[c]=[]);this.Fc[c].push(this.b.Nj(a))};b.prototype.Ii=function(){var a=this.I[0];return!a.td&&1===a.opacity&&!a.Gg&&a.visible};b.prototype.pc=function(){this.L.length=0;var a,c,b;a=0;for(c=this.z.length;a<c;a++)b=this.z[a],b.Yb&&this.L.push(b)};b.prototype.Kg=function(a){var c,b,e;c=0;for(b=this.z.length;c<b;c++)if(e=this.z[c],e.name===a)return e;return p};var f=[];b.prototype.Nh=function(){this.Rj&&(this.mf=this.b.Dg[this.Rj]);
this.b.$=this;this.scrollX=this.b.Va/2;this.scrollY=this.b.Ua/2;var a,c,b,e,k,h,g;a=0;for(b=this.b.k.length;a<b;a++)if(c=this.b.k[a],!c.H){k=c.c;c=0;for(e=k.length;c<e;c++)if(h=k[c],h.j){var t=h.j.sj;t>=this.I.length&&(t=this.I.length-1);h.j=this.I[t];h.j.c.push(h);h.j.ab=n}}a=f.length=0;for(b=this.I.length;a<b;a++)h=this.I[a],h.Hk(),h.Tc=n,c=h.Nb(0,0,n),e=h.Nb(0,0,q),h.Tc=q,this.b.Sd&&(c=c+0.5|0,e=e+0.5|0),h.Ch(c,e,p);k=q;if(!this.ue){for(g in this.Fc)if(this.Fc.hasOwnProperty(g)&&(c=this.b.xe(parseInt(g,
10)))&&!c.H&&this.b.Uh(c)){e=this.Fc[g];a=0;for(b=e.length;a<b;a++){h=p;if(c.Aa.Dc&&(h=this.vf(e[a].w.l),!h))continue;h=this.b.zc(c.mb,h,q,0,0,n);this.b.Yg(h,e[a]);k=n;f.push(h)}e.length=0}a=0;for(b=this.I.length;a<b;a++)this.I[a].c.sort(d),this.I[a].ab=n}k&&(this.b.xa(),this.b.Hj());for(a=0;a<f.length;a++)if(h=f[a],h.type.fb){b=h.ze();c=0;for(e=h.type.Ia.length;c<e;c++)g=h.type.Ia[c],h.type!==g&&(g.c.length>b?h.siblings.push(g.c[b]):g.mb&&(k=this.b.zc(g.mb,h.j,n,h.x,h.y,n),this.b.xa(),g.hg(),h.siblings.push(k),
f.push(k)))}a=0;for(b=this.bd.length;a<b;a++)this.b.zc(this.bd[a],p,n);this.b.ug=p;this.b.xa();if(this.b.N&&!this.b.qb){a=0;for(b=this.b.k.length;a<b;a++)g=this.b.k[a],!g.H&&(g.c.length&&g.Dj)&&g.Dj(this.b.N)}a=0;for(b=f.length;a<b;a++)h=f[a],this.b.trigger(Object.getPrototypeOf(h.type.Aa).C.jg,h);f.length=0;this.b.trigger(Z.prototype.C.Zh,p);this.ue=q};b.prototype.Gk=function(){var a,c,b,e,d;c=a=0;for(b=this.bd.length;a<b;a++)e=this.bd[a],d=this.b.k[e[1]],d.global?this.b.zc(e,p,n):(this.bd[c]=e,
c++);this.bd.length=c};b.prototype.on=function(){this.b.trigger(Z.prototype.C.rk,p);this.b.nc.ib.length=0;var a,c,b,e,d,f;a=0;for(c=this.I.length;a<c;a++){d=this.I[a].c;b=0;for(e=d.length;b<e;b++)f=d[b],f.type.global||(this.b.Uh(f.type)&&this.dn(f),this.b.Qc(f));this.b.xa();d.length=0;this.I[a].ab=n}a=0;for(c=this.b.k.length;a<c;a++)if(d=this.b.k[a],!d.global&&!d.Aa.Dc&&!d.Aa.Mh&&!d.H){b=0;for(e=d.c.length;b<e;b++)this.b.Qc(d.c[b]);this.b.xa()}};b.prototype.Vc=function(a){a.globalAlpha=1;a.globalCompositeOperation=
"source-over";this.b.li&&!this.Ii()&&a.clearRect(0,0,this.b.width,this.b.height);var c,b,e;c=0;for(b=this.I.length;c<b;c++)e=this.I[c],e.visible&&(0<e.opacity&&11!==e.Ga)&&e.Vc(a)};b.prototype.Qb=function(a){var c=0<this.L.length||this.b.ae;if(c){this.b.Fb||(this.b.Fb=a.yc(this.b.width,this.b.height,this.b.ia));if(this.b.Fb.ie!==this.b.width||this.b.Fb.he!==this.b.height)a.deleteTexture(this.b.Fb),this.b.Fb=a.yc(this.b.width,this.b.height,this.b.ia);a.mc(this.b.Fb)}this.b.li&&!this.Ii()&&a.clear(0,
0,0,0);var b,e;b=0;for(e=this.I.length;b<e;b++)this.I[b].visible&&0<this.I[b].opacity&&this.I[b].Qb(a);c&&(1>=this.L.length?(1===this.L.length?(c=this.L[0].index,a.Vb(this.L[0].wa),a.Vd(p,1/this.b.width,1/this.b.height,0,0,1,1,this.scale,this.Z[c]),a.Vf(this.L[0].wa)&&(this.b.M=n)):a.Vb(0),a.mc(p),a.Re(1),a.Jb(this.b.Fb),a.Oj(),a.Hc(),a.Oc(),c=this.b.width/2,b=this.b.height/2,a.Wf(-c,b,c,b,c,-b,-c,-b),a.Jb(p)):this.yh(a,p,p,p));a.Qm()};b.prototype.ye=function(){return 0<this.L.length||this.b.ae?this.b.Fb:
p};b.prototype.Gi=function(){var a=this.I[0].ob(),c,b,e;c=1;for(b=this.I.length;c<b;c++)e=this.I[c],0===e.ld&&0===e.md||e.ob()<a&&(a=e.ob());return a};b.prototype.hn=function(a){if(!this.dk){var c=this.b.width*(1/this.Gi())/2;a>this.width-c&&(a=this.width-c);a<c&&(a=c)}this.scrollX!==a&&(this.scrollX=a,this.b.M=n)};b.prototype.jn=function(a){if(!this.dk){var c=this.b.height*(1/this.Gi())/2;a>this.height-c&&(a=this.height-c);a<c&&(a=c)}this.scrollY!==a&&(this.scrollY=a,this.b.M=n)};b.prototype.yh=
function(a,c,b,e){var d=b?b.L:c?c.L:this.L,f=b?b.j.ob():c?c.ob():1,g=this.b.Ig,t,h,u,x,y=0,s=1,m,B=this.b.width,F=this.b.height,ca=B/2,ma=F/2,H=c?c.wh:this.wh,v=c?c.xh:this.xh,z=0,C=0,A=0,O=0,G=B,ja=B,D=F,ka=F,U=u=0,na=b?b.j.$c():0;if(b){t=0;for(h=d.length;t<h;t++)u+=a.Kl(d[t].wa),U+=a.Ll(d[t].wa);x=b.J;z=c.Da(x.left,x.top,n);A=c.Da(x.left,x.top,q);G=c.Da(x.right,x.bottom,n);D=c.Da(x.right,x.bottom,q);0!==na&&(t=c.Da(x.right,x.top,n),h=c.Da(x.right,x.top,q),C=c.Da(x.left,x.bottom,n),O=c.Da(x.left,
x.bottom,q),x=Math.min(z,G,t,C),G=Math.max(z,G,t,C),z=x,x=Math.min(A,D,h,O),D=Math.max(A,D,h,O),A=x);z-=u;A-=U;G+=u;D+=U;v.left=z/B;v.top=1-A/F;v.right=G/B;v.bottom=1-D/F;C=z=Math.floor(z);O=A=Math.floor(A);ja=G=Math.ceil(G);ka=D=Math.ceil(D);C-=u;O-=U;ja+=u;ka+=U;0>z&&(z=0);0>A&&(A=0);G>B&&(G=B);D>F&&(D=F);0>C&&(C=0);0>O&&(O=0);ja>B&&(ja=B);ka>F&&(ka=F);H.left=z/B;H.top=1-A/F;H.right=G/B;H.bottom=1-D/F}else H.left=v.left=0,H.top=v.top=0,H.right=v.right=1,H.bottom=v.bottom=1;U=b&&((b.i||na)&&a.Oe(d[0].wa)||
0!==u||0!==U||1!==b.opacity||b.type.Aa.pj)||c&&!b&&1!==c.opacity;a.Oj();if(U){g[y]||(g[y]=a.yc(B,F,this.b.ia));if(g[y].ie!==B||g[y].he!==F)a.deleteTexture(g[y]),g[y]=a.yc(B,F,this.b.ia);a.Vb(0);a.mc(g[y]);m=ka-O;a.clearRect(C,F-O-m,ja-C,m);b?b.Qb(a):(a.Jb(this.b.gb),a.Re(c.opacity),a.Hc(),a.translate(-ca,-ma),a.Oc(),a.od(z,D,G,D,G,A,z,A,H));v.left=v.top=0;v.right=v.bottom=1;b&&(x=H.top,H.top=H.bottom,H.bottom=x);y=1;s=0}a.Re(1);u=d.length-1;var na=a.qh(d[u].wa),oa=0;t=0;for(h=d.length;t<h;t++){g[y]||
(g[y]=a.yc(B,F,this.b.ia));if(g[y].ie!==B||g[y].he!==F)a.deleteTexture(g[y]),g[y]=a.yc(B,F,this.b.ia);a.Vb(d[t].wa);oa=d[t].index;a.Vf(d[t].wa)&&(this.b.M=n);0==t&&!U?(a.mc(g[y]),m=ka-O,x=F-O-m,a.clearRect(C,x,ja-C,m),b?(a.Vd(e,1/b.width,1/b.height,v.left,v.top,v.right,v.bottom,f,b.Z[oa]),b.Qb(a)):(a.Vd(e,1/B,1/F,0,0,1,1,f,c?c.Z[oa]:this.Z[oa]),a.Jb(c?this.b.gb:this.b.Fb),a.Hc(),a.translate(-ca,-ma),a.Oc(),a.od(z,D,G,D,G,A,z,A,H)),v.left=v.top=0,v.right=v.bottom=1,b&&!na&&(x=D,D=A,A=x)):(a.Vd(e,1/
B,1/F,v.left,v.top,v.right,v.bottom,f,b?b.Z[oa]:c?c.Z[oa]:this.Z[oa]),t===u&&!na?(b?a.Ic(b.Ca,b.ya):c&&a.Ic(c.Ca,c.ya),a.mc(e)):(a.mc(g[y]),m=ka-O,x=F-O-m,a.clearRect(C,x,ja-C,m)),a.Jb(g[s]),a.Hc(),a.translate(-ca,-ma),a.Oc(),a.od(z,D,G,D,G,A,z,A,H),t===u&&!na&&a.Jb(p));y=0===y?1:0;s=0===y?1:0}na&&(a.Vb(0),b?a.Ic(b.Ca,b.ya):c&&a.Ic(c.Ca,c.ya),a.mc(e),a.Jb(g[s]),a.Hc(),a.translate(-ca,-ma),a.Oc(),b&&1===d.length&&!U?a.od(z,A,G,A,G,D,z,D,H):a.od(z,D,G,D,G,A,z,A,H),a.Jb(p))};b.prototype.vf=function(a){var c,
b;c=0;for(b=this.I.length;c<b;c++)if(this.I[c].F===a)return this.I[c];return p};b.prototype.Wa=function(){var a,c,b,e={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.i,w:this.width,h:this.height,fv:this.ue,persist:this.Fc,fx:[],layers:{}};a=0;for(c=this.z.length;a<c;a++)b=this.z[a],e.fx.push({name:b.name,active:b.Yb,params:this.Z[b.index]});a=0;for(c=this.I.length;a<c;a++)b=this.I[a],e.layers[b.F.toString()]=b.Wa();return e};b.prototype.rb=function(a){var c,b,e,d;this.scrollX=a.sx;this.scrollY=
a.sy;this.scale=a.s;this.i=a.a;this.width=a.w;this.height=a.h;this.Fc=a.persist;"undefined"!==typeof a.fv&&(this.ue=a.fv);var f=a.fx;c=0;for(b=f.length;c<b;c++)if(e=this.Kg(f[c].name))e.Yb=f[c].active,this.Z[e.index]=f[c].params;this.pc();c=a.layers;for(d in c)c.hasOwnProperty(d)&&(a=this.vf(parseInt(d,10)))&&a.rb(c[d])};La=b;h.prototype.pc=function(){this.L.length=0;var a,c,b;a=0;for(c=this.z.length;a<c;a++)b=this.z[a],b.Yb&&this.L.push(b)};h.prototype.Kg=function(a){var c,b,d;c=0;for(b=this.z.length;c<
b;c++)if(d=this.z[c],d.name===a)return d;return p};h.prototype.Hk=function(){var a,c,b,d,k,h;c=a=0;for(b=this.Bd.length;a<b;a++){d=this.Bd[a];k=this.b.k[d[1]];h=this.b.Uh(k);k=n;if(!h||this.O.ue)d=this.b.zc(d,this,n),f.push(d),d.type.global&&(k=q);k&&(this.Bd[c]=this.Bd[a],c++)}this.Bd.length=c;this.b.xa();!this.b.D&&this.z.length&&(this.Ga=this.Vk);this.me=Ga(this.Ga);this.b.n&&Ha(this,this.Ga,this.b.n)};h.prototype.rn=function(){if(this.ab){var a,c;a=0;for(c=this.c.length;a<c;a++)this.c[a].ud=a;
this.ab=q}};h.prototype.ob=function(){return this.Il()*this.b.gf};h.prototype.Il=function(){return(this.scale*this.O.scale-1)*this.cf+1};h.prototype.$c=function(){return this.Tc?0:V(this.O.i+this.i)};h.prototype.Vc=function(a){this.Gc=this.Gg||1!==this.opacity||0!==this.Ga;var c=this.b.canvas,b=a;a.globalAlpha=1;a.globalCompositeOperation="source-over";this.Gc&&(this.b.Lf||(this.b.Lf=document.createElement("canvas"),c=this.b.Lf,c.width=this.b.width,c.height=this.b.height,this.b.gj=c.getContext("2d")),
c=this.b.Lf,b=this.b.gj,c.width!==this.b.width&&(c.width=this.b.width),c.height!==this.b.height&&(c.height=this.b.height),this.td&&b.clearRect(0,0,this.b.width,this.b.height));this.td||(b.fillStyle="rgb("+this.vc[0]+","+this.vc[1]+","+this.vc[2]+")",b.fillRect(0,0,this.b.width,this.b.height));b.save();this.Tc=n;var d=this.Nb(0,0,n),f=this.Nb(0,0,q);this.Tc=q;this.b.Sd&&(d=d+0.5|0,f=f+0.5|0);this.Ch(d,f,b);var h=this.ob();b.scale(h,h);b.translate(-d,-f);for(var g,d=0,f=this.c.length;d<f;d++)if(h=this.c[d],
h.visible&&!(0===h.width||0===h.height))h.Lb(),g=h.J,g.right<this.zb||(g.bottom<this.Bb||g.left>this.Ab||g.top>this.yb)||(b.globalCompositeOperation=h.me,h.Vc(b));b.restore();this.Gc&&(a.globalCompositeOperation=this.me,a.globalAlpha=this.opacity,a.drawImage(c,0,0))};h.prototype.Ch=function(a,c,b){var d=this.ob();this.zb=a;this.Bb=c;this.Ab=a+this.b.width*(1/d);this.yb=c+this.b.height*(1/d);a=this.$c();0!==a&&(b&&(b.translate(this.b.width/2,this.b.height/2),b.rotate(-a),b.translate(this.b.width/-2,
this.b.height/-2)),this.oc.set(this.zb,this.Bb,this.Ab,this.yb),this.oc.offset((this.zb+this.Ab)/-2,(this.Bb+this.yb)/-2),this.Zj.Qj(this.oc,a),this.Zj.hi(this.oc),this.oc.offset((this.zb+this.Ab)/2,(this.Bb+this.yb)/2),this.zb=this.oc.left,this.Bb=this.oc.top,this.Ab=this.oc.right,this.yb=this.oc.bottom)};h.prototype.Qb=function(a){var c=this.b.width,b=this.b.height,d=0,f=0;if(this.Gc=this.Gg||1!==this.opacity||0<this.L.length||0!==this.Ga){this.b.gb||(this.b.gb=a.yc(this.b.width,this.b.height,this.b.ia));
if(this.b.gb.ie!==this.b.width||this.b.gb.he!==this.b.height)a.deleteTexture(this.b.gb),this.b.gb=a.yc(this.b.width,this.b.height,this.b.ia);a.mc(this.b.gb);this.td&&a.clear(0,0,0,0)}this.td||a.clear(this.vc[0]/255,this.vc[1]/255,this.vc[2]/255,1);this.Tc=n;var f=this.Nb(0,0,n),h=this.Nb(0,0,q);this.Tc=q;this.b.Sd&&(f=f+0.5|0,h=h+0.5|0);this.Ch(f,h,p);h=this.ob();a.Hc();a.scale(h,h);a.Kj(-this.$c());a.translate((this.zb+this.Ab)/-2,(this.Bb+this.yb)/-2);a.Oc();var g,t,w;g=0;for(t=this.c.length;g<
t;g++)if(w=this.c[g],w.visible&&!(0===w.width||0===w.height))if(w.Lb(),d=w.J,!(d.right<this.zb||d.bottom<this.Bb||d.left>this.Ab||d.top>this.yb))if(w.gk)if(d=w.L[0].wa,f=w.L[0].index,1===w.L.length&&!a.qh(d)&&!a.Rm(d)&&(!w.i&&!w.j.$c()||!a.Oe(d))&&1===w.opacity&&!w.type.Aa.pj){a.Vb(d);a.Ic(w.Ca,w.ya);a.Vf(d)&&(this.b.M=n);var u=0,x=0,y=0,s=0;a.Oe(d)&&(d=w.J,u=this.Da(d.left,d.top,n),x=this.Da(d.left,d.top,q),y=this.Da(d.right,d.bottom,n),d=this.Da(d.right,d.bottom,q),u/=c,x=1-x/b,y/=c,s=1-d/b);a.Vd(this.Gc?
this.b.gb:this.O.ye(),1/w.width,1/w.height,u,x,y,s,this.ob(),w.Z[f]);w.Qb(a)}else this.O.yh(a,this,w,this.Gc?this.b.gb:this.O.ye()),a.Hc(),a.scale(h,h),a.Kj(-this.$c()),a.translate((this.zb+this.Ab)/-2,(this.Bb+this.yb)/-2),a.Oc();else a.Vb(0),a.Ic(w.Ca,w.ya),w.Qb(a);this.Gc&&(d=this.L.length?this.L[0].wa:0,f=this.L.length?this.L[0].index:0,0===this.L.length||1===this.L.length&&!a.qh(d)&&1===this.opacity?(1===this.L.length?(a.Vb(d),a.Vd(this.O.ye(),1/this.b.width,1/this.b.height,0,0,1,1,this.ob(),
this.Z[f]),a.Vf(d)&&(this.b.M=n)):a.Vb(0),a.mc(this.O.ye()),a.Re(this.opacity),a.Jb(this.b.gb),a.Ic(this.Ca,this.ya),a.Hc(),a.Oc(),c=this.b.width/2,b=this.b.height/2,a.Wf(-c,b,c,b,c,-b,-c,-b),a.Jb(p)):this.O.yh(a,this,p,this.O.ye()))};h.prototype.Nb=function(a,c,b){var d=this.b.devicePixelRatio;this.b.Ee&&0<this.b.nb&&(a*=d,c*=d);var d=this.b.Va/2,f=this.b.Ua/2,d=(this.O.scrollX-d)*this.ld+d,f=(this.O.scrollY-f)*this.md+f,h=1/this.ob(),d=d-this.b.width*h/2,f=f-this.b.height*h/2,d=d+a*h,f=f+c*h;c=
this.$c();0!==c&&(d-=this.O.scrollX,f-=this.O.scrollY,a=Math.cos(c),c=Math.sin(c),h=d*a-f*c,f=f*a+d*c,d=h+this.O.scrollX,f+=this.O.scrollY);return b?d:f};h.prototype.Da=function(a,c,b){var d=this.$c();if(0!==d){a-=this.O.scrollX;c-=this.O.scrollY;var f=Math.cos(-d),d=Math.sin(-d),h=a*f-c*d;c=c*f+a*d;a=h+this.O.scrollX;c+=this.O.scrollY}f=this.b.Va/2;d=this.b.Ua/2;f=(this.O.scrollX-f)*this.ld+f;d=(this.O.scrollY-d)*this.md+d;h=1/this.ob();f-=this.b.width*h/2;d-=this.b.height*h/2;f=(a-f)/h;d=(c-d)/
h;a=this.b.devicePixelRatio;this.b.Ee&&0<this.b.nb&&(f/=a,d/=a);return b?f:d};h.prototype.Wa=function(){var a,c,b,d={s:this.scale,a:this.i,vl:this.zb,vt:this.Bb,vr:this.Ab,vb:this.yb,v:this.visible,bc:this.vc,t:this.td,px:this.ld,py:this.md,o:this.opacity,zr:this.cf,fx:[],instances:[]};a=0;for(c=this.z.length;a<c;a++)b=this.z[a],d.fx.push({name:b.name,active:b.Yb,params:this.Z[b.index]});return d};h.prototype.rb=function(a){var c,b;this.scale=a.s;this.i=a.a;this.zb=a.vl;this.Bb=a.vt;this.Ab=a.vr;
this.yb=a.vb;this.visible=a.v;this.vc=a.bc;this.td=a.t;this.ld=a.px;this.md=a.py;this.opacity=a.o;this.cf=a.zr;var e=a.fx;a=0;for(c=e.length;a<c;a++)if(b=this.Kg(e[a].name))b.Yb=e[a].active,this.Z[b.index]=e[a].params;this.pc();this.c.sort(d);this.ab=n};Ra=h})();
(function(){function b(a,c){var b,d=a.length;switch(d){case 0:return n;case 1:return a[0]===c[0];case 2:return a[0]===c[0]&&a[1]===c[1];default:for(b=0;b<d;b++)if(a[b]!==c[b])return q;return n}}function h(a,c){return a.index-c.index}function d(a){var c,d,g,e;2===a.length?a[0].index>a[1].index&&(c=a[0],a[0]=a[1],a[1]=c):2<a.length&&a.sort(h);a.length>=u.length&&(u.length=a.length+1);u[a.length]||(u[a.length]=[]);e=u[a.length];c=0;for(d=e.length;c<d;c++)if(g=e[c],b(a,g))return g;e.push(a);return a}
function f(a,c){this.b=a;this.ak={};this.xi={};this.Og=q;this.Li=new Ca;this.name=c[0];var b=c[1];this.Bc=[];var d,g;d=0;for(g=b.length;d<g;d++)this.Ni(b[d],p,this.Bc)}function a(a){this.type=a;this.c=[];this.R=[];this.ca=n}function c(a,c,b){this.sheet=a;this.parent=c;this.b=a.b;this.da=[];this.Jc=[];this.Ji=this.eg=this.Rh=this.Rg=this.group=this.Tj=q;this.ea=[];this.jb=[];this.xb=[];b[1]?(this.xf=b[1][1].toLowerCase(),this.group=n,this.Rg=!!b[1][0],this.b.wd.push(this),this.b.ng[this.xf.toLowerCase()]=
this.Rg):(this.xf="",this.Rg=this.group=q);this.Ub=b[2];this.F=b[3];this.group||(this.b.gi[this.F.toString()]=this);var d=b[4];a=0;for(c=d.length;a<c;a++){var g=new Sa(this,d[a]);this.ea.push(g);this.ci(g.type)}d=b[5];a=0;for(c=d.length;a<c;a++)g=new Ta(this,d[a]),this.jb.push(g);if(7===b.length){b=b[6];a=0;for(c=b.length;a<c;a++)this.sheet.Ni(b[a],this,this.xb)}this.Cf=q;this.ea.length&&(this.Cf=this.ea[0].type==p&&this.ea[0].ga==Z.prototype.C.ik)}function l(a,c){var b,d,g;if(a&&(-1===c.indexOf(a)&&
c.push(a),a.fb)){b=0;for(d=a.Ia.length;b<d;b++)g=a.Ia[b],a!==g&&-1===c.indexOf(g)&&c.push(g)}}function e(a,c){this.kb=a;this.sheet=a.sheet;this.b=a.b;this.p=[];this.A=[];this.S={};this.ga=c[1];this.trigger=0<c[3];this.wi=2===c[3];this.To=c[4];this.Ce=c[5];this.qm=c[6];this.F=c[7];this.b.xd[this.F.toString()]=this;-1===c[0]?(this.type=p,this.la=this.Fh,this.ge=p,this.ua=-1):(this.type=this.b.k[c[0]],this.la=this.qm?this.bn:this.Eh,c[2]?(this.ge=this.type.tf(c[2]),this.ua=this.type.Jg(c[2])):(this.ge=
p,this.ua=-1),this.kb.parent&&this.kb.parent.Yf());this.wi&&(this.la=this.cn);if(9===c.length){var b,d,g=c[8];b=0;for(d=g.length;b<d;b++){var e=new Ua(this,g[b]);this.p.push(e)}this.A.length=g.length}}function k(a,c){this.kb=a;this.sheet=a.sheet;this.b=a.b;this.p=[];this.A=[];this.S={};this.ga=c[1];-1===c[0]?(this.type=p,this.la=this.Fh,this.ge=p,this.ua=-1):(this.type=this.b.k[c[0]],this.la=this.Eh,c[2]?(this.ge=this.type.tf(c[2]),this.ua=this.type.Jg(c[2])):(this.ge=p,this.ua=-1));this.F=c[3];this.b.vd[this.F.toString()]=
this;if(5===c.length){var b,d,g=c[4];b=0;for(d=g.length;b<d;b++){var e=new Ua(this,g[b]);this.p.push(e)}this.A.length=g.length}}function r(a,c){this.q=a;this.kb=a.kb;this.sheet=a.sheet;this.b=a.b;this.type=c[0];this.Rb=p;this.mi=this.Kc=0;this.O=p;this.key=0;this.object=p;this.index=0;this.ig=this.Xd=this.yi=this.Yc=this.Ze=p;var b,d,g;switch(c[0]){case 0:case 7:this.Rb=new W(this,c[1]);this.Kc=0;this.get=this.Tl;break;case 1:this.Rb=new W(this,c[1]);this.Kc=0;this.get=this.Ul;break;case 5:this.Rb=
new W(this,c[1]);this.Kc=0;this.get=this.Yl;break;case 3:case 8:this.mi=c[1];this.get=this.Rl;break;case 6:this.O=this.b.Xg[c[1]];this.get=this.Zl;break;case 9:this.key=c[1];this.get=this.Xl;break;case 4:this.object=this.b.k[c[1]];this.get=this.$l;this.kb.ci(this.object);this.q instanceof Ta?this.kb.Yf():this.kb.parent&&this.kb.parent.Yf();break;case 10:this.index=c[1];this.get=a.type.H?this.Vl:this.Wl;break;case 11:this.Ze=c[1];this.Yc=p;this.get=this.Sl;break;case 2:case 12:this.yi=c[1];this.get=
this.Ql;break;case 13:this.get=this.am;this.Xd=[];this.ig=[];b=1;for(d=c.length;b<d;b++)g=new Ua(this.q,c[b]),this.Xd.push(g),this.ig.push(0)}}function g(a,c,b){this.sheet=a;this.parent=c;this.b=a.b;this.da=[];this.name=b[1];this.$o=b[2];this.Qg=b[3];this.He=!!b[4];this.Bf=!!b[5];this.F=b[6];this.b.be[this.F.toString()]=this;this.data=this.Qg;this.parent?this.ed=this.He||this.Bf?-1:this.b.nn++:(this.ed=-1,this.b.yk.push(this))}function t(a,c,b){this.sheet=a;this.parent=c;this.b=a.b;this.da=[];this.yf=
p;this.fm=b[1]}function w(){this.Uj=[];this.reset(p)}var u=[];f.prototype.toString=I("name");f.prototype.Ni=function(a,c,b){switch(a[0]){case 0:a=new Va(this,c,a);if(a.Ub){b.push(a);b=0;for(c=a.ea.length;b<c;b++)a.ea[b].trigger&&this.Oi(a,b)}else a.Wi()?this.Oi(a,0):b.push(a);break;case 1:a=new Oa(this,c,a);b.push(a);break;case 2:a=new Wa(this,c,a),b.push(a)}};f.prototype.ba=function(){var a,c;a=0;for(c=this.Bc.length;a<c;a++)this.Bc[a].ba(a<c-1&&this.Bc[a+1].Cf)};f.prototype.la=function(){this.Og=
n;this.b.Vg=n;var a,c;a=0;for(c=this.Bc.length;a<c;a++){var b=this.Bc[a];b.la();this.b.vg(b.da);(!this.b.Pb.De()||this.b.Ob.length)&&this.b.xa()}this.b.Vg=q};f.prototype.Oi=function(a,c){a.Ub||this.b.gg.push(a);var b,d,g=a.ea[c],e;e=g.type?g.type.name:"system";var f=(b=g.wi)?this.xi:this.ak;f[e]||(f[e]=[]);e=f[e];f=g.ga;if(b){if(g.p.length&&(g=g.p[0],!(1!==g.type||2!==g.Rb.type))){g=g.Rb.value.toLowerCase();b=0;for(d=e.length;b<d;b++)if(e[b].method==f){b=e[b].of;b[g]?b[g].push([a,c]):b[g]=[[a,c]];
return}b={};b[g]=[[a,c]];e.push({method:f,of:b})}}else{b=0;for(d=e.length;b<d;b++)if(e[b].method==f){e[b].of.push([a,c]);return}e.push({method:f,of:[[a,c]]})}};Ma=f;a.prototype.Hi=function(){return this.ca?this.type.c.length:this.c.length};a.prototype.gc=function(){return this.ca?this.type.c:this.c};a.prototype.Tf=function(a){a&&(a.b.Pa().lb.Ub?(this.ca&&(this.c.length=0,la(this.R,a.type.c),this.ca=q),a=this.R.indexOf(a),-1!==a&&(this.c.push(this.R[a]),this.R.splice(a,1))):(this.ca=q,this.c.length=
1,this.c[0]=a))};Ka=a;c.prototype.ba=function(a){var c,b=this.parent;if(this.group)for(this.eg=n;b;){if(!b.group){this.eg=q;break}b=b.parent}this.Rh=!this.Wi()&&(!this.parent||this.parent.group&&this.parent.eg);this.Ji=!!a;this.Jc=this.da.slice(0);for(b=this.parent;b;){a=0;for(c=b.da.length;a<c;a++)this.wk(b.da[a]);b=b.parent}this.da=d(this.da);this.Jc=d(this.Jc);a=0;for(c=this.ea.length;a<c;a++)this.ea[a].ba();a=0;for(c=this.jb.length;a<c;a++)this.jb[a].ba();a=0;for(c=this.xb.length;a<c;a++)this.xb[a].ba(a<
c-1&&this.xb[a+1].Cf)};c.prototype.ci=function(a){l(a,this.da)};c.prototype.wk=function(a){l(a,this.Jc)};c.prototype.Yf=function(){this.Tj=n;this.parent&&this.parent.Yf()};c.prototype.Wi=function(){return this.ea.length?this.ea[0].trigger:q};c.prototype.la=function(){var a,c=q,b=this.b.Pa();b.lb=this;this.Cf||(b.Bg=q);if(this.Ub){0===this.ea.length&&(c=n);b.Ha=0;for(a=this.ea.length;b.Ha<a;b.Ha++)this.ea[b.Ha].trigger||this.ea[b.Ha].la()&&(c=n);(b.Hd=c)&&this.Dh()}else{b.Ha=0;for(a=this.ea.length;b.Ha<
a;b.Ha++)if(!this.ea[b.Ha].la()){b.Hd=q;this.Rh&&(!this.b.Pb.De()||this.b.Ob.length)&&this.b.xa();return}b.Hd=n;this.Dh()}b.Hd&&this.Ji&&(b.Bg=n);this.Rh&&(!this.b.Pb.De()||this.b.Ob.length)&&this.b.xa()};c.prototype.$m=function(a){this.b.Pa().lb=this;this.ea[a].la()&&this.Dh()};c.prototype.Dh=function(){var a=this.b.Pa(),c;a.bb=0;for(c=this.jb.length;a.bb<c;a.bb++)if(this.jb[a.bb].la())return;this.Lj()};c.prototype.Ym=function(){var a=this.b.Pa(),c;for(c=this.jb.length;a.bb<c;a.bb++)if(this.jb[a.bb].la())return;
this.Lj()};c.prototype.Lj=function(){if(this.xb.length){var a,c,b,d,g=this.xb.length-1;this.b.th(this);if(this.Tj){a=0;for(c=this.xb.length;a<c;a++)b=this.xb[a],(d=!this.eg||!this.group&&a<g)&&this.b.sh(b.da),b.la(),d?this.b.Td(b.da):this.b.vg(b.da)}else{a=0;for(c=this.xb.length;a<c;a++)this.xb[a].la()}this.b.Bj()}};c.prototype.an=function(){var a=this.b.Pa();a.lb=this;var c=q,b;a.Ha=0;for(b=this.ea.length;a.Ha<b;a.Ha++)if(this.ea[a.Ha].la())c=n;else if(!this.Ub)return q;return this.Ub?c:n};Va=c;
e.prototype.ba=function(){var a,c;a=0;for(c=this.p.length;a<c;a++)this.p[a].ba()};e.prototype.cn=J(n);e.prototype.Fh=function(){var a,c;a=0;for(c=this.p.length;a<c;a++)this.A[a]=this.p[a].get();return ya(this.ga.apply(this.b.nc,this.A),this.Ce)};e.prototype.bn=function(){var a,c;a=0;for(c=this.p.length;a<c;a++)this.A[a]=this.p[a].get();a=this.ga.apply(this.type,this.A);this.type.ff();return a};e.prototype.Eh=function(){var a,c,b,d,g,e,f,h=this.type.W(),l=this.kb.Ub&&!this.trigger,k=0,t=this.type.fb;
if(h.ca){h.c.length=0;a=h.R.length=0;for(b=this.type.c.length;a<b;a++){e=this.type.c[a];c=0;for(d=this.p.length;c<d;c++)this.A[c]=this.p[c].get(a);-1<this.ua?(this.type.H&&(k=e.type.Ad[this.type.Sb]),c=this.ga.apply(e.B[this.ua+k],this.A)):c=this.ga.apply(e,this.A);(g=ya(c,this.Ce))?h.c.push(e):l&&h.R.push(e)}this.type.finish&&this.type.finish(n);h.ca=q;this.type.ff();return h.Hi()}var w=0,u=l?h.R:h.c;g=q;a=0;for(b=u.length;a<b;a++){e=u[a];c=0;for(d=this.p.length;c<d;c++)this.A[c]=this.p[c].get(a);
-1<this.ua?(this.type.H&&(k=e.type.Ad[this.type.Sb]),c=this.ga.apply(e.B[this.ua+k],this.A)):c=this.ga.apply(e,this.A);if(ya(c,this.Ce))if(g=n,l){if(h.c.push(e),t){c=0;for(d=e.siblings.length;c<d;c++)f=e.siblings[c],f.type.W().c.push(f)}}else{u[w]=e;if(t){c=0;for(d=e.siblings.length;c<d;c++)f=e.siblings[c],f.type.W().c[w]=f}w++}else if(l){u[w]=e;if(t){c=0;for(d=e.siblings.length;c<d;c++)f=e.siblings[c],f.type.W().R[w]=f}w++}}u.length=w;if(t){a=0;for(b=this.type.Ia.length;a<b;a++)e=this.type.Ia[a].W(),
l?e.R.length=w:e.c.length=w}k=g;if(l&&!g){a=0;for(b=h.c.length;a<b;a++){e=h.c[a];c=0;for(d=this.p.length;c<d;c++)this.A[c]=this.p[c].get(a);c=-1<this.ua?this.ga.apply(e.B[this.ua],this.A):this.ga.apply(e,this.A);if(ya(c,this.Ce)){g=n;break}}}this.type.finish&&this.type.finish(k||l);return l?g:h.Hi()};Sa=e;k.prototype.ba=function(){var a,c;a=0;for(c=this.p.length;a<c;a++)this.p[a].ba()};k.prototype.Fh=function(){var a,c;a=0;for(c=this.p.length;a<c;a++)this.A[a]=this.p[a].get();return this.ga.apply(this.b.nc,
this.A)};k.prototype.Eh=function(){var a=this.type.W().gc(),c,b,d,g,e;c=0;for(d=a.length;c<d;c++){e=a[c];b=0;for(g=this.p.length;b<g;b++)this.A[b]=this.p[b].get(c);-1<this.ua?(b=0,this.type.H&&(b=e.type.Ad[this.type.Sb]),this.ga.apply(e.B[this.ua+b],this.A)):this.ga.apply(e,this.A)}return q};Ta=k;var x=[],y=-1;r.prototype.ba=function(){var a,c;if(11===this.type)this.Yc=this.b.Ei(this.Ze,this.kb.parent);else if(13===this.type){a=0;for(c=this.Xd.length;a<c;a++)this.Xd[a].ba()}this.Rb&&this.Rb.ba()};
r.prototype.ka=function(){y++;x.length===y&&x.push(new Xa);return x[y]};r.prototype.ha=function(){y--};r.prototype.Tl=function(a){this.Kc=a||0;a=this.ka();this.Rb.get(a);this.ha();return a.data};r.prototype.Ul=function(a){this.Kc=a||0;a=this.ka();this.Rb.get(a);this.ha();return L(a.data)?a.data:""};r.prototype.$l=I("object");r.prototype.Rl=I("mi");r.prototype.Yl=function(a){this.Kc=a||0;a=this.ka();this.Rb.get(a);this.ha();return a.oa()?this.b.Hl(a.data):this.b.Gl(a.data)};r.prototype.Zl=I("O");r.prototype.Xl=
I("key");r.prototype.Wl=I("index");r.prototype.Vl=function(a){var c=this.q.type,b=p,b=c.W(),d=b.gc(),b=d.length?d[a%d.length].type:b.R[a%b.R.length].type;return this.index+b.qf[c.Sb]};r.prototype.Sl=I("Yc");r.prototype.Ql=I("yi");r.prototype.am=function(){var a,c;a=0;for(c=this.Xd.length;a<c;a++)this.ig[a]=this.Xd[a].get();return this.ig};Ua=r;g.prototype.ba=function(){this.da=d(this.da)};g.prototype.kn=function(a){var c=this.b.Di();!this.parent||this.He||!c?this.data=a:(this.ed>=c.length&&(c.length=
this.ed+1),c[this.ed]=a)};g.prototype.Pl=function(){var a=this.b.Di();return!this.parent||this.He||!a||this.Bf?this.data:this.ed>=a.length||"undefined"===typeof a[this.ed]?this.Qg:a[this.ed]};g.prototype.la=function(){this.parent&&(!this.He&&!this.Bf)&&this.kn(this.Qg)};Oa=g;t.prototype.ba=function(){this.yf=this.b.Dg[this.fm];this.sheet.Li.add(this.yf);this.da=d(this.da)};t.prototype.la=function(){this.parent&&this.b.Pe(this.b.k);this.yf.Og||this.yf.la();this.parent&&this.b.Td(this.b.k)};Wa=t;w.prototype.reset=
function(a){this.lb=a;this.bb=this.Ha=0;this.Uj.length=0;this.Bg=this.Hd=q};Na=w})();
(function(){function b(b,f){this.q=b;this.b=b.b;this.type=f[0];this.get=[this.gl,this.cl,this.ol,this.rl,this.Xk,this.pl,this.kl,this.$k,this.jl,this.nl,this.Yk,this.ml,this.al,this.ll,this.hl,this.il,this.dl,this.el,this.Zk,this.ql,this.ti,this.fl,this.ti,this.bl][this.type];var a=p;this.Ta=this.p=this.A=this.ga=this.dg=this.qa=this.first=this.value=p;this.ua=-1;this.hc=p;this.Wh=-1;this.Yc=this.Ze=this.zk=p;this.Qe=q;switch(this.type){case 0:case 1:case 2:this.value=f[1];break;case 3:this.first=
new W(b,f[1]);break;case 18:this.first=new W(b,f[1]);this.qa=new W(b,f[2]);this.dg=new W(b,f[3]);break;case 19:this.ga=f[1];this.A=[];this.p=[];3===f.length?(a=f[2],this.A.length=a.length+1):this.A.length=1;break;case 20:this.Ta=this.b.k[f[1]];this.ua=-1;this.ga=f[2];this.Qe=f[3];this.hc=f[4]?new W(b,f[4]):p;this.A=[];this.p=[];6===f.length?(a=f[5],this.A.length=a.length+1):this.A.length=1;break;case 21:this.Ta=this.b.k[f[1]];this.Qe=f[2];this.hc=f[3]?new W(b,f[3]):p;this.Wh=f[4];break;case 22:this.Ta=
this.b.k[f[1]];this.zk=this.Ta.tf(f[2]);this.ua=this.Ta.Jg(f[2]);this.ga=f[3];this.Qe=f[4];this.hc=f[5]?new W(b,f[5]):p;this.A=[];this.p=[];7===f.length?(a=f[6],this.A.length=a.length+1):this.A.length=1;break;case 23:this.Ze=f[1],this.Yc=p}4<=this.type&&17>=this.type&&(this.first=new W(b,f[1]),this.qa=new W(b,f[2]));if(a){var c,h;c=0;for(h=a.length;c<h;c++)this.p.push(new W(b,a[c]))}}function h(b,f){this.type=b||X.ee;this.data=f||0;this.Od=p;this.type==X.ee&&(this.data=Math.floor(this.data))}b.prototype.ba=
function(){23===this.type&&(this.Yc=this.q.b.Ei(this.Ze,this.q.kb.parent));this.first&&this.first.ba();this.qa&&this.qa.ba();this.dg&&this.dg.ba();this.hc&&this.hc.ba();if(this.p){var b,f;b=0;for(f=this.p.length;b<f;b++)this.p[b].ba()}};b.prototype.ql=function(b){this.A[0]=b;b=this.q.ka();var f,a;f=0;for(a=this.p.length;f<a;f++)this.p[f].get(b),this.A[f+1]=b.data;this.q.ha();this.ga.apply(this.b.nc,this.A)};b.prototype.ti=function(b){var f=this.Ta.W(),a=f.gc();if(!a.length)if(f.R.length)a=f.R;else{this.Qe?
b.Kb(""):b.V(0);return}this.A[0]=b;b.Od=this.Ta;b=this.q.ka();var c,f=0;for(c=this.p.length;f<c;f++)this.p[f].get(b),this.A[f+1]=b.data;f=this.q.Kc;this.hc&&(this.hc.get(b),b.oa()&&(f=b.data,a=this.Ta.c));this.q.ha();f%=a.length;0>f&&(f+=a.length);a=a[f];-1<this.ua?(b=0,this.Ta.H&&(b=a.type.Ad[this.Ta.Sb]),this.ga.apply(a.B[this.ua+b],this.A)):this.ga.apply(a,this.A)};b.prototype.fl=function(b){var f=this.Ta.W(),a=f.gc();if(!a.length)if(f.R.length)a=f.R;else{this.Qe?b.Kb(""):b.V(0);return}f=this.q.Kc;
if(this.hc){var c=this.q.ka();this.hc.get(c);if(c.oa()){f=c.data;a=this.Ta.c;f%=a.length;0>f&&(f+=a.length);a=a[f].za[this.Wh];L(a)?b.Kb(a):b.K(a);this.q.ha();return}this.q.ha()}f%=a.length;0>f&&(f+=a.length);a=a[f];f=0;this.Ta.H&&(f=a.type.qf[this.Ta.Sb]);a=a.za[this.Wh+f];L(a)?b.Kb(a):b.K(a)};b.prototype.gl=function(b){b.type=X.ee;b.data=this.value};b.prototype.cl=function(b){b.type=X.de;b.data=this.value};b.prototype.ol=function(b){b.type=X.mg;b.data=this.value};b.prototype.rl=function(b){this.first.get(b);
b.oa()&&(b.data=-b.data)};b.prototype.Xk=function(b){this.first.get(b);var f=this.q.ka();this.qa.get(f);b.oa()&&f.oa()&&(b.data+=f.data,f.Dd()&&b.Nd());this.q.ha()};b.prototype.pl=function(b){this.first.get(b);var f=this.q.ka();this.qa.get(f);b.oa()&&f.oa()&&(b.data-=f.data,f.Dd()&&b.Nd());this.q.ha()};b.prototype.kl=function(b){this.first.get(b);var f=this.q.ka();this.qa.get(f);b.oa()&&f.oa()&&(b.data*=f.data,f.Dd()&&b.Nd());this.q.ha()};b.prototype.$k=function(b){this.first.get(b);var f=this.q.ka();
this.qa.get(f);b.oa()&&f.oa()&&(b.data/=f.data,b.Nd());this.q.ha()};b.prototype.jl=function(b){this.first.get(b);var f=this.q.ka();this.qa.get(f);b.oa()&&f.oa()&&(b.data%=f.data,f.Dd()&&b.Nd());this.q.ha()};b.prototype.nl=function(b){this.first.get(b);var f=this.q.ka();this.qa.get(f);b.oa()&&f.oa()&&(b.data=Math.pow(b.data,f.data),f.Dd()&&b.Nd());this.q.ha()};b.prototype.Yk=function(b){this.first.get(b);var f=this.q.ka();this.qa.get(f);b.oa()?f.Df()?b.Kb(b.data.toString()+f.data):b.data&&f.data?b.V(1):
b.V(0):b.Df()&&(b.data=f.Df()?b.data+f.data:b.data+(Math.round(1E10*f.data)/1E10).toString());this.q.ha()};b.prototype.ml=function(b){this.first.get(b);var f=this.q.ka();this.qa.get(f);b.oa()&&f.oa()&&(b.data||f.data?b.V(1):b.V(0));this.q.ha()};b.prototype.Zk=function(b){this.first.get(b);b.data?this.qa.get(b):this.dg.get(b)};b.prototype.al=function(b){this.first.get(b);var f=this.q.ka();this.qa.get(f);b.V(b.data===f.data?1:0);this.q.ha()};b.prototype.ll=function(b){this.first.get(b);var f=this.q.ka();
this.qa.get(f);b.V(b.data!==f.data?1:0);this.q.ha()};b.prototype.hl=function(b){this.first.get(b);var f=this.q.ka();this.qa.get(f);b.V(b.data<f.data?1:0);this.q.ha()};b.prototype.il=function(b){this.first.get(b);var f=this.q.ka();this.qa.get(f);b.V(b.data<=f.data?1:0);this.q.ha()};b.prototype.dl=function(b){this.first.get(b);var f=this.q.ka();this.qa.get(f);b.V(b.data>f.data?1:0);this.q.ha()};b.prototype.el=function(b){this.first.get(b);var f=this.q.ka();this.qa.get(f);b.V(b.data>=f.data?1:0);this.q.ha()};
b.prototype.bl=function(b){var f=this.Yc.Pl();ba(f)?b.K(f):b.Kb(f)};W=b;h.prototype.Dd=function(){return this.type===X.de};h.prototype.oa=function(){return this.type===X.ee||this.type===X.de};h.prototype.Df=function(){return this.type===X.mg};h.prototype.Nd=function(){this.Dd()||(this.Df()&&(this.data=parseFloat(this.data)),this.type=X.de)};h.prototype.V=function(b){this.type=X.ee;this.data=Math.floor(b)};h.prototype.K=function(b){this.type=X.de;this.data=b};h.prototype.Kb=function(b){this.type=X.mg;
this.data=b};Xa=h;X={ee:0,de:1,mg:2}})();function Z(b){this.b=b;this.ib=[]}
Z.prototype.Wa=function(){var b={},h,d,f,a,c,l,e,k;b.waits=[];var r=b.waits,g;h=0;for(d=this.ib.length;h<d;h++){l=this.ib[h];g={t:l.time,ev:l.qe.F,sm:[],sols:{}};l.qe.jb[l.bb]&&(g.act=l.qe.jb[l.bb].F);f=0;for(a=l.da.length;f<a;f++)g.sm.push(l.da[f].F);for(c in l.Xa)if(l.Xa.hasOwnProperty(c)){e=this.b.k[parseInt(c,10)];k={sa:l.Xa[c].Mj,insts:[]};f=0;for(a=l.Xa[c].cd.length;f<a;f++)k.insts.push(l.Xa[c].cd[f].uid);g.sols[e.F.toString()]=k}r.push(g)}return b};
Z.prototype.rb=function(b){b=b.waits;var h,d,f,a,c,l,e,k,r,g,t;h=this.ib.length=0;for(d=b.length;h<d;h++)if(l=b[h],k=this.b.gi[l.ev.toString()]){r=-1;f=0;for(a=k.jb.length;f<a;f++)if(k.jb[f].F===l.act){r=f;break}if(-1!==r){e={Xa:{},da:[],ri:q};e.time=l.t;e.qe=k;e.bb=r;f=0;for(a=l.sm.length;f<a;f++)(k=this.b.xe(l.sm[f]))&&e.da.push(k);for(c in l.sols)if(l.sols.hasOwnProperty(c)&&(k=this.b.xe(parseInt(c,10)))){r=l.sols[c];g={Mj:r.sa,cd:[]};f=0;for(a=r.insts.length;f<a;f++)(t=this.b.Mg(r.insts[f]))&&
g.cd.push(t);e.Xa[k.index.toString()]=g}this.ib.push(e)}}};
(function(){function b(){}function h(){}var d=Z.prototype;b.prototype.jk=J(n);b.prototype.Zh=J(n);b.prototype.rk=J(n);b.prototype.ik=function(){var a=this.b.Pa();return a.Bg?q:!a.Hd};b.prototype.$h=J(n);b.prototype.mk=J(n);b.prototype.lg=J(n);b.prototype.sk=J(n);b.prototype.kg=J(n);d.C=new b;var f=[],a=[];d.Mb=new (E());h.prototype["int"]=function(a,b){L(b)?(a.V(parseInt(b,10)),isNaN(a.data)&&(a.data=0)):a.V(b)};h.prototype["float"]=function(a,b){L(b)?(a.K(parseFloat(b)),isNaN(a.data)&&(a.data=0)):
a.K(b)};h.prototype.random=function(a,b,d){void 0===d?a.K(Math.random()*b):a.K(Math.random()*(d-b)+b)};h.prototype.sqrt=function(a,b){a.K(Math.sqrt(b))};h.prototype.round=function(a,b){a.V(Math.round(b))};h.prototype.floor=function(a,b){a.V(Math.floor(b))};h.prototype.ceil=function(a,b){a.V(Math.ceil(b))};h.prototype.sin=function(a,b){a.K(Math.sin(T(b)))};h.prototype.cos=function(a,b){a.K(Math.cos(T(b)))};h.prototype.tan=function(a,b){a.K(Math.tan(T(b)))};h.prototype.asin=function(a,b){a.K(pa(Math.asin(b)))};
h.prototype.acos=function(a,b){a.K(pa(Math.acos(b)))};h.prototype.max=function(a){var b=arguments[1],d,f;d=2;for(f=arguments.length;d<f;d++)b<arguments[d]&&(b=arguments[d]);a.K(b)};h.prototype.min=function(a){var b=arguments[1],d,f;d=2;for(f=arguments.length;d<f;d++)b>arguments[d]&&(b=arguments[d]);a.K(b)};h.prototype.yd=function(a){a.K(this.b.yd)};h.prototype.$d=function(a){a.K(this.b.$d)};h.prototype.time=function(a){a.K(this.b.dd.Ya)};h.prototype.Xe=function(a){a.V(this.b.Xe)};h.prototype.Rf=function(a){a.V(this.b.Rf)};
h.prototype.Hg=function(a){a.V(this.b.Hg)};h.prototype.i=function(a,b,d,f,h){a.K(pa(ta(b,d,f,h)))};h.prototype.left=function(a,b,d){a.Kb(L(b)?b.substr(0,d):"")};h.prototype.right=function(a,b,d){a.Kb(L(b)?b.substr(b.length-d):"")};h.prototype.replace=function(a,b,d,f){L(b)&&L(d)&&L(f)?a.Kb(b.replace(RegExp(Ea(d),"gi"),f)):a.Kb(L(b)?b:"")};h.prototype.wg=function(a){a.K(this.b.wg/1E3)};h.prototype.Nf=function(a){a.K(this.b.Nf)};d.Zc=new h;d.Zm=function(){var b,d,e,h,r,g,t=this.b.Pa();b=0;for(e=this.ib.length;b<
e;b++)if(h=this.ib[b],!(h.time>this.b.dd.Ya)){t.lb=h.qe;t.bb=h.bb;t.Ha=0;for(d in h.Xa)h.Xa.hasOwnProperty(d)&&(r=this.b.k[parseInt(d,10)].W(),g=h.Xa[d],r.ca=g.Mj,la(r.c,g.cd),r=g,r.cd.length=0,a.push(r));h.qe.Ym();this.b.vg(h.da);h.ri=n}d=b=0;for(e=this.ib.length;b<e;b++)h=this.ib[b],this.ib[d]=h,h.ri?(Aa(h.Xa),h.da.length=0,f.push(h)):d++;this.ib.length=d}})();
function fb(b){var h=b[0].prototype,d=b[1],f=b[3],a=b[4],c=b[5],l=b[6],e=b[7];b=b[8];h.C||(h.C={});h.Mb||(h.Mb={});h.Zc||(h.Zc={});var k=h.C,r=h.Mb,h=h.Zc;f&&(k.Hn=function(a,b){return Ab(this.x,a,b)},k.In=function(a,b){return Ab(this.y,a,b)},k.Rn=function(){var a=this.j;this.Lb();var b=this.J;return!(b.right<a.zb||b.bottom<a.Bb||b.left>a.Ab||b.top>a.yb)},k.Sn=function(){this.Lb();var a=this.J,b=this.b.$;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},k.eo=function(a,b,c){var d=this.W(),
e=d.gc();if(!e.length)return q;var f=e[0],h=f,k=xa(f.x,f.y,b,c),l,r,ca;l=1;for(r=e.length;l<r;l++)if(f=e[l],ca=xa(f.x,f.y,b,c),0===a&&ca<k||1===a&&ca>k)k=ca,h=f;d.Tf(h);return n},r.Ao=function(a){this.x!==a&&(this.x=a,this.G())},r.Bo=function(a){this.y!==a&&(this.y=a,this.G())},r.uo=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.G()},r.vo=function(a,b){var c=a.Jl(this);if(c){var d;c.we?(d=c.we(b,n),c=c.we(b,q)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.G()}},r.Xn=
function(a){0!==a&&(this.x+=Math.cos(this.i)*a,this.y+=Math.sin(this.i)*a,this.G())},r.Wn=function(a,b){0!==b&&(this.x+=Math.cos(T(a))*b,this.y+=Math.sin(T(a))*b,this.G())},h.Go=function(a){a.K(this.x)},h.Ho=function(a){a.K(this.y)},h.yd=function(a){a.K(this.b.uf(this))});a&&(k.Gn=function(a,b){return Ab(this.width,a,b)},k.Dn=function(a,b){return Ab(this.height,a,b)},r.zo=function(a){this.width!==a&&(this.width=a,this.G())},r.ro=function(a){this.height!==a&&(this.height=a,this.G())},r.wo=function(a,
b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.G()},h.Fo=function(a){a.K(this.width)},h.Ln=function(a){a.K(this.height)},h.An=function(a){this.Lb();a.K(this.J.left)},h.Cn=function(a){this.Lb();a.K(this.J.top)},h.Bn=function(a){this.Lb();a.K(this.J.right)},h.zn=function(a){this.Lb();a.K(this.J.bottom)});c&&(k.yn=function(a,b){return ua(this.i,T(b))<=T(a)},k.Pn=function(a){return wa(this.i,T(a))},k.Nn=function(a,b){var c=sa(a),d=sa(b),e=V(this.i);return wa(d,c)?wa(e,c)&&!wa(e,
d):!(!wa(e,c)&&wa(e,d))},r.no=function(a){a=T(qa(a));!isNaN(a)&&this.i!==a&&(this.i=a,this.G())},r.io=function(a){0!==a&&!isNaN(a)&&(this.i+=T(a),this.i=V(this.i),this.G())},r.jo=function(a){0!==a&&!isNaN(a)&&(this.i-=T(a),this.i=V(this.i),this.G())},r.ko=function(a,b){var c=va(this.i,T(b),T(a));!isNaN(c)&&this.i!==c&&(this.i=c,this.G())},r.lo=function(a,b,c){a=va(this.i,Math.atan2(c-this.y,b-this.x),T(a));!isNaN(a)&&this.i!==a&&(this.i=a,this.G())},r.xo=function(a,b){var c=Math.atan2(b-this.y,a-
this.x);!isNaN(c)&&this.i!==c&&(this.i=c,this.G())},h.xn=function(a){a.K(ra(this.i))});d||(k.En=function(a,b,c){return Ab(this.za[a],b,c)},k.On=function(a){return this.za[a]},k.co=function(a){var b,c,d,e,f;if(this.b.Bl().Ce){f=this.W();if(f.ca){f.ca=q;f.c.length=0;f.R.length=0;d=this.c;b=0;for(c=d.length;b<c;b++)e=d[b],e.uid===a?f.R.push(e):f.c.push(e)}else{d=b=0;for(c=f.c.length;b<c;b++)e=f.c[b],f.c[d]=e,e.uid===a?f.R.push(e):d++;f.c.length=d}return!!f.c.length}e=this.b.Mg(a);if(!e)return q;if(this.H){a=
e.type.T;b=0;for(c=a.length;b<c;b++)if(a[b]===this)return f=this.W(),f.Tf(e),n}else if(e.type===this)return f=this.W(),f.Tf(e),n;return q},k.jg=J(n),k.nk=J(n),r.so=function(a,b){var c=this.za;ba(c[a])?c[a]=ba(b)?b:parseFloat(b):L(c[a])&&(c[a]=L(b)?b:b.toString())},r.wn=function(a,b){var c=this.za;ba(c[a])?c[a]=ba(b)?c[a]+b:c[a]+parseFloat(b):L(c[a])&&(c[a]=L(b)?c[a]+b:c[a]+b.toString())},r.Co=function(a,b){var c=this.za;ba(c[a])&&(c[a]=ba(b)?c[a]-b:c[a]-parseFloat(b))},r.oo=function(a,b){this.za[a]=
b?1:0},r.Do=function(a){this.za[a]=1-this.za[a]},r.Kn=function(){this.b.Qc(this)},h.Jn=function(a){var b=a.Od.c.length,c,d,e;c=0;for(d=this.b.Ob.length;c<d;c++)e=this.b.Ob[c],a.Od.H?0<=e.type.T.indexOf(a.Od)&&b++:e.type===a.Od&&b++;a.V(b)},h.ho=function(a){a.V(a.Od.W().gc().length)},h.Eo=function(a){a.V(this.uid)},h.Mn=function(a){a.V(this.ze())});l&&(k.Tn=I("visible"),r.yo=function(a){!a!==!this.visible&&(this.visible=a,this.b.M=n)},k.Fn=function(a,b){return Ab(Ia(100*this.opacity),a,b)},r.to=function(a){a/=
100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.M=n)},h.Opacity=function(a){a.K(Ia(100*this.opacity))});e&&(k.Qn=function(a){return!a?q:this.j===a},k.fo=function(a){var b=this.W(),c=b.gc();if(!c.length)return q;var d=c[0],e=d,f,h;f=1;for(h=c.length;f<h;f++)if(d=c[f],0===a){if(d.j.index>e.j.index||d.j.index===e.j.index&&d.Ja()>e.Ja())e=d}else if(d.j.index<e.j.index||d.j.index===e.j.index&&d.Ja()<e.Ja())e=d;b.Tf(e);return n},r.$n=function(){var a=this.Ja();a!==this.j.c.length-1&&(ia(this.j.c,
a),this.j.c.push(this),this.b.M=n,this.j.ab=n)},r.Yn=function(){var a=this.Ja();0!==a&&(ia(this.j.c,a),this.j.c.unshift(this),this.b.M=n,this.j.ab=n)},r.Zn=function(a){a&&a!=this.j&&(ia(this.j.c,this.Ja()),this.j.ab=n,this.j=a,this.ud=a.c.length,a.c.push(this),this.b.M=n)},r.Jo=function(a,b){var c=0===a;if(b){var d=b.Cl(this);if(d&&d.uid!==this.uid){this.j.index!==d.j.index&&(ia(this.j.c,this.Ja()),this.j.ab=n,this.j=d.j,this.ud=d.j.c.length,d.j.c.push(this));var e=this.Ja(),d=d.Ja();ia(this.j.c,
e);e<d&&d--;c&&d++;d===this.j.c.length?this.j.c.push(this):this.j.c.splice(d,0,this);this.j.ab=n;this.b.M=n}}},h.Vn=function(a){a.V(this.j.sj)},h.Un=function(a){a.Kb(this.j.name)},h.Io=function(a){a.V(this.Ja())});b&&(r.po=function(a,b){if(this.b.D){var c=this.type.Lg(b);if(!(0>c)){var d=1===a;this.tc[c]!==d&&(this.tc[c]=d,this.pc(),this.b.M=n)}}},r.qo=function(a,b,c){if(this.b.D){var d=this.type.Lg(a);0>d||(a=this.type.z[d],d=this.Z[d],b=Math.floor(b),0>b||b>=d.length||(1===this.b.D.Ml(a.wa,b)&&
(c/=100),d[b]!==c&&(d[b]=c,a.Yb&&(this.b.M=n))))}})}function ub(){this.qg=n;this.b.M=n;var b,h;b=0;for(h=this.hf.length;b<h;b++)this.hf[b](this)}function vb(b){b&&this.hf.push(b)}
function xb(){if(this.qg){this.J.set(this.x,this.y,this.x+this.width,this.y+this.height);this.J.offset(-this.Ra*this.width,-this.Sa*this.height);this.i?(this.J.offset(-this.x,-this.y),this.cb.Qj(this.J,this.i),this.cb.offset(this.x,this.y),this.cb.hi(this.J)):this.cb.Jh(this.J);var b=0;this.J.left>this.J.right&&(b=this.J.left,this.J.left=this.J.right,this.J.right=b);this.J.top>this.J.bottom&&(b=this.J.top,this.J.top=this.J.bottom,this.J.bottom=b);this.qg=q}}
function wb(b,h){return!this.J.Db(b,h)||!this.cb.Db(b,h)?q:this.Q&&!this.Q.Ge()?(this.Q.je(this.width,this.height,this.i),this.Q.Db(b-this.x,h-this.y)):n}function sb(){this.type.hg();return this.Ae}function yb(){this.j.rn();return this.ud}function zb(){this.L.length=0;var b,h;b=0;for(h=this.tc.length;b<h;b++)this.tc[b]&&this.L.push(this.type.z[b]);this.gk=!!this.L.length}function tb(){return"Inst"+this.Gj}
function hb(b){if(b&&b.fb&&b.type!=this){var h,d,f;h=0;for(d=b.siblings.length;h<d;h++)if(f=b.siblings[h],f.type==this)return f}b=this.W().gc();return b.length?b[0]:p}function ib(b){var h=this.W().gc();return h.length?h[b.ze()%h.length]:p}function gb(){if(this.Mc&&!this.H){var b,h;b=0;for(h=this.c.length;b<h;b++)this.c[b].Ae=b;this.Mc=q}}function jb(){return this.Lc[this.ec]}function kb(){this.ec++;this.ec===this.Lc.length?this.Lc.push(new Ka(this)):this.Lc[this.ec].ca=n}
function lb(){this.ec++;this.ec===this.Lc.length&&this.Lc.push(new Ka(this));var b=this.Lc[this.ec],h=this.Lc[this.ec-1];h.ca?b.ca=n:(b.ca=q,la(b.c,h.c))}function mb(){this.ec--}function nb(b){var h,d,f,a,c,l=0;if(!this.H){h=0;for(d=this.T.length;h<d;h++){c=this.T[h];f=0;for(a=c.X.length;f<a;f++){if(b===c.X[f].name)return this.S.Zi=l,c.X[f];l++}}}h=0;for(d=this.X.length;h<d;h++){if(b===this.X[h].name)return this.S.Zi=l,this.X[h];l++}return p}function ob(b){return this.tf(b)?this.S.Zi:-1}
function pb(b){var h,d;h=0;for(d=this.z.length;h<d;h++)if(this.z[h].name===b)return h;return-1}function qb(){if(this.fb&&!this.H){var b,h,d,f,a,c,l;this.hg();c=this.W();var e=c.ca,k=(b=this.b.Pa())&&b.lb&&b.lb.Ub;b=0;for(h=this.Ia.length;b<h;b++)if(a=this.Ia[b],a!==this&&(a.hg(),l=a.W(),l.ca=e,!e)){l.c.length=c.c.length;d=0;for(f=c.c.length;d<f;d++)l.c[d]=a.c[c.c[d].Ae];if(k){l.R.length=c.R.length;d=0;for(f=c.R.length;d<f;d++)l.R[d]=a.c[c.R[d].Ae]}}}}function rb(){return"Type"+this.F}
function Ab(b,h,d){if("undefined"===typeof b||"undefined"===typeof d)return q;switch(h){case 0:return b===d;case 1:return b!==d;case 2:return b<d;case 3:return b<=d;case 4:return b>d;case 5:return b>=d;default:return q}}var db={};function Bb(b){this.b=b}
(function(){function b(){if(0===this.zg.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.Wd?b.drawImage(this.P,this.Qd,this.Rd,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.P,0,0,this.width,this.height);this.zg=a.toDataURL("image/png")}return this.zg}function h(){}function d(){}var f=Bb.prototype;f.Cb=function(a){this.Aa=a;this.b=a.b};var a=f.Cb.prototype;a.ja=function(){if(!this.H){var a,c,d,e,f,h,k,l,r;a=0;
for(c=this.aa.length;a<c;a++){f=this.aa[a];k={};k.name=f[0];k.speed=f[1];k.loop=f[2];k.zh=f[3];k.Xf=f[4];k.zj=f[5];k.F=f[6];k.frames=[];d=0;for(e=f[7].length;d<e;d++)h=f[7][d],l={},l.Vj=h[0],l.Wj=h[1],l.Qd=h[2],l.Rd=h[3],l.width=h[4],l.height=h[5],l.duration=h[6],l.Ra=h[7],l.Sa=h[8],l.Pg=h[9],l.Uf=h[10],l.Aj=h[11],l.Wd=0!==l.width,l.zg="",l.No=b,r={left:0,top:0,right:1,bottom:1},l.Lh=r,l.rc=p,(r=this.b.wl(h[0]))?l.P=r:(l.P=new Image,l.P.src=h[0],l.P.Fk=h[0],l.P.Ek=h[1],l.P.ac=p,this.b.Pc.push(l.P)),
k.frames.push(l);this.aa[a]=k}}};a.Zo=function(){var a,b,c;a=0;for(b=this.c.length;a<b;a++)c=this.c[a],c.ne=c.eb.rc};a.uj=function(){if(!this.H){var a,b,c,d,e,f;a=0;for(b=this.aa.length;a<b;a++){e=this.aa[a];c=0;for(d=e.frames.length;c<d;c++)f=e.frames[c],f.P.ac=p,f.rc=p}}};a.wj=function(){if(!this.H&&this.c.length){var a,b,c,d,e,f;a=0;for(b=this.aa.length;a<b;a++){e=this.aa[a];c=0;for(d=e.frames.length;c<d;c++)f=e.frames[c],f.P.ac||(f.P.ac=this.b.D.ij(f.P,this.b.ia,f.Aj)),f.rc=f.P.ac}a=0;for(b=this.c.length;a<
b;a++)c=this.c[a],c.ne=c.eb.rc}};var c=[];a.ek=function(){if(!this.H&&!this.c.length){var a=!!this.b.D,b,d,e,f,h,k,l,r;b=c.length=0;for(d=this.aa.length;b<d;b++){k=this.aa[b];e=0;for(f=k.frames.length;e<f;e++)if(l=k.frames[e],r=a?l.P.ac:l.P)h=c.indexOf(r),-1===h&&c.push(r),l.P.ac=p,l.rc=p}b=0;for(d=c.length;b<d;b++)r=c[b],a?this.b.D.deleteTexture(r):r.hintUnload&&r.hintUnload();c.length=0}};var l=[];a.Dj=function(a){var b,c,d,e,f,h;b=l.length=0;for(c=this.aa.length;b<c;b++){f=this.aa[b];d=0;for(e=
f.frames.length;d<e;d++)h=f.frames[d].P,-1===l.indexOf(h)&&(a.drawImage(h,0,0),l.push(h))}};f.Fa=function(a){this.type=a;this.b=a.b;a=this.type.aa[0].frames[0].Uf;this.Ib?this.Q.Se(a):this.Q=new Fa(a)};var e=f.Fa.prototype;e.ja=function(){this.visible=0===this.U[0];this.Ki=this.mm=q;this.xc=0!==this.U[3];!(1===this.type.aa.length&&1===this.type.aa[0].frames.length)&&0!==this.type.aa[0].speed&&(this.b.qn(this),this.mm=n);this.Y=this.Ci(this.U[1])||this.type.aa[0];this.m=this.U[2];0>this.m&&(this.m=
0);this.m>=this.Y.frames.length&&(this.m=this.Y.frames.length-1);var a=this.Y.frames[this.m];this.Q.Se(a.Uf);this.Ra=a.Ra;this.Sa=a.Sa;this.oe=this.Y.speed;this.fc=this.wf();this.Sc=n;this.Zb=0;this.Rc=n;this.tg=this.di="";this.Dk=0;this.sg=-1;var b,c,d,e,f,h,k,a=0;for(b=this.type.aa.length;a<b;a++){e=this.type.aa[a];c=0;for(d=e.frames.length;c<d;c++)f=e.frames[c],f.P.hintLoad&&f.P.hintLoad(),0===f.width&&(f.width=f.P.width,f.height=f.P.height),f.Wd&&(k=f.P,h=f.Lh,h.left=f.Qd/k.width,h.top=f.Rd/k.height,
h.right=(f.Qd+f.width)/k.width,h.bottom=(f.Rd+f.height)/k.height,0===f.Qd&&(0===f.Rd&&f.width===k.width&&f.height===k.height)&&(f.Wd=q)),this.b.D&&(f.P.ac||(f.P.ac=this.b.D.ij(f.P,this.b.ia,f.Aj)),f.rc=f.P.ac)}this.eb=this.Y.frames[this.m];this.ne=this.eb.rc};e.Wa=function(){var a={a:this.Y.F,f:this.m,cas:this.oe,fs:this.fc,ar:this.Zb};this.Sc||(a.ap=this.Sc);this.Rc||(a.af=this.Rc);return a};e.rb=function(a){var b=this.yl(a.a);b&&(this.Y=b);this.m=a.f;0>this.m&&(this.m=0);this.m>=this.Y.frames.length&&
(this.m=this.Y.frames.length-1);this.oe=a.cas;this.fc=a.fs;this.Zb=a.ar;this.Sc=a.hasOwnProperty("ap")?a.ap:n;this.Rc=a.hasOwnProperty("af")?a.af:n;this.eb=this.Y.frames[this.m];this.ne=this.eb.rc;this.Q.Se(this.eb.Uf);this.Ra=this.eb.Ra;this.Sa=this.eb.Sa};e.og=function(a){this.m=a?0:this.Y.frames.length-1;this.Sc=q;this.di=this.Y.name;this.Ki=n;this.b.trigger(Bb.prototype.C.lk,this);this.b.trigger(Bb.prototype.C.kk,this);this.Ki=q;this.Zb=0};e.wf=function(){return(Date.now()-this.b.Ue)/1E3};e.Wb=
function(){this.tg.length&&this.Jk();0<=this.sg&&this.Kk();var a=this.wf(),b=this.Y,c=b.frames[this.m],d=c.duration/this.oe,e=this.b.$d;-1!==this.hd&&(e=this.hd);d/=0===e?1E-9:e;if(this.Sc&&a>=this.fc+d){this.Rc?this.m++:this.m--;this.fc+=d;this.m>=b.frames.length&&(b.zj?(this.Rc=q,this.m=b.frames.length-2):b.loop?this.m=b.Xf:(this.Zb++,this.Zb>=b.zh?this.og(q):this.m=b.Xf));0>this.m&&(b.zj?(this.m=1,this.Rc=n,b.loop||(this.Zb++,this.Zb>=b.zh&&this.og(n))):b.loop?this.m=b.Xf:(this.Zb++,this.Zb>=b.zh?
this.og(n):this.m=b.Xf));0>this.m?this.m=0:this.m>=b.frames.length&&(this.m=b.frames.length-1);if(a>this.fc+b.frames[this.m].duration/this.oe/(0===e?1E-9:e))this.fc=a;a=b.frames[this.m];this.fe(c,a);this.b.M=n}};e.Ci=function(a){var b,c,d=a.toLowerCase();a=0;for(b=this.type.aa.length;a<b;a++)if(c=this.type.aa[a],c.name.toLowerCase()===d)return c;return p};e.yl=function(a){var b,c,d;b=0;for(c=this.type.aa.length;b<c;b++)if(d=this.type.aa[b],d.F===a)return d;return p};e.Jk=function(){var a=this.Y.frames[this.m],
b=this.Ci(this.tg);this.tg="";b&&!(b.name.toLowerCase()===this.Y.name.toLowerCase()&&this.Sc)&&(this.Y=b,this.oe=b.speed,0>this.m&&(this.m=0),this.m>=this.Y.frames.length&&(this.m=this.Y.frames.length-1),1===this.Dk&&(this.m=0),this.Sc=n,this.fc=this.wf(),this.Rc=n,this.fe(a,this.Y.frames[this.m]),this.b.M=n)};e.Kk=function(){var a=this.Y.frames[this.m],b=this.m;this.m=R(this.sg);0>this.m&&(this.m=0);this.m>=this.Y.frames.length&&(this.m=this.Y.frames.length-1);b!==this.m&&(this.fe(a,this.Y.frames[this.m]),
this.fc=this.wf(),this.b.M=n);this.sg=-1};e.fe=function(a,b){var c=a.width,d=a.height,e=b.width,f=b.height;c!=e&&(this.width*=e/c);d!=f&&(this.height*=f/d);this.Ra=b.Ra;this.Sa=b.Sa;this.Q.Se(b.Uf);this.G();this.eb=b;this.ne=b.rc;c=0;for(d=this.B.length;c<d;c++)e=this.B[c],e.Hm&&e.Hm(a,b);this.b.trigger(Bb.prototype.C.fe,this)};e.Vc=function(a){a.globalAlpha=this.opacity;var b=this.eb,c=b.Wd,d=b.P,e=this.x,f=this.y,h=this.width,k=this.height;if(0===this.i&&0<=h&&0<=k)e-=this.Ra*h,f-=this.Sa*k,this.b.Sd&&
(e=e+0.5|0,f=f+0.5|0),c?a.drawImage(d,b.Qd,b.Rd,b.width,b.height,e,f,h,k):a.drawImage(d,e,f,h,k);else{this.b.Sd&&(e=e+0.5|0,f=f+0.5|0);a.save();var l=0<h?1:-1,r=0<k?1:-1;a.translate(e,f);(1!==l||1!==r)&&a.scale(l,r);a.rotate(this.i*l*r);e=0-this.Ra*M(h);f=0-this.Sa*M(k);c?a.drawImage(d,b.Qd,b.Rd,b.width,b.height,e,f,M(h),M(k)):a.drawImage(d,e,f,M(h),M(k));a.restore()}};e.Qb=function(a){a.Jb(this.ne);a.Re(this.opacity);var b=this.eb,c=this.cb;if(this.b.Sd){var d=(this.x+0.5|0)-this.x,e=(this.y+0.5|
0)-this.y;b.Wd?a.od(c.ra+d,c.ta+e,c.Za+d,c.$a+e,c.Na+d,c.Oa+e,c.La+d,c.Ma+e,b.Lh):a.Wf(c.ra+d,c.ta+e,c.Za+d,c.$a+e,c.Na+d,c.Oa+e,c.La+d,c.Ma+e)}else b.Wd?a.od(c.ra,c.ta,c.Za,c.$a,c.Na,c.Oa,c.La,c.Ma,b.Lh):a.Wf(c.ra,c.ta,c.Za,c.$a,c.Na,c.Oa,c.La,c.Ma)};e.El=function(a){var b=this.eb,c,d;c=0;for(d=b.Pg.length;c<d;c++)if(a.toLowerCase()===b.Pg[c][0].toLowerCase())return c;return-1};e.we=function(a,b){var c=this.eb,d=c.Pg,e;e=L(a)?this.El(a):a-1;e=R(e);if(0>e||e>=d.length)return b?this.x:this.y;var f=
(d[e][1]-c.Ra)*this.width,d=d[e][2],d=(d-c.Sa)*this.height,c=Math.cos(this.i);e=Math.sin(this.i);var h=f*c-d*e,d=d*c+f*e,f=h+this.x,d=d+this.y;return b?f:d};var k=new Ca,r=q;a.finish=function(a){if(r){if(a){var b=this.b.Pa().lb.Ub;a=p.W();var c=k.qc(),d,e;if(a.ca){a.ca=q;a.c.length=c.length;d=0;for(e=c.length;d<e;d++)a.c[d]=c[d];if(b){d=a.R.length=0;for(e=p.c.length;d<e;d++)b=p.c[d],k.contains(b)||a.R.push(b)}}else{var f=a.c.length;a.c.length=f+c.length;d=0;for(e=c.length;d<e;d++)a.c[f+d]=c[d],b&&
S(a.R,c[d])}p.ff()}k.clear();r=q}};h.prototype.kk=function(a){return this.di.toLowerCase()===a.toLowerCase()};h.prototype.lk=J(n);h.prototype.fe=J(n);f.C=new h;d.prototype.uk=function(a,b,c){if(a&&b&&(b=this.b.ni(a,b,this.we(c,n),this.we(c,q)))){"undefined"!==typeof b.i&&(b.i=this.i,b.G());this.b.Eb++;var d,e,f;this.b.trigger(Object.getPrototypeOf(a.Aa).C.jg,b);if(b.fb){d=0;for(e=b.siblings.length;d<e;d++)f=b.siblings[d],this.b.trigger(Object.getPrototypeOf(f.type.Aa).C.jg,f)}this.b.Eb--;d=this.b.Al();
c=q;if(aa(d.S.bi)||d.S.bi<this.b.zd)c=n,d.S.bi=this.b.zd;if(a!=this.type&&(a=a.W(),a.ca=q,c?(a.c.length=1,a.c[0]=b):a.c.push(b),b.fb)){d=0;for(e=b.siblings.length;d<e;d++)f=b.siblings[d],a=f.type.W(),a.ca=q,c?(a.c.length=1,a.c[0]=f):a.c.push(f)}}};f.Mb=new d;f.Zc=new (E())})();function Cb(b){this.b=b}
(function(){var b=Cb.prototype;b.Cb=function(b,f){this.va=b;this.hh=f;this.b=b.b};b.Cb.prototype.ja=E();b.Fa=function(b,f){this.type=b;this.va=b.va;this.d=f;this.b=b.b};var h=b.Fa.prototype;h.ja=function(){var b=this.U[0];this.df=this.U[1];this.sf=this.U[2];this.Bk=0!==this.U[3];this.Hh=0!==this.U[4];this.na=Math.cos(this.d.i)*b;this.fa=Math.sin(this.d.i)*b;this.Jf=this.d.x;this.Kf=this.d.y;this.Ed=this.d.i;this.fg=0;this.enabled=n};h.Wa=function(){return{acc:this.df,g:this.sf,dx:this.na,dy:this.fa,
lx:this.Jf,ly:this.Kf,lka:this.Ed,t:this.fg,e:this.enabled}};h.rb=function(b){this.df=b.acc;this.sf=b.g;this.na=b.dx;this.fa=b.dy;this.Jf=b.lx;this.Kf=b.ly;this.Ed=b.lka;this.fg=b.t;this.enabled=b.e};h.Wb=function(){if(this.enabled){var b=this.b.uf(this.d),f,a;this.d.i!==this.Ed&&(this.Hh&&(f=xa(0,0,this.na,this.fa),this.na=Math.cos(this.d.i)*f,this.fa=Math.sin(this.d.i)*f),this.Ed=this.d.i);0!==this.df&&(f=xa(0,0,this.na,this.fa),a=0===this.na&&0===this.fa?this.d.i:ta(0,0,this.na,this.fa),f+=this.df*
b,0>f&&(f=0),this.na=Math.cos(a)*f,this.fa=Math.sin(a)*f);0!==this.sf&&(this.fa+=this.sf*b);this.Jf=this.d.x;this.Kf=this.d.y;if(0!==this.na||0!==this.fa)if(this.d.x+=this.na*b,this.d.y+=this.fa*b,this.fg+=xa(0,0,this.na*b,this.fa*b),this.Hh&&(this.d.i=ta(0,0,this.na,this.fa),this.d.G(),this.Ed=this.d.i),this.d.G(),this.Bk&&(f=this.b.Zd(this.d)))this.b.Wm(this.d,f),f=xa(0,0,this.na,this.fa),a=this.b.Ck(this.d,this.Jf,this.Kf),this.na=Math.cos(a)*f,this.fa=Math.sin(a)*f,this.d.x+=this.na*b,this.d.y+=
this.fa*b,this.d.G(),this.Hh&&(this.Ed=this.d.i=a,this.d.G()),this.b.Um(this.d,this.na/f,this.fa/f,Math.max(2.5*f*b,30))||this.b.Vm(this.d)}};b.C=new (E());b.Mb=new (E());b.Zc=new (E())})();
function Db(b){this.b=b;var h=this;this.b.qb||(jQuery(document).mousemove(function(b){h.Cm(b)}),jQuery(document).mousedown(function(b){h.Bm(b)}),jQuery(document).mouseup(function(b){h.Dm(b)}));b=0<this.b.nb?document:this.b.canvas;this.b.Cc?b=window.Canvas:this.b.ic&&(b=window);b.addEventListener("touchstart",function(b){h.Jm(b)},q);b.addEventListener("touchmove",function(b){h.Im(b)},q);b.addEventListener("touchend",function(b){h.xj(b)},q);b.addEventListener("touchcancel",function(b){h.xj(b)},q);window.navigator.msPointerEnabled&&
(b.addEventListener("MSPointerDown",function(b){h.Gm(b)},q),b.addEventListener("MSPointerMove",function(b){h.Fm(b)},q),b.addEventListener("MSPointerUp",function(b){h.vj(b)},q),b.addEventListener("MSPointerCancel",function(b){h.vj(b)},q))}
(function(){function b(a){var b,e;b=0;for(e=a.B.length;b<e;b++)if(a.B[b]instanceof d.Fa)return a.B[b];return p}function h(){}var d=Db.prototype,f={left:0,top:0};d.Bm=function(a){1===a.which&&this.ih("leftmouse",a.pageX,a.pageY)};d.Cm=function(a){1===a.which&&this.jh("leftmouse",a.pageX,a.pageY)};d.Dm=function(a){1===a.which&&this.kh("leftmouse")};d.Jm=function(a){a.preventDefault&&a.preventDefault();var b,d,f,h;b=0;for(d=a.changedTouches.length;b<d;b++)f=a.changedTouches[b],h=f.identifier,this.ih(h?
h.toString():"<none>",f.pageX,f.pageY)};d.Im=function(a){a.preventDefault&&a.preventDefault();var b,d,f,h;b=0;for(d=a.changedTouches.length;b<d;b++)f=a.changedTouches[b],h=f.identifier,this.jh(h?h.toString():"<none>",f.pageX,f.pageY)};d.xj=function(a){a.preventDefault&&a.preventDefault();var b,d,f;b=0;for(d=a.changedTouches.length;b<d;b++)f=a.changedTouches[b],f=f.identifier,this.kh(f?f.toString():"<none>")};d.Gm=function(a){a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&(a.preventDefault&&a.preventDefault(),
this.ih(a.pointerId.toString(),a.pageX,a.pageY))};d.Fm=function(a){a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&(a.preventDefault&&a.preventDefault(),this.jh(a.pointerId.toString(),a.pageX,a.pageY))};d.vj=function(a){a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&(a.preventDefault&&a.preventDefault(),this.kh(a.pointerId.toString()))};d.ih=function(a,d,e){var h=this.b.qb?f:jQuery(this.b.canvas).offset();d-=h.left;e-=h.top;var r,g,t,w,h=this.gd.qc(),u,x,y,s=p;u=0;for(x=h.length;u<x;u++)y=h[u],r=b(y),r.enabled&&
!r.Uc&&(r=y.j.Nb(d,e,n),g=y.j.Nb(d,e,q),y.Lb(),y.Db(r,g)&&(s?y.j.index>s.j.index?(s=y,t=r,w=g):y.j.index===s.j.index&&y.Ja()>s.Ja()&&(s=y,t=r,w=g):(s=y,t=r,w=g)));s&&b(s).zm(a,t,w)};d.jh=function(a,d,e){var h=this.b.qb?f:jQuery(this.b.canvas).offset();d-=h.left;e-=h.top;var r,g=this.gd.qc(),t,w,u;t=0;for(w=g.length;t<w;t++)r=g[t],u=b(r),u.enabled&&(u.Uc&&!(u.Uc&&u.Ag!==a))&&(h=r.j.Nb(d,e,n),r=r.j.Nb(d,e,q),u.Em(h,r))};d.kh=function(a){var d=this.gd.qc(),e,f,h;e=0;for(f=d.length;e<f;e++)h=d[e],h=b(h),
h.Uc&&h.Ag===a&&h.Km()};d.Cb=function(a,b){this.va=a;this.hh=b;this.b=a.b};d.Cb.prototype.ja=E();d.Fa=function(a,b){this.type=a;this.va=a.va;this.d=b;this.b=a.b};var a=d.Fa.prototype;a.ja=function(){this.Uc=q;this.fa=this.na=0;this.Ag="<none>";this.enabled=n;this.pg=this.U[0]};a.Wa=function(){return{enabled:this.enabled}};a.rb=function(a){this.enabled=a.enabled;this.Uc=q};a.zm=function(a,b,d){this.na=b-this.d.x;this.fa=d-this.d.y;this.Uc=n;this.Ag=a;this.b.trigger(Db.prototype.C.ok,this.d)};a.Em=
function(a,b){var d=a-this.na,f=b-this.fa;if(0===this.pg){if(this.d.x!==d||this.d.y!==f)this.d.x=d,this.d.y=f,this.d.G()}else 1===this.pg?this.d.x!==d&&(this.d.x=d,this.d.G()):2===this.pg&&this.d.y!==f&&(this.d.y=f,this.d.G())};a.Km=function(){this.Uc=q;this.b.trigger(Db.prototype.C.pk,this.d)};a.Wb=E();h.prototype.ok=J(n);h.prototype.pk=J(n);d.C=new h;d.Mb=new (E());d.Zc=new (E())})();function Eb(b){this.b=b}
(function(){function b(){}var h=Eb.prototype;h.Cb=function(b,a){this.va=b;this.hh=a;this.b=b.b};h.Cb.prototype.ja=E();h.Fa=function(b,a){this.type=b;this.va=b.va;this.d=a;this.b=b.b};var d=h.Fa.prototype;d.ja=function(){var b=1===this.U[0];this.se=this.U[1];this.bf=this.U[2];this.pf=this.U[3];this.Ik=this.U[4];this.hb=b?0:3;this.Ib?this.ub.reset():this.ub=new Da;this.fd=this.d.opacity?this.d.opacity:1;b&&(0===this.se?(this.hb=1,0===this.bf&&(this.hb=2)):(this.d.opacity=0,this.b.M=n))};d.Wa=function(){return{fit:this.se,
wt:this.bf,fot:this.pf,s:this.hb,st:this.ub.Ya,mo:this.fd}};d.rb=function(b){this.se=b.fit;this.bf=b.wt;this.pf=b.fot;this.hb=b.s;this.ub.reset();this.ub.Ya=b.st;this.fd=b.mo};d.Wb=function(){this.ub.add(this.b.uf(this.d));0===this.hb&&(this.d.opacity=this.ub.Ya/this.se*this.fd,this.b.M=n,this.d.opacity>=this.fd&&(this.d.opacity=this.fd,this.hb=1,this.ub.reset()));1===this.hb&&this.ub.Ya>=this.bf&&(this.hb=2,this.ub.reset());2===this.hb&&0!==this.pf&&(this.d.opacity=this.fd-this.ub.Ya/this.pf*this.fd,
this.b.M=n,0>this.d.opacity&&(this.d.opacity=0,this.hb=3,this.ub.reset(),this.b.trigger(Eb.prototype.C.qk,this.d),1===this.Ik&&this.b.Qc(this.d)))};d.Mo=function(){this.hb=0;this.ub.reset();0===this.se?(this.hb=1,0===this.bf&&(this.hb=2)):(this.d.opacity=0,this.b.M=n)};b.prototype.qk=J(n);h.C=new b;h.Mb=new (E())})();function Fb(b){this.b=b}
(function(){function b(){}function h(){}var d=Fb.prototype;d.Cb=function(a,b){this.va=a;this.hh=b;this.b=a.b};d.Cb.prototype.ja=function(){this.qd=[]};d.Fa=function(a,b){this.type=a;this.va=a.va;this.d=b;this.b=a.b};var f=d.Fa.prototype;f.ja=function(){this.Ud=this.U[0];this.vh=this.U[1];this.Ah=0!==this.U[2];this.Bh=T(this.U[3]);this.cg=this.U[4];this.ph=0!==this.U[5];this.rh=this.U[6];this.enabled=n;this.Hf=this.Gf=0;this.currentTarget=p;this.Zg=-1;this.kd=this.jd=0;this.Fd=[0,0,0,0];this.pd=0;
var a=this;this.Ib||(this.qj=function(b){a.Am(b)});this.b.vk(this.qj)};f.Wa=function(){var a={r:this.Ud,rof:this.vh,re:this.Ah,rs:this.Bh,tm:this.cg,pa:this.ph,ps:this.rh,en:this.enabled,lct:this.Gf,lft:this.Hf,target:this.currentTarget?this.currentTarget.uid:-1,ox:this.jd,oy:this.kd,ls:this.Fd,sc:this.pd,targs:[]},b,d;b=0;for(d=this.type.qd.length;b<d;b++)a.targs.push(this.type.qd[b].F);return a};f.rb=function(a){this.Ud=a.r;this.vh=a.rof;this.Ah=a.re;this.Bh=a.rs;this.cg=a.tm;this.ph=a.pa;this.rh=
a.ps;this.enabled=a.en;this.Gf=a.lct;this.Hf=a.lft;this.Zg=a.target;this.jd=a.ox;this.kd=a.oy;this.Fd=a.ls;this.pd=a.sc;this.type.qd.length=0;var b,d,e;b=0;for(d=a.targs.length;b<d;b++)(e=this.b.xe(a.targs[b]))&&this.type.qd.push(e)};f.ef=function(){this.currentTarget=-1===this.Zg?p:this.b.Mg(this.Zg)};f.Am=function(a){this.currentTarget==a&&(this.currentTarget=p)};f.Sf=function(){this.currentTarget=p;this.b.Xm(this.qj)};f.xk=function(a){4>this.pd?(this.Fd[this.pd]=a,this.pd++):(this.Fd.shift(),this.Fd.push(a))};
f.Ol=function(){for(var a=0,b=0;b<this.pd;b++)a+=this.Fd[b];return a/this.pd};f.Si=function(a){var b=this.d,d=a.x-b.x;a=a.y-b.y;return d*d+a*a<=this.Ud*this.Ud};f.vm=function(){var a,b,d,e,f=this.type.qd,h,g;a=0;for(b=f.length;a<b;a++){g=f[a].c;d=0;for(e=g.length;d<e;d++)if(h=g[d],this.Si(h)){this.currentTarget=h;return}}};f.wm=function(){var a,b,d,e,f=this.type.qd,h,g,t,w;t=0;var u=this.Ud*this.Ud;this.currentTarget=p;a=0;for(b=f.length;a<b;a++){g=f[a].c;d=0;for(e=g.length;d<e;d++)h=g[d],t=this.d.x-
h.x,w=this.d.y-h.y,t=t*t+w*w,t<u&&(this.currentTarget=h,u=t)}};f.Wb=function(){var a=this.b.uf(this.d),b=this.b.dd.Ya,d=this.d;if(this.enabled){this.currentTarget&&!this.Si(this.currentTarget)&&(this.currentTarget=p);if(b>=this.Gf+0.1)if(this.Gf=b,0===this.cg&&!this.currentTarget)this.vm(),this.currentTarget&&(this.jd=this.currentTarget.x,this.kd=this.currentTarget.y,this.b.trigger(Fb.prototype.C.ai,this.d));else if(1===this.cg){var e=this.currentTarget;this.wm();this.currentTarget&&this.currentTarget!==
e&&(this.jd=this.currentTarget.x,this.kd=this.currentTarget.y,this.b.trigger(Fb.prototype.C.ai,this.d))}if(this.currentTarget){e=ta(d.x,d.y,this.currentTarget.x,this.currentTarget.y);if(this.ph){var f=d.x,h=d.y,g=this.currentTarget.x,t=this.currentTarget.y,w=ta(g,t,this.jd,this.kd);this.xk(xa(g,t,this.jd,this.kd)/a);var u=this.Ol(),x=t-h,y=g-f,f=(u*Math.sin(w)*(f-g)-u*Math.cos(w)*(h-t))/this.rh,x=Math.asin(f/Math.sqrt(x*x+y*y))-Math.atan2(x,-y)+Math.PI;isNaN(x)||(e=x)}this.Ah&&(d.i=va(d.i,e,this.Bh*
a),d.G());b>=this.Hf+this.vh&&0.5>=pa(ua(d.i,e))&&(this.Hf=b,this.b.trigger(Fb.prototype.C.tk,this.d));this.jd=this.currentTarget.x;this.kd=this.currentTarget.y}}};b.prototype.tk=J(n);b.prototype.ai=J(n);d.C=new b;h.prototype.hk=function(a){var b=this.type.qd;if(-1===b.indexOf(a)){var d,e,f;d=0;for(e=b.length;d<e;d++)if(f=b[d],f.H&&-1!==f.Me.indexOf(a))return;b.push(a)}};d.Mb=new h;d.Zc=new (E())})();
function eb(){return[p,p,[[Bb,q,n,n,n,n,n,n,n,q]],[["t0",Bb,q,[],2,0,p,[["Default",5,q,1,0,q,0xe911d24d97356,[["images/rock-sheet0.png",1043,0,0,32,32,1,0.5,0.5,[],[0.125,-0.125,0.4375,0,0.125,0.125,0,0.125,-0.0625,0.0625,-0.375,0,-0.0625,-0.0625,0,-0.125],0]]]],[["Turret",Fb,6205050260627551],["Bullet",Cb,7137912251305262]],q,q,576869731765919,[]],["t1",Bb,q,[],1,0,p,[["Default",5,q,1,0,q,9881051106644284,[["images/target-sheet0.png",4233,0,0,64,64,1,0.5,0.5,[],[-0.171875,-0.171875,0,-0.3125,0.21875,
-0.21875,0.28125,0,0.203125,0.203125,0,0.296875,-0.21875,0.21875,-0.296875,0],0]]]],[["DragDrop",Db,9903904466780724]],q,q,7361396305833331,[]],["t2",Bb,q,[],1,0,p,[["Default",5,q,1,0,q,7405812696265559,[["images/sprite-sheet0.png",92,0,0,4,4,1,0.5,0.5,[],[],4]]]],[["Fade",Eb,7363935011039753]],q,q,0x77d1210d4d519,[]]],[],[["Layout 1",1280,1024,q,"Event sheet 1",6096575881394978,[["Layer 0",0,9674646358753358,n,[255,255,255],q,1,1,1,q,1,0,0,[[[246,262,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,0,[],[[1E3,0,
1,180,1,0,500],[200,0,0,0,1]],[0,"Default",0,1]],[[147,69,0,64,64,0,0,1,0.5,0.5,0,0,[]],1,1,[],[[0]],[0,"Default",0,1]],[[-10,100,0,4,4,0,0,1,0.5,0.5,0,0,[]],2,4,[],[[1,0,0,5,1]],[0,"Default",0,1]],[[232,96,0,64,64,0,0,1,0.5,0.5,0,0,[]],1,2,[],[[0]],[0,"Default",0,1]],[[381,142,0,64,64,0,0,1,0.5,0.5,0,0,[]],1,3,[],[[0]],[0,"Default",0,1]],[[144,289,0,64,64,0,0,1,0.5,0.5,0,0,[]],1,5,[],[[0]],[0,"Default",0,1]],[[309,339,0,64,64,0,0,1,0.5,0.5,0,0,[]],1,6,[],[[0]],[0,"Default",0,1]]],[]]],[],[]]],[["Event sheet 1",
[[0,p,q,0x650232ab328c,[[-1,Z.prototype.C.Zh,p,1,q,q,q,0x67177dc85f43]],[[0,Fb.prototype.Mb.hk,"Turret",8331767098061525,[[4,1]]]]],[0,p,q,5621605401685295,[[-1,Z.prototype.C.jk,p,0,q,q,q,5401766873201418]],[[0,Bb.prototype.Mb.uk,p,0x7dd9ff0c31c77,[[4,2],[5,[0,0]],[7,[0,0]]]]]]]]],"media/",q,640,480,4,n,n,n,"1.0.0.0",1,q,0,q,7,q,[]]};
