// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var j=!0,m=null,n=!1;function ba(){return function(){}}function q(a){return function(){return this[a]}}function A(a){return function(){return a}}var B,ca,da,C,D,ea,G,H,fa,ga,ja,ka,la,ma,na,I,oa,pa,J,qa,ra,sa,ta,ua,va,wa,xa,ya,K,za,Aa,Ba,Ca,Da,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La,N,Ma,Na,Oa,O;"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(a){return a.__proto__}:function(a){return a.constructor.prototype});
function P(a,b,c,d){this.set(a,b,c,d)}function Pa(){this.Ya=this.Xa=this.ab=this.$a=this.vb=this.ub=this.la=this.ka=0}function Qa(){this.Wb={};this.ad=0;this.td=[];this.Oc=j}function Ra(){this.Ic=this.pe=this.y=this.Ce=0}function Sa(a){this.uf=[];this.rk(a)}ca=function(a){console&&console.log&&console.log(a)};da=function(a){return"undefined"===typeof a};C=function(a){return"number"===typeof a};D=function(a){return"string"===typeof a};ea=function(a){return 0>a?-a:a};G=function(a,b){return a>b?a:b};
H=function(a,b){return a<b?a:b};fa=Math.PI;ga=function(a){return a|0};ja=function(a,b,c,d,e,f,g,i){if(G(a,c)<H(e,g)||H(a,c)>G(e,g)||G(b,d)<H(f,i)||H(b,d)>G(f,i))return n;var h=e-a+g-c,k=f-b+i-d,a=c-a,b=d-b,e=g-e,f=i-f,i=ea(b*e-f*a);return ea(e*k-f*h)<=i&&ea(a*k-b*h)<=i};B=P.prototype;B.set=function(a,b,c,d){this.left=a;this.top=b;this.right=c;this.bottom=d};B.width=function(){return this.right-this.left};B.height=function(){return this.bottom-this.top};
B.offset=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b;return this};B.Ab=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};B=Pa.prototype;B.Gf=function(a){this.ka=a.left;this.la=a.top;this.ub=a.right;this.vb=a.top;this.$a=a.right;this.ab=a.bottom;this.Xa=a.left;this.Ya=a.bottom};
B.Jh=function(a,b){if(0===b)this.Gf(a);else{var c=Math.sin(b),d=Math.cos(b),e=a.left*c,f=a.top*c,g=a.right*c,c=a.bottom*c,i=a.left*d,h=a.top*d,k=a.right*d,d=a.bottom*d;this.ka=i-f;this.la=h+e;this.ub=k-f;this.vb=h+g;this.$a=k-c;this.ab=d+g;this.Xa=i-c;this.Ya=d+e}};B.offset=function(a,b){this.ka+=a;this.la+=b;this.ub+=a;this.vb+=b;this.$a+=a;this.ab+=b;this.Xa+=a;this.Ya+=b;return this};
B.mg=function(a){a.left=H(H(this.ka,this.ub),H(this.$a,this.Xa));a.top=H(H(this.la,this.vb),H(this.ab,this.Ya));a.right=G(G(this.ka,this.ub),G(this.$a,this.Xa));a.bottom=G(G(this.la,this.vb),G(this.ab,this.Ya))};
B.Ab=function(a,b){var c=this.ub-this.ka,d=this.vb-this.la,e=this.$a-this.ka,f=this.ab-this.la,g=a-this.ka,i=b-this.la,h=c*c+d*d,k=c*e+d*f,d=c*g+d*i,l=e*e+f*f,r=e*g+f*i,p=1/(h*l-k*k),c=(l*d-k*r)*p,h=(h*r-k*d)*p;if(0<=c&&0<h&&1>c+h)return j;c=this.Xa-this.ka;d=this.Ya-this.la;h=c*c+d*d;k=c*e+d*f;d=c*g+d*i;p=1/(h*l-k*k);c=(l*d-k*r)*p;h=(h*r-k*d)*p;return 0<=c&&0<h&&1>c+h};ka=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};
la=function(a,b){var c,d,b=ga(b);if(!(0>b||b>=a.length))if(0===b)a.shift();else if(b===a.length-1)a.pop();else{c=b;for(d=a.length-1;c<d;c++)a[c]=a[c+1];a.length=d}};ma=function(a,b){a.length=b.length;var c,d;c=0;for(d=b.length;c<d;c++)a[c]=b[c]};na=function(a,b){var c=a.indexOf(b);-1!==c&&la(a,c)};I=function(a){return a/(180/fa)};oa=function(a){return a*(180/fa)};pa=function(a){a%=360;0>a&&(a+=360);return a};J=function(a){a%=2*fa;0>a&&(a+=2*fa);return a};qa=function(a){return pa(oa(a))};ra=function(a){return J(I(a))};
sa=function(a,b,c,d){return Math.atan2(d-b,c-a)};ta=function(a,b){if(a===b)return 0;var c=Math.sin(a),d=Math.cos(a),e=Math.sin(b),f=Math.cos(b),c=c*e+d*f;return 1<=c?0:-1>=c?fa:Math.acos(c)};ua=function(a,b,c){var d=Math.sin(a),e=Math.cos(a),f=Math.sin(b),g=Math.cos(b);return Math.acos(d*f+e*g)>c?0<e*f-d*g?J(a+c):J(a-c):J(b)};va=function(a,b){var c=Math.sin(a),d=Math.cos(a),e=Math.sin(b),f=Math.cos(b);return 0>=d*e-c*f};wa=function(a,b,c,d){a=c-a;b=d-b;return Math.sqrt(a*a+b*b)};
xa=function(a,b){return!a!==!b};ya=function(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b]};K=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()};B=Qa.prototype;B.contains=function(a){return this.Wb.hasOwnProperty(a.toString())};
B.add=function(a){this.contains(a)||(this.Wb[a.toString()]=a,this.ad++,this.Oc=n);return this};B.remove=function(a){this.contains(a)&&(delete this.Wb[a.toString()],this.ad--,this.Oc=n);return this};B.clear=function(){ya(this.Wb);this.ad=0;this.td.length=0;this.Oc=j;return this};B.Yc=function(){return 0===this.ad};B.Ck=function(){if(!this.Oc){this.td.length=this.ad;var a,b=0;for(a in this.Wb)this.Wb.hasOwnProperty(a)&&(this.td[b++]=this.Wb[a]);this.Oc=j}};B.we=function(){this.Ck();return this.td};
Ra.prototype.add=function(a){this.y=a-this.Ce;this.pe=this.Ic+this.y;this.Ce=this.pe-this.Ic-this.y;this.Ic=this.pe};Ra.prototype.reset=function(){this.Ic=this.pe=this.y=this.Ce=0};za=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};Sa.prototype.rk=function(a){this.Dh=a;this.Eh=a.length/2;this.uf.length=a.length;this.De=this.Ed=-1;this.ng=0};Sa.prototype.Lj=function(){return!this.Dh.length};
Sa.prototype.si=function(a,b,c){if(!(this.Ed===a&&this.De===b&&this.ng===c)){this.Ed=a;this.De=b;this.ng=c;var d,e,f,g=0,i=1,h=this.Dh,k=this.uf;0!==c&&(g=Math.sin(c),i=Math.cos(c));c=0;for(d=this.Eh;c<d;c++)e=h[2*c]*a,f=h[2*c+1]*b,k[2*c]=e*i-f*g,k[2*c+1]=f*i+e*g}};
Sa.prototype.Ab=function(a,b){var c=this.uf;if(a===c[0]&&b===c[1])return j;var d=5*-this.Ed-1,e=5*-this.De-1,f=5*this.Ed+1,g,i,h,k,l,r,p=0,u=0;l=0;for(r=this.Eh;l<r;l++)g=c[2*l],i=c[2*l+1],h=c[2*((l+1)%r)],k=c[2*((l+1)%r)+1],ja(d,e,a,b,g,i,h,k)&&p++,ja(f,-1,a,b,g,i,h,k)&&u++;return 1===p%2||1===u%2};var Ta="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");Aa=function(a){return 0>=a||11<=a?"source-over":Ta[a-1]};
Ba=function(a,b,c){if(c)switch(a.X=c.ONE,a.U=c.ONE_MINUS_SRC_ALPHA,b){case 1:a.X=c.ONE;a.U=c.ONE;break;case 3:a.X=c.ONE;a.U=c.ZERO;break;case 4:a.X=c.ONE_MINUS_DST_ALPHA;a.U=c.ONE;break;case 5:a.X=c.DST_ALPHA;a.U=c.ZERO;break;case 6:a.X=c.ZERO;a.U=c.SRC_ALPHA;break;case 7:a.X=c.ONE_MINUS_DST_ALPHA;a.U=c.ZERO;break;case 8:a.X=c.ZERO;a.U=c.ONE_MINUS_SRC_ALPHA;break;case 9:a.X=c.DST_ALPHA;a.U=c.ONE_MINUS_SRC_ALPHA;break;case 10:a.X=c.ONE_MINUS_DST_ALPHA,a.U=c.SRC_ALPHA}};
Ca=function(a){return Math.round(1E6*a)/1E6};var Ua="undefined"!==typeof Float32Array?Float32Array:Array;function Va(a){var b=new Ua(3);a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2]);return b}function Q(a){var b=new Ua(16);a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]);return b}
function Wa(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15]}function Xa(a,b){var c=b[0],d=b[1],b=b[2];a[0]*=c;a[1]*=c;a[2]*=c;a[3]*=c;a[4]*=d;a[5]*=d;a[6]*=d;a[7]*=d;a[8]*=b;a[9]*=b;a[10]*=b;a[11]*=b}
function Ya(a,b,c,d){d||(d=Q());var e,f,g,i,h,k,l,r,p=a[0],u=a[1],a=a[2];f=c[0];g=c[1];e=c[2];c=b[1];k=b[2];p===b[0]&&u===c&&a===k?(a=d,a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1):(c=p-b[0],k=u-b[1],l=a-b[2],r=1/Math.sqrt(c*c+k*k+l*l),c*=r,k*=r,l*=r,b=g*l-e*k,e=e*c-f*l,f=f*k-g*c,(r=Math.sqrt(b*b+e*e+f*f))?(r=1/r,b*=r,e*=r,f*=r):f=e=b=0,g=k*f-l*e,i=l*b-c*f,h=c*e-k*b,(r=Math.sqrt(g*g+i*i+h*h))?(r=1/r,g*=r,i*=r,h*=r):h=i=g=0,
d[0]=b,d[1]=g,d[2]=c,d[3]=0,d[4]=e,d[5]=i,d[6]=k,d[7]=0,d[8]=f,d[9]=h,d[10]=l,d[11]=0,d[12]=-(b*p+e*u+f*a),d[13]=-(g*p+i*u+h*a),d[14]=-(c*p+k*u+l*a),d[15]=1)}function Za(a){this.height=this.width=0;this.og=Va([0,0,100]);this.kh=Va([0,0,0]);this.Th=Va([0,1,0]);this.Vf=Va([1,1,1]);this.kf=Q();this.qa=Q();this.ah=Q();this.Je=Q();this.f=a;this.Qg()}
function $a(a,b,c){this.f=a;this.pd=b;this.name=c;this.pa=a.getAttribLocation(b,"aPos");this.Hb=a.getAttribLocation(b,"aTex");this.ih=a.getUniformLocation(b,"matP");this.yc=a.getUniformLocation(b,"matMV");this.zc=a.getUniformLocation(b,"opacity");this.jh=a.getUniformLocation(b,"samplerFront");this.ee=a.getUniformLocation(b,"samplerBack");this.xc=a.getUniformLocation(b,"destStart");this.wc=a.getUniformLocation(b,"destEnd");this.hf=a.getUniformLocation(b,"seconds");this.gf=a.getUniformLocation(b,"pixelWidth");
this.ff=a.getUniformLocation(b,"pixelHeight");this.ef=a.getUniformLocation(b,"layerScale");this.zc&&a.uniform1f(this.zc,1);this.jh&&a.uniform1i(this.jh,0);this.ee&&a.uniform1i(this.ee,1);this.xc&&a.uniform2f(this.xc,0,0);this.wc&&a.uniform2f(this.wc,1,1);this.Ub=n}function ab(a,b){this.type=a;this.l=b;this.f=b.f;this.Oa=this.va=this.yh=0;this.h=this.bc=m;this.Hf=[]}B=Za.prototype;
B.Qg=function(){var a=this.f,b;this.bh=1;this.qc=m;this.tg=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.DEPTH_TEST);this.cm=a.getParameter(a.MAX_TEXTURE_SIZE);this.dh=a.ONE;this.$g=a.ONE_MINUS_SRC_ALPHA;this.qf=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.qf);this.vd=Array(4);this.qd=Array(4);for(b=0;4>b;b++)this.vd[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.vd[b]),this.qd[b]=a.createBuffer(),
a.bindBuffer(a.ARRAY_BUFFER,this.qd[b]);this.cb=0;this.Hj=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Hj);this.Uf=new Float32Array(16E3);this.Kf=new Float32Array(16E3);this.Yj=new Float32Array(32E3);for(var c=new Uint16Array(12E3),d=b=0;12E3>b;)c[b++]=d,c[b++]=d+1,c[b++]=d+2,c[b++]=d,c[b++]=d+2,c[b++]=d+3,d+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,c,a.STATIC_DRAW);this.rf=this.Ta=0;this.K=[];b=this.Ge({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}","<default>");this.K.push(b);b=this.Ge({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}",
"<point>");this.K.push(b);for(var e in bb)bb.hasOwnProperty(e)&&this.K.push(this.Ge(bb[e],"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",e));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,m);this.zb=[];this.Wa=0;this.oa=this.ea=n;this.ug=this.bd=-1;this.Rc=m;this.gj=a.createFramebuffer();this.Gh=m;
this.Nb=Va([0,0,0]);a=a.getParameter(a.ALIASED_POINT_SIZE_RANGE);this.dm=a[0];this.bm=a[1];this.Qa(0)};
B.Ge=function(a,b,c){var d=this.f,e=d.createShader(d.FRAGMENT_SHADER);d.shaderSource(e,a.src);d.compileShader(e);if(!d.getShaderParameter(e,d.COMPILE_STATUS))return d.deleteShader(e),m;var f=d.createShader(d.VERTEX_SHADER);d.shaderSource(f,b);d.compileShader(f);if(!d.getShaderParameter(f,d.COMPILE_STATUS))return d.deleteShader(e),d.deleteShader(f),m;b=d.createProgram();d.attachShader(b,e);d.attachShader(b,f);d.linkProgram(b);if(!d.getProgramParameter(b,d.LINK_STATUS))return d.deleteShader(e),d.deleteShader(f),
d.deleteProgram(b),m;d.useProgram(b);d.validateProgram(b);d.deleteShader(e);d.deleteShader(f);c=new $a(d,b,c);c.Ne=a.Ne||0;c.Oe=a.Oe||0;c.sg=!!a.sg;c.kg=!!a.kg;c.e=a.e||[];a=0;for(e=c.e.length;a<e;a++)c.e[a][1]=d.getUniformLocation(b,c.e[a][0]),d.uniform1f(c.e[a][1],0);return c};B.Ue=function(a){var b,c;b=0;for(c=this.K.length;b<c;b++)if(this.K[b].name===a)return b;return-1};
B.Ch=function(a,b,c){var d=[0,0,this.width,this.height],e=this.qa,f=this.kf,g=[0,0,0,0,0,0,0,0];g[0]=e[0]*a+e[4]*b+e[12];g[1]=e[1]*a+e[5]*b+e[13];g[2]=e[2]*a+e[6]*b+e[14];g[3]=e[3]*a+e[7]*b+e[15];g[4]=f[0]*g[0]+f[4]*g[1]+f[8]*g[2]+f[12]*g[3];g[5]=f[1]*g[0]+f[5]*g[1]+f[9]*g[2]+f[13]*g[3];g[6]=f[2]*g[0]+f[6]*g[1]+f[10]*g[2]+f[14]*g[3];g[7]=-g[2];0!==g[7]&&(g[7]=1/g[7],g[4]*=g[7],g[5]*=g[7],g[6]*=g[7],c[0]=(0.5*g[4]+0.5)*d[2]+d[0],c[1]=(0.5*g[5]+0.5)*d[3]+d[1])};
B.Ff=function(a,b,c){if(!(this.width===a&&this.height===b&&!c)){this.Rb();this.width=a;this.height=b;this.f.viewport(0,0,a,b);var b=a/b,d=this.kf,e;e=1*Math.tan(45*Math.PI/360);b*=e;a=-b;c=-e;d||(d=Q());var f=b-a,g=e-c;d[0]=2/f;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=2/g;d[6]=0;d[7]=0;d[8]=(b+a)/f;d[9]=(e+c)/g;d[10]=-1001/999;d[11]=-1;d[12]=0;d[13]=0;d[14]=-2E3/999;d[15]=0;Ya(this.og,this.kh,this.Th,this.qa);a=[0,0];b=[0,0];this.Ch(0,0,a);this.Ch(1,1,b);this.Vf[0]=1/(b[0]-a[0]);this.Vf[1]=-1/(b[1]-a[1]);
a=0;for(b=this.K.length;a<b;a++)c=this.K[a],c.Ub=n,c.ih&&(this.f.useProgram(c.pd),this.f.uniformMatrix4fv(c.ih,n,this.kf));this.f.useProgram(this.K[this.bd].pd);this.f.bindTexture(this.f.TEXTURE_2D,m);this.qc=m}};B.Pa=function(){Ya(this.og,this.kh,this.Th,this.qa);Xa(this.qa,this.Vf)};
B.translate=function(a,b){if(!(0===a&&0===b)){this.Nb[0]=a;this.Nb[1]=b;this.Nb[2]=0;var c=this.qa,d=this.Nb,e=d[0],f=d[1],d=d[2];c[12]=c[0]*e+c[4]*f+c[8]*d+c[12];c[13]=c[1]*e+c[5]*f+c[9]*d+c[13];c[14]=c[2]*e+c[6]*f+c[10]*d+c[14];c[15]=c[3]*e+c[7]*f+c[11]*d+c[15]}};B.scale=function(a,b){1===a&&1===b||(this.Nb[0]=a,this.Nb[1]=b,this.Nb[2]=1,Xa(this.qa,this.Nb))};
B.Bf=function(a){if(0!==a){var b=this.qa,c,d=Math.sin(a),a=Math.cos(a),e=b[0],f=b[1],g=b[2],i=b[3],h=b[4],k=b[5],l=b[6],r=b[7];c?b!==c&&(c[8]=b[8],c[9]=b[9],c[10]=b[10],c[11]=b[11],c[12]=b[12],c[13]=b[13],c[14]=b[14],c[15]=b[15]):c=b;c[0]=e*a+h*d;c[1]=f*a+k*d;c[2]=g*a+l*d;c[3]=i*a+r*d;c[4]=e*-d+h*a;c[5]=f*-d+k*a;c[6]=g*-d+l*a;c[7]=i*-d+r*a}};
B.Sa=function(){for(var a=n,b=0;16>b;b++)if(this.ah[b]!==this.qa[b]){a=j;break}a&&(a=this.Ca(),a.type=5,a.h?Wa(this.qa,a.h):a.h=Q(this.qa),Wa(this.qa,this.ah),this.oa=this.ea=n)};B=ab.prototype;B.Fi=function(){this.f.bindTexture(this.f.TEXTURE_2D,this.bc)};B.Ci=function(){var a=this.yh,b=this.l;b.tg=a;b=b.Rc;b.zc&&this.f.uniform1f(b.zc,a)};B.zi=function(){this.f.drawElements(this.f.TRIANGLES,this.Oa,this.f.UNSIGNED_SHORT,2*this.va)};B.Bi=function(){this.f.blendFunc(this.va,this.Oa)};
B.Gi=function(){var a,b,c,d=this.l.K,e=this.l.ug;a=0;for(b=d.length;a<b;a++)c=d[a],a===e&&c.yc?(this.f.uniformMatrix4fv(c.yc,n,this.h),c.Ub=j):c.Ub=n;Wa(this.h,this.l.Je)};B.Ai=function(){var a=this.f,b=this.l;this.bc?(a.bindFramebuffer(a.FRAMEBUFFER,b.gj),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.bc,0)):(a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,m,0),a.bindFramebuffer(a.FRAMEBUFFER,m))};
B.xi=function(){var a=this.f;0===this.va?(a.clearColor(this.h[0],this.h[1],this.h[2],this.h[3]),a.clear(a.COLOR_BUFFER_BIT)):(a.enable(a.SCISSOR_TEST),a.scissor(this.h[0],this.h[1],this.h[2],this.h[3]),a.clearColor(0,0,0,0),a.clear(this.f.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST))};
B.yi=function(){var a=this.f,b=this.l,c=b.K[1];a.useProgram(c.pd);!c.Ub&&c.yc&&(a.uniformMatrix4fv(c.yc,n,b.Je),c.Ub=j);a.enableVertexAttribArray(c.pa);a.bindBuffer(a.ARRAY_BUFFER,b.qf);a.vertexAttribPointer(c.pa,4,a.FLOAT,n,0,0);a.drawArrays(a.POINTS,this.va/4,this.Oa);c=b.Rc;a.useProgram(c.pd);0<=c.pa&&(a.enableVertexAttribArray(c.pa),a.bindBuffer(a.ARRAY_BUFFER,b.vd[b.cb]),a.vertexAttribPointer(c.pa,2,a.FLOAT,n,0,0));0<=c.Hb&&(a.enableVertexAttribArray(c.Hb),a.bindBuffer(a.ARRAY_BUFFER,b.qd[b.cb]),
a.vertexAttribPointer(c.Hb,2,a.FLOAT,n,0,0))};B.Di=function(){var a=this.f,b=this.l,c=b.K[this.va];b.ug=this.va;b.Rc=c;a.useProgram(c.pd);!c.Ub&&c.yc&&(a.uniformMatrix4fv(c.yc,n,b.Je),c.Ub=j);c.zc&&a.uniform1f(c.zc,b.tg);0<=c.pa&&(a.enableVertexAttribArray(c.pa),a.bindBuffer(a.ARRAY_BUFFER,b.vd[b.cb]),a.vertexAttribPointer(c.pa,2,a.FLOAT,n,0,0));0<=c.Hb&&(a.enableVertexAttribArray(c.Hb),a.bindBuffer(a.ARRAY_BUFFER,b.qd[b.cb]),a.vertexAttribPointer(c.Hb,2,a.FLOAT,n,0,0))};
B.Ei=function(){var a,b,c=this.l.Rc,d=this.f;c.ee&&(d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,this.bc),d.activeTexture(d.TEXTURE0));c.gf&&d.uniform1f(c.gf,this.h[0]);c.ff&&d.uniform1f(c.ff,this.h[1]);c.xc&&d.uniform2f(c.xc,this.h[2],this.h[3]);c.wc&&d.uniform2f(c.wc,this.h[4],this.h[5]);c.ef&&d.uniform1f(c.ef,this.h[6]);c.hf&&d.uniform1f(c.hf,K()/1E3);if(c.e.length){a=0;for(b=c.e.length;a<b;a++)d.uniform1f(c.e[a][1],this.Hf[a])}};B=Za.prototype;
B.Ca=function(){this.Wa===this.zb.length&&this.zb.push(new ab(0,this));return this.zb[this.Wa++]};
B.Rb=function(){if(0!==this.Wa&&!this.f.isContextLost()){var a=this.f;0<this.rf&&(a.bindBuffer(a.ARRAY_BUFFER,this.qf),a.bufferData(a.ARRAY_BUFFER,this.Yj.subarray(0,this.rf),a.STREAM_DRAW),b&&(0<=b.pa&&"<point>"===b.name)&&a.vertexAttribPointer(b.pa,4,a.FLOAT,n,0,0));if(0<this.Ta){var b=this.Rc;a.bindBuffer(a.ARRAY_BUFFER,this.vd[this.cb]);a.bufferData(a.ARRAY_BUFFER,this.Uf.subarray(0,this.Ta),a.STREAM_DRAW);b&&(0<=b.pa&&"<point>"!==b.name)&&a.vertexAttribPointer(b.pa,2,a.FLOAT,n,0,0);a.bindBuffer(a.ARRAY_BUFFER,
this.qd[this.cb]);a.bufferData(a.ARRAY_BUFFER,this.Kf.subarray(0,this.Ta),a.STREAM_DRAW);b&&(0<=b.Hb&&"<point>"!==b.name)&&a.vertexAttribPointer(b.Hb,2,a.FLOAT,n,0,0)}for(var c,a=0,b=this.Wa;a<b;a++)switch(c=this.zb[a],c.type){case 1:c.zi();break;case 2:c.Fi();break;case 3:c.Ci();break;case 4:c.Bi();break;case 5:c.Gi();break;case 6:c.Ai();break;case 7:c.xi();break;case 8:c.yi();break;case 9:c.Di();break;case 10:c.Ei()}this.rf=this.Ta=this.Wa=0;this.oa=this.ea=n;this.cb++;4<=this.cb&&(this.cb=0)}};
B.od=function(a){if(a!==this.bh){var b=this.Ca();b.type=3;this.bh=b.yh=a;this.oa=this.ea=n}};B.Da=function(a){if(a!==this.qc){var b=this.Ca();b.type=2;this.qc=b.bc=a;this.oa=this.ea=n}};B.Jb=function(a,b){if(!(a===this.dh&&b===this.$g)){var c=this.Ca();c.type=4;c.va=a;c.Oa=b;this.dh=a;this.$g=b;this.oa=this.ea=n}};B.Ih=function(){this.Jb(this.f.ONE,this.f.ONE_MINUS_SRC_ALPHA)};
B.Fh=function(a,b,c,d,e,f,g,i){15992<=this.Ta&&this.Rb();var h=this.Ta,k=this.Uf,l=this.Kf;if(this.ea)this.zb[this.Wa-1].Oa+=6;else{var r=this.Ca();r.type=1;r.va=3*(h/4);r.Oa=6;this.ea=j;this.oa=n}k[h]=a;l[h++]=0;k[h]=b;l[h++]=0;k[h]=c;l[h++]=1;k[h]=d;l[h++]=0;k[h]=e;l[h++]=1;k[h]=f;l[h++]=1;k[h]=g;l[h++]=0;k[h]=i;l[h++]=1;this.Ta=h};
B.Ec=function(a,b,c,d,e,f,g,i,h){15992<=this.Ta&&this.Rb();var k=this.Ta,l=this.Uf,r=this.Kf;if(this.ea)this.zb[this.Wa-1].Oa+=6;else{var p=this.Ca();p.type=1;p.va=3*(k/4);p.Oa=6;this.ea=j;this.oa=n}l[k]=a;r[k++]=h.left;l[k]=b;r[k++]=h.top;l[k]=c;r[k++]=h.right;l[k]=d;r[k++]=h.top;l[k]=e;r[k++]=h.right;l[k]=f;r[k++]=h.bottom;l[k]=g;r[k++]=h.left;l[k]=i;r[k++]=h.bottom;this.Ta=k};
B.Qa=function(a){if(this.bd!==a){if(!this.K[a]){if(0===this.bd)return;a=0}var b=this.Ca();b.type=9;this.bd=b.va=a;this.oa=this.ea=n}};B.kd=function(a){a=this.K[a];return!(!a.xc&&!a.wc)};B.sf=function(a){return this.K[a].sg};B.ck=function(a){a=this.K[a];return 0!==a.Ne||0!==a.Oe};B.mj=function(a){return this.K[a].Ne};B.nj=function(a){return this.K[a].Oe};B.oj=function(a,b){return this.K[a].e[b][2]};B.ke=function(a){return this.K[a].kg};
B.Fc=function(a,b,c,d,e,f,g,i,h){var k=this.K[this.bd];if(k.gf||k.ff||k.hf||k.ee||k.xc||k.wc||k.ef||h.length){k=this.Ca();k.type=10;k.h?Wa(this.qa,k.h):k.h=Q();k.h[0]=b;k.h[1]=c;k.h[2]=d;k.h[3]=e;k.h[4]=f;k.h[5]=g;k.h[6]=i;k.bc=a;if(h.length){k.Hf.length=h.length;a=0;for(b=h.length;a<b;a++)k.Hf[a]=h[a]}this.oa=this.ea=n}};B.clear=function(a,b,c,d){var e=this.Ca();e.type=7;e.va=0;e.h||(e.h=Q());e.h[0]=a;e.h[1]=b;e.h[2]=c;e.h[3]=d;this.oa=this.ea=n};
B.clearRect=function(a,b,c,d){var e=this.Ca();e.type=7;e.va=1;e.h||(e.h=Q());e.h[0]=a;e.h[1]=b;e.h[2]=c;e.h[3]=d;this.oa=this.ea=n};B.bk=function(){this.Rb();this.f.flush()};var cb=[];
Za.prototype.bb=function(a,b,c,d){this.Rb();var e=this.f,f=e.createTexture();e.bindTexture(e.TEXTURE_2D,f);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,a,b,0,e.RGBA,d?e.UNSIGNED_SHORT_4_4_4_4:e.UNSIGNED_BYTE,m);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,c?e.LINEAR:e.NEAREST);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,c?e.LINEAR:e.NEAREST);e.bindTexture(e.TEXTURE_2D,m);
this.qc=m;f.Dd=a;f.Cd=b;cb.push(f);return f};Za.prototype.Ek=function(a,b,c){this.Rb();var d=this.f;d.bindTexture(d.TEXTURE_2D,b);d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,c?d.UNSIGNED_SHORT_4_4_4_4:d.UNSIGNED_BYTE,a);d.bindTexture(d.TEXTURE_2D,m);this.qc=m};Za.prototype.deleteTexture=function(a){a&&(this.Rb(),this.f.bindTexture(this.f.TEXTURE_2D,m),this.qc=m,this.f.deleteTexture(a),na(cb,a))};Za.prototype.sb=function(a){if(a!==this.Gh){var b=this.Ca();b.type=6;this.Gh=b.bc=a;this.oa=this.ea=n}};
function S(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var b=this;this.oc="undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap);this.lb=!!a.dc;this.Xc="undefined"!==typeof window.AppMobi||this.lb;if(this.mc=!!window.c2cocoonjs)CocoonJS.App.onSuspended.addEventListener(function(){b.ok(j)}),CocoonJS.App.onActivated.addEventListener(function(){b.ok(n)});this.$=this.lb||this.mc;this.Tg=/android/i.test(navigator.userAgent);
this.Xl=/msie/i.test(navigator.userAgent);this.Yd=/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent);this.Yg=/ipad/i.test(navigator.userAgent);this.$c=this.Yd||this.Yg;this.Ug=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent);this.Yl=!this.Ug&&/safari/i.test(navigator.userAgent);this.Jj=/windows/i.test(navigator.userAgent);this.Vg="undefined"!==typeof window.c2nodewebkit;this.Ij="undefined"!==typeof window.is_scirra_arcade;this.devicePixelRatio=1;this.nc=
this.oc||this.Xc||this.mc||this.Tg||this.$c;this.nc||(this.nc=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet)/i.test(navigator.userAgent));this.canvas=a;this.pg=document.getElementById("c2canvasdiv");this.o=this.l=this.f=m;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return n};this.canvas.xh=function(a){a.preventDefault&&a.preventDefault();return n};this.lb&&(window.c2runtime=this);this.width=a.width;this.height=a.height;this.tc=this.width;
this.sc=this.height;this.u=j;this.Zc=n;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.j=[];this.Y=[];this.df={};this.uc=[];this.Me={};this.Sb=[];this.ye=[];this.te=[];this.pi=[];this.Ka=new Qa;this.Ze=n;this.mb=0;this.af=n;this.Ja=[];this.Gk=this.Fe=this.ge=this.Db=this.jc=0;this.Of=1;this.cf=new Ra;this.$d=0;this.lh=j;this.ie=this.Nd=this.xg=this.Mf=this.cd=this.Qe=0;this.Fd=m;this.vg=[];this.Le=[];this.Jd=-1;this.jf=[[]];this.Rf=this.fe=0;this.wf(m);this.Zl=
[];this.$l=-1;this.he=0;this.hh=j;this.Sc=0;this.oe=[];this.Nf=this.xf=0;this.Zd=j;this.de=0;this.Td=n;this.tk=0;this.Qd=n;this.sh=new Qa;this.nf=new Qa;this.fk=[];this.em=new Sa([]);this.fm=new Sa([]);this.oi=[];this.mi={};this.Aa=this.ia=this.gh=this.ce=this.q=m;this.Kc=this.bf=n;this.Se=[m,m];this.Re=0;this.hj="";this.me=this.vc=m;this.sk="";this.load();this.devicePixelRatio=!this.$&&this.ve&&this.$c?window.devicePixelRatio||1:1;this.ga();var c;"undefined"!==typeof jQuery&&0<this.Gb&&this.setSize(jQuery(window).width(),
jQuery(window).height());try{if(this.Ii&&!this.$){c={depth:n,antialias:!this.nc};var d=j;if(this.Ug&&this.Jj){var e=document.createElement("canvas");if("OES_texture_float,OES_standard_derivatives,WEBKIT_WEBGL_lose_context"===(e.getContext("webgl",c)||e.getContext("experimental-webgl",c)).getSupportedExtensions().toString())d=n}d&&(this.f=a.getContext("webgl",c)||a.getContext("experimental-webgl",c))}}catch(f){}if(this.f){this.ba=document.createElement("canvas");jQuery(this.ba).appendTo(this.canvas.parentNode);
this.ba.oncontextmenu=A(n);this.ba.xh=A(n);this.ba.width=a.width;this.ba.height=a.height;this.Bh();this.pf=this.ba.getContext("2d");this.l=new Za(this.f);this.l.Ff(a.width,a.height);this.o=m;this.canvas.addEventListener("webglcontextlost",function(a){console.log("WebGL context lost");a.preventDefault();b.Pj();window.cr_setSuspended(j)},n);this.canvas.addEventListener("webglcontextrestored",function(){console.log("WebGL context restored");b.l.Qg();b.l.Ff(b.l.width,b.l.height,j);b.ia=m;b.Aa=m;b.Se[0]=
m;b.Se[1]=m;b.Qj();b.u=j;window.cr_setSuspended(n)},n);var g,i,h,k,l,a=0;for(c=this.j.length;a<c;a++){g=this.j[a];d=0;for(e=g.n.length;d<e;d++)h=g.n[d],h.S=this.l.Ue(h.id),this.Kc=this.Kc||this.l.kd(h.S)}a=0;for(c=this.uc.length;a<c;a++){k=this.uc[a];d=0;for(e=k.n.length;d<e;d++)h=k.n[d],h.S=this.l.Ue(h.id);d=0;for(e=k.s.length;d<e;d++){l=k.s[d];g=0;for(i=l.n.length;g<i;g++)h=l.n[g],h.S=this.l.Ue(h.id),this.Kc=this.Kc||this.l.kd(h.S)}}}else{if(0<this.Gb&&this.lb){this.canvas=m;document.oncontextmenu=
A(n);document.xh=A(n);this.o=AppMobi.canvas.getContext("2d");try{this.o.samplingMode=this.M?"smooth":"sharp",this.o.globalScale=1,this.o.HTML5CompatibilityMode=j}catch(r){}0!==this.width&&0!==this.height&&(this.o.width=this.width,this.o.height=this.height)}this.o||(this.mc?(c={antialias:!!this.M},this.o=a.getContext("2d",c)):this.o=a.getContext("2d"),this.o.webkitImageSmoothingEnabled=this.M,this.o.mozImageSmoothingEnabled=this.M,this.o.msImageSmoothingEnabled=this.M,this.o.imageSmoothingEnabled=
this.M);this.pf=this.ba=m}var p=this;this.Oh=function(){p.rd()};this.go();this.Fb={}}}
S.prototype.setSize=function(a,b){var c=this.Dj&&this.Yd&&!navigator.standalone&&!this.$&&!this.oc,d=0;c&&(this.Yd?d=60:this.Tg&&(d=56),b+=d);var e=0,f=0,g=0,i=0,h=0,h=this.Gb,k=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||this.Td;k&&0<this.Re&&(h=this.Re);3<=h?(g=this.sa/this.ra,a/b>g?(g*=b,4===h?(h=g/this.sa,1<h?h=Math.floor(h):1>h&&(h=1/Math.ceil(1/h)),g=this.sa*h,i=this.ra*h,e=(a-g)/2,f=(b-i)/2,a=g,b=i):(e=(a-g)/2,a=g)):(i=a/g,4===h?(h=i/this.ra,1<h?h=Math.floor(h):
1>h&&(h=1/Math.ceil(1/h)),g=this.sa*h,i=this.ra*h,e=(a-g)/2,f=(b-i)/2,a=g):f=(b-i)/2,b=i),k&&!this.Vg&&(f=e=0),e=Math.floor(e),f=Math.floor(f),a=Math.floor(a),b=Math.floor(b)):this.Vg&&(this.Td&&0===this.Fg)&&(e=Math.floor((a-this.sa)/2),f=Math.floor((b-this.ra)/2),a=this.sa,b=this.ra);if((k=!this.$&&this.ve&&this.$c)&&this.Yg&&1<this.devicePixelRatio)1024<=a&&(a=1023),1024<=b&&(b=1023);g=this.devicePixelRatio;this.width=a*g;this.height=b*g;this.u=j;this.pg&&!this.$&&(jQuery(this.pg).css({width:a+
"px",height:b+"px","margin-left":e,"margin-top":f}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:a+"px",height:b+"px"}));this.canvas&&(this.canvas.width=a*g,this.canvas.height=b*g,k&&jQuery(this.canvas).css({width:a+"px",height:b+"px"}));this.ba&&(this.ba.width=a,this.ba.height=b);this.l&&this.l.Ff(a,b);this.lb&&this.o&&(this.o.width=a,this.o.height=b);this.o&&(this.o.webkitImageSmoothingEnabled=this.M,this.o.mozImageSmoothingEnabled=this.M,this.o.msImageSmoothingEnabled=this.M,
this.o.imageSmoothingEnabled=this.M);c&&0<d&&window.setTimeout(function(){window.scrollTo(0,1)},100)};S.prototype.Pj=function(){this.bf=j;var a,b,c;a=0;for(b=this.j.length;a<b;a++)c=this.j[a],c.th&&c.th()};S.prototype.Qj=function(){this.bf=n;var a,b,c;a=0;for(b=this.j.length;a<b;a++)c=this.j[a],c.Xj&&c.Xj()};
S.prototype.Bh=function(){var a=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||this.Td?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.ba).css(a)};var db=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;
S.prototype.setSuspended=function(a){var b;if(a&&!this.Zc){this.Zc=j;0!==this.xf&&db&&db(this.xf);0!==this.Nf&&clearTimeout(this.Nf);a=0;for(b=this.oe.length;a<b;a++)this.oe[a](j)}else if(!a&&this.Zc){this.Zc=n;this.$d=K();this.cd=K();a=this.Nd=0;for(b=this.oe.length;a<b;a++)this.oe[a](n);this.rd()}};
S.prototype.load=function(){var a=eb();this.name=a[0];this.Dg=a[1];this.Gb=a[11];this.Fg=a[11];this.$&&3<=a[11]&&(ca("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale'"),this.Fg=this.Gb=2);this.Sf=a[17];this.ed=a[18];0===this.ed&&(this.vc=new Image,this.vc.src="logo.png");this.ac=new T(this);var b,c,d,e,f,g,i,h,k;b=0;for(c=a[2].length;b<c;b++)i=a[2][b],fb(i),k=new i[0](this),k.If=i[1],k.Xd=i[2],k.nh=i[9],k.aa&&k.aa(),this.plugins.push(k);a=
eb();b=0;for(c=a[3].length;b<c;b++){i=a[3][b];f=i[1];k=m;d=0;for(e=this.plugins.length;d<e;d++)if(this.plugins[d]instanceof f){k=this.plugins[d];break}var l=new k.Lc(k);l.name=i[0];l.Q=i[2];l.Dk=i[3];l.ri=i[4];l.ij=i[5];l.Q?(l.mh=[],l.Na=this.Sc++,l.F=m):(l.mh=m,l.Na=-1,l.F=[]);l.Ld=m;l.kc=m;l.zg=m;l.nb=n;l.ha=m;i[6]?(l.wk=i[6][0],l.xk=i[6][1],l.yk=i[6][2]):(l.wk=m,l.xk=0,l.yk=0);l.Ol=i[7]?i[7]:m;l.index=b;l.b=[];l.Hd=[];l.Mb=[new Da(l)];l.eb=0;l.Bb=m;l.$b=j;l.ue=gb;l.Vl=hb;l.lj=ib;l.G=jb;l.ld=kb;
l.vf=lb;l.Dc=mb;l.Od=nb;l.Te=ob;l.Hg=pb;l.zd=qb;l.Fb={};l.toString=rb;l.Y=[];d=0;for(e=i[8].length;d<e;d++){h=i[8][d];var r=h[1],p=m;f=0;for(g=this.Y.length;f<g;f++)if(this.Y[f]instanceof r){p=this.Y[f];break}p||(p=new r(this),p.mf=new Qa,p.aa&&p.aa(),this.Y.push(p));f=new p.Lc(p,l);f.name=h[0];f.aa();l.Y.push(f)}l.global=i[9];l.$e=i[10];l.n=[];d=0;for(e=i[11].length;d<e;d++)l.n.push({id:i[11][d][0],name:i[11][d][1],S:-1,Mc:j,index:d});(!this.Sf||l.Q||l.$e||!k.Xd)&&l.aa();l.name&&(this.types[l.name]=
l);this.j.push(l);k.If&&(d=new k.xb(l),d.uid=this.he,this.he++,d.Vc=0,d.Pd=sb,d.toString=tb,d.ja=i[12],d.aa(),l.b.push(d))}b=0;for(c=a[4].length;b<c;b++){f=a[4][b];g=this.j[f[0]];d=1;for(e=f.length;d<e;d++)i=this.j[f[d]],i.F.push(g),g.mh.push(i)}b=0;for(c=a[20].length;b<c;b++){f=a[20][b];g=[];d=0;for(e=f.length;d<e;d++)g.push(this.j[f[d]]);d=0;for(e=g.length;d<e;d++)g[d].nb=j,g[d].ha=g}if(0<this.Sc){b=0;for(c=this.j.length;b<c;b++)if(i=this.j[b],!i.Q&&i.F.length){i.Ld=Array(this.Sc);i.kc=Array(this.Sc);
i.zg=Array(this.Sc);l=[];d=p=r=h=0;for(e=i.F.length;d<e;d++){k=i.F[d];i.Ld[k.Na]=h;h+=k.Dk;i.kc[k.Na]=r;r+=k.ri;i.zg[k.Na]=p;p+=k.ij;f=0;for(g=k.n.length;f<g;f++)l.push(ka({},k.n[f]))}i.n=l.concat(i.n);d=0;for(e=i.n.length;d<e;d++)i.n[d].index=d}}b=0;for(c=a[5].length;b<c;b++)i=a[5][b],d=new Ea(this,i),this.df[d.name]=d,this.uc.push(d);b=0;for(c=a[6].length;b<c;b++)i=a[6][b],d=new Fa(this,i),this.Me[d.name]=d,this.Sb.push(d);b=0;for(c=this.Sb.length;b<c;b++)this.Sb[b].w();b=0;for(c=this.te.length;b<
c;b++)this.te[b].w();this.te.length=0;this.hj=a[7];this.jd=a[8];this.sa=a[9];this.ra=a[10];this.Ae=1;this.Ii=a[12];this.M=a[13];this.qg=a[14];this.mm=a[15];b=a[16];2===b&&(b=this.Yd?1:0);this.ve=0!==b;this.Dj=a[19];this.Mh=Date.now()};S.prototype.lg=function(){var a=0,b=0,c=j,d,e;d=0;for(e=this.ye.length;d<e;d++){var f=this.ye[d].Rl;if(!f||0>=f)f=5E4;a+=f;this.ye[d].complete||this.ye[d].loaded?b+=f:c=n}this.Zb=0==a?0:b/a;return c};
S.prototype.go=function(){if(this.o||this.l){var a=this.o||this.pf;this.ba&&this.Bh();this.Zb=0;this.eh=-1;if(this.lg())this.Cj();else{var b=Date.now()-this.Mh;if(3!==this.ed&&500<=b&&this.eh!=this.Zb){a.clearRect(0,0,this.width,this.height);var b=this.width/2,c=this.height/2,d=0===this.ed&&this.vc.complete,e=40,f=0,g=80;d&&(g=this.vc.width,e=g/2,f=this.vc.height/2,a.drawImage(this.vc,ga(b-e),ga(c-f)));1>=this.ed?(b=ga(b-e)+0.5,c=ga(c+(f+(d?12:0)))+0.5,a.fillStyle="DodgerBlue",a.fillRect(b,c,Math.floor(g*
this.Zb),6),a.strokeStyle="black",a.strokeRect(b,c,g,6),a.strokeStyle="white",a.strokeRect(b-1,c-1,g+2,8)):2===this.ed&&(a.font="12pt Arial",a.fillStyle="#999",a.gm="middle",d=Math.round(100*this.Zb)+"%",e=a.measureText?a.measureText(d):m,a.fillText(d,b-(e?e.width:0)/2,c));this.eh=this.Zb}var i=this;setTimeout(function(){i.go()},100)}}};
S.prototype.Cj=function(){this.ba&&(this.canvas.parentNode.removeChild(this.ba),this.ba=this.pf=m);this.Mh=Date.now();this.cd=K();var a,b,c;if(this.Sf){a=0;for(b=this.j.length;a<b;a++)c=this.j[a],!c.Q&&(!c.$e&&c.ta.Xd)&&c.aa()}else this.Zd=n;a=0;for(b=this.uc.length;a<b;a++)this.uc[a].ti();this.Dg?this.df[this.Dg].Jf():this.uc[0].Jf();this.Sf||(this.de=1,this.trigger(T.prototype.v.Yf,m));this.rd();this.lb&&AppMobi.webview.execute("onGameReady();")};
var ub=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;B=S.prototype;
B.rd=function(){if(this.Ij){var a=jQuery(window).width(),b=jQuery(window).height();if(this.tc!==a||this.sc!==b)this.tc=a,this.sc=b,this.setSize(a,b)}a=K();this.Zd&&(b=this.lg(),this.de=this.Zb,b&&(this.Zd=n,this.Zb=1,this.trigger(T.prototype.v.Yf,m)));this.Oj();if((this.u||this.mc)&&!this.bf)this.u=n,this.l?this.La():this.Cb(),this.me&&(this.canvas&&this.canvas.toDataURL&&(this.sk=this.canvas.toDataURL(this.me[0],this.me[1]),this.trigger(T.prototype.v.Zh,m)),this.me=m);this.Mf++;this.xg++;this.Nd++;
this.ge+=K()-a;this.Zc||(ub?this.xf=ub(this.Oh,this.canvas):this.Nf=setTimeout(this.Oh,this.nc?1:16))};
B.Oj=function(){var a,b,c,d,e,f,g,i;a=K();1E3<=a-this.cd&&(this.cd+=1E3,this.Qe=this.Nd,this.Nd=0,this.Fe=this.ge,this.ge=0);this.lh&&(0!==this.$d&&(b=a-this.$d,0===b?(this.Gk++,10<=this.nm&&(this.lh=n),this.Db=1/60):(this.Db=b/1E3,0.5<this.Db?this.Db=0:0.1<this.Db&&(this.Db=0.1))),this.$d=a);this.jc=this.Db*this.Of;this.cf.add(this.jc);a=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||this.Td;2<=this.Gb||a&&0<this.Re?(this.Ae=this.width/this.height>this.sa/this.ra?this.height/
this.ra:this.width/this.sa,this.q&&(this.q.mk(this.q.scrollX),this.q.nk(this.q.scrollY))):this.Ae=1;this.ga();this.mb++;this.ac.hk();this.mb--;this.ga();this.mb++;a=0;for(b=this.j.length;a<b;a++)if(g=this.j[a],g.Y.length){c=0;for(d=g.b.length;c<d;c++){var h=g.b[c];e=0;for(f=h.T.length;e<f;e++)h.T[e].rd()}}c=this.sh.we();a=0;for(b=c.length;a<b;a++)c[a].rd();this.mb--;for(a=0;this.Fd&&10>a++;){this.q.uk();c=0;for(d=this.j.length;c<d;c++)g=this.j[c],g.Ak&&-1===this.Fd.Wc.indexOf(g)&&g.Ak();this.Fd.Jf();
a=0;for(b=this.j.length;a<b;a++)if(g=this.j[a],g.global||g.ta.If){c=0;for(d=g.b.length;c<d;c++)h=g.b[c],h.Rj&&h.Rj()}this.hh=this.u=j;this.ga()}a=0;for(b=this.Sb.length;a<b;a++)this.Sb[a].We=n;this.q.Id&&this.q.Id.J();this.fk.length=0;this.hh=n;this.mb++;a=0;for(b=this.j.length;a<b;a++)if(g=this.j[a],g.Y.length){c=0;for(d=g.b.length;c<d;c++){h=g.b[c];e=0;for(f=h.T.length;e<f;e++)i=h.T[e],i.Lf&&i.Lf()}}c=this.nf.we();a=0;for(b=c.length;a<b;a++)c[a].Lf();this.mb--};B.zk=function(a){this.nf.add(a)};
B.jj=function(a){return!a||-1===a.oh?this.jc:this.Db*a.oh};B.Cb=function(){this.q.Cb(this.o);this.lb&&this.o.present()};B.La=function(){this.q.La(this.l)};B.wd=function(a){var b,c;if(!this.Ka.contains(a)){this.Ka.add(a);if(a.nb){b=0;for(c=a.siblings.length;b<c;b++)this.wd(a.siblings[b])}this.Ze&&this.Ka.td.push(a);this.mb++;this.trigger(Object.getPrototypeOf(a.type.ta).v.$h,a);this.mb--}};
B.ga=function(){var a,b,c,d,e,f,g,i,h,k;this.Ze=j;d=0;for(f=this.Ja.length;d<f;d++){a=this.Ja[d];b=a.type;b.b.push(a);b.$b=j;e=0;for(g=b.F.length;e<g;e++)b.F[e].b.push(a),b.F[e].$b=j}this.Ja.length=0;f=this.Ka.we();for(d=0;d<f.length;d++){a=f[d];b=a.type;c=b.b;e=0;for(g=this.vg.length;e<g;e++)this.vg[e](a);na(c,a);a.c&&(la(a.c.b,a.jb()),a.c.Ob=j);e=0;for(g=b.F.length;e<g;e++)na(b.F[e].b,a),b.F[e].$b=j;if(a.T){e=0;for(g=a.T.length;e<g;e++)c=a.T[e],c.je&&c.je(),c.Bd.mf.remove(a)}this.sh.remove(a);this.nf.remove(a);
e=0;for(g=this.ac.wb.length;e<g;e++)if(h=this.ac.wb[e],h.Gc.hasOwnProperty(b.index)&&na(h.Gc[b.index],a),!b.Q){c=0;for(i=b.F.length;c<i;c++)k=b.F[c],h.Gc.hasOwnProperty(k.index)&&na(h.Gc[k.index],a)}a.je&&a.je();this.ie--;32>b.Hd.length&&b.Hd.push(a);b.$b=j}this.Ka.Yc()||(this.u=j);this.Ka.clear();this.Ze=n};var U=[];B=S.prototype;
B.Qc=function(a,b,c,d,e,f){var g,i,h,k;if(!a)return m;var l=this.j[a[1]],r=l.ta.Xd;if(this.Zd&&r&&!l.$e||r&&!this.l&&11===a[0][11])return m;r||(b=m);var p,u=n;l.Hd.length?(p=l.Hd.pop(),u=j,l.ta.xb.call(p,l)):p=new l.ta.xb(l);p.uid=this.he;this.he++;p.Vc=0;p.Pd=sb;l.$b=j;h=a[2];if(u){g=0;for(i=h.length;g<i;g++)p.za[g]=h[g];ya(p.Fb)}else p.za=h.slice(0),p.Fb={};if(r){var s=a[0];p.x=da(d)?s[0]:d;p.y=da(e)?s[1]:e;p.Xh=s[2];p.width=s[3];p.height=s[4];p.depth=s[5];p.d=s[6];p.opacity=s[7];p.Ej=s[8];p.Fj=
s[9];p.Ia=s[10];g=s[11];!this.l&&l.n.length&&(p.Ia=g);p.Gd=Aa(p.Ia);this.f&&Ba(p,p.Ia,this.f);if(u){g=0;for(i=s[12].length;g<i;g++){h=0;for(k=s[12][g].length;h<k;h++)p.V[g][h]=s[12][g][h]}p.p.set(0,0,0,0);p.Za.Gf(p.p);p.Ad.length=0}else{p.V=s[12].slice(0);g=0;for(i=p.V.length;g<i;g++)p.V[g]=s[12][g].slice(0);p.m=[];p.hc=[];p.hc.length=l.n.length;p.p=new P(0,0,0,0);p.Za=new Pa;p.Ad=[];p.Z=vb;p.Nl=wb;p.Ab=xb;p.ec=yb;p.jb=zb}g=0;for(i=l.n.length;g<i;g++)p.hc[g]=j;p.Jc=Ab;p.Jc();p.Vh=!!p.m.length;p.Be=
j;p.visible=j;p.oh=-1;p.c=b;p.Wf=b.b.length;"undefined"===typeof p.Pc&&(p.Pc=m);this.u=p.Ql=j}p.toString=tb;var t;g=U.length=0;for(i=l.F.length;g<i;g++)U.push.apply(U,l.F[g].Y);U.push.apply(U,l.Y);if(u){g=0;for(i=U.length;g<i;g++){var E=U[g];t=p.T[g];E.Bd.xb.call(t,E,p);s=a[3][g];h=0;for(k=s.length;h<k;h++)t.ja[h]=s[h];t.aa();E.Bd.mf.add(p)}}else{p.T=[];g=0;for(i=U.length;g<i;g++)E=U[g],t=new E.Bd.xb(E,p),t.ja=a[3][g].slice(0),t.aa(),p.T.push(t),E.Bd.mf.add(p)}s=a[4];if(u){g=0;for(i=s.length;g<i;g++)p.ja[g]=
s[g]}else p.ja=s.slice(0);this.Ja.push(p);b&&b.b.push(p);this.ie++;if(l.nb){if(p.nb=j,p.siblings=[],!c&&!f){g=0;for(i=l.ha.length;g<i;g++)if(l.ha[g]!==l){if(!l.ha[g].Bb)return m;p.siblings.push(this.Qc(l.ha[g].Bb,b,n,r?p.x:d,r?p.y:e,j))}g=0;for(i=p.siblings.length;g<i;g++){p.siblings[g].siblings.push(p);for(h=0;h<i;h++)g!==h&&p.siblings[g].siblings.push(p.siblings[h])}}}else p.nb=n,p.siblings=m;p.aa();g=0;for(i=p.T.length;g<i;g++)p.T[g].$j&&p.T[g].$j();return p};
B.Tc=function(a){var b,c;b=0;for(c=this.q.s.length;b<c;b++){var d=this.q.s[b];if(d.name.toLowerCase()===a.toLowerCase())return d}return m};B.hb=function(a){a=ga(a);0>a&&(a=0);a>=this.q.s.length&&(a=this.q.s.length-1);return this.q.s[a]};B.Ee=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].G().R=j};B.ld=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].ld()};B.vf=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].vf()};B.Dc=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Dc()};
B.vk=function(a,b,c){var d=a.G(),e,f,g,i,h,k;if(d.R){d.R=n;e=d.b.length=0;for(i=a.b.length;e<i;e++)g=a.b[e],g.ec(),h=g.c.P(b,c,j),k=g.c.P(b,c,n),g.Ab(h,k)&&d.b.push(g)}else{e=f=0;for(i=d.b.length;e<i;e++)g=d.b[e],g.ec(),h=g.c.P(b,c,j),k=g.c.P(b,c,n),g.Ab(h,k)&&(d.b[f]=d.b[e],f++);d.b.length=f}a.zd();return d.Ve()};var Bb=[],Cb=-1;B=S.prototype;B.trigger=function(a,b,c){if(!this.q)return n;var d=this.q.Id;if(!d)return n;Cb++;Cb===Bb.length?Bb.push(new Qa):Bb[Cb].clear();a=this.Qh(a,b,d,c);Cb--;return a};
B.Qh=function(a,b,c,d){var e=Bb[Cb];if(e.contains(c))return n;e.add(c);var e=c.Pg.we(),f=n,g,i,h;g=0;for(i=e.length;g<i;g++)h=this.Qh(a,b,e[g],d),f=f||h;if(b){h=this.Qf(a,b,b.type.name,c,d);f=f||h;g=0;for(i=b.type.F.length;g<i;g++)h=this.Qf(a,b,b.type.F[g].name,c,d),f=f||h}else h=this.Qf(a,b,"system",c,d),f=f||h;return f};
B.Qf=function(a,b,c,d,e){var f,g=n,i=n,i="undefined"!==typeof e,h=(i?d.Bg:d.Rh)[c];if(!h)return g;var k=m,d=0;for(f=h.length;d<f;d++)if(h[d].method==a){k=h[d].Kd;break}if(!k)return g;a=i?k[e]:k;if(!a)return m;d=0;for(f=a.length;d<f;d++)e=a[d][0],i=a[d][1],i=this.fj(b,c,e,i),g=g||i;return g};
B.fj=function(a,b,c,d){var e,f,g=n;this.Rf++;var i=this.ya().fb;i&&this.ld(i.Kb);var h=1<this.Rf;this.ld(c.Kb);h&&this.dk();var k=this.wf(c);k.fb=c;a&&(e=this.types[b].G(),e.R=n,e.b.length=1,e.b[0]=a,this.types[b].zd());a=j;if(c.parent){b=k.Nh;for(e=c.parent;e;)b.push(e),e=e.parent;b.reverse();e=0;for(f=b.length;e<f;e++)if(!b[e].jk()){a=n;break}}a&&(this.xg++,c.pb?c.ik(d):c.J(),g=g||k.rc);this.Ah();h&&this.Zj();this.Dc(c.Kb);i&&this.Dc(i.Kb);0===this.mb&&(0===Cb&&!this.af&&(!this.Ka.Yc()||this.Ja.length))&&
this.ga();this.Rf--;return g};B.dk=function(){this.fe++;this.fe>=this.jf.length&&this.jf.push([])};B.Zj=function(){this.fe--};B.Gg=function(){return this.jf[this.fe]};B.wf=function(a){this.Jd++;this.Jd>=this.Le.length&&this.Le.push(new Ga);var b=this.ya();b.reset(a);return b};B.Ah=function(){this.Jd--};B.ya=function(){return this.Le[this.Jd]};
B.Ig=function(a,b){for(var c,d,e,f,g,i;b;){c=0;for(d=b.wa.length;c<d;c++)if(i=b.wa[c],i instanceof Ha&&a.toLowerCase()===i.name.toLowerCase())return i;b=b.parent}c=0;for(d=this.Sb.length;c<d;c++){g=this.Sb[c];e=0;for(f=g.Eb.length;e<f;e++)if(i=g.Eb[e],i instanceof Ha&&a.toLowerCase()===i.name.toLowerCase())return i}return m};window.cr_createRuntime=function(a){return new S(document.getElementById(a))};window.cr_createDCRuntime=function(a,b){return new S({dc:j,width:a,height:b})};
window.createCocoonJSRuntime=function(){window.c2cocoonjs=j;var a=document.createElement("screencanvas");document.body.appendChild(a);a=new S(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});return a};window.cr_getC2Runtime=function(){var a=document.getElementById("c2canvas");if(a)return a.c2runtime;if(window.c2runtime)return window.c2runtime};
window.cr_sizeCanvas=function(a,b){if(!(0===a||0===b)){var c=window.cr_getC2Runtime();c&&c.setSize(a,b)}};window.cr_setSuspended=function(a){var b=window.cr_getC2Runtime();b&&b.setSuspended(a)};
function Db(a,b){this.a=a;this.Id=m;this.scrollX=this.a.sa/2;this.scrollY=this.a.ra/2;this.scale=1;this.d=0;this.name=b[0];this.width=b[1];this.height=b[2];this.Sh=b[3];this.Kh=b[4];var c=b[5],d,e;this.s=[];this.Wc=[];d=0;for(e=c.length;d<e;d++){var f=new Ia(this,c[d]);f.rh=d;this.s.push(f)}c=b[6];this.Vb=[];d=0;for(e=c.length;d<e;d++){var f=c[d],g=this.a.j[f[1]];g.Bb||(g.Bb=f);this.Vb.push(f);-1===this.Wc.indexOf(g)&&this.Wc.push(g)}this.n=[];this.m=[];this.V=[];d=0;for(e=b[7].length;d<e;d++)this.n.push({id:b[7][d][0],
name:b[7][d][1],S:-1,Mc:j,index:d}),this.V.push(b[7][d][2].slice(0));this.Jc();this.md=new P(0,0,1,1);this.yf=new P(0,0,1,1)}
function Eb(a,b){this.t=a;this.a=a.a;this.b=[];this.scale=1;this.d=0;this.Qb=n;this.tb=new P(0,0,0,0);this.Ph=new Pa;this.Ea=this.Ha=this.Ga=this.Fa=0;this.Ob=n;this.name=b[0];this.index=b[1];this.visible=b[2];this.ic=b[3];this.sd=b[4];this.qb=b[5];this.rb=b[6];this.opacity=b[7];this.Pe=b[8];this.ma=b[9];this.Ia=b[10];this.Hi=b[11];this.Gd="source-over";this.U=this.X=0;this.Ib=n;var c=b[12],d,e;this.lc=[];d=0;for(e=c.length;d<e;d++){var f=c[d],g=this.a.j[f[1]];g.Bb||(g.Bb=f);this.lc.push(f);-1===
this.t.Wc.indexOf(g)&&this.t.Wc.push(g)}this.n=[];this.m=[];this.V=[];d=0;for(e=b[13].length;d<e;d++)this.n.push({id:b[13][d][0],name:b[13][d][1],S:-1,Mc:j,index:d}),this.V.push(b[13][d][2].slice(0));this.Jc();this.md=new P(0,0,1,1);this.yf=new P(0,0,1,1)}Db.prototype.Ng=function(){var a=this.s[0];return!a.sd&&1===a.opacity&&!a.Pe&&a.visible};Db.prototype.Jc=function(){this.m.length=0;var a,b,c;a=0;for(b=this.n.length;a<b;a++)c=this.n[a],c.Mc&&this.m.push(c)};var Fb=[];B=Db.prototype;
B.Jf=function(){this.Kh&&(this.Id=this.a.Me[this.Kh]);this.a.q=this;this.scrollX=this.a.sa/2;this.scrollY=this.a.ra/2;var a,b,c,d,e,f,g;a=0;for(c=this.a.j.length;a<c;a++)if(b=this.a.j[a],!b.Q){e=b.b;b=0;for(d=e.length;b<d;b++)f=e[b],f.c&&(g=f.c.rh,g>=this.s.length&&(g=this.s.length-1),f.c=this.s[g],f.c.b.push(f),f.c.Ob=j)}a=Fb.length=0;for(c=this.s.length;a<c;a++)b=this.s[a],b.vi(),b.Qb=j,d=b.P(0,0,j),f=b.P(0,0,n),b.Qb=n,this.a.jd&&(d=d+0.5|0,f=f+0.5|0),b.Af(d,f,m);for(a=0;a<Fb.length;a++)if(f=Fb[a],
f.type.nb){c=f.Pd();b=0;for(d=f.type.ha.length;b<d;b++)e=f.type.ha[b],f.type!==e&&(e.b.length>c?f.siblings.push(e.b[c]):e.Bb&&(g=this.a.Qc(e.Bb,f.c,j,f.x,f.y,j),this.a.ga(),e.ue(),f.siblings.push(g),Fb.push(g)))}a=0;for(c=this.Vb.length;a<c;a++)this.a.Qc(this.Vb[a],m,j);this.a.Fd=m;this.a.ga();if(this.a.o&&!this.a.$){a=0;for(c=this.a.j.length;a<c;a++)e=this.a.j[a],!e.Q&&(e.b.length&&e.ak)&&e.ak(this.a.o)}this.a.trigger(T.prototype.v.bi,m)};
B.ti=function(){var a,b,c,d,e;b=a=0;for(c=this.Vb.length;a<c;a++)d=this.Vb[a],e=this.a.j[d[1]],e.global?this.a.Qc(d,m,j):(this.Vb[b]=d,b++);this.Vb.length=b};
B.uk=function(){this.a.trigger(T.prototype.v.ai,m);this.a.ac.wb.length=0;var a,b,c,d,e,f;a=0;for(b=this.s.length;a<b;a++){e=this.s[a].b;c=0;for(d=e.length;c<d;c++)f=e[c],f.type.global||this.a.wd(f);this.a.ga();e.length=0;this.s[a].Ob=j}a=0;for(b=this.a.j.length;a<b;a++)if(e=this.a.j[a],!e.global&&!e.ta.Xd&&!e.ta.If){c=0;for(d=e.b.length;c<d;c++)this.a.wd(e.b[c]);this.a.ga()}};
B.Cb=function(a){a.globalAlpha=1;a.globalCompositeOperation="source-over";this.a.qg&&!this.Ng()&&a.clearRect(0,0,this.a.width,this.a.height);var b,c,d;b=0;for(c=this.s.length;b<c;b++)d=this.s[b],d.visible&&(0<d.opacity&&11!==d.Ia)&&d.Cb(a)};
B.La=function(a){var b=0<this.m.length||this.a.Kc;if(b){this.a.Aa||(this.a.Aa=a.bb(this.a.width,this.a.height,this.a.M));if(this.a.Aa.Dd!==this.a.width||this.a.Aa.Cd!==this.a.height)a.deleteTexture(this.a.Aa),this.a.Aa=a.bb(this.a.width,this.a.height,this.a.M);a.sb(this.a.Aa)}this.a.qg&&!this.Ng()&&a.clear(0,0,0,0);var c,d;c=0;for(d=this.s.length;c<d;c++)this.s[c].visible&&0<this.s[c].opacity&&this.s[c].La(a);b&&(1>=this.m.length?(1===this.m.length?(b=this.m[0].index,a.Qa(this.m[0].S),a.Fc(m,1/this.a.width,
1/this.a.height,0,0,1,1,this.scale,this.V[b]),a.ke(this.m[0].S)&&(this.a.u=j)):a.Qa(0),a.sb(m),a.od(1),a.Da(this.a.Aa),a.Ih(),a.Pa(),a.Sa(),b=this.a.width/2,c=this.a.height/2,a.Fh(-b,c,b,c,b,-c,-b,-c),a.Da(m)):this.zf(a,m,m,m));a.bk()};B.Uc=function(){return 0<this.m.length||this.a.Kc?this.a.Aa:m};B.Kg=function(){var a=this.s[0].da(),b,c,d;b=1;for(c=this.s.length;b<c;b++)d=this.s[b],0===d.qb&&0===d.rb||d.da()<a&&(a=d.da());return a};
B.mk=function(a){if(!this.Sh){var b=this.a.width*(1/this.Kg())/2;a>this.width-b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.a.u=j)};B.nk=function(a){if(!this.Sh){var b=this.a.height*(1/this.Kg())/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.a.u=j)};
B.zf=function(a,b,c,d){var e=c?c.m:b?b.m:this.m,f=c?c.c.da():b?b.da():1,g=this.a.Se,i,h,k,l,r=0,p=1,u,s=this.a.width,t=this.a.height,E=s/2,X=t/2,F=b?b.md:this.md,w=b?b.yf:this.yf,v=0,L=0,x=0,M=0,z=s,Z=s,y=t,aa=t,R=k=0,ha=c?c.c.gb():0;if(c){i=0;for(h=e.length;i<h;i++)k+=a.mj(e[i].S),R+=a.nj(e[i].S);l=c.p;v=b.H(l.left,l.top,j);x=b.H(l.left,l.top,n);z=b.H(l.right,l.bottom,j);y=b.H(l.right,l.bottom,n);0!==ha&&(i=b.H(l.right,l.top,j),h=b.H(l.right,l.top,n),L=b.H(l.left,l.bottom,j),M=b.H(l.left,l.bottom,
n),l=Math.min(v,z,i,L),z=Math.max(v,z,i,L),v=l,l=Math.min(x,y,h,M),y=Math.max(x,y,h,M),x=l);v-=k;x-=R;z+=k;y+=R;w.left=v/s;w.top=1-x/t;w.right=z/s;w.bottom=1-y/t;L=v=Math.floor(v);M=x=Math.floor(x);Z=z=Math.ceil(z);aa=y=Math.ceil(y);L-=k;M-=R;Z+=k;aa+=R;0>v&&(v=0);0>x&&(x=0);z>s&&(z=s);y>t&&(y=t);0>L&&(L=0);0>M&&(M=0);Z>s&&(Z=s);aa>t&&(aa=t);F.left=v/s;F.top=1-x/t;F.right=z/s;F.bottom=1-y/t}else F.left=w.left=0,F.top=w.top=0,F.right=w.right=1,F.bottom=w.bottom=1;R=c&&((c.d||ha)&&a.kd(e[0].S)||0!==
k||0!==R||1!==c.opacity||c.type.ta.nh)||b&&!c&&1!==b.opacity;a.Ih();if(R){g[r]||(g[r]=a.bb(s,t,this.a.M));if(g[r].Dd!==s||g[r].Cd!==t)a.deleteTexture(g[r]),g[r]=a.bb(s,t,this.a.M);a.Qa(0);a.sb(g[r]);u=aa-M;a.clearRect(L,t-M-u,Z-L,u);c?c.La(a):(a.Da(this.a.ia),a.od(b.opacity),a.Pa(),a.translate(-E,-X),a.Sa(),a.Ec(v,y,z,y,z,x,v,x,F));w.left=w.top=0;w.right=w.bottom=1;c&&(l=F.top,F.top=F.bottom,F.bottom=l);r=1;p=0}a.od(1);k=e.length-1;var ha=a.sf(e[k].S),ia=0;i=0;for(h=e.length;i<h;i++){g[r]||(g[r]=
a.bb(s,t,this.a.M));if(g[r].Dd!==s||g[r].Cd!==t)a.deleteTexture(g[r]),g[r]=a.bb(s,t,this.a.M);a.Qa(e[i].S);ia=e[i].index;a.ke(e[i].S)&&(this.a.u=j);0==i&&!R?(a.sb(g[r]),u=aa-M,l=t-M-u,a.clearRect(L,l,Z-L,u),c?(a.Fc(d,1/c.width,1/c.height,w.left,w.top,w.right,w.bottom,f,c.V[ia]),c.La(a)):(a.Fc(d,1/s,1/t,0,0,1,1,f,b?b.V[ia]:this.V[ia]),a.Da(b?this.a.ia:this.a.Aa),a.Pa(),a.translate(-E,-X),a.Sa(),a.Ec(v,y,z,y,z,x,v,x,F)),w.left=w.top=0,w.right=w.bottom=1,c&&!ha&&(l=y,y=x,x=l)):(a.Fc(d,1/s,1/t,w.left,
w.top,w.right,w.bottom,f,c?c.V[ia]:b?b.V[ia]:this.V[ia]),i===k&&!ha?(c?a.Jb(c.X,c.U):b&&a.Jb(b.X,b.U),a.sb(d)):(a.sb(g[r]),u=aa-M,l=t-M-u,a.clearRect(L,l,Z-L,u)),a.Da(g[p]),a.Pa(),a.translate(-E,-X),a.Sa(),a.Ec(v,y,z,y,z,x,v,x,F),i===k&&!ha&&a.Da(m));r=0===r?1:0;p=0===r?1:0}ha&&(a.Qa(0),c?a.Jb(c.X,c.U):b&&a.Jb(b.X,b.U),a.sb(d),a.Da(g[p]),a.Pa(),a.translate(-E,-X),a.Sa(),c&&1===e.length&&!R?a.Ec(v,x,z,x,z,y,v,y,F):a.Ec(v,y,z,y,z,x,v,x,F),a.Da(m))};Ea=Db;B=Eb.prototype;
B.Jc=function(){this.m.length=0;var a,b,c;a=0;for(b=this.n.length;a<b;a++)c=this.n[a],c.Mc&&this.m.push(c)};B.vi=function(){var a,b,c,d;b=a=0;for(c=this.lc.length;a<c;a++)d=this.a.Qc(this.lc[a],this,j),Fb.push(d),d&&!d.type.global&&(this.lc[b]=this.lc[a],b++);this.lc.length=b;this.a.ga();!this.a.l&&this.n.length&&(this.Ia=this.Hi);this.Gd=Aa(this.Ia);this.a.f&&Ba(this,this.Ia,this.a.f)};B.Bk=function(){if(this.Ob){var a,b;a=0;for(b=this.b.length;a<b;a++)this.b[a].Wf=a;this.Ob=n}};
B.da=function(){return this.kj()*this.a.Ae};B.kj=function(){return(this.scale*this.t.scale-1)*this.ma+1};B.gb=function(){return this.Qb?0:J(this.t.d+this.d)};
B.Cb=function(a){this.Ib=this.Pe||1!==this.opacity||0!==this.Ia;var b=this.a.canvas,c=a;a.globalAlpha=1;a.globalCompositeOperation="source-over";this.Ib&&(this.a.ce||(this.a.ce=document.createElement("canvas"),b=this.a.ce,b.width=this.a.width,b.height=this.a.height,this.a.gh=b.getContext("2d")),b=this.a.ce,c=this.a.gh,b.width!==this.a.width&&(b.width=this.a.width),b.height!==this.a.height&&(b.height=this.a.height),this.sd&&c.clearRect(0,0,this.a.width,this.a.height));this.sd||(c.fillStyle="rgb("+
this.ic[0]+","+this.ic[1]+","+this.ic[2]+")",c.fillRect(0,0,this.a.width,this.a.height));c.save();this.Qb=j;var d=this.P(0,0,j),e=this.P(0,0,n);this.Qb=n;this.a.jd&&(d=d+0.5|0,e=e+0.5|0);this.Af(d,e,c);var f=this.da();c.scale(f,f);c.translate(-d,-e);for(var g,d=0,e=this.b.length;d<e;d++)if(f=this.b[d],f.visible&&!(0===f.width||0===f.height))f.ec(),g=f.p,g.right<this.Fa||(g.bottom<this.Ha||g.left>this.Ga||g.top>this.Ea)||(c.globalCompositeOperation=f.Gd,f.Cb(c));c.restore();this.Ib&&(a.globalCompositeOperation=
this.Gd,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};
B.Af=function(a,b,c){var d=this.da();this.Fa=a;this.Ha=b;this.Ga=a+this.a.width*(1/d);this.Ea=b+this.a.height*(1/d);a=this.gb();0!==a&&(c&&(c.translate(this.a.width/2,this.a.height/2),c.rotate(-a),c.translate(this.a.width/-2,this.a.height/-2)),this.tb.set(this.Fa,this.Ha,this.Ga,this.Ea),this.tb.offset((this.Fa+this.Ga)/-2,(this.Ha+this.Ea)/-2),this.Ph.Jh(this.tb,a),this.Ph.mg(this.tb),this.tb.offset((this.Fa+this.Ga)/2,(this.Ha+this.Ea)/2),this.Fa=this.tb.left,this.Ha=this.tb.top,this.Ga=this.tb.right,
this.Ea=this.tb.bottom)};
B.La=function(a){var b=this.a.width,c=this.a.height,d=0,e=0;if(this.Ib=this.Pe||1!==this.opacity||0<this.m.length||0!==this.Ia){this.a.ia||(this.a.ia=a.bb(this.a.width,this.a.height,this.a.M));if(this.a.ia.Dd!==this.a.width||this.a.ia.Cd!==this.a.height)a.deleteTexture(this.a.ia),this.a.ia=a.bb(this.a.width,this.a.height,this.a.M);a.sb(this.a.ia);this.sd&&a.clear(0,0,0,0)}this.sd||a.clear(this.ic[0]/255,this.ic[1]/255,this.ic[2]/255,1);this.Qb=j;var e=this.P(0,0,j),f=this.P(0,0,n);this.Qb=n;this.a.jd&&
(e=e+0.5|0,f=f+0.5|0);this.Af(e,f,m);f=this.da();a.Pa();a.scale(f,f);a.Bf(-this.gb());a.translate((this.Fa+this.Ga)/-2,(this.Ha+this.Ea)/-2);a.Sa();var g,i,h;g=0;for(i=this.b.length;g<i;g++)if(h=this.b[g],h.visible&&!(0===h.width||0===h.height))if(h.ec(),d=h.p,!(d.right<this.Fa||d.bottom<this.Ha||d.left>this.Ga||d.top>this.Ea))if(h.Vh)if(d=h.m[0].S,e=h.m[0].index,1===h.m.length&&!a.sf(d)&&!a.ck(d)&&(!h.d&&!h.c.gb()||!a.kd(d))&&1===h.opacity&&!h.type.ta.nh){a.Qa(d);a.Jb(h.X,h.U);a.ke(d)&&(this.a.u=
j);var k=0,l=0,r=0,p=0;a.kd(d)&&(d=h.p,k=this.H(d.left,d.top,j),l=this.H(d.left,d.top,n),r=this.H(d.right,d.bottom,j),d=this.H(d.right,d.bottom,n),k/=b,l=1-l/c,r/=b,p=1-d/c);a.Fc(this.Ib?this.a.ia:this.t.Uc(),1/h.width,1/h.height,k,l,r,p,this.da(),h.V[e]);h.La(a)}else this.t.zf(a,this,h,this.Ib?this.a.ia:this.t.Uc()),a.Pa(),a.scale(f,f),a.Bf(-this.gb()),a.translate((this.Fa+this.Ga)/-2,(this.Ha+this.Ea)/-2),a.Sa();else a.Qa(0),a.Jb(h.X,h.U),h.La(a);this.Ib&&(d=this.m.length?this.m[0].S:0,e=this.m.length?
this.m[0].index:0,0===this.m.length||1===this.m.length&&!a.sf(d)&&1===this.opacity?(1===this.m.length?(a.Qa(d),a.Fc(this.t.Uc(),1/this.a.width,1/this.a.height,0,0,1,1,this.da(),this.V[e]),a.ke(d)&&(this.a.u=j)):a.Qa(0),a.sb(this.t.Uc()),a.od(this.opacity),a.Da(this.a.ia),a.Jb(this.X,this.U),a.Pa(),a.Sa(),b=this.a.width/2,c=this.a.height/2,a.Fh(-b,c,b,c,b,-c,-b,-c),a.Da(m)):this.t.zf(a,this,m,this.t.Uc()))};
B.P=function(a,b,c){var d=this.a.devicePixelRatio;!this.a.$&&(this.a.ve&&this.a.$c)&&0<this.a.Gb&&(a*=d,b*=d);var d=this.a.sa/2,e=this.a.ra/2,d=(this.t.scrollX-d)*this.qb+d,e=(this.t.scrollY-e)*this.rb+e,f=1/this.da(),d=d-this.a.width*f/2,e=e-this.a.height*f/2,d=d+a*f,e=e+b*f,b=this.gb();0!==b&&(d-=this.t.scrollX,e-=this.t.scrollY,a=Math.cos(b),b=Math.sin(b),f=d*a-e*b,e=e*a+d*b,d=f+this.t.scrollX,e+=this.t.scrollY);return c?d:e};
B.H=function(a,b,c){var d=this.gb();if(0!==d)var a=a-this.t.scrollX,b=b-this.t.scrollY,e=Math.cos(-d),d=Math.sin(-d),f=a*e-b*d,b=b*e+a*d,a=f+this.t.scrollX,b=b+this.t.scrollY;e=this.a.sa/2;d=this.a.ra/2;e=(this.t.scrollX-e)*this.qb+e;d=(this.t.scrollY-d)*this.rb+d;f=1/this.da();e-=this.a.width*f/2;d-=this.a.height*f/2;e=(a-e)/f;d=(b-d)/f;a=this.a.devicePixelRatio;!this.a.$&&(this.a.ve&&this.a.$c)&&0<this.a.Gb&&(e/=a,d/=a);return c?e:d};Ia=Eb;
function Gb(a,b){var c,d=a.length;switch(d){case 0:return j;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return n;return j}}function Hb(a,b){return a.index-b.index}function Ib(a){var b,c,d,e;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(Hb);a.length>=Jb.length&&(Jb.length=a.length+1);Jb[a.length]||(Jb[a.length]=[]);e=Jb[a.length];b=0;for(c=e.length;b<c;b++)if(d=e[b],Gb(a,d))return d;e.push(a);return a}
function Kb(a,b){this.a=a;this.Rh={};this.Bg={};this.We=n;this.Pg=new Qa;this.name=b[0];var c=b[1];this.Eb=[];var d,e;d=0;for(e=c.length;d<e;d++)this.Rg(c[d],m,this.Eb)}function Lb(a){this.type=a;this.b=[];this.D=[];this.R=j}
function Mb(a,b,c){this.sheet=a;this.parent=b;this.a=a.a;this.W=[];this.Kb=[];this.Og=this.re=this.Pf=this.Ye=this.group=this.Lh=n;this.C=[];this.Pb=[];this.wa=[];c[1]?(this.Lg=c[1][1].toLowerCase(),this.group=j,this.Ye=!!c[1][0],this.a.oi.push(this),this.a.mi[this.Lg.toLowerCase()]=this.Ye):(this.Lg="",this.Ye=this.group=n);this.pb=c[2];for(var d=c[3],a=0,b=d.length;a<b;a++){var e=new Ja(this,d[a]);this.C.push(e);this.jg(e.type)}d=c[4];a=0;for(b=d.length;a<b;a++)e=new Ka(this,d[a]),this.Pb.push(e);
if(6===c.length){c=c[5];a=0;for(b=c.length;a<b;a++)this.sheet.Rg(c[a],this,this.wa)}this.Ud=n;this.C.length&&(this.Ud=this.C[0].type==m&&this.C[0].A==T.prototype.v.Yh)}function Nb(a,b){var c,d,e;if(a&&(-1===b.indexOf(a)&&b.push(a),a.nb)){c=0;for(d=a.ha.length;c<d;c++)e=a.ha[c],a!==e&&-1===b.indexOf(e)&&b.push(e)}}
function Ob(a,b){this.na=a;this.sheet=a.sheet;this.a=a.a;this.e=[];this.k=[];this.Fb={};this.A=b[1];this.trigger=0<b[3];this.Ag=2===b[3];this.am=b[4];this.Sd=b[5];this.Mj=b[6];-1===b[0]?(this.type=m,this.J=this.Ef,this.Nc=m,this.O=-1):(this.type=this.a.j[b[0]],this.J=this.Mj?this.kk:this.Df,b[2]?(this.Nc=this.type.Od(b[2]),this.O=this.type.Te(b[2])):(this.Nc=m,this.O=-1),this.na.parent&&this.na.parent.le());this.Ag&&(this.J=this.lk);if(8===b.length){var c,d,e=b[7];c=0;for(d=e.length;c<d;c++){var f=
new La(this,e[c]);this.e.push(f)}this.k.length=e.length}}function Pb(a,b){this.na=a;this.sheet=a.sheet;this.a=a.a;this.e=[];this.k=[];this.Fb={};this.A=b[1];-1===b[0]?(this.type=m,this.J=this.Ef,this.Nc=m,this.O=-1):(this.type=this.a.j[b[0]],this.J=this.Df,b[2]?(this.Nc=this.type.Od(b[2]),this.O=this.type.Te(b[2])):(this.Nc=m,this.O=-1));if(4===b.length){var c,d,e=b[3];c=0;for(d=e.length;c<d;c++){var f=new La(this,e[c]);this.e.push(f)}this.k.length=e.length}}
function Qb(a,b){this.g=a;this.na=a.na;this.sheet=a.sheet;this.a=a.a;this.type=b[0];this.Ma=m;this.rg=this.Lb=0;this.t=m;this.key=0;this.object=m;this.index=0;this.xe=this.Hc=this.Cg=this.Tb=this.ud=m;var c,d,e;switch(b[0]){case 0:case 7:this.Ma=new N(this,b[1]);this.Lb=0;this.get=this.tj;break;case 1:this.Ma=new N(this,b[1]);this.Lb=0;this.get=this.uj;break;case 5:this.Ma=new N(this,b[1]);this.Lb=0;this.get=this.yj;break;case 3:case 8:this.rg=b[1];this.get=this.rj;break;case 6:this.t=this.a.df[b[1]];
this.get=this.zj;break;case 9:this.key=b[1];this.get=this.xj;break;case 4:this.object=this.a.j[b[1]];this.get=this.Aj;this.na.jg(this.object);this.g instanceof Ka?this.na.le():this.na.parent&&this.na.parent.le();break;case 10:this.index=b[1];this.get=a.type.Q?this.vj:this.wj;break;case 11:this.ud=b[1];this.Tb=m;this.get=this.sj;break;case 2:case 12:this.Cg=b[1];this.get=this.qj;break;case 13:this.get=this.Bj;this.Hc=[];this.xe=[];c=1;for(d=b.length;c<d;c++)e=new La(this.g,b[c]),this.Hc.push(e),this.xe.push(0)}}
function Rb(a,b,c){this.sheet=a;this.parent=b;this.a=a.a;this.W=[];this.name=c[1];this.lm=c[2];this.Xe=c[3];this.Vd=!!c[4];this.Wg=!!c[5];this.data=this.Xe;this.parent?this.Yb=this.Vd||this.Wg?-1:this.a.tk++:(this.Yb=-1,this.a.pi.push(this))}function Sb(a,b,c){this.sheet=a;this.parent=b;this.a=a.a;this.W=[];this.Rd=m;this.Gj=c[1]}function Tb(){this.Nh=[];this.reset(m)}var Jb=[];B=Kb.prototype;B.toString=q("name");
B.Rg=function(a,b,c){switch(a[0]){case 0:a=new Ma(this,b,a);if(a.pb){c.push(a);c=0;for(b=a.C.length;c<b;c++)a.C[c].trigger&&this.Sg(a,c)}else a.Xg()?this.Sg(a,0):c.push(a);break;case 1:a=new Ha(this,b,a);c.push(a);break;case 2:a=new Na(this,b,a),c.push(a)}};B.w=function(){var a,b;a=0;for(b=this.Eb.length;a<b;a++)this.Eb[a].w(a<b-1&&this.Eb[a+1].Ud)};
B.J=function(){this.We=j;this.a.af=j;var a,b;a=0;for(b=this.Eb.length;a<b;a++){var c=this.Eb[a];c.J();this.a.Ee(c.W);(!this.a.Ka.Yc()||this.a.Ja.length)&&this.a.ga()}this.a.af=n};
B.Sg=function(a,b){a.pb||this.a.te.push(a);var c,d,e=a.C[b],f;f=e.type?e.type.name:"system";var g=(c=e.Ag)?this.Bg:this.Rh;g[f]||(g[f]=[]);f=g[f];g=e.A;if(c){if(e.e.length&&(e=e.e[0],!(1!==e.type||2!==e.Ma.type))){e=e.Ma.value.toLowerCase();c=0;for(d=f.length;c<d;c++)if(f[c].method==g){c=f[c].Kd;c[e]?c[e].push([a,b]):c[e]=[[a,b]];return}c={};c[e]=[[a,b]];f.push({method:g,Kd:c})}}else{c=0;for(d=f.length;c<d;c++)if(f[c].method==g){f[c].Kd.push([a,b]);return}f.push({method:g,Kd:[[a,b]]})}};Fa=Kb;
Lb.prototype.Ve=function(){return this.R?this.type.b.length:this.b.length};Lb.prototype.ib=function(){return this.R?this.type.b:this.b};Lb.prototype.zh=function(a){a&&(a.a.ya().fb.pb?(this.R&&(this.b.length=0,ma(this.D,a.type.b),this.R=n),a=this.D.indexOf(a),-1!==a&&(this.b.push(this.D[a]),this.D.splice(a,1))):(this.R=n,this.b.length=1,this.b[0]=a))};Da=Lb;B=Mb.prototype;
B.w=function(a){var b,c=this.parent;if(this.group)for(this.re=j;c;){if(!c.group){this.re=n;break}c=c.parent}this.Pf=!this.Xg()&&(!this.parent||this.parent.group&&this.parent.re);this.Og=!!a;this.Kb=this.W.slice(0);for(c=this.parent;c;){a=0;for(b=c.W.length;a<b;a++)this.ni(c.W[a]);c=c.parent}this.W=Ib(this.W);this.Kb=Ib(this.Kb);a=0;for(b=this.C.length;a<b;a++)this.C[a].w();a=0;for(b=this.Pb.length;a<b;a++)this.Pb[a].w();a=0;for(b=this.wa.length;a<b;a++)this.wa[a].w(a<b-1&&this.wa[a+1].Ud)};
B.jg=function(a){Nb(a,this.W)};B.ni=function(a){Nb(a,this.Kb)};B.le=function(){this.Lh=j;this.parent&&this.parent.le()};B.Xg=function(){return this.C.length?this.C[0].trigger:n};
B.J=function(){var a,b=n,c=this.a.ya();c.fb=this;this.Ud||(c.Ke=n);if(this.pb){0===this.C.length&&(b=j);c.ca=0;for(a=this.C.length;c.ca<a;c.ca++)this.C[c.ca].trigger||this.C[c.ca].J()&&(b=j);(c.rc=b)&&this.Cf()}else{c.ca=0;for(a=this.C.length;c.ca<a;c.ca++)if(!this.C[c.ca].J()){c.rc=n;this.Pf&&(!this.a.Ka.Yc()||this.a.Ja.length)&&this.a.ga();return}c.rc=j;this.Cf()}c.rc&&this.Og&&(c.Ke=j);this.Pf&&(!this.a.Ka.Yc()||this.a.Ja.length)&&this.a.ga()};
B.ik=function(a){this.a.ya().fb=this;this.C[a].J()&&this.Cf()};B.Cf=function(){var a=this.a.ya(),b;a.Va=0;for(b=this.Pb.length;a.Va<b;a.Va++)if(this.Pb[a.Va].J())return;this.Hh()};B.gk=function(){var a=this.a.ya(),b;for(b=this.Pb.length;a.Va<b;a.Va++)if(this.Pb[a.Va].J())return;this.Hh()};
B.Hh=function(){if(this.wa.length){var a,b,c,d,e=this.wa.length-1;this.a.wf(this);if(this.Lh){a=0;for(b=this.wa.length;a<b;a++)c=this.wa[a],(d=!this.re||!this.group&&a<e)&&this.a.vf(c.W),c.J(),d?this.a.Dc(c.W):this.a.Ee(c.W)}else{a=0;for(b=this.wa.length;a<b;a++)this.wa[a].J()}this.a.Ah()}};B.jk=function(){var a=this.a.ya();a.fb=this;var b=n,c;a.ca=0;for(c=this.C.length;a.ca<c;a.ca++)if(this.C[a.ca].J())b=j;else if(!this.pb)return n;return this.pb?b:j};Ma=Mb;B=Ob.prototype;
B.w=function(){var a,b;a=0;for(b=this.e.length;a<b;a++)this.e[a].w()};B.lk=A(j);B.Ef=function(){var a,b;a=0;for(b=this.e.length;a<b;a++)this.k[a]=this.e[a].get();return xa(this.A.apply(this.a.ac,this.k),this.Sd)};B.kk=function(){var a,b;a=0;for(b=this.e.length;a<b;a++)this.k[a]=this.e[a].get();a=this.A.apply(this.type,this.k);this.type.zd();return a};
B.Df=function(){var a,b,c,d,e,f,g,i=this.type.G(),h=this.na.pb&&!this.trigger,k=0,l=this.type.nb;if(i.R){i.b.length=0;a=i.D.length=0;for(c=this.type.b.length;a<c;a++){f=this.type.b[a];b=0;for(d=this.e.length;b<d;b++)this.k[b]=this.e[b].get(a);-1<this.O?(this.type.Q&&(k=f.type.kc[this.type.Na]),b=this.A.apply(f.T[this.O+k],this.k)):b=this.A.apply(f,this.k);(e=xa(b,this.Sd))?i.b.push(f):h&&i.D.push(f)}this.type.finish&&this.type.finish(j);i.R=n;this.type.zd();return i.Ve()}var r=0,p=h?i.D:i.b;e=n;a=
0;for(c=p.length;a<c;a++){f=p[a];b=0;for(d=this.e.length;b<d;b++)this.k[b]=this.e[b].get(a);-1<this.O?(this.type.Q&&(k=f.type.kc[this.type.Na]),b=this.A.apply(f.T[this.O+k],this.k)):b=this.A.apply(f,this.k);if(xa(b,this.Sd))if(e=j,h){if(i.b.push(f),l){b=0;for(d=f.siblings.length;b<d;b++)g=f.siblings[b],g.type.G().b.push(g)}}else{p[r]=f;if(l){b=0;for(d=f.siblings.length;b<d;b++)g=f.siblings[b],g.type.G().b[r]=g}r++}else if(h){p[r]=f;if(l){b=0;for(d=f.siblings.length;b<d;b++)g=f.siblings[b],g.type.G().D[r]=
g}r++}}p.length=r;if(l){a=0;for(c=this.type.ha.length;a<c;a++)f=this.type.ha[a].G(),h?f.D.length=r:f.b.length=r}k=e;if(h&&!e){a=0;for(c=i.b.length;a<c;a++){f=i.b[a];b=0;for(d=this.e.length;b<d;b++)this.k[b]=this.e[b].get(a);b=-1<this.O?this.A.apply(f.T[this.O],this.k):this.A.apply(f,this.k);if(xa(b,this.Sd)){e=j;break}}}this.type.finish&&this.type.finish(k||h);return h?e:i.Ve()};Ja=Ob;Pb.prototype.w=function(){var a,b;a=0;for(b=this.e.length;a<b;a++)this.e[a].w()};
Pb.prototype.Ef=function(){var a,b;a=0;for(b=this.e.length;a<b;a++)this.k[a]=this.e[a].get();return this.A.apply(this.a.ac,this.k)};Pb.prototype.Df=function(){var a=this.type.G().ib(),b,c,d,e,f;b=0;for(d=a.length;b<d;b++){f=a[b];c=0;for(e=this.e.length;c<e;c++)this.k[c]=this.e[c].get(b);-1<this.O?(c=0,this.type.Q&&(c=f.type.kc[this.type.Na]),this.A.apply(f.T[this.O+c],this.k)):this.A.apply(f,this.k)}return n};Ka=Pb;var Ub=[],Vb=-1;B=Qb.prototype;
B.w=function(){var a,b;if(11===this.type)this.Tb=this.a.Ig(this.ud,this.na.parent);else if(13===this.type){a=0;for(b=this.Hc.length;a<b;a++)this.Hc[a].w()}this.Ma&&this.Ma.w()};B.I=function(){Vb++;Ub.length===Vb&&Ub.push(new Oa);return Ub[Vb]};B.B=function(){Vb--};B.tj=function(a){this.Lb=a||0;a=this.I();this.Ma.get(a);this.B();return a.data};B.uj=function(a){this.Lb=a||0;a=this.I();this.Ma.get(a);this.B();return D(a.data)?a.data:""};B.Aj=q("object");B.rj=q("rg");
B.yj=function(a){this.Lb=a||0;a=this.I();this.Ma.get(a);this.B();return a.L()?this.a.hb(a.data):this.a.Tc(a.data)};B.zj=q("t");B.xj=q("key");B.wj=q("index");B.vj=function(a){var b=this.g.type,c=m,c=b.G(),d=c.ib(),c=d.length?d[a%d.length].type:c.D[a%c.D.length].type;return this.index+c.Ld[b.Na]};B.sj=q("Tb");B.qj=q("Cg");B.Bj=function(){var a,b;a=0;for(b=this.Hc.length;a<b;a++)this.xe[a]=this.Hc[a].get();return this.xe};La=Qb;Rb.prototype.w=function(){this.W=Ib(this.W)};
Rb.prototype.pk=function(a){var b=this.a.Gg();!this.parent||this.Vd||!b?this.data=a:(this.Yb>=b.length&&(b.length=this.Yb+1),b[this.Yb]=a)};Rb.prototype.pj=function(){var a=this.a.Gg();return!this.parent||this.Vd||!a?this.data:this.Yb>=a.length||"undefined"===typeof a[this.Yb]?this.Xe:a[this.Yb]};Rb.prototype.J=function(){this.parent&&(!this.Vd&&!this.Wg)&&this.pk(this.Xe)};Ha=Rb;Sb.prototype.w=function(){this.Rd=this.a.Me[this.Gj];this.sheet.Pg.add(this.Rd);this.W=Ib(this.W)};
Sb.prototype.J=function(){this.parent&&this.a.ld(this.a.j);this.Rd.We||this.Rd.J();this.parent&&this.a.Dc(this.a.j)};Na=Sb;Tb.prototype.reset=function(a){this.fb=a;this.Va=this.ca=0;this.Nh.length=0;this.Ke=this.rc=n};Ga=Tb;
function Wb(a,b){this.g=a;this.a=a.a;this.type=b[0];this.get=[this.Ui,this.Qi,this.bj,this.ej,this.Ki,this.cj,this.Yi,this.Ni,this.Xi,this.aj,this.Li,this.$i,this.Oi,this.Zi,this.Vi,this.Wi,this.Ri,this.Si,this.Mi,this.dj,this.wg,this.Ti,this.wg,this.Pi][this.type];var c=m;this.fa=this.e=this.k=this.A=this.qe=this.N=this.first=this.value=m;this.O=-1;this.kb=m;this.Tf=-1;this.Tb=this.ud=this.qi=m;this.nd=n;switch(this.type){case 0:case 1:case 2:this.value=b[1];break;case 3:this.first=new N(a,b[1]);
break;case 18:this.first=new N(a,b[1]);this.N=new N(a,b[2]);this.qe=new N(a,b[3]);break;case 19:this.A=b[1];this.k=[];this.e=[];3===b.length?(c=b[2],this.k.length=c.length+1):this.k.length=1;break;case 20:this.fa=this.a.j[b[1]];this.O=-1;this.A=b[2];this.nd=b[3];this.kb=b[4]?new N(a,b[4]):m;this.k=[];this.e=[];6===b.length?(c=b[5],this.k.length=c.length+1):this.k.length=1;break;case 21:this.fa=this.a.j[b[1]];this.nd=b[2];this.kb=b[3]?new N(a,b[3]):m;this.Tf=b[4];break;case 22:this.fa=this.a.j[b[1]];
this.qi=this.fa.Od(b[2]);this.O=this.fa.Te(b[2]);this.A=b[3];this.nd=b[4];this.kb=b[5]?new N(a,b[5]):m;this.k=[];this.e=[];7===b.length?(c=b[6],this.k.length=c.length+1):this.k.length=1;break;case 23:this.ud=b[1],this.Tb=m}4<=this.type&&17>=this.type&&(this.first=new N(a,b[1]),this.N=new N(a,b[2]));if(c){var d,e;d=0;for(e=c.length;d<e;d++)this.e.push(new N(a,c[d]))}}function Xb(a,b){this.type=a||O.gc;this.data=b||0;this.Cc=m;this.type==O.gc&&(this.data=Math.floor(this.data))}B=Wb.prototype;
B.w=function(){23===this.type&&(this.Tb=this.g.a.Ig(this.ud,this.g.na.parent));this.first&&this.first.w();this.N&&this.N.w();this.qe&&this.qe.w();this.kb&&this.kb.w();if(this.e){var a,b;a=0;for(b=this.e.length;a<b;a++)this.e[a].w()}};B.dj=function(a){this.k[0]=a;var a=this.g.I(),b,c;b=0;for(c=this.e.length;b<c;b++)this.e[b].get(a),this.k[b+1]=a.data;this.g.B();this.A.apply(this.a.ac,this.k)};
B.wg=function(a){var b=this.fa.G(),c=b.ib();if(!c.length)if(b.D.length)c=b.D;else{this.nd?a.ua(""):a.r(0);return}this.k[0]=a;a.Cc=this.fa;var a=this.g.I(),d,b=0;for(d=this.e.length;b<d;b++)this.e[b].get(a),this.k[b+1]=a.data;b=this.g.Lb;this.kb&&(this.kb.get(a),a.L()&&(b=a.data,c=this.fa.b));this.g.B();b%=c.length;0>b&&(b+=c.length);c=c[b];-1<this.O?(a=0,this.fa.Q&&(a=c.type.kc[this.fa.Na]),this.A.apply(c.T[this.O+a],this.k)):this.A.apply(c,this.k)};
B.Ti=function(a){var b=this.fa.G(),c=b.ib();if(!c.length)if(b.D.length)c=b.D;else{this.nd?a.ua(""):a.r(0);return}b=this.g.Lb;if(this.kb){var d=this.g.I();this.kb.get(d);if(d.L()){b=d.data;c=this.fa.b;b%=c.length;0>b&&(b+=c.length);c=c[b].za[this.Tf];D(c)?a.ua(c):a.i(c);this.g.B();return}this.g.B()}b%=c.length;0>b&&(b+=c.length);c=c[b];b=0;this.fa.Q&&(b=c.type.Ld[this.fa.Na]);c=c.za[this.Tf+b];D(c)?a.ua(c):a.i(c)};B.Ui=function(a){a.type=O.gc;a.data=this.value};
B.Qi=function(a){a.type=O.fc;a.data=this.value};B.bj=function(a){a.type=O.xd;a.data=this.value};B.ej=function(a){this.first.get(a);a.L()&&(a.data=-a.data)};B.Ki=function(a){this.first.get(a);var b=this.g.I();this.N.get(b);a.L()&&b.L()&&(a.data+=b.data,b.pc()&&a.Ac());this.g.B()};B.cj=function(a){this.first.get(a);var b=this.g.I();this.N.get(b);a.L()&&b.L()&&(a.data-=b.data,b.pc()&&a.Ac());this.g.B()};
B.Yi=function(a){this.first.get(a);var b=this.g.I();this.N.get(b);a.L()&&b.L()&&(a.data*=b.data,b.pc()&&a.Ac());this.g.B()};B.Ni=function(a){this.first.get(a);var b=this.g.I();this.N.get(b);a.L()&&b.L()&&(a.data/=b.data,a.Ac());this.g.B()};B.Xi=function(a){this.first.get(a);var b=this.g.I();this.N.get(b);a.L()&&b.L()&&(a.data%=b.data,b.pc()&&a.Ac());this.g.B()};B.aj=function(a){this.first.get(a);var b=this.g.I();this.N.get(b);a.L()&&b.L()&&(a.data=Math.pow(a.data,b.data),b.pc()&&a.Ac());this.g.B()};
B.Li=function(a){this.first.get(a);var b=this.g.I();this.N.get(b);a.L()?b.Wd()?a.ua(a.data.toString()+b.data):a.data&&b.data?a.r(1):a.r(0):a.Wd()&&(a.data=b.Wd()?a.data+b.data:a.data+(Math.round(1E10*b.data)/1E10).toString());this.g.B()};B.$i=function(a){this.first.get(a);var b=this.g.I();this.N.get(b);a.L()&&b.L()&&(a.data||b.data?a.r(1):a.r(0));this.g.B()};B.Mi=function(a){this.first.get(a);a.data?this.N.get(a):this.qe.get(a)};
B.Oi=function(a){this.first.get(a);var b=this.g.I();this.N.get(b);a.r(a.data===b.data?1:0);this.g.B()};B.Zi=function(a){this.first.get(a);var b=this.g.I();this.N.get(b);a.r(a.data!==b.data?1:0);this.g.B()};B.Vi=function(a){this.first.get(a);var b=this.g.I();this.N.get(b);a.r(a.data<b.data?1:0);this.g.B()};B.Wi=function(a){this.first.get(a);var b=this.g.I();this.N.get(b);a.r(a.data<=b.data?1:0);this.g.B()};B.Ri=function(a){this.first.get(a);var b=this.g.I();this.N.get(b);a.r(a.data>b.data?1:0);this.g.B()};
B.Si=function(a){this.first.get(a);var b=this.g.I();this.N.get(b);a.r(a.data>=b.data?1:0);this.g.B()};B.Pi=function(a){var b=this.Tb.pj();C(b)?a.i(b):a.ua(b)};N=Wb;B=Xb.prototype;B.pc=function(){return this.type===O.fc};B.L=function(){return this.type===O.gc||this.type===O.fc};B.Wd=function(){return this.type===O.xd};B.Ac=function(){this.pc()||(this.Wd()&&(this.data=parseFloat(this.data)),this.type=O.fc)};B.r=function(a){this.type=O.gc;this.data=Math.floor(a)};
B.i=function(a){this.type=O.fc;this.data=a};B.ua=function(a){this.type=O.xd;this.data=a};B.qk=function(a){C(a)?(this.type=O.fc,this.data=a):D(a)?(this.type=O.xd,this.data=a.toString()):(this.type=O.gc,this.data=0)};Oa=Xb;O={gc:0,fc:1,xd:2};function T(a){this.a=a;this.wb=[]}function Yb(){}function Zb(){}var $b=T.prototype;B=Yb.prototype;B.bi=A(j);B.ai=A(j);B.Yh=function(){var a=this.a.ya();return a.Ke?n:!a.rc};B.Yf=A(j);B.Zh=A(j);$b.v=new Yb;$b.yb=new (ba());
Zb.prototype["int"]=function(a,b){D(b)?(a.r(parseInt(b,10)),isNaN(a.data)&&(a.data=0)):a.r(b)};Zb.prototype["float"]=function(a,b){D(b)?(a.i(parseFloat(b)),isNaN(a.data)&&(a.data=0)):a.i(b)};B=Zb.prototype;B.sqrt=function(a,b){a.i(Math.sqrt(b))};B.round=function(a,b){a.r(Math.round(b))};B.floor=function(a,b){a.r(Math.floor(b))};B.ceil=function(a,b){a.r(Math.ceil(b))};B.sin=function(a,b){a.i(Math.sin(I(b)))};B.cos=function(a,b){a.i(Math.cos(I(b)))};B.tan=function(a,b){a.i(Math.tan(I(b)))};
B.acos=function(a,b){a.i(oa(Math.acos(b)))};B.max=function(a){var b=arguments[1],c,d;c=2;for(d=arguments.length;c<d;c++)b<arguments[c]&&(b=arguments[c]);a.i(b)};B.min=function(a){var b=arguments[1],c,d;c=2;for(d=arguments.length;c<d;c++)b>arguments[c]&&(b=arguments[c]);a.i(b)};B.jc=function(a){a.i(this.a.jc)};B.Of=function(a){a.i(this.a.Of)};B.time=function(a){a.i(this.a.cf.Ic)};B.Mf=function(a){a.r(this.a.Mf)};B.ie=function(a){a.r(this.a.ie)};B.Qe=function(a){a.r(this.a.Qe)};
B.d=function(a,b,c,d,e){a.i(oa(sa(b,c,d,e)))};B.qh=function(a){a.ua("\n")};B.left=function(a,b,c){a.ua(D(b)?b.substr(0,c):"")};B.right=function(a,b,c){a.ua(D(b)?b.substr(b.length-c):"")};B.replace=function(a,b,c,d){D(b)&&D(c)&&D(d)?a.ua(b.replace(RegExp(za(c),"gi"),d)):a.ua(D(b)?b:"")};B.Fe=function(a){a.i(this.a.Fe/1E3)};B.de=function(a){a.i(this.a.de)};$b.xa=new Zb;
$b.hk=function(){var a,b,c,d,e,f=this.a.ya();a=0;for(c=this.wb.length;a<c;a++)if(d=this.wb[a],!(d.time>this.a.cf.Ic)){f.fb=d.Ji;f.Va=d.Va;f.ca=0;for(b in d.Gc)d.Gc.hasOwnProperty(b)&&(e=this.a.j[parseInt(b,10)].G(),e.R=n,e.b=d.Gc[b]);d.Ji.gk();this.a.Ee(d.W);d.wi=j}b=a=0;for(c=this.wb.length;a<c;a++)d=this.wb[a],this.wb[b]=d,d.wi||b++;this.wb.length=b};
function fb(a){var b=a[0].prototype,c=a[1],d=a[3],e=a[4],f=a[5],g=a[6],i=a[7],a=a[8];b.v||(b.v={});b.yb||(b.yb={});b.xa||(b.xa={});var h=b.v,k=b.yb,b=b.xa;d&&(h.Ok=function(a,b){return ac(this.x,a,b)},h.Pk=function(a,b){return ac(this.y,a,b)},h.Zk=function(){var a=this.c;this.ec();var b=this.p;return!(b.right<a.Fa||b.bottom<a.Ha||b.left>a.Ga||b.top>a.Ea)},h.$k=function(){this.ec();var a=this.p,b=this.a.q;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},h.ll=function(a,b,c){var d=this.G(),
e=d.ib();if(!e.length)return n;var f=e[0],g=f,i=wa(f.x,f.y,b,c),h,k,v;h=1;for(k=e.length;h<k;h++)if(f=e[h],v=wa(f.x,f.y,b,c),0===a&&v<i||1===a&&v>i)i=v,g=f;d.zh(g);return j},k.El=function(a){this.x!==a&&(this.x=a,this.Z())},k.Fl=function(a){this.y!==a&&(this.y=a,this.Z())},k.zl=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.Z()},k.Al=function(a,b){var c=a.lj(this);if(c){var d;c.Jg?(d=c.Jg(b,j),c=c.Jg(b,n)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.Z()}},k.el=function(a){0!==
a&&(this.x+=Math.cos(this.d)*a,this.y+=Math.sin(this.d)*a,this.Z())},k.dl=function(a,b){0!==b&&(this.x+=Math.cos(I(a))*b,this.y+=Math.sin(I(a))*b,this.Z())},b.hi=function(a){a.i(this.x)},b.ii=function(a){a.i(this.y)},b.jc=function(a){a.i(this.a.jj(this))});e&&(h.Nk=function(a,b){return ac(this.width,a,b)},h.Kk=function(a,b){return ac(this.height,a,b)},k.di=function(a){this.width!==a&&(this.width=a,this.Z())},k.wl=function(a){this.height!==a&&(this.height=a,this.Z())},k.Bl=function(a,b){if(this.width!==
a||this.height!==b)this.width=a,this.height=b,this.Z()},b.Ll=function(a){a.i(this.width)},b.Sk=function(a){a.i(this.height)});f&&(h.Jk=function(a,b){return ta(this.d,I(b))<=I(a)},h.Xk=function(a){return va(this.d,I(a))},h.Vk=function(a,b){var c=ra(a),d=ra(b),e=J(this.d);return va(d,c)?va(e,c)&&!va(e,d):!(!va(e,c)&&va(e,d))},k.sl=function(a){a=I(pa(a));!isNaN(a)&&this.d!==a&&(this.d=a,this.Z())},k.ol=function(a){0!==a&&!isNaN(a)&&(this.d+=I(a),this.d=J(this.d),this.Z())},k.pl=function(a){0!==a&&!isNaN(a)&&
(this.d-=I(a),this.d=J(this.d),this.Z())},k.ql=function(a,b){var c=ua(this.d,I(b),I(a));!isNaN(c)&&this.d!==c&&(this.d=c,this.Z())},k.rl=function(a,b,c){a=ua(this.d,Math.atan2(c-this.y,b-this.x),I(a));!isNaN(a)&&this.d!==a&&(this.d=a,this.Z())},k.Cl=function(a,b){var c=Math.atan2(b-this.y,a-this.x);!isNaN(c)&&this.d!==c&&(this.d=c,this.Z())},b.Ik=function(a){a.i(qa(this.d))});c||(h.Lk=function(a,b,c){return ac(this.za[a],b,c)},h.Wk=function(a){return this.za[a]},h.kl=function(a){return this.uid===
a},h.il=A(j),h.$h=A(j),k.xl=function(a,b){var c=this.za;C(c[a])?c[a]=C(b)?b:parseFloat(b):D(c[a])&&(c[a]=D(b)?b:b.toString())},k.Hk=function(a,b){var c=this.za;C(c[a])?c[a]=C(b)?c[a]+b:c[a]+parseFloat(b):D(c[a])&&(c[a]=D(b)?c[a]+b:c[a]+b.toString())},k.Gl=function(a,b){var c=this.za;C(c[a])&&(c[a]=C(b)?c[a]-b:c[a]-parseFloat(b))},k.tl=function(a,b){this.za[a]=b?1:0},k.Hl=function(a){this.za[a]=1-this.za[a]},k.Rk=function(){this.a.wd(this)},b.Qk=function(a){var b=a.Cc.b.length,c,d,e;c=0;for(d=this.a.Ja.length;c<
d;c++)e=this.a.Ja[c],a.Cc.Q?0<=e.type.F.indexOf(a.Cc)&&b++:e.type===a.Cc&&b++;a.r(b)},b.nl=function(a){a.r(a.Cc.G().ib().length)},b.Il=function(a){a.r(this.uid)},b.Uk=function(a){a.r(this.Pd())});g&&(h.al=q("visible"),k.Dl=function(a){!a!==!this.visible&&(this.visible=a,this.a.u=j)},h.Mk=function(a,b){return ac(Ca(100*this.opacity),a,b)},k.yl=function(a){a/=100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.a.u=j)},b.jl=function(a){a.i(Ca(100*this.opacity))});i&&(h.Yk=function(a){return!a?
n:this.c===a},h.ml=function(a){var b=this.G(),c=b.ib();if(!c.length)return n;var d=c[0],e=d,f,g;f=1;for(g=c.length;f<g;f++)if(d=c[f],0===a){if(d.c.index>e.c.index||d.c.index===e.c.index&&d.jb()>e.jb())e=d}else if(d.c.index<e.c.index||d.c.index===e.c.index&&d.jb()<e.jb())e=d;b.zh(e);return j},k.hl=function(){var a=this.jb();a!==this.c.b.length-1&&(la(this.c.b,a),this.c.b.push(this),this.a.u=j,this.c.Ob=j)},k.fl=function(){var a=this.jb();0!==a&&(la(this.c.b,a),this.c.b.unshift(this),this.a.u=j,this.c.Ob=
j)},k.gl=function(a){a&&a!=this.c&&(la(this.c.b,this.jb()),this.c.Ob=j,this.c=a,this.Wf=a.b.length,a.b.push(this),this.a.u=j)},b.cl=function(a){a.r(this.c.rh)},b.bl=function(a){a.ua(this.c.name)},b.Ml=function(a){a.r(this.jb())});a&&(k.ul=function(a,b){if(this.a.l){var c=this.type.Hg(b);if(!(0>c)){var d=1===a;this.hc[c]!==d&&(this.hc[c]=d,this.Jc(),this.a.u=j)}}},k.vl=function(a,b,c){if(this.a.l){var d=this.type.Hg(a);0>d||(a=this.type.n[d],d=this.V[d],b=Math.floor(b),0>b||b>=d.length||(1===this.a.l.oj(a.S,
b)&&(c/=100),d[b]!==c&&(d[b]=c,a.Mc&&(this.a.u=j))))}})}function vb(){this.Be=j;this.a.u=j;var a,b;a=0;for(b=this.Ad.length;a<b;a++)this.Ad[a](this)}function wb(a){a&&this.Ad.push(a)}
function yb(){if(this.Be){this.p.set(this.x,this.y,this.x+this.width,this.y+this.height);this.p.offset(-this.Ej*this.width,-this.Fj*this.height);this.d?(this.p.offset(-this.x,-this.y),this.Za.Jh(this.p,this.d),this.Za.offset(this.x,this.y),this.Za.mg(this.p)):this.Za.Gf(this.p);var a=0;this.p.left>this.p.right&&(a=this.p.left,this.p.left=this.p.right,this.p.right=a);this.p.top>this.p.bottom&&(a=this.p.top,this.p.top=this.p.bottom,this.p.bottom=a);this.Be=n}}
function xb(a,b){return!this.p.Ab(a,b)||!this.Za.Ab(a,b)?n:this.Pc&&!this.Pc.Lj()?(this.Pc.si(this.width,this.height,this.d),this.Pc.Ab(a-this.x,b-this.y)):j}function sb(){this.type.ue();return this.Vc}function zb(){this.c.Bk();return this.Wf}function Ab(){this.m.length=0;var a,b;a=0;for(b=this.hc.length;a<b;a++)this.hc[a]&&this.m.push(this.type.n[a]);this.Vh=!!this.m.length}function tb(){return"inst:"+this.type.name+"#"+this.uid}function hb(){var a=this.G().ib();return a.length?a[0]:m}
function ib(a){var b=this.G().ib();return b.length?b[a.Pd()%b.length]:m}function gb(){if(this.$b&&!this.Q){var a,b;a=0;for(b=this.b.length;a<b;a++)this.b[a].Vc=a;this.$b=n}}function jb(){return this.Mb[this.eb]}function kb(){this.eb++;this.eb===this.Mb.length?this.Mb.push(new Da(this)):this.Mb[this.eb].R=j}function lb(){this.eb++;this.eb===this.Mb.length&&this.Mb.push(new Da(this));var a=this.Mb[this.eb],b=this.Mb[this.eb-1];b.R?a.R=j:(a.R=n,ma(a.b,b.b))}function mb(){this.eb--}
function nb(a){var b,c,d,e,f,g=0;if(!this.Q){b=0;for(c=this.F.length;b<c;b++){f=this.F[b];d=0;for(e=f.Y.length;d<e;d++){if(a===f.Y[d].name)return this.Fb.Zg=g,f.Y[d];g++}}}b=0;for(c=this.Y.length;b<c;b++){if(a===this.Y[b].name)return this.Fb.Zg=g,this.Y[b];g++}return m}function ob(a){return this.Od(a)?this.Fb.Zg:-1}function pb(a){var b,c;b=0;for(c=this.n.length;b<c;b++)if(this.n[b].name===a)return b;return-1}
function qb(){if(this.nb&&!this.Q){var a,b,c,d,e,f,g;this.ue();f=this.G();var i=f.R,h=(a=this.a.ya())&&a.fb&&a.fb.pb;a=0;for(b=this.ha.length;a<b;a++)if(e=this.ha[a],e!==this&&(e.ue(),g=e.G(),g.R=i,!i)){g.b.length=f.b.length;c=0;for(d=f.b.length;c<d;c++)g.b[c]=e.b[f.b[c].Vc];if(h){g.D.length=f.D.length;c=0;for(d=f.D.length;c<d;c++)g.D[c]=e.b[f.D[c].Vc]}}}}function rb(){return this.name}
function ac(a,b,c){if("undefined"===typeof a||"undefined"===typeof c)return n;switch(b){case 0:return a===c;case 1:return a!==c;case 2:return a<c;case 3:return a<=c;case 4:return a>c;case 5:return a>=c;default:return n}}var bb={};function bc(a){this.a=a}function cc(){}var V=bc.prototype;V.aa=function(){V.yb.di=function(a){this.width!==a&&(this.width=a,this.cc=j,this.Z())}};V.Lc=function(a){this.ta=a;this.a=a.a};var dc=V.Lc.prototype;dc.aa=ba();
dc.th=function(){if(!this.Q){var a,b,c;a=0;for(b=this.b.length;a<b;a++)c=this.b[a],c.ob=m,c.Bc=m,c.Ba=m}};V.xb=function(a){this.type=a;this.a=a.a;this.Xb=[];this.cc=j};var ec=V.xb.prototype;
ec.aa=function(){this.text=this.ja[0];this.visible=0===this.ja[1];this.font=this.ja[2];this.color=this.ja[3];this.Mg=this.ja[4];this.Wh=this.ja[5];this.Fk=0===this.ja[7];this.fh=this.tc=this.width;this.sc=this.height;this.Nj=this.ja[8];this.Eg=this.yg="";var a=this.font.split(" ");this.hm=this.im=this.tf=0;var b;for(b=0;b<a.length;b++)if("pt"===a[b].substr(a[b].length-2,2)){this.tf=parseInt(a[b].substr(0,a[b].length-2));this.ek=Math.ceil(96*(this.tf/72))+4;this.yg=a[b+1];0<b&&(this.Eg=a[b-1]);break}this.Ba=
this.Bc=this.ob=m;this.ph=n;this.md=new P(0,0,1,1)};ec.je=function(){this.ob=this.Bc=m;this.a.l&&this.Ba&&this.a.l.deleteTexture(this.Ba);this.Ba=m};ec.km=function(){this.font=this.Eg+" "+this.tf.toString()+"pt "+this.yg;this.cc=j;this.a.u=j};
ec.Cb=function(a,b){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=b?1:this.opacity;var c=1;b&&(c=this.c.da(),a.save(),a.scale(c,c));if(this.cc||this.width!==this.fh)this.type.ta.fi(this.text,this.Xb,a,this.width,this.Fk),this.cc=n,this.fh=this.width;this.ec();var c=b?0:this.Za.ka,d=b?0:this.Za.la;this.a.jd&&(c=c+0.5|0,d=d+0.5|0);0!==this.d&&!b&&(a.save(),a.translate(c,d),a.rotate(this.d),d=c=0);var e=d+this.height,f=this.ek,f=f+this.Nj*this.a.devicePixelRatio,g,i;1===
this.Wh?d+=Math.max(this.height/2-this.Xb.length*f/2,0):2===this.Wh&&(d+=Math.max(this.height-this.Xb.length*f-2,0));for(i=0;i<this.Xb.length&&!(g=c,1===this.Mg?g=c+(this.width-this.Xb[i].width)/2:2===this.Mg&&(g=c+(this.width-this.Xb[i].width)),a.fillText(this.Xb[i].text,g,d),d+=f,d>=e-f);i++);(0!==this.d||b)&&a.restore()};
ec.La=function(a){if(!(1>this.width||1>this.height)){var b=this.cc||this.ph;this.ph=n;var c=this.c.da(),d=this.c.gb(),e=this.md,f=c*this.width,g=c*this.height,i=Math.ceil(f),h=Math.ceil(g),k=this.a.width/2,l=this.a.height/2;this.Bc||(this.ob=document.createElement("canvas"),this.ob.width=i,this.ob.height=h,this.tc=i,this.sc=h,b=j,this.Bc=this.ob.getContext("2d"));if(i!==this.tc||h!==this.sc)this.ob.width=i,this.ob.height=h,this.Ba&&(a.deleteTexture(this.Ba),this.Ba=m),b=j;b&&(this.Bc.clearRect(0,
0,i,h),this.Cb(this.Bc,j),this.Ba||(this.Ba=a.bb(i,h,this.a.M,this.a.nc)),a.Ek(this.ob,this.Ba,this.a.nc));this.tc=i;this.sc=h;a.Da(this.Ba);a.od(this.opacity);a.Pa();a.translate(-k,-l);a.Sa();var r=this.Za,b=this.c.H(r.ka,r.la,j),k=this.c.H(r.ka,r.la,n),l=this.c.H(r.ub,r.vb,j),p=this.c.H(r.ub,r.vb,n),u=this.c.H(r.$a,r.ab,j),s=this.c.H(r.$a,r.ab,n),t=this.c.H(r.Xa,r.Ya,j),r=this.c.H(r.Xa,r.Ya,n);if(this.a.jd||0===this.d&&0===d)var E=(b+0.5|0)-b,X=(k+0.5|0)-k,b=b+E,k=k+X,l=l+E,p=p+X,u=u+E,s=s+X,t=
t+E,r=r+X;0===this.d&&0===d?(l=b+i,p=k,u=l,s=k+h,t=b,r=s,e.right=1,e.bottom=1):(e.right=f/i,e.bottom=g/h);a.Ec(b,k,l,p,u,s,t,r,e);a.Pa();a.scale(c,c);a.Bf(-this.c.gb());a.translate((this.c.Fa+this.c.Ga)/-2,(this.c.Ha+this.c.Ea)/-2);a.Sa()}};var fc=[];
V.ei=function(a){fc.length=0;for(var b="",c,d=0;d<a.length;)if(c=a.charAt(d),"\n"===c)b.length&&(fc.push(b),b=""),fc.push("\n"),++d;else if(" "===c||"\t"===c||"-"===c){do b+=a.charAt(d),d++;while(d<a.length&&(" "===a.charAt(d)||"\t"===a.charAt(d)));fc.push(b);b=""}else d<a.length&&(b+=c,d++);b.length&&fc.push(b)};
V.fi=function(a,b,c,d,e){if(!a||!a.length)b.length=0;else if(2>=d)b.length=0;else{if(100>=a.length&&-1===a.indexOf("\n")){var f=0,f=c.measureText(a).width;if(f<=d){b.length?b.length=1:b.push({});b[0].text=a;b[0].width=f;return}}this.gi(a,b,c,d,e)}};
V.gi=function(a,b,c,d,e){e&&(this.ei(a),a=fc);var f="",g,i,h,k=0;for(h=0;h<a.length;h++)"\n"===a[h]?(k>=b.length&&b.push({}),i=b[k],i.text=f,i.width=0,i.width=c.measureText(f).width,k++,f=""):(g=f,f+=a[h],i=c.measureText(f).width,i>=d&&(k>=b.length&&b.push({}),i=b[k],i.text=g,i.width=0,i.width=c.measureText(g).width,k++,f=a[h],!e&&" "===f&&(f="")));f.length&&(k>=b.length&&b.push({}),i=b[k],i.text=f,i.width=0,i.width=c.measureText(f).width,k++);b.length=k};V.v=new (ba());
cc.prototype.ci=function(a){C(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.cc=j,this.a.u=j)};cc.prototype.Xf=function(a){C(a)&&(a=Math.round(1E10*a)/1E10);if(a=a.toString())this.text+=a,this.cc=j,this.a.u=j};V.yb=new cc;V.xa=new (ba());function W(a){this.a=a}function gc(a){hc=a.x;ic=a.y;jc=a.Xh}function kc(a){lc=a.x;mc=a.y;nc=a.Xh}function oc(){}function pc(){}var qc=W.prototype;qc.Lc=function(a){this.ta=a;this.a=a.a};qc.Lc.prototype.aa=ba();
qc.xb=function(a){this.type=a;this.a=a.a;this.touches=[];this.jm=this.lf=n;this.Pl="TOUCHWRAP";this.yd=n;this.Ua=[];this.Sl={value:0,qk:function(a){this.value=a},r:function(a){this.value=a},i:function(a){this.value=a}}};var Y=qc.xb.prototype,rc={left:0,top:0};Y.Md=function(a){var b,c;b=0;for(c=this.touches.length;b<c;b++)if(this.touches[b].id===a)return b;return-1};var hc=0,ic=0,jc=0,lc=0,mc=0,nc=0;
Y.aa=function(){this.Kj=!!("undefined"!==typeof window.c2isWindows8&&window.c2isWindows8);this.se=this.Ra=this.Ie=this.He=this.ig=this.hg=this.gg=this.li=this.ki=this.ji=this.hd=this.gd=this.fd=0;this.Uh=0!==this.ja[0];var a=0<this.a.Gb?document:this.a.canvas,b=document;this.a.lb?b=a=window.Canvas:this.a.mc&&(b=a=window);var c=this;window.navigator.msPointerEnabled?(a.addEventListener("MSPointerDown",function(a){c.Wj(a)},n),a.addEventListener("MSPointerMove",function(a){c.Vj(a)},n),b.addEventListener("MSPointerUp",
function(a){c.uh(a)},n),b.addEventListener("MSPointerCancel",function(a){c.uh(a)},n),this.a.canvas&&(this.a.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},n),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},n))):(a.addEventListener("touchstart",function(a){c.wh(a)},n),a.addEventListener("touchmove",function(a){c.vh(a)},n),b.addEventListener("touchend",function(a){c.of(a)},n),b.addEventListener("touchcancel",function(a){c.of(a)},n));if(this.Kj){var d=
function(a){a=a.reading;c.gg=a.accelerationX;c.hg=a.accelerationY;c.ig=a.accelerationZ},e=function(a){a=a.reading;c.fd=a.yawDegrees;c.gd=a.pitchDegrees;c.hd=a.rollDegrees},f=Windows.Devices.Sensors.Accelerometer.getDefault();f&&(f.reportInterval=Math.max(f.minimumReportInterval,16),f.addEventListener("readingchanged",d));var g=Windows.Devices.Sensors.Inclinometer.getDefault();g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),g.addEventListener("readingchanged",e));document.addEventListener("visibilitychange",
function(){document.hidden||document.msHidden?(f&&f.removeEventListener("readingchanged",d),g&&g.removeEventListener("readingchanged",e)):(f&&f.addEventListener("readingchanged",d),g&&g.addEventListener("readingchanged",e))},n)}else window.addEventListener("deviceorientation",function(a){c.fd=a.alpha||0;c.gd=a.beta||0;c.hd=a.gamma||0},n),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(c.ji=a.accelerationIncludingGravity.x,c.ki=a.accelerationIncludingGravity.y,c.li=
a.accelerationIncludingGravity.z);a.acceleration&&(c.gg=a.acceleration.x,c.hg=a.acceleration.y,c.ig=a.acceleration.z)},n);this.Uh&&!this.a.$&&(jQuery(document).mousemove(function(a){c.Tj(a)}),jQuery(document).mousedown(function(a){c.Sj(a)}),jQuery(document).mouseup(function(a){c.Uj(a)}));this.a.Xc&&!this.a.lb&&AppMobi.accelerometer.watchAcceleration(gc,{frequency:40,adjustForRotation:j});this.a.oc&&navigator.accelerometer.watchAcceleration(kc,m,{frequency:40});this.a.zk(this)};
Y.Vj=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE){a.preventDefault&&a.preventDefault();var b=this.Md(a.pointerId),c=K();if(0<=b){var d=this.a.$?rc:jQuery(this.a.canvas).offset(),b=this.touches[b];2>c-b.time||(b.dd=b.time,b.ae=b.x,b.be=b.y,b.time=c,b.x=a.pageX-d.left,b.y=a.pageY-d.top)}}};
Y.Wj=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE){a.preventDefault&&a.preventDefault();var b=this.a.$?rc:jQuery(this.a.canvas).offset(),c=a.pageX-b.left,b=a.pageY-b.top,d=K();this.Ra=this.touches.length;this.se=a.pointerId;this.touches.push({time:d,x:c,y:b,dd:d,ae:c,be:b,id:a.pointerId,ne:this.Ra});this.a.trigger(W.prototype.v.$f,this);this.a.trigger(W.prototype.v.cg,this);this.He=c;this.Ie=b;this.a.trigger(W.prototype.v.bg,this);c=this.Ua.length;for(a=0;a<c;a++);}};
Y.uh=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE){a.preventDefault&&a.preventDefault();a=this.Md(a.pointerId);this.Ra=0<=a?this.touches[a].ne:-1;this.se=0<=a?this.touches[a].id:-1;this.a.trigger(W.prototype.v.Zf,this);this.a.trigger(W.prototype.v.ag,this);for(var b=this.Ua.length,a=0;a<b;a++);0<=a&&this.touches.splice(a,1)}};
Y.vh=function(a){a.preventDefault&&a.preventDefault();var b=K(),c,d,e,f;c=0;for(d=a.changedTouches.length;c<d;c++)if(e=a.changedTouches[c],f=this.Md(e.identifier),0<=f){var g=this.a.$?rc:jQuery(this.a.canvas).offset();f=this.touches[f];2>b-f.time||(f.dd=f.time,f.ae=f.x,f.be=f.y,f.time=b,f.x=e.pageX-g.left,f.y=e.pageY-g.top)}};
Y.wh=function(a){a.preventDefault&&a.preventDefault();var b=this.a.$?rc:jQuery(this.a.canvas).offset(),c=K(),d,e,f,g=this.Ua.length;d=0;for(e=a.changedTouches.length;d<e;d++){f=a.changedTouches[d];var i=f.pageX-b.left,h=f.pageY-b.top;this.Ra=this.touches.length;this.se=f.identifier;this.touches.push({time:c,x:i,y:h,dd:c,ae:i,be:h,id:f.identifier,ne:this.Ra});this.a.trigger(W.prototype.v.$f,this);this.a.trigger(W.prototype.v.cg,this);this.He=i;this.Ie=h;this.a.trigger(W.prototype.v.bg,this);for(f=
0;f<g;f++);}};Y.of=function(a){a.preventDefault&&a.preventDefault();var b,c,d,e=this.Ua.length;b=0;for(c=a.changedTouches.length;b<c;b++){d=a.changedTouches[b];var f=this.Md(d.identifier);this.Ra=0<=f?this.touches[f].ne:-1;this.se=0<=f?this.touches[f].id:-1;this.a.trigger(W.prototype.v.Zf,this);this.a.trigger(W.prototype.v.ag,this);for(d=0;d<e;d++);0<=f&&this.touches.splice(f,1)}};Y.Tl=function(){return this.a.Xc&&0===this.fd&&0!==jc?90*jc:this.a.oc&&0===this.fd&&0!==nc?90*nc:this.fd};
Y.Ul=function(){return this.a.Xc&&0===this.gd&&0!==ic?-90*ic:this.a.oc&&0===this.gd&&0!==mc?-90*mc:this.gd};Y.Wl=function(){return this.a.Xc&&0===this.hd&&0!==hc?90*hc:this.a.oc&&0===this.hd&&0!==lc?90*lc:this.hd};Y.Sj=function(a){this.lf=this.yd=j;a.preventDefault&&this.a.Qd&&a.preventDefault();a={changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]};this.touches.length=0;this.wh(a)};
Y.Tj=function(a){this.yd=j;a.preventDefault&&this.a.Qd&&a.preventDefault();a={changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]};0==this.touches.length?this.fg(a):this.vh(a)};Y.Uj=function(a){this.yd=j;this.lf=n;a.preventDefault&&this.a.Qd&&a.preventDefault();this.a.Qd=j;a={changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]};this.of(a);this.fg(a)};Y.Lf=function(){var a,b,c,d=K();a=0;for(b=this.touches.length;a<b;a++)c=this.touches[a],c.time<=d-50&&(c.dd=d)};B=oc.prototype;
B.cg=A(j);B.ag=A(j);B.ze=function(){return this.ze()};B.bg=function(a){return!a?n:this.a.vk(a,this.He,this.Ie)};B.$f=function(a){a=Math.floor(a);return a===this.Ra};B.Zf=function(a){a=Math.floor(a);return a===this.Ra};qc.v=new oc;
pc.prototype.hi=function(a,b){if(this.touches.length){var c,d,e,f,g;da(b)?(c=this.a.hb(0),d=c.scale,e=c.ma,f=c.qb,g=c.d,c.scale=this.a.q.scale,c.ma=1,c.qb=1,c.d=this.a.q.d,a.i(c.P(this.touches[0].x,this.touches[0].y,j)),c.scale=d,c.ma=e,c.qb=f,c.d=g):(c=C(b)?this.a.hb(b):this.a.Tc(b))?a.i(c.P(this.touches[0].x,this.touches[0].y,j)):a.i(0)}else a.i(0)};
pc.prototype.dg=function(a,b,c){b=Math.floor(b);if(0>b||b>=this.touches.length)a.i(0);else{var d,e,f,g;da(c)?(c=this.a.hb(0),d=c.scale,e=c.ma,f=c.qb,g=c.d,c.scale=this.a.q.scale,c.ma=1,c.qb=1,c.d=this.a.q.d,a.i(c.P(this.touches[b].x,this.touches[b].y,j)),c.scale=d,c.ma=e,c.qb=f,c.d=g):(c=C(c)?this.a.hb(c):this.a.Tc(c))?a.i(c.P(this.touches[b].x,this.touches[b].y,j)):a.i(0)}};
pc.prototype.ii=function(a,b){if(this.touches.length){var c,d,e,f,g;da(b)?(c=this.a.hb(0),d=c.scale,e=c.ma,f=c.rb,g=c.d,c.scale=this.a.q.scale,c.ma=1,c.rb=1,c.d=this.a.q.d,a.i(c.P(this.touches[0].x,this.touches[0].y,n)),c.scale=d,c.ma=e,c.rb=f,c.d=g):(c=C(b)?this.a.hb(b):this.a.Tc(b))?a.i(c.P(this.touches[0].x,this.touches[0].y,n)):a.i(0)}else a.i(0)};
pc.prototype.eg=function(a,b,c){b=Math.floor(b);if(0>b||b>=this.touches.length)a.i(0);else{var d,e,f,g;da(c)?(c=this.a.hb(0),d=c.scale,e=c.ma,f=c.rb,g=c.d,c.scale=this.a.q.scale,c.ma=1,c.rb=1,c.d=this.a.q.d,a.i(c.P(this.touches[b].x,this.touches[b].y,n)),c.scale=d,c.ma=e,c.rb=f,c.d=g):(c=C(c)?this.a.hb(c):this.a.Tc(c))?a.i(c.P(this.touches[b].x,this.touches[b].y,n)):a.i(0)}};qc.xa=new pc;
Y.fg=function(a){a.preventDefault&&a.preventDefault();var b=this.a.$?rc:jQuery(this.a.canvas).offset(),c=K(),d,e,f;d=0;for(e=a.changedTouches.length;d<e;d++){f=a.changedTouches[d];var g=f.pageX-b.left,i=f.pageY-b.top;this.Ra=this.touches.length;this.touches.push({time:c,x:g,y:i,dd:c,ae:g,be:i,id:f.identifier,ne:this.Ra})}};Y.Tk=function(a){this.Ua.push(a)};Y.Jl=function(a){var b,c=this.Ua.length,d;for(b=0;b<c;b++)if(d=this.Ua[b],a===d){la(this.Ua,b);break}this.Ua.push(a)};Y.Kl=q("Uh");
Y.ze=function(){return this.yd?this.lf:this.touches.length};
function eb(){return[m,m,[[W,j,n,n,n,n,n,n,n,n],[bc,n,j,j,j,j,j,j,j,n]],[["t0",bc,n,0,0,0,m,m,[],n,n,[]],["t1",W,n,0,0,0,m,m,[],n,n,[],[1]]],[],[["Layout 1",1280,1024,n,"Event sheet 1",[["Layer 0",0,j,[255,255,255],n,1,1,1,n,1,0,0,[[[20,16,0,233,428,0,0,1,0,0,0,0,[]],0,[],[],["",0,"10pt Arial","rgb(0,0,0)",0,0,0,0,0]]],[]]],[],[]]],[["Event sheet 1",[[0,m,n,[[1,W.prototype.v.ze,m,0,n,n,n]],[[0,bc.prototype.yb.ci,m,[[7,[2,"** "]]]],[0,bc.prototype.yb.Xf,m,[[7,[10,[10,[10,[20,1,W.prototype.xa.dg,n,
m,[[0,0]]],[2,"  ,  "]],[20,1,W.prototype.xa.eg,n,m,[[0,0]]]],[19,T.prototype.xa.qh]]]]],[0,bc.prototype.yb.Xf,m,[[7,[10,[10,[10,[20,1,W.prototype.xa.dg,n,m,[[0,1]]],[2,"  ,  "]],[20,1,W.prototype.xa.eg,n,m,[[0,1]]]],[19,T.prototype.xa.qh]]]]]]]]]],"media/",n,640,480,0,j,j,j,"1.0",2,n,0,n,[]]};
