// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var h=!0,k=null,l=!1;function n(){return function(){}}function x(a){return function(){return this[a]}}function B(a){return function(){return a}}var D,aa,ba,ca,E,G,da,ea,H,I,fa,ga,ha,ia,ja,ka,la,J,oa,pa,qa,ta,ua,va,wa,xa,ya,za,Aa,Ba,K,Ca,Da,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,L,Pa,Qa,Ra,P;"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(a){return a.__proto__}:function(a){return a.constructor.prototype});
function Sa(a,b,c,d){this.set(a,b,c,d)}function Ta(){this.za=this.ya=this.Ba=this.Aa=this.Ia=this.Ha=this.na=this.ma=0}function Ua(){this.Ya={};this.Od=0;this.ie=[];this.Dd=h}function Va(){this.qd=this.zf=this.y=this.Uf=0}function Wa(a){this.fh=[];this.sh(a)}ba=function(a){console&&console.log&&console.log(a)};aa=function(a){return a};ca=function(a){return"undefined"===typeof a};E=function(a){return"number"===typeof a};G=function(a){return"string"===typeof a};da=function(a){return 0<a&&0===(a-1&a)};
ea=function(a){return 0>a?-a:a};H=function(a,b){return a>b?a:b};I=function(a,b){return a<b?a:b};fa=Math.PI;ga=function(a){return a|0};ha=function(a,b,c,d,e,f,g,i){if(H(a,c)<I(e,g)||I(a,c)>H(e,g)||H(b,d)<I(f,i)||I(b,d)>H(f,i))return l;var j=e-a+g-c,m=f-b+i-d,a=c-a,b=d-b,e=g-e,f=i-f,i=ea(b*e-f*a);return ea(e*m-f*j)<=i&&ea(a*m-b*j)<=i};D=Sa.prototype;D.set=function(a,b,c,d){this.left=a;this.top=b;this.right=c;this.bottom=d};D.width=function(){return this.right-this.left};
D.height=function(){return this.bottom-this.top};D.offset=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b;return this};D.yb=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};D=Ta.prototype;D.rh=function(a){this.ma=a.left;this.na=a.top;this.Ha=a.right;this.Ia=a.top;this.Aa=a.right;this.Ba=a.bottom;this.ya=a.left;this.za=a.bottom};
D.Pj=function(a,b){if(0===b)this.rh(a);else{var c=Math.sin(b),d=Math.cos(b),e=a.left*c,f=a.top*c,g=a.right*c,c=a.bottom*c,i=a.left*d,j=a.top*d,m=a.right*d,d=a.bottom*d;this.ma=i-f;this.na=j+e;this.Ha=m-f;this.Ia=j+g;this.Aa=m-c;this.Ba=d+g;this.ya=i-c;this.za=d+e}};D.offset=function(a,b){this.ma+=a;this.na+=b;this.Ha+=a;this.Ia+=b;this.Aa+=a;this.Ba+=b;this.ya+=a;this.za+=b;return this};
D.si=function(a){a.left=I(I(this.ma,this.Ha),I(this.Aa,this.ya));a.top=I(I(this.na,this.Ia),I(this.Ba,this.za));a.right=H(H(this.ma,this.Ha),H(this.Aa,this.ya));a.bottom=H(H(this.na,this.Ia),H(this.Ba,this.za))};
D.yb=function(a,b){var c=this.Ha-this.ma,d=this.Ia-this.na,e=this.Aa-this.ma,f=this.Ba-this.na,g=a-this.ma,i=b-this.na,j=c*c+d*d,m=c*e+d*f,d=c*g+d*i,p=e*e+f*f,r=e*g+f*i,q=1/(j*p-m*m),c=(p*d-m*r)*q,j=(j*r-m*d)*q;if(0<=c&&0<j&&1>c+j)return h;c=this.ya-this.ma;d=this.za-this.na;j=c*c+d*d;m=c*e+d*f;d=c*g+d*i;q=1/(j*p-m*m);c=(p*d-m*r)*q;j=(j*r-m*d)*q;return 0<=c&&0<j&&1>c+j};ia=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};
ja=function(a,b){var c,d,b=ga(b);if(!(0>b||b>=a.length))if(0===b)a.shift();else if(b===a.length-1)a.pop();else{c=b;for(d=a.length-1;c<d;c++)a[c]=a[c+1];a.length=d}};ka=function(a,b){a.length=b.length;var c,d;c=0;for(d=b.length;c<d;c++)a[c]=b[c]};la=function(a,b){var c=a.indexOf(b);-1!==c&&ja(a,c)};J=function(a){return a/(180/fa)};oa=function(a){return a*(180/fa)};pa=function(a){a%=360;0>a&&(a+=360);return a};qa=function(a){a%=2*fa;0>a&&(a+=2*fa);return a};ta=function(a){return pa(oa(a))};ua=function(a){return qa(J(a))};
va=function(a,b,c,d){return Math.atan2(d-b,c-a)};wa=function(a,b){if(a===b)return 0;var c=Math.sin(a),d=Math.cos(a),e=Math.sin(b),f=Math.cos(b),c=c*e+d*f;return 1<=c?0:-1>=c?fa:Math.acos(c)};xa=function(a,b,c){var d=Math.sin(a),e=Math.cos(a),f=Math.sin(b),g=Math.cos(b);return Math.acos(d*f+e*g)>c?0<e*f-d*g?qa(a+c):qa(a-c):qa(b)};ya=function(a,b){var c=Math.sin(a),d=Math.cos(a),e=Math.sin(b),f=Math.cos(b);return 0>=d*e-c*f};za=function(a,b,c,d){a=c-a;b=d-b;return Math.sqrt(a*a+b*b)};
Aa=function(a,b){return!a!==!b};Ba=function(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b]};K=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()};D=Ua.prototype;D.contains=function(a){return this.Ya.hasOwnProperty(a.toString())};
D.add=function(a){this.contains(a)||(this.Ya[a.toString()]=a,this.Od++,this.Dd=l);return this};D.remove=function(a){this.contains(a)&&(delete this.Ya[a.toString()],this.Od--,this.Dd=l);return this};D.clear=function(){Ba(this.Ya);this.Od=0;this.ie.length=0;this.Dd=h;return this};D.We=function(){return 0===this.Od};D.Dn=function(){if(!this.Dd){this.ie.length=this.Od;var a,b=0;for(a in this.Ya)this.Ya.hasOwnProperty(a)&&(this.ie[b++]=this.Ya[a]);this.Dd=h}};D.he=function(){this.Dn();return this.ie};
Va.prototype.add=function(a){this.y=a-this.Uf;this.zf=this.qd+this.y;this.Uf=this.zf-this.qd-this.y;this.qd=this.zf};Va.prototype.reset=function(){this.qd=this.zf=this.y=this.Uf=0};Ca=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};Wa.prototype.sh=function(a){this.Kj=a;this.Lj=a.length/2;this.fh.length=a.length;this.Vf=this.Ce=-1;this.ti=0};Wa.prototype.Gm=function(){return!this.Kj.length};
Wa.prototype.cl=function(a,b,c){if(!(this.Ce===a&&this.Vf===b&&this.ti===c)){this.Ce=a;this.Vf=b;this.ti=c;var d,e,f,g=0,i=1,j=this.Kj,m=this.fh;0!==c&&(g=Math.sin(c),i=Math.cos(c));c=0;for(d=this.Lj;c<d;c++)e=j[2*c]*a,f=j[2*c+1]*b,m[2*c]=e*i-f*g,m[2*c+1]=f*i+e*g}};
Wa.prototype.yb=function(a,b){var c=this.fh;if(a===c[0]&&b===c[1])return h;var d=5*-this.Ce-1,e=5*-this.Vf-1,f=5*this.Ce+1,g,i,j,m,p,r,q=0,u=0;p=0;for(r=this.Lj;p<r;p++)g=c[2*p],i=c[2*p+1],j=c[2*((p+1)%r)],m=c[2*((p+1)%r)+1],ha(d,e,a,b,g,i,j,m)&&q++,ha(f,-1,a,b,g,i,j,m)&&u++;return 1===q%2||1===u%2};var Xa="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");Da=function(a){return 0>=a||11<=a?"source-over":Xa[a-1]};
Ea=function(a,b,c){if(c)switch(a.la=c.ONE,a.ja=c.ONE_MINUS_SRC_ALPHA,b){case 1:a.la=c.ONE;a.ja=c.ONE;break;case 3:a.la=c.ONE;a.ja=c.ZERO;break;case 4:a.la=c.ONE_MINUS_DST_ALPHA;a.ja=c.ONE;break;case 5:a.la=c.DST_ALPHA;a.ja=c.ZERO;break;case 6:a.la=c.ZERO;a.ja=c.SRC_ALPHA;break;case 7:a.la=c.ONE_MINUS_DST_ALPHA;a.ja=c.ZERO;break;case 8:a.la=c.ZERO;a.ja=c.ONE_MINUS_SRC_ALPHA;break;case 9:a.la=c.DST_ALPHA;a.ja=c.ONE_MINUS_SRC_ALPHA;break;case 10:a.la=c.ONE_MINUS_DST_ALPHA,a.ja=c.SRC_ALPHA}};
Fa=function(a){return Math.round(1E6*a)/1E6};var Ya="undefined"!==typeof Float32Array?Float32Array:Array;function Za(a){var b=new Ya(3);a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2]);return b}function $a(a){var b=new Ya(16);a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]);return b}
function ab(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15]}function bb(a,b){var c=b[0],d=b[1],b=b[2];a[0]*=c;a[1]*=c;a[2]*=c;a[3]*=c;a[4]*=d;a[5]*=d;a[6]*=d;a[7]*=d;a[8]*=b;a[9]*=b;a[10]*=b;a[11]*=b}
function cb(a,b,c,d){d||(d=$a());var e,f,g,i,j,m,p,r,q=a[0],u=a[1],a=a[2];f=c[0];g=c[1];e=c[2];c=b[1];m=b[2];q===b[0]&&u===c&&a===m?(a=d,a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1):(c=q-b[0],m=u-b[1],p=a-b[2],r=1/Math.sqrt(c*c+m*m+p*p),c*=r,m*=r,p*=r,b=g*p-e*m,e=e*c-f*p,f=f*m-g*c,(r=Math.sqrt(b*b+e*e+f*f))?(r=1/r,b*=r,e*=r,f*=r):f=e=b=0,g=m*f-p*e,i=p*b-c*f,j=c*e-m*b,(r=Math.sqrt(g*g+i*i+j*j))?(r=1/r,g*=r,i*=r,j*=r):j=i=g=0,
d[0]=b,d[1]=g,d[2]=c,d[3]=0,d[4]=e,d[5]=i,d[6]=m,d[7]=0,d[8]=f,d[9]=j,d[10]=p,d[11]=0,d[12]=-(b*q+e*u+f*a),d[13]=-(g*q+i*u+j*a),d[14]=-(c*q+m*u+p*a),d[15]=1)}function db(a){this.height=this.width=0;this.vi=Za([0,0,100]);this.sj=Za([0,0,0]);this.ak=Za([0,1,0]);this.Jh=Za([1,1,1]);this.Sg=$a();this.Na=$a();this.ij=$a();this.eg=$a();this.g=a;this.Zi()}
function eb(a,b,c){this.g=a;this.ce=b;this.name=c;this.Ma=a.getAttribLocation(b,"aPos");this.Wb=a.getAttribLocation(b,"aTex");this.qj=a.getUniformLocation(b,"matP");this.$c=a.getUniformLocation(b,"matMV");this.ad=a.getUniformLocation(b,"opacity");this.rj=a.getUniformLocation(b,"samplerFront");this.hf=a.getUniformLocation(b,"samplerBack");this.Zc=a.getUniformLocation(b,"destStart");this.Yc=a.getUniformLocation(b,"destEnd");this.Qg=a.getUniformLocation(b,"seconds");this.Pg=a.getUniformLocation(b,"pixelWidth");
this.Og=a.getUniformLocation(b,"pixelHeight");this.Ng=a.getUniformLocation(b,"layerScale");this.ad&&a.uniform1f(this.ad,1);this.rj&&a.uniform1i(this.rj,0);this.hf&&a.uniform1i(this.hf,1);this.Zc&&a.uniform2f(this.Zc,0,0);this.Yc&&a.uniform2f(this.Yc,1,1);this.rc=l}function fb(a,b){this.type=a;this.l=b;this.g=b.g;this.ob=this.Ra=this.Fj=0;this.i=this.zc=k;this.th=[]}D=db.prototype;
D.Zi=function(){var a=this.g,b;this.jj=1;this.tc=k;this.Bi=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.DEPTH_TEST);this.lp=a.getParameter(a.MAX_TEXTURE_SIZE);this.kj=a.ONE;this.hj=a.ONE_MINUS_SRC_ALPHA;this.$g=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.$g);this.ke=Array(4);this.de=Array(4);for(b=0;4>b;b++)this.ke[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.ke[b]),this.de[b]=a.createBuffer(),
a.bindBuffer(a.ARRAY_BUFFER,this.de[b]);this.Bb=0;this.Am=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Am);this.Ih=new Float32Array(16E3);this.Bh=new Float32Array(16E3);this.Wm=new Float32Array(32E3);for(var c=new Uint16Array(12E3),d=b=0;12E3>b;)c[b++]=d,c[b++]=d+1,c[b++]=d+2,c[b++]=d,c[b++]=d+2,c[b++]=d+3,d+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,c,a.STATIC_DRAW);this.ah=this.ub=0;this.aa=[];b=this.$f({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}","<default>");this.aa.push(b);b=this.$f({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}",
"<point>");this.aa.push(b);for(var e in gb)gb.hasOwnProperty(e)&&this.aa.push(this.$f(gb[e],"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",e));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,k);this.Qb=[];this.wb=0;this.La=this.wa=l;this.Ci=this.Pd=-1;this.Ed=k;this.$l=a.createFramebuffer();this.Mj=
k;this.fc=Za([0,0,0]);a=a.getParameter(a.ALIASED_POINT_SIZE_RANGE);this.mp=a[0];this.kp=a[1];this.rb(0)};
D.$f=function(a,b,c){var d=this.g,e=d.createShader(d.FRAGMENT_SHADER);d.shaderSource(e,a.src);d.compileShader(e);if(!d.getShaderParameter(e,d.COMPILE_STATUS))return d.deleteShader(e),k;var f=d.createShader(d.VERTEX_SHADER);d.shaderSource(f,b);d.compileShader(f);if(!d.getShaderParameter(f,d.COMPILE_STATUS))return d.deleteShader(e),d.deleteShader(f),k;b=d.createProgram();d.attachShader(b,e);d.attachShader(b,f);d.linkProgram(b);if(!d.getProgramParameter(b,d.LINK_STATUS))return d.deleteShader(e),d.deleteShader(f),
d.deleteProgram(b),k;d.useProgram(b);d.validateProgram(b);d.deleteShader(e);d.deleteShader(f);c=new eb(d,b,c);c.mg=a.mg||0;c.ng=a.ng||0;c.Ai=!!a.Ai;c.qi=!!a.qi;c.f=a.f||[];a=0;for(e=c.f.length;a<e;a++)c.f[a][1]=d.getUniformLocation(b,c.f[a][0]),d.uniform1f(c.f[a][1],0);return c};D.ug=function(a){var b,c;b=0;for(c=this.aa.length;b<c;b++)if(this.aa[b].name===a)return b;return-1};
D.Jj=function(a,b,c){var d=[0,0,this.width,this.height],e=this.Na,f=this.Sg,g=[0,0,0,0,0,0,0,0];g[0]=e[0]*a+e[4]*b+e[12];g[1]=e[1]*a+e[5]*b+e[13];g[2]=e[2]*a+e[6]*b+e[14];g[3]=e[3]*a+e[7]*b+e[15];g[4]=f[0]*g[0]+f[4]*g[1]+f[8]*g[2]+f[12]*g[3];g[5]=f[1]*g[0]+f[5]*g[1]+f[9]*g[2]+f[13]*g[3];g[6]=f[2]*g[0]+f[6]*g[1]+f[10]*g[2]+f[14]*g[3];g[7]=-g[2];0!==g[7]&&(g[7]=1/g[7],g[4]*=g[7],g[5]*=g[7],g[6]*=g[7],c[0]=(0.5*g[4]+0.5)*d[2]+d[0],c[1]=(0.5*g[5]+0.5)*d[3]+d[1])};
D.ph=function(a,b,c){if(!(this.width===a&&this.height===b&&!c)){this.Tb();this.width=a;this.height=b;this.g.viewport(0,0,a,b);var b=a/b,d=this.Sg,e;e=1*Math.tan(45*Math.PI/360);b*=e;a=-b;c=-e;d||(d=$a());var f=b-a,g=e-c;d[0]=2/f;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=2/g;d[6]=0;d[7]=0;d[8]=(b+a)/f;d[9]=(e+c)/g;d[10]=-1001/999;d[11]=-1;d[12]=0;d[13]=0;d[14]=-2E3/999;d[15]=0;cb(this.vi,this.sj,this.ak,this.Na);a=[0,0];b=[0,0];this.Jj(0,0,a);this.Jj(1,1,b);this.Jh[0]=1/(b[0]-a[0]);this.Jh[1]=-1/(b[1]-a[1]);
a=0;for(b=this.aa.length;a<b;a++)c=this.aa[a],c.rc=l,c.qj&&(this.g.useProgram(c.ce),this.g.uniformMatrix4fv(c.qj,l,this.Sg));this.g.useProgram(this.aa[this.Pd].ce);this.g.bindTexture(this.g.TEXTURE_2D,k);this.tc=k}};D.qb=function(){cb(this.vi,this.sj,this.ak,this.Na);bb(this.Na,this.Jh)};
D.translate=function(a,b){if(!(0===a&&0===b)){this.fc[0]=a;this.fc[1]=b;this.fc[2]=0;var c=this.Na,d=this.fc,e=d[0],f=d[1],d=d[2];c[12]=c[0]*e+c[4]*f+c[8]*d+c[12];c[13]=c[1]*e+c[5]*f+c[9]*d+c[13];c[14]=c[2]*e+c[6]*f+c[10]*d+c[14];c[15]=c[3]*e+c[7]*f+c[11]*d+c[15]}};D.scale=function(a,b){1===a&&1===b||(this.fc[0]=a,this.fc[1]=b,this.fc[2]=1,bb(this.Na,this.fc))};
D.mh=function(a){if(0!==a){var b=this.Na,c,d=Math.sin(a),a=Math.cos(a),e=b[0],f=b[1],g=b[2],i=b[3],j=b[4],m=b[5],p=b[6],r=b[7];c?b!==c&&(c[8]=b[8],c[9]=b[9],c[10]=b[10],c[11]=b[11],c[12]=b[12],c[13]=b[13],c[14]=b[14],c[15]=b[15]):c=b;c[0]=e*a+j*d;c[1]=f*a+m*d;c[2]=g*a+p*d;c[3]=i*a+r*d;c[4]=e*-d+j*a;c[5]=f*-d+m*a;c[6]=g*-d+p*a;c[7]=i*-d+r*a}};
D.tb=function(){for(var a=l,b=0;16>b;b++)if(this.ij[b]!==this.Na[b]){a=h;break}a&&(a=this.bb(),a.type=5,a.i?ab(this.Na,a.i):a.i=$a(this.Na),ab(this.Na,this.ij),this.La=this.wa=l)};D=fb.prototype;D.ul=function(){this.g.bindTexture(this.g.TEXTURE_2D,this.zc)};D.rl=function(){var a=this.Fj,b=this.l;b.Bi=a;b=b.Ed;b.ad&&this.g.uniform1f(b.ad,a)};D.ol=function(){this.g.drawElements(this.g.TRIANGLES,this.ob,this.g.UNSIGNED_SHORT,2*this.Ra)};D.ql=function(){this.g.blendFunc(this.Ra,this.ob)};
D.vl=function(){var a,b,c,d=this.l.aa,e=this.l.Ci;a=0;for(b=d.length;a<b;a++)c=d[a],a===e&&c.$c?(this.g.uniformMatrix4fv(c.$c,l,this.i),c.rc=h):c.rc=l;ab(this.i,this.l.eg)};D.pl=function(){var a=this.g,b=this.l;this.zc?(a.bindFramebuffer(a.FRAMEBUFFER,b.$l),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.zc,0)):(a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,k,0),a.bindFramebuffer(a.FRAMEBUFFER,k))};
D.ml=function(){var a=this.g;0===this.Ra?(a.clearColor(this.i[0],this.i[1],this.i[2],this.i[3]),a.clear(a.COLOR_BUFFER_BIT)):(a.enable(a.SCISSOR_TEST),a.scissor(this.i[0],this.i[1],this.i[2],this.i[3]),a.clearColor(0,0,0,0),a.clear(this.g.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST))};
D.nl=function(){var a=this.g,b=this.l,c=b.aa[1];a.useProgram(c.ce);!c.rc&&c.$c&&(a.uniformMatrix4fv(c.$c,l,b.eg),c.rc=h);a.enableVertexAttribArray(c.Ma);a.bindBuffer(a.ARRAY_BUFFER,b.$g);a.vertexAttribPointer(c.Ma,4,a.FLOAT,l,0,0);a.drawArrays(a.POINTS,this.Ra/4,this.ob);c=b.Ed;a.useProgram(c.ce);0<=c.Ma&&(a.enableVertexAttribArray(c.Ma),a.bindBuffer(a.ARRAY_BUFFER,b.ke[b.Bb]),a.vertexAttribPointer(c.Ma,2,a.FLOAT,l,0,0));0<=c.Wb&&(a.enableVertexAttribArray(c.Wb),a.bindBuffer(a.ARRAY_BUFFER,b.de[b.Bb]),
a.vertexAttribPointer(c.Wb,2,a.FLOAT,l,0,0))};D.sl=function(){var a=this.g,b=this.l,c=b.aa[this.Ra];b.Ci=this.Ra;b.Ed=c;a.useProgram(c.ce);!c.rc&&c.$c&&(a.uniformMatrix4fv(c.$c,l,b.eg),c.rc=h);c.ad&&a.uniform1f(c.ad,b.Bi);0<=c.Ma&&(a.enableVertexAttribArray(c.Ma),a.bindBuffer(a.ARRAY_BUFFER,b.ke[b.Bb]),a.vertexAttribPointer(c.Ma,2,a.FLOAT,l,0,0));0<=c.Wb&&(a.enableVertexAttribArray(c.Wb),a.bindBuffer(a.ARRAY_BUFFER,b.de[b.Bb]),a.vertexAttribPointer(c.Wb,2,a.FLOAT,l,0,0))};
D.tl=function(){var a,b,c=this.l.Ed,d=this.g;c.hf&&(d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,this.zc),d.activeTexture(d.TEXTURE0));c.Pg&&d.uniform1f(c.Pg,this.i[0]);c.Og&&d.uniform1f(c.Og,this.i[1]);c.Zc&&d.uniform2f(c.Zc,this.i[2],this.i[3]);c.Yc&&d.uniform2f(c.Yc,this.i[4],this.i[5]);c.Ng&&d.uniform1f(c.Ng,this.i[6]);c.Qg&&d.uniform1f(c.Qg,K()/1E3);if(c.f.length){a=0;for(b=c.f.length;a<b;a++)d.uniform1f(c.f[a][1],this.th[a])}};D=db.prototype;
D.bb=function(){this.wb===this.Qb.length&&this.Qb.push(new fb(0,this));return this.Qb[this.wb++]};
D.Tb=function(){if(0!==this.wb&&!this.g.isContextLost()){var a=this.g;0<this.ah&&(a.bindBuffer(a.ARRAY_BUFFER,this.$g),a.bufferData(a.ARRAY_BUFFER,this.Wm.subarray(0,this.ah),a.STREAM_DRAW),b&&(0<=b.Ma&&"<point>"===b.name)&&a.vertexAttribPointer(b.Ma,4,a.FLOAT,l,0,0));if(0<this.ub){var b=this.Ed;a.bindBuffer(a.ARRAY_BUFFER,this.ke[this.Bb]);a.bufferData(a.ARRAY_BUFFER,this.Ih.subarray(0,this.ub),a.STREAM_DRAW);b&&(0<=b.Ma&&"<point>"!==b.name)&&a.vertexAttribPointer(b.Ma,2,a.FLOAT,l,0,0);a.bindBuffer(a.ARRAY_BUFFER,
this.de[this.Bb]);a.bufferData(a.ARRAY_BUFFER,this.Bh.subarray(0,this.ub),a.STREAM_DRAW);b&&(0<=b.Wb&&"<point>"!==b.name)&&a.vertexAttribPointer(b.Wb,2,a.FLOAT,l,0,0)}for(var c,a=0,b=this.wb;a<b;a++)switch(c=this.Qb[a],c.type){case 1:c.ol();break;case 2:c.ul();break;case 3:c.rl();break;case 4:c.ql();break;case 5:c.vl();break;case 6:c.pl();break;case 7:c.ml();break;case 8:c.nl();break;case 9:c.sl();break;case 10:c.tl()}this.ah=this.ub=this.wb=0;this.La=this.wa=l;this.Bb++;4<=this.Bb&&(this.Bb=0)}};
D.ld=function(a){if(a!==this.jj){var b=this.bb();b.type=3;this.jj=b.Fj=a;this.La=this.wa=l}};D.Qa=function(a){if(a!==this.tc){var b=this.bb();b.type=2;this.tc=b.zc=a;this.La=this.wa=l}};D.ac=function(a,b){if(!(a===this.kj&&b===this.hj)){var c=this.bb();c.type=4;c.Ra=a;c.ob=b;this.kj=a;this.hj=b;this.La=this.wa=l}};D.Oj=function(){this.ac(this.g.ONE,this.g.ONE_MINUS_SRC_ALPHA)};
D.tf=function(a,b,c,d,e,f,g,i){15992<=this.ub&&this.Tb();var j=this.ub,m=this.Ih,p=this.Bh;if(this.wa)this.Qb[this.wb-1].ob+=6;else{var r=this.bb();r.type=1;r.Ra=3*(j/4);r.ob=6;this.wa=h;this.La=l}m[j]=a;p[j++]=0;m[j]=b;p[j++]=0;m[j]=c;p[j++]=1;m[j]=d;p[j++]=0;m[j]=e;p[j++]=1;m[j]=f;p[j++]=1;m[j]=g;p[j++]=0;m[j]=i;p[j++]=1;this.ub=j};
D.Zb=function(a,b,c,d,e,f,g,i,j){15992<=this.ub&&this.Tb();var m=this.ub,p=this.Ih,r=this.Bh;if(this.wa)this.Qb[this.wb-1].ob+=6;else{var q=this.bb();q.type=1;q.Ra=3*(m/4);q.ob=6;this.wa=h;this.La=l}p[m]=a;r[m++]=j.left;p[m]=b;r[m++]=j.top;p[m]=c;r[m++]=j.right;p[m]=d;r[m++]=j.top;p[m]=e;r[m++]=j.right;p[m]=f;r[m++]=j.bottom;p[m]=g;r[m++]=j.left;p[m]=i;r[m++]=j.bottom;this.ub=m};
D.rb=function(a){if(this.Pd!==a){if(!this.aa[a]){if(0===this.Pd)return;a=0}var b=this.bb();b.type=9;this.Pd=b.Ra=a;this.La=this.wa=l}};D.Wd=function(a){a=this.aa[a];return!(!a.Zc&&!a.Yc)};D.dh=function(a){return this.aa[a].Ai};D.an=function(a){a=this.aa[a];return 0!==a.mg||0!==a.ng};D.hm=function(a){return this.aa[a].mg};D.im=function(a){return this.aa[a].ng};D.jm=function(a,b){return this.aa[a].f[b][2]};D.rf=function(a){return this.aa[a].qi};
D.md=function(a,b,c,d,e,f,g,i,j){var m=this.aa[this.Pd];if(m.Pg||m.Og||m.Qg||m.hf||m.Zc||m.Yc||m.Ng||j.length){m=this.bb();m.type=10;m.i?ab(this.Na,m.i):m.i=$a();m.i[0]=b;m.i[1]=c;m.i[2]=d;m.i[3]=e;m.i[4]=f;m.i[5]=g;m.i[6]=i;m.zc=a;if(j.length){m.th.length=j.length;a=0;for(b=j.length;a<b;a++)m.th[a]=j[a]}this.La=this.wa=l}};D.clear=function(a,b,c,d){var e=this.bb();e.type=7;e.Ra=0;e.i||(e.i=$a());e.i[0]=a;e.i[1]=b;e.i[2]=c;e.i[3]=d;this.La=this.wa=l};
D.clearRect=function(a,b,c,d){var e=this.bb();e.type=7;e.Ra=1;e.i||(e.i=$a());e.i[0]=a;e.i[1]=b;e.i[2]=c;e.i[3]=d;this.La=this.wa=l};D.$m=function(){this.Tb();this.g.flush()};var hb=[];D=db.prototype;
D.pj=function(a,b,c){this.Tb();var d=this.g,e=da(a.width)&&da(a.height),f=d.createTexture();d.bindTexture(d.TEXTURE_2D,f);d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,h);var g=d.RGBA,i=d.RGBA,j=d.UNSIGNED_BYTE;if(c)switch(c){case 1:i=g=d.RGB;break;case 2:j=d.UNSIGNED_SHORT_4_4_4_4;break;case 3:j=d.UNSIGNED_SHORT_5_5_5_1;break;case 4:i=g=d.RGB,j=d.UNSIGNED_SHORT_5_6_5}d.texImage2D(d.TEXTURE_2D,0,g,i,j,a);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE);d.texParameteri(d.TEXTURE_2D,
d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE);b?(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),e?(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR_MIPMAP_NEAREST),d.generateMipmap(d.TEXTURE_2D)):d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR)):(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.NEAREST));d.bindTexture(d.TEXTURE_2D,k);this.tc=k;f.Cd=a.width;f.Bd=a.height;hb.push(f);return f};
D.zb=function(a,b,c,d){this.Tb();var e=this.g,f=e.createTexture();e.bindTexture(e.TEXTURE_2D,f);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,a,b,0,e.RGBA,d?e.UNSIGNED_SHORT_4_4_4_4:e.UNSIGNED_BYTE,d?new Uint16Array(a*b):new Uint8Array(4*a*b));e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,c?e.LINEAR:e.NEAREST);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,c?e.LINEAR:e.NEAREST);
e.bindTexture(e.TEXTURE_2D,k);this.tc=k;f.Cd=a;f.Bd=b;hb.push(f);return f};D.Gn=function(a,b,c){this.Tb();var d=this.g;d.bindTexture(d.TEXTURE_2D,b);d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,c?d.UNSIGNED_SHORT_4_4_4_4:d.UNSIGNED_BYTE,a);d.bindTexture(d.TEXTURE_2D,k);this.tc=k};D.deleteTexture=function(a){this.Tb();this.g.bindTexture(this.g.TEXTURE_2D,k);this.tc=k;this.g.deleteTexture(a);la(hb,a)};D.Nb=function(a){if(a!==this.Mj){var b=this.bb();b.type=6;this.Mj=b.zc=a;this.La=this.wa=l}};
function Q(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var b=this;this.Rc="undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap);this.Kb=!!a.dc;this.Jd="undefined"!==typeof window.AppMobi||this.Kb;if(this.Kd=!!window.c2cocoonjs)CocoonJS.App.onSuspended.addEventListener(function(){b.rn(h)}),CocoonJS.App.onActivated.addEventListener(function(){b.rn(l)});this.Ea=this.Kb||this.Kd;this.bj=/android/i.test(navigator.userAgent);
this.gp=/msie/i.test(navigator.userAgent);this.bf=/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent);this.fj=/ipad/i.test(navigator.userAgent);this.Nd=this.bf||this.fj;this.cj=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent);this.hp=!this.cj&&/safari/i.test(navigator.userAgent);this.Em=/windows/i.test(navigator.userAgent);this.Cg=/awesomium/i.test(navigator.userAgent);this.Bm="undefined"!==typeof window.is_scirra_arcade;this.devicePixelRatio=1;this.Qc=
this.Rc||this.Jd||this.Kd||this.bj||this.Nd;this.Qc||(this.Qc=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet)/i.test(navigator.userAgent));this.canvas=a;this.wi=document.getElementById("c2canvasdiv");this.G=this.l=this.g=k;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return l};this.canvas.Ej=function(a){a.preventDefault&&a.preventDefault();return l};this.Kb&&(window.c2runtime=this);this.width=a.width;this.height=a.height;this.Vc=this.width;
this.Uc=this.height;this.K=h;this.Ld=l;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.k=[];this.pa=[];this.Mg={};this.Wc=[];this.jg={};this.oc=[];this.ic=[];this.Ff=[];this.$k=[];this.Db=new Ua;this.Dg=l;this.Xa=0;this.Fg=l;this.Ab=[];this.In=this.Zf=this.kf=this.Sb=this.Mc=0;this.Cf=1;this.Jg=new Va;this.df=0;this.vj=h;this.of=this.Ne=this.kg=this.Bf=this.Qd=this.pg=0;this.De=k;this.He=[];this.ig=[];this.Je=-1;this.Rg=[[]];this.Fh=this.jf=0;this.sf(k);this.bd=
[];this.lf=-1;this.nf=0;this.oj=h;this.Fd=0;this.yf=[];this.Dh=this.gh=0;this.cf=h;this.gf=0;this.Ve=l;this.vn=0;this.Se=l;this.Vg=new Ua;this.Wg=new Ua;this.en=[];this.qp=new Wa([]);this.rp=new Wa([]);this.Zk=[];this.Wk={};this.Za=this.Fa=this.nj=this.ff=this.O=k;this.sd=this.Gg=l;this.rg=[k,k];this.qg=0;this.am="";this.xf=this.Xc=k;this.un="";this.load();this.devicePixelRatio=!this.Ea&&this.Hf&&this.Nd?window.devicePixelRatio||1:1;this.Ja();var c;"undefined"!==typeof jQuery&&0<this.Vb&&this.setSize(jQuery(window).width(),
jQuery(window).height());try{if(this.xl&&!this.Ea){c={depth:l,antialias:!this.Qc};var d=h;if(this.cj&&this.Em){var e=document.createElement("canvas");if("OES_texture_float,OES_standard_derivatives,WEBKIT_WEBGL_lose_context"===(e.getContext("webgl",c)||e.getContext("experimental-webgl",c)).getSupportedExtensions().toString())d=l}d&&(this.g=a.getContext("webgl",c)||a.getContext("experimental-webgl",c))}}catch(f){}if(this.g){this.ta=document.createElement("canvas");jQuery(this.ta).appendTo(this.canvas.parentNode);
this.ta.oncontextmenu=B(l);this.ta.Ej=B(l);this.ta.width=a.width;this.ta.height=a.height;this.Ij();this.Zg=this.ta.getContext("2d");this.l=new db(this.g);this.l.ph(a.width,a.height);this.G=k;this.canvas.addEventListener("webglcontextlost",function(a){console.log("WebGL context lost");a.preventDefault();b.Mm();window.cr_setSuspended(h)},l);this.canvas.addEventListener("webglcontextrestored",function(){console.log("WebGL context restored");b.l.Zi();b.l.ph(b.l.width,b.l.height,h);b.Fa=k;b.Za=k;b.rg[0]=
k;b.rg[1]=k;b.Nm();b.K=h;window.cr_setSuspended(l)},l);var g,i,j,m,p,a=0;for(c=this.k.length;a<c;a++){g=this.k[a];d=0;for(e=g.w.length;d<e;d++)j=g.w[d],j.ha=this.l.ug(j.id),this.sd=this.sd||this.l.Wd(j.ha)}a=0;for(c=this.Wc.length;a<c;a++){m=this.Wc[a];d=0;for(e=m.w.length;d<e;d++)j=m.w[d],j.ha=this.l.ug(j.id);d=0;for(e=m.I.length;d<e;d++){p=m.I[d];g=0;for(i=p.w.length;g<i;g++)j=p.w[g],j.ha=this.l.ug(j.id),this.sd=this.sd||this.l.Wd(j.ha)}}}else{if(0<this.Vb&&this.Kb){this.canvas=k;document.oncontextmenu=
B(l);document.Ej=B(l);this.G=AppMobi.canvas.getContext("2d");try{this.G.samplingMode=this.U?"smooth":"sharp",this.G.globalScale=1,this.G.HTML5CompatibilityMode=h}catch(r){}0!==this.width&&0!==this.height&&(this.G.width=this.width,this.G.height=this.height)}this.G||(this.Kd?(c={antialias:!!this.U},this.G=a.getContext("2d",c)):this.G=a.getContext("2d"),this.G.webkitImageSmoothingEnabled=this.U,this.G.mozImageSmoothingEnabled=this.U,this.G.msImageSmoothingEnabled=this.U,this.G.imageSmoothingEnabled=
this.U);this.Zg=this.ta=k}var q=this;this.Uj=function(){q.sb()};this.go();this.mb={}}}
Q.prototype.setSize=function(a,b){var c=this.ym&&this.bf&&!navigator.standalone&&!this.Ea&&!this.Rc,d=0;c&&(this.bf?d=60:this.bj&&(d=56),b+=d);var e=0,f=0,g=0,i=0,j=0,j=this.Vb,m=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||this.Ve;m&&0<this.qg&&(j=this.qg);3<=j?(g=this.Pa/this.Oa,a/b>g?(g*=b,4===j?(j=g/this.Pa,1<j?j=Math.floor(j):1>j&&(j=1/Math.ceil(1/j)),g=this.Pa*j,i=this.Oa*j,e=(a-g)/2,f=(b-i)/2,a=g,b=i):(e=(a-g)/2,a=g)):(i=a/g,4===j?(j=i/this.Oa,1<j?j=Math.floor(j):
1>j&&(j=1/Math.ceil(1/j)),g=this.Pa*j,i=this.Oa*j,e=(a-g)/2,f=(b-i)/2,a=g):f=(b-i)/2,b=i),m&&!this.Cg&&(f=e=0),e=Math.floor(e),f=Math.floor(f),a=Math.floor(a),b=Math.floor(b)):this.Cg&&(this.Ve&&0===this.Mi)&&(e=Math.floor((a-this.Pa)/2),f=Math.floor((b-this.Oa)/2),a=this.Pa,b=this.Oa);if((m=!this.Ea&&this.Hf&&this.Nd)&&this.fj&&1<this.devicePixelRatio)1024<=a&&(a=1023),1024<=b&&(b=1023);g=this.devicePixelRatio;this.width=a*g;this.height=b*g;this.K=h;this.wi&&!this.Ea&&(jQuery(this.wi).css({width:a+
"px",height:b+"px","margin-left":e,"margin-top":f}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:a+"px",height:b+"px"}));this.canvas&&(this.canvas.width=a*g,this.canvas.height=b*g,m&&jQuery(this.canvas).css({width:a+"px",height:b+"px"}));this.ta&&(this.ta.width=a,this.ta.height=b);this.l&&this.l.ph(a,b);this.Kb&&this.G&&(this.G.width=a,this.G.height=b);this.G&&(this.G.webkitImageSmoothingEnabled=this.U,this.G.mozImageSmoothingEnabled=this.U,this.G.msImageSmoothingEnabled=this.U,
this.G.imageSmoothingEnabled=this.U);c&&0<d&&window.setTimeout(function(){window.scrollTo(0,1)},100)};Q.prototype.Mm=function(){this.Gg=h;var a,b,c;a=0;for(b=this.k.length;a<b;a++)c=this.k[a],c.Xg&&c.Xg()};Q.prototype.Nm=function(){this.Gg=l;var a,b,c;a=0;for(b=this.k.length;a<b;a++)c=this.k[a],c.Bj&&c.Bj()};
Q.prototype.Ij=function(){var a=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||this.Ve?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.ta).css(a)};var ib=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;
Q.prototype.setSuspended=function(a){var b;if(a&&!this.Ld){this.Ld=h;0!==this.gh&&ib&&ib(this.gh);0!==this.Dh&&clearTimeout(this.Dh);a=0;for(b=this.yf.length;a<b;a++)this.yf[a](h)}else if(!a&&this.Ld){this.Ld=l;this.df=K();this.Qd=K();a=this.Ne=0;for(b=this.yf.length;a<b;a++)this.yf[a](l);this.sb()}};D=Q.prototype;
D.load=function(){var a=jb();this.name=a[0];this.Ji=a[1];this.Vb=a[11];this.Mi=a[11];this.Ea&&3<=a[11]&&(ba("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale'"),this.Mi=this.Vb=2);this.Gh=a[17];this.Rd=a[18];0===this.Rd&&(this.Xc=new Image,this.Xc.src="logo.png");this.yc=new R(this);var b,c,d,e,f,g,i,j,m;b=0;for(c=a[2].length;b<c;b++)i=a[2][b],kb(i),m=new i[0](this),m.vh=i[1],m.af=i[2],m.wj=i[9],m.u&&m.u(),this.plugins.push(m);a=jb();b=0;for(c=
a[3].length;b<c;b++){i=a[3][b];f=i[1];m=k;d=0;for(e=this.plugins.length;d<e;d++)if(this.plugins[d]instanceof f){m=this.plugins[d];break}var p=new m.S(m);p.name=i[0];p.M=i[2];p.Fn=i[3];p.bl=i[4];p.cm=i[5];p.M?(p.dd=[],p.nb=this.Fd++,p.Y=k):(p.dd=k,p.nb=-1,p.Y=[]);p.Le=k;p.Nc=k;p.Fi=k;p.Lb=l;p.Ca=k;i[6]?(p.Sj=i[6][0],p.Tj=i[6][1],p.zn=i[6][2]):(p.Sj=k,p.Tj=0,p.zn=0);p.ba=i[7]?i[7]:k;p.index=b;p.b=[];p.Ge=[];p.ec=[new Ga(p)];p.Cb=0;p.kb=k;p.xc=h;p.Gf=lb;p.dm=mb;p.gm=nb;p.t=ob;p.Xd=pb;p.Yd=qb;p.Yb=rb;
p.Oe=sb;p.sg=tb;p.Qi=ub;p.zd=vb;p.mb={};p.toString=wb;p.pa=[];d=0;for(e=i[8].length;d<e;d++){j=i[8][d];var r=j[1],q=k;f=0;for(g=this.pa.length;f<g;f++)if(this.pa[f]instanceof r){q=this.pa[f];break}q||(q=new r(this),q.Ug=new Ua,q.u&&q.u(),this.pa.push(q));f=new q.S(q,p);f.name=j[0];f.u();p.pa.push(f)}p.global=i[9];p.Eg=i[10];p.w=[];d=0;for(e=i[11].length;d<e;d++)p.w.push({id:i[11][d][0],name:i[11][d][1],ha:-1,yd:h,index:d});(!this.Gh||p.M||p.Eg||!m.af)&&p.u();p.name&&(this.types[p.name]=p);this.k.push(p);
m.vh&&(d=new m.L(p),d.uid=this.nf,this.nf++,d.Hd=0,d.Re=xb,d.toString=yb,d.p=i[12],d.u(),p.b.push(d))}b=0;for(c=a[4].length;b<c;b++){f=a[4][b];g=this.k[f[0]];d=1;for(e=f.length;d<e;d++)i=this.k[f[d]],i.Y.push(g),g.dd.push(i)}b=0;for(c=a[20].length;b<c;b++){f=a[20][b];g=[];d=0;for(e=f.length;d<e;d++)g.push(this.k[f[d]]);d=0;for(e=g.length;d<e;d++)g[d].Lb=h,g[d].Ca=g}if(0<this.Fd){b=0;for(c=this.k.length;b<c;b++)if(i=this.k[b],!i.M&&i.Y.length){i.Le=Array(this.Fd);i.Nc=Array(this.Fd);i.Fi=Array(this.Fd);
p=[];d=q=r=j=0;for(e=i.Y.length;d<e;d++){m=i.Y[d];i.Le[m.nb]=j;j+=m.Fn;i.Nc[m.nb]=r;r+=m.bl;i.Fi[m.nb]=q;q+=m.cm;f=0;for(g=m.w.length;f<g;f++)p.push(ia({},m.w[f]))}i.w=p.concat(i.w);d=0;for(e=i.w.length;d<e;d++)i.w[d].index=d}}b=0;for(c=a[5].length;b<c;b++)i=a[5][b],d=new Ha(this,i),this.Mg[d.name]=d,this.Wc.push(d);b=0;for(c=a[6].length;b<c;b++)i=a[6][b],d=new Ia(this,i),this.jg[d.name]=d,this.oc.push(d);b=0;for(c=this.oc.length;b<c;b++)this.oc[b].Q();b=0;for(c=this.Ff.length;b<c;b++)this.Ff[b].Q();
this.Ff.length=0;this.am=a[7];this.Xb=a[8];this.Pa=a[9];this.Oa=a[10];this.Sf=1;this.xl=a[12];this.U=a[13];this.xi=a[14];this.xp=a[15];b=a[16];2===b&&(b=this.bf?1:0);this.Hf=0!==b;this.ym=a[19];this.yh=Date.now()};D.bm=function(a){var b,c;b=0;for(c=this.ic.length;b<c;b++)if(this.ic[b].gl===a)return this.ic[b];return k};
D.ri=function(){var a=0,b=0,c=h,d,e;d=0;for(e=this.ic.length;d<e;d++){var f=this.ic[d].fl;if(!f||0>=f)f=5E4;a+=f;this.ic[d].complete||this.ic[d].loaded?b+=f:c=l}this.wc=0==a?0:b/a;return c};
D.go=function(){if(this.G||this.l){var a=this.G||this.Zg;this.ta&&this.Ij();this.wc=0;this.lj=-1;if(this.ri())this.xm();else{var b=Date.now()-this.yh;if(3!==this.Rd&&500<=b&&this.lj!=this.wc){a.clearRect(0,0,this.width,this.height);var b=this.width/2,c=this.height/2,d=0===this.Rd&&this.Xc.complete,e=40,f=0,g=80;d&&(g=this.Xc.width,e=g/2,f=this.Xc.height/2,a.drawImage(this.Xc,ga(b-e),ga(c-f)));1>=this.Rd?(b=ga(b-e)+0.5,c=ga(c+(f+(d?12:0)))+0.5,a.fillStyle="DodgerBlue",a.fillRect(b,c,Math.floor(g*this.wc),
6),a.strokeStyle="black",a.strokeRect(b,c,g,6),a.strokeStyle="white",a.strokeRect(b-1,c-1,g+2,8)):2===this.Rd&&(a.font="12pt Arial",a.fillStyle="#999",a.sp="middle",d=Math.round(100*this.wc)+"%",e=a.measureText?a.measureText(d):k,a.fillText(d,b-(e?e.width:0)/2,c));this.lj=this.wc}var i=this;setTimeout(function(){i.go()},100)}}};
D.xm=function(){this.ta&&(this.canvas.parentNode.removeChild(this.ta),this.ta=this.Zg=k);this.yh=Date.now();this.Qd=K();var a,b,c;if(this.Gh){a=0;for(b=this.k.length;a<b;a++)c=this.k[a],!c.M&&(!c.Eg&&c.A.af)&&c.u()}else this.cf=l;a=0;for(b=this.Wc.length;a<b;a++)this.Wc[a].hl();this.Ji?this.Mg[this.Ji].xh():this.Wc[0].xh();this.Gh||(this.gf=1,this.trigger(R.prototype.e.Wh,k));this.sb();this.Kb&&AppMobi.webview.execute("onGameReady();")};
var zb=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;D=Q.prototype;
D.sb=function(){if(this.Bm){var a=jQuery(window).width(),b=jQuery(window).height();if(this.Vc!==a||this.Uc!==b)this.Vc=a,this.Uc=b,this.setSize(a,b)}a=K();this.cf&&(b=this.ri(),this.gf=this.wc,b&&(this.cf=l,this.wc=1,this.trigger(R.prototype.e.Wh,k)));this.Jm();if((this.K||this.Cg&&60>this.Bf)&&!this.Gg)this.K=l,this.l?this.Va():this.Eb(),this.xf&&(this.canvas&&this.canvas.toDataURL&&(this.un=this.canvas.toDataURL(this.xf[0],this.xf[1]),this.trigger(R.prototype.e.kk,k)),this.xf=k);this.Bf++;this.kg++;
this.Ne++;this.kf+=K()-a;this.Ld||(zb?this.gh=zb(this.Uj,this.canvas):this.Dh=setTimeout(this.Uj,this.Qc?1:16))};
D.Jm=function(){var a,b,c,d,e,f,g,i;a=K();1E3<=a-this.Qd&&(this.Qd+=1E3,this.pg=this.Ne,this.Ne=0,this.Zf=this.kf,this.kf=0);this.vj&&(0!==this.df&&(b=a-this.df,0===b?(this.In++,10<=this.zp&&(this.vj=l),this.Sb=1/60):(this.Sb=b/1E3,0.5<this.Sb?this.Sb=0:0.1<this.Sb&&(this.Sb=0.1))),this.df=a);this.Mc=this.Sb*this.Cf;this.Jg.add(this.Mc);a=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||this.Ve;2<=this.Vb||a&&0<this.qg?(this.Sf=this.width/this.height>this.Pa/this.Oa?this.height/
this.Oa:this.width/this.Pa,this.O&&(this.O.pn(this.O.scrollX),this.O.qn(this.O.scrollY))):this.Sf=1;this.Ja();this.Xa++;this.yc.kn();this.Xa--;this.Ja();this.Xa++;a=0;for(b=this.k.length;a<b;a++)if(g=this.k[a],g.pa.length){c=0;for(d=g.b.length;c<d;c++){var j=g.b[c];e=0;for(f=j.ca.length;e<f;e++)j.ca[e].sb()}}c=this.Vg.he();a=0;for(b=c.length;a<b;a++)c[a].sb();this.Xa--;for(a=0;this.De&&10>a++;){this.O.wn();c=0;for(d=this.k.length;c<d;c++)g=this.k[c],g.$j&&-1===this.De.Id.indexOf(g)&&g.$j();this.De.xh();
a=0;for(b=this.k.length;a<b;a++)if(g=this.k[a],g.global||g.A.vh){c=0;for(d=g.b.length;c<d;c++)j=g.b[c],j.Pm&&j.Pm()}this.oj=this.K=h;this.Ja()}a=0;for(b=this.oc.length;a<b;a++)this.oc[a].yg=l;this.O.Ie&&this.O.Ie.W();this.en.length=0;this.oj=l;this.Xa++;a=0;for(b=this.k.length;a<b;a++)if(g=this.k[a],g.pa.length){c=0;for(d=g.b.length;c<d;c++){j=g.b[c];e=0;for(f=j.ca.length;e<f;e++)i=j.ca[e],i.Ch&&i.Ch()}}c=this.Wg.he();a=0;for(b=c.length;a<b;a++)c[a].Ch();this.Xa--};D.Bn=function(a){this.Vg.add(a)};
D.An=function(a){this.Wg.add(a)};D.Pi=function(a){return!a||-1===a.mf?this.Mc:this.Sb*a.mf};D.Eb=function(){this.O.Eb(this.G);this.Kb&&this.G.present()};D.Va=function(){this.O.Va(this.l)};D.Xk=function(a){a&&this.He.push(a)};D.gn=function(a){la(this.He,a)};D.oe=function(a){var b,c;if(!this.Db.contains(a)){this.Db.add(a);if(a.Lb){b=0;for(c=a.siblings.length;b<c;b++)this.oe(a.siblings[b])}this.Dg&&this.Db.ie.push(a);this.Xa++;this.trigger(Object.getPrototypeOf(a.type.A).e.ok,a);this.Xa--}};
D.Ja=function(){var a,b,c,d,e,f,g,i,j,m;this.Dg=h;d=0;for(f=this.Ab.length;d<f;d++){a=this.Ab[d];b=a.type;b.b.push(a);b.xc=h;e=0;for(g=b.Y.length;e<g;e++)b.Y[e].b.push(a),b.Y[e].xc=h}this.Ab.length=0;f=this.Db.he();for(d=0;d<f.length;d++){a=f[d];b=a.type;c=b.b;e=0;for(g=this.He.length;e<g;e++)this.He[e](a);la(c,a);a.c&&(ja(a.c.b,a.Gb()),a.c.jc=h);e=0;for(g=b.Y.length;e<g;e++)la(b.Y[e].b,a),b.Y[e].xc=h;if(a.ca){e=0;for(g=a.ca.length;e<g;e++)c=a.ca[e],c.Sd&&c.Sd(),c.hb.Ug.remove(a)}this.Vg.remove(a);
this.Wg.remove(a);e=0;for(g=this.yc.Pb.length;e<g;e++)if(j=this.yc.Pb[e],j.nd.hasOwnProperty(b.index)&&la(j.nd[b.index],a),!b.M){c=0;for(i=b.Y.length;c<i;c++)m=b.Y[c],j.nd.hasOwnProperty(m.index)&&la(j.nd[m.index],a)}a.Sd&&a.Sd();this.of--;32>b.Ge.length&&b.Ge.push(a);b.xc=h}this.Db.We()||(this.K=h);this.Db.clear();this.Dg=l};D.zi=function(a,b,c,d){if(a.M){var e=ga(Math.random()*a.dd.length);return this.zi(a.dd[e],b,c,d)}return!a.kb?k:this.Kc(a.kb,b,l,c,d)};var Ab=[];D=Q.prototype;
D.Kc=function(a,b,c,d,e,f){var g,i,j,m;if(!a)return k;var p=this.k[a[1]],r=p.A.af;if(this.cf&&r&&!p.Eg||r&&!this.l&&11===a[0][11])return k;r||(b=k);var q,u=l;p.Ge.length?(q=p.Ge.pop(),u=h,p.A.L.call(q,p)):q=new p.A.L(p);q.uid=this.nf;this.nf++;q.Hd=0;q.Re=xb;p.xc=h;j=a[2];if(u){g=0;for(i=j.length;g<i;g++)q.Wa[g]=j[g];Ba(q.mb)}else q.Wa=j.slice(0),q.mb={};if(r){var s=a[0];q.x=ca(d)?s[0]:d;q.y=ca(e)?s[1]:e;q.Ta=s[2];q.width=s[3];q.height=s[4];q.depth=s[5];q.d=s[6];q.opacity=s[7];q.Hb=s[8];q.Ib=s[9];
q.ib=s[10];g=s[11];!this.l&&p.w.length&&(q.ib=g);q.Fe=Da(q.ib);this.g&&Ea(q,q.ib,this.g);if(u){g=0;for(i=s[12].length;g<i;g++){j=0;for(m=s[12][g].length;j<m;j++)q.ka[g][j]=s[12][g][j]}q.D.set(0,0,0,0);q.jb.rh(q.D);q.Be.length=0}else{q.ka=s[12].slice(0);g=0;for(i=q.ka.length;g<i;g++)q.ka[g]=s[12][g].slice(0);q.s=[];q.Ic=[];q.Ic.length=p.w.length;q.D=new Sa(0,0,0,0);q.jb=new Ta;q.Be=[];q.ga=Bb;q.Xo=Cb;q.yb=Db;q.hc=Eb;q.Gb=Fb}g=0;for(i=p.w.length;g<i;g++)q.Ic[g]=h;q.rd=Gb;q.rd();q.bk=!!q.s.length;q.Tf=
h;q.visible=h;q.mf=-1;q.c=b;q.Kh=b.b.length;"undefined"===typeof q.Rb&&(q.Rb=k);this.K=q.el=h}q.toString=yb;var t;g=Ab.length=0;for(i=p.Y.length;g<i;g++)Ab.push.apply(Ab,p.Y[g].pa);Ab.push.apply(Ab,p.pa);if(u){g=0;for(i=Ab.length;g<i;g++){var w=Ab[g];t=q.ca[g];w.hb.L.call(t,w,q);s=a[3][g];j=0;for(m=s.length;j<m;j++)t.p[j]=s[j];t.u();w.hb.Ug.add(q)}}else{q.ca=[];g=0;for(i=Ab.length;g<i;g++)w=Ab[g],t=new w.hb.L(w,q),t.p=a[3][g].slice(0),t.u(),q.ca.push(t),w.hb.Ug.add(q)}s=a[4];if(u){g=0;for(i=s.length;g<
i;g++)q.p[g]=s[g]}else q.p=s.slice(0);this.Ab.push(q);b&&b.b.push(q);this.of++;if(p.Lb){if(q.Lb=h,q.siblings=[],!c&&!f){g=0;for(i=p.Ca.length;g<i;g++)if(p.Ca[g]!==p){if(!p.Ca[g].kb)return k;q.siblings.push(this.Kc(p.Ca[g].kb,b,l,r?q.x:d,r?q.y:e,h))}g=0;for(i=q.siblings.length;g<i;g++){q.siblings[g].siblings.push(q);for(j=0;j<i;j++)g!==j&&q.siblings[g].siblings.push(q.siblings[j])}}}else q.Lb=l,q.siblings=k;q.u();g=0;for(i=q.ca.length;g<i;g++)q.ca[g].Zm&&q.ca[g].Zm();return q};
D.Pe=function(a){var b,c;b=0;for(c=this.O.I.length;b<c;b++){var d=this.O.I[b];if(d.name.toLowerCase()===a.toLowerCase())return d}return k};D.Oc=function(a){a=ga(a);0>a&&(a=0);a>=this.O.I.length&&(a=this.O.I.length-1);return this.O.I[a]};D.Yf=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].t().C=h};D.Xd=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Xd()};D.Yd=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Yd()};D.Yb=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Yb()};
D.yn=function(a,b,c){var d=a.t(),e,f,g,i,j,m;if(d.C){d.C=l;e=d.b.length=0;for(i=a.b.length;e<i;e++)g=a.b[e],g.hc(),j=g.c.qa(b,c,h),m=g.c.qa(b,c,l),g.yb(j,m)&&d.b.push(g)}else{e=f=0;for(i=d.b.length;e<i;e++)g=d.b[e],g.hc(),j=g.c.qa(b,c,h),m=g.c.qa(b,c,l),g.yb(j,m)&&(d.b[f]=d.b[e],f++);d.b.length=f}a.zd();return d.xg()};var Hb=[],Ib=-1;D=Q.prototype;
D.trigger=function(a,b,c){if(!this.O)return l;var d=this.O.Ie;if(!d)return l;Ib++;Ib===Hb.length?Hb.push(new Ua):Hb[Ib].clear();a=this.Xj(a,b,d,c);Ib--;return a};D.Xj=function(a,b,c,d){var e=Hb[Ib];if(e.contains(c))return l;e.add(c);var e=c.Yi.he(),f=l,g,i,j;g=0;for(i=e.length;g<i;g++)j=this.Xj(a,b,e[g],d),f=f||j;if(b){j=this.Eh(a,b,b.type.name,c,d);f=f||j;g=0;for(i=b.type.Y.length;g<i;g++)j=this.Eh(a,b,b.type.Y[g].name,c,d),f=f||j}else j=this.Eh(a,b,"system",c,d),f=f||j;return f};
D.Eh=function(a,b,c,d,e){var f,g=l,i=l,i="undefined"!==typeof e,j=(i?d.Hi:d.Yj)[c];if(!j)return g;var m=k,d=0;for(f=j.length;d<f;d++)if(j[d].method==a){m=j[d].Ke;break}if(!m)return g;a=i?m[e]:m;if(!a)return k;d=0;for(f=a.length;d<f;d++)e=a[d][0],i=a[d][1],i=this.Vl(b,c,e,i),g=g||i;return g};
D.Vl=function(a,b,c,d){var e,f,g=l;this.Fh++;var i=this.sa().ra;i&&this.Xd(i.bc);var j=1<this.Fh;this.Xd(c.bc);j&&this.bn();var m=this.sf(c);m.ra=c;a&&(e=this.types[b].t(),e.C=l,e.b.length=1,e.b[0]=a,this.types[b].zd());a=h;if(c.parent){b=m.Rj;for(e=c.parent;e;)b.push(e),e=e.parent;b.reverse();e=0;for(f=b.length;e<f;e++)if(!b[e].mn()){a=l;break}}a&&(this.kg++,c.ab?c.ln(d):c.W(),g=g||m.Tc);this.qf();j&&this.Xm();this.Yb(c.bc);i&&this.Yb(i.bc);0===this.Xa&&(0===Ib&&!this.Fg&&(!this.Db.We()||this.Ab.length))&&
this.Ja();this.Fh--;return g};D.bn=function(){this.jf++;this.jf>=this.Rg.length&&this.Rg.push([])};D.Xm=function(){this.jf--};D.Ni=function(){return this.Rg[this.jf]};D.sf=function(a){this.Je++;this.Je>=this.ig.length&&this.ig.push(new Ja);var b=this.sa();b.reset(a);return b};D.qf=function(){this.Je--};D.sa=function(){return this.ig[this.Je]};D.cn=function(a){this.lf++;this.lf>=this.bd.length&&this.bd.push(aa({name:a,index:0,Ah:l}));var b=this.Oi();b.name=a;b.index=0;b.Ah=l;return b};D.Ym=function(){this.lf--};
D.Oi=function(){return this.bd[this.lf]};D.Ri=function(a,b){for(var c,d,e,f,g,i;b;){c=0;for(d=b.Sa.length;c<d;c++)if(i=b.Sa[c],i instanceof Ka&&a.toLowerCase()===i.name.toLowerCase())return i;b=b.parent}c=0;for(d=this.oc.length;c<d;c++){g=this.oc[c];e=0;for(f=g.Ub.length;e<f;e++)if(i=g.Ub[e],i instanceof Ka&&a.toLowerCase()===i.name.toLowerCase())return i}return k};window.cr_createRuntime=function(a){return new Q(document.getElementById(a))};
window.cr_createDCRuntime=function(a,b){return new Q({dc:h,width:a,height:b})};window.createCocoonJSRuntime=function(){window.c2cocoonjs=h;var a=document.createElement("canvas");document.body.appendChild(a);a.width=window.innerWidth;a.height=window.innerHeight;a=new Q(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});return a};
window.cr_getC2Runtime=function(){var a=document.getElementById("c2canvas");if(a)return a.c2runtime;if(window.c2runtime)return window.c2runtime};window.cr_sizeCanvas=function(a,b){if(!(0===a||0===b)){var c=window.cr_getC2Runtime();c&&c.setSize(a,b)}};window.cr_setSuspended=function(a){var b=window.cr_getC2Runtime();b&&b.setSuspended(a)};
function Jb(a,b){this.a=a;this.Ie=k;this.scrollX=this.a.Pa/2;this.scrollY=this.a.Oa/2;this.scale=1;this.d=0;this.name=b[0];this.width=b[1];this.height=b[2];this.Zj=b[3];this.Qj=b[4];var c=b[5],d,e;this.I=[];this.Id=[];d=0;for(e=c.length;d<e;d++){var f=new La(this,c[d]);f.zj=d;this.I.push(f)}c=b[6];this.sc=[];d=0;for(e=c.length;d<e;d++){var f=c[d],g=this.a.k[f[1]];g.kb||(g.kb=f);this.sc.push(f);-1===this.Id.indexOf(g)&&this.Id.push(g)}this.w=[];this.s=[];this.ka=[];d=0;for(e=b[7].length;d<e;d++)this.w.push({id:b[7][d][0],
name:b[7][d][1],ha:-1,yd:h,index:d}),this.ka.push(b[7][d][2].slice(0));this.rd();this.Zd=new Sa(0,0,1,1);this.hh=new Sa(0,0,1,1)}
function Kb(a,b){this.m=a;this.a=a.a;this.b=[];this.scale=1;this.d=0;this.nc=l;this.Ob=new Sa(0,0,0,0);this.Vj=new Ta;this.cb=this.gb=this.fb=this.eb=0;this.jc=l;this.name=b[0];this.index=b[1];this.visible=b[2];this.Jc=b[3];this.fe=b[4];this.jd=b[5];this.kd=b[6];this.opacity=b[7];this.og=b[8];this.Bc=b[9];this.ib=b[10];this.wl=b[11];this.Fe="source-over";this.ja=this.la=0;this.$b=l;var c=b[12],d,e;this.Pc=[];d=0;for(e=c.length;d<e;d++){var f=c[d],g=this.a.k[f[1]];g.kb||(g.kb=f);this.Pc.push(f);-1===
this.m.Id.indexOf(g)&&this.m.Id.push(g)}this.w=[];this.s=[];this.ka=[];d=0;for(e=b[13].length;d<e;d++)this.w.push({id:b[13][d][0],name:b[13][d][1],ha:-1,yd:h,index:d}),this.ka.push(b[13][d][2].slice(0));this.rd();this.Zd=new Sa(0,0,1,1);this.hh=new Sa(0,0,1,1)}D=Jb.prototype;D.Vi=function(){var a=this.I[0];return!a.fe&&1===a.opacity&&!a.og&&a.visible};D.rd=function(){this.s.length=0;var a,b,c;a=0;for(b=this.w.length;a<b;a++)c=this.w[a],c.yd&&this.s.push(c)};
D.xh=function(){this.Qj&&(this.Ie=this.a.jg[this.Qj]);this.a.O=this;this.scrollX=this.a.Pa/2;this.scrollY=this.a.Oa/2;var a,b,c,d,e,f;a=0;for(c=this.a.k.length;a<c;a++)if(b=this.a.k[a],!b.M){e=b.b;b=0;for(d=e.length;b<d;b++)if(f=e[b],f.c){var g=f.c.zj;g>=this.I.length&&(g=this.I.length-1);f.c=this.I[g];f.c.b.push(f);f.c.jc=h}}a=0;for(c=this.I.length;a<c;a++)b=this.I[a],b.il(),b.nc=h,d=b.qa(0,0,h),e=b.qa(0,0,l),b.nc=l,this.a.Xb&&(d=d+0.5|0,e=e+0.5|0),b.lh(d,e,k);a=0;for(c=this.sc.length;a<c;a++)this.a.Kc(this.sc[a],
k,h);this.a.De=k;this.a.Ja();this.a.trigger(R.prototype.e.Vh,k)};D.hl=function(){var a,b,c,d,e;b=a=0;for(c=this.sc.length;a<c;a++)d=this.sc[a],e=this.a.k[d[1]],e.global?this.a.Kc(d,k,h):(this.sc[b]=d,b++);this.sc.length=b};
D.wn=function(){this.a.trigger(R.prototype.e.qk,k);this.a.yc.Pb.length=0;var a,b,c,d,e,f;a=0;for(b=this.I.length;a<b;a++){e=this.I[a].b;c=0;for(d=e.length;c<d;c++)f=e[c],f.type.global||this.a.oe(f);this.a.Ja();e.length=0;this.I[a].jc=h}a=0;for(b=this.a.k.length;a<b;a++)if(e=this.a.k[a],!e.global&&!e.A.af&&!e.A.vh){c=0;for(d=e.b.length;c<d;c++)this.a.oe(e.b[c]);this.a.Ja()}};
D.Eb=function(a){a.globalAlpha=1;a.globalCompositeOperation="source-over";this.a.xi&&!this.Vi()&&a.clearRect(0,0,this.a.width,this.a.height);var b,c,d;b=0;for(c=this.I.length;b<c;b++)d=this.I[b],d.visible&&(0<d.opacity&&11!==d.ib)&&d.Eb(a)};
D.Va=function(a){var b=0<this.s.length||this.a.sd;if(b){this.a.Za||(this.a.Za=a.zb(this.a.width,this.a.height,this.a.U));if(this.a.Za.Cd!==this.a.width||this.a.Za.Bd!==this.a.height)a.deleteTexture(this.a.Za),this.a.Za=a.zb(this.a.width,this.a.height,this.a.U);a.Nb(this.a.Za)}this.a.xi&&!this.Vi()&&a.clear(0,0,0,0);var c,d;c=0;for(d=this.I.length;c<d;c++)this.I[c].visible&&0<this.I[c].opacity&&this.I[c].Va(a);b&&(1>=this.s.length?(1===this.s.length?(b=this.s[0].index,a.rb(this.s[0].ha),a.md(k,1/this.a.width,
1/this.a.height,0,0,1,1,this.scale,this.ka[b]),a.rf(this.s[0].ha)&&(this.a.K=h)):a.rb(0),a.Nb(k),a.ld(1),a.Qa(this.a.Za),a.Oj(),a.qb(),a.tb(),b=this.a.width/2,c=this.a.height/2,a.tf(-b,c,b,c,b,-c,-b,-c),a.Qa(k)):this.ih(a,k,k,k));a.$m()};D.Gd=function(){return 0<this.s.length||this.a.sd?this.a.Za:k};D.Si=function(){var a=this.I[0].va(),b,c,d;b=1;for(c=this.I.length;b<c;b++)d=this.I[b],0===d.jd&&0===d.kd||d.va()<a&&(a=d.va());return a};
D.pn=function(a){if(!this.Zj){var b=this.a.width*(1/this.Si())/2;a>this.width-b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.a.K=h)};D.qn=function(a){if(!this.Zj){var b=this.a.height*(1/this.Si())/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.a.K=h)};
D.ih=function(a,b,c,d){var e=c?c.s:b?b.s:this.s,f=c?c.c.va():b?b.va():1,g=this.a.rg,i,j,m,p,r=0,q=1,u,s=this.a.width,t=this.a.height,w=s/2,M=t/2,F=b?b.Zd:this.Zd,y=b?b.hh:this.hh,v=0,N=0,z=0,O=0,C=s,ma=s,A=t,na=t,Y=m=0,ra=c?c.c.Fb():0;if(c){i=0;for(j=e.length;i<j;i++)m+=a.hm(e[i].ha),Y+=a.im(e[i].ha);p=c.D;v=b.Z(p.left,p.top,h);z=b.Z(p.left,p.top,l);C=b.Z(p.right,p.bottom,h);A=b.Z(p.right,p.bottom,l);0!==ra&&(i=b.Z(p.right,p.top,h),j=b.Z(p.right,p.top,l),N=b.Z(p.left,p.bottom,h),O=b.Z(p.left,p.bottom,
l),p=Math.min(v,C,i,N),C=Math.max(v,C,i,N),v=p,p=Math.min(z,A,j,O),A=Math.max(z,A,j,O),z=p);v-=m;z-=Y;C+=m;A+=Y;y.left=v/s;y.top=1-z/t;y.right=C/s;y.bottom=1-A/t;N=v=Math.floor(v);O=z=Math.floor(z);ma=C=Math.ceil(C);na=A=Math.ceil(A);N-=m;O-=Y;ma+=m;na+=Y;0>v&&(v=0);0>z&&(z=0);C>s&&(C=s);A>t&&(A=t);0>N&&(N=0);0>O&&(O=0);ma>s&&(ma=s);na>t&&(na=t);F.left=v/s;F.top=1-z/t;F.right=C/s;F.bottom=1-A/t}else F.left=y.left=0,F.top=y.top=0,F.right=y.right=1,F.bottom=y.bottom=1;Y=c&&((c.d||ra)&&a.Wd(e[0].ha)||
0!==m||0!==Y||1!==c.opacity||c.type.A.wj)||b&&!c&&1!==b.opacity;a.Oj();if(Y){g[r]||(g[r]=a.zb(s,t,this.a.U));if(g[r].Cd!==s||g[r].Bd!==t)a.deleteTexture(g[r]),g[r]=a.zb(s,t,this.a.U);a.rb(0);a.Nb(g[r]);u=na-O;a.clearRect(N,t-O-u,ma-N,u);c?c.Va(a):(a.Qa(this.a.Fa),a.ld(b.opacity),a.qb(),a.translate(-w,-M),a.tb(),a.Zb(v,A,C,A,C,z,v,z,F));y.left=y.top=0;y.right=y.bottom=1;c&&(p=F.top,F.top=F.bottom,F.bottom=p);r=1;q=0}a.ld(1);m=e.length-1;var ra=a.dh(e[m].ha),sa=0;i=0;for(j=e.length;i<j;i++){g[r]||(g[r]=
a.zb(s,t,this.a.U));if(g[r].Cd!==s||g[r].Bd!==t)a.deleteTexture(g[r]),g[r]=a.zb(s,t,this.a.U);a.rb(e[i].ha);sa=e[i].index;a.rf(e[i].ha)&&(this.a.K=h);0==i&&!Y?(a.Nb(g[r]),u=na-O,p=t-O-u,a.clearRect(N,p,ma-N,u),c?(a.md(d,1/c.width,1/c.height,y.left,y.top,y.right,y.bottom,f,c.ka[sa]),c.Va(a)):(a.md(d,1/s,1/t,0,0,1,1,f,b?b.ka[sa]:this.ka[sa]),a.Qa(b?this.a.Fa:this.a.Za),a.qb(),a.translate(-w,-M),a.tb(),a.Zb(v,A,C,A,C,z,v,z,F)),y.left=y.top=0,y.right=y.bottom=1,c&&!ra&&(p=A,A=z,z=p)):(a.md(d,1/s,1/t,
y.left,y.top,y.right,y.bottom,f,c?c.ka[sa]:b?b.ka[sa]:this.ka[sa]),i===m&&!ra?(c?a.ac(c.la,c.ja):b&&a.ac(b.la,b.ja),a.Nb(d)):(a.Nb(g[r]),u=na-O,p=t-O-u,a.clearRect(N,p,ma-N,u)),a.Qa(g[q]),a.qb(),a.translate(-w,-M),a.tb(),a.Zb(v,A,C,A,C,z,v,z,F),i===m&&!ra&&a.Qa(k));r=0===r?1:0;q=0===r?1:0}ra&&(a.rb(0),c?a.ac(c.la,c.ja):b&&a.ac(b.la,b.ja),a.Nb(d),a.Qa(g[q]),a.qb(),a.translate(-w,-M),a.tb(),c&&1===e.length&&!Y?a.Zb(v,z,C,z,C,A,v,A,F):a.Zb(v,A,C,A,C,z,v,z,F),a.Qa(k))};Ha=Jb;
Kb.prototype.rd=function(){this.s.length=0;var a,b,c;a=0;for(b=this.w.length;a<b;a++)c=this.w[a],c.yd&&this.s.push(c)};var Lb=[];D=Kb.prototype;
D.il=function(){Lb.length=0;var a,b,c,d,e,f,g;b=a=0;for(c=this.Pc.length;a<c;a++)d=this.a.Kc(this.Pc[a],this,h),Lb.push(d),d&&!d.type.global&&(this.Pc[b]=this.Pc[a],b++);this.Pc.length=b;this.a.Ja();for(a=0;a<Lb.length;a++)if(d=Lb[a],d.type.Lb){f=d.Re();b=0;for(c=d.type.Ca.length;b<c;b++)e=d.type.Ca[b],d.type!==e&&(e.b.length>f?d.siblings.push(e.b[f]):e.kb&&(g=this.a.Kc(e.kb,this,h,d.x,d.y,h),this.a.Ja(),e.Gf(),d.siblings.push(g),Lb.push(g)))}!this.a.l&&this.w.length&&(this.ib=this.wl);this.Fe=Da(this.ib);
this.a.g&&Ea(this,this.ib,this.a.g)};D.Cn=function(){if(this.jc){var a,b;a=0;for(b=this.b.length;a<b;a++)this.b[a].Kh=a;this.jc=l}};D.va=function(){return this.fm()*this.a.Sf};D.fm=function(){return(this.scale*this.m.scale-1)*this.Bc+1};D.Fb=function(){return this.nc?0:qa(this.m.d+this.d)};
D.Eb=function(a){this.$b=this.og||1!==this.opacity||0!==this.ib;var b=this.a.canvas,c=a;a.globalAlpha=1;a.globalCompositeOperation="source-over";this.$b&&(this.a.ff||(this.a.ff=document.createElement("canvas"),b=this.a.ff,b.width=this.a.width,b.height=this.a.height,this.a.nj=b.getContext("2d")),b=this.a.ff,c=this.a.nj,b.width!==this.a.width&&(b.width=this.a.width),b.height!==this.a.height&&(b.height=this.a.height),this.fe&&c.clearRect(0,0,this.a.width,this.a.height));this.fe||(c.fillStyle="rgb("+
this.Jc[0]+","+this.Jc[1]+","+this.Jc[2]+")",c.fillRect(0,0,this.a.width,this.a.height));c.save();this.nc=h;var d=this.qa(0,0,h),e=this.qa(0,0,l);this.nc=l;this.a.Xb&&(d=d+0.5|0,e=e+0.5|0);this.lh(d,e,c);var f=this.va();c.scale(f,f);c.translate(-d,-e);for(var g,d=0,e=this.b.length;d<e;d++)if(f=this.b[d],f.visible&&!(0===f.width||0===f.height))f.hc(),g=f.D,g.right<this.eb||(g.bottom<this.gb||g.left>this.fb||g.top>this.cb)||(c.globalCompositeOperation=f.Fe,f.Eb(c));c.restore();this.$b&&(a.globalCompositeOperation=
this.Fe,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};
D.lh=function(a,b,c){var d=this.va();this.eb=a;this.gb=b;this.fb=a+this.a.width*(1/d);this.cb=b+this.a.height*(1/d);a=this.Fb();0!==a&&(c&&(c.translate(this.a.width/2,this.a.height/2),c.rotate(-a),c.translate(this.a.width/-2,this.a.height/-2)),this.Ob.set(this.eb,this.gb,this.fb,this.cb),this.Ob.offset((this.eb+this.fb)/-2,(this.gb+this.cb)/-2),this.Vj.Pj(this.Ob,a),this.Vj.si(this.Ob),this.Ob.offset((this.eb+this.fb)/2,(this.gb+this.cb)/2),this.eb=this.Ob.left,this.gb=this.Ob.top,this.fb=this.Ob.right,
this.cb=this.Ob.bottom)};
D.Va=function(a){var b=this.a.width,c=this.a.height,d=0,e=0;if(this.$b=this.og||1!==this.opacity||0<this.s.length||0!==this.ib){this.a.Fa||(this.a.Fa=a.zb(this.a.width,this.a.height,this.a.U));if(this.a.Fa.Cd!==this.a.width||this.a.Fa.Bd!==this.a.height)a.deleteTexture(this.a.Fa),this.a.Fa=a.zb(this.a.width,this.a.height,this.a.U);a.Nb(this.a.Fa);this.fe&&a.clear(0,0,0,0)}this.fe||a.clear(this.Jc[0]/255,this.Jc[1]/255,this.Jc[2]/255,1);this.nc=h;var e=this.qa(0,0,h),f=this.qa(0,0,l);this.nc=l;this.a.Xb&&
(e=e+0.5|0,f=f+0.5|0);this.lh(e,f,k);f=this.va();a.qb();a.scale(f,f);a.mh(-this.Fb());a.translate((this.eb+this.fb)/-2,(this.gb+this.cb)/-2);a.tb();var g,i,j;g=0;for(i=this.b.length;g<i;g++)if(j=this.b[g],j.visible&&!(0===j.width||0===j.height))if(j.hc(),d=j.D,!(d.right<this.eb||d.bottom<this.gb||d.left>this.fb||d.top>this.cb))if(j.bk)if(d=j.s[0].ha,e=j.s[0].index,1===j.s.length&&!a.dh(d)&&!a.an(d)&&(!j.d&&!j.c.Fb()||!a.Wd(d))&&1===j.opacity&&!j.type.A.wj){a.rb(d);a.ac(j.la,j.ja);a.rf(d)&&(this.a.K=
h);var m=0,p=0,r=0,q=0;a.Wd(d)&&(d=j.D,m=this.Z(d.left,d.top,h),p=this.Z(d.left,d.top,l),r=this.Z(d.right,d.bottom,h),d=this.Z(d.right,d.bottom,l),m/=b,p=1-p/c,r/=b,q=1-d/c);a.md(this.$b?this.a.Fa:this.m.Gd(),1/j.width,1/j.height,m,p,r,q,this.va(),j.ka[e]);j.Va(a)}else this.m.ih(a,this,j,this.$b?this.a.Fa:this.m.Gd()),a.qb(),a.scale(f,f),a.mh(-this.Fb()),a.translate((this.eb+this.fb)/-2,(this.gb+this.cb)/-2),a.tb();else a.rb(0),a.ac(j.la,j.ja),j.Va(a);this.$b&&(d=this.s.length?this.s[0].ha:0,e=this.s.length?
this.s[0].index:0,0===this.s.length||1===this.s.length&&!a.dh(d)&&1===this.opacity?(1===this.s.length?(a.rb(d),a.md(this.m.Gd(),1/this.a.width,1/this.a.height,0,0,1,1,this.va(),this.ka[e]),a.rf(d)&&(this.a.K=h)):a.rb(0),a.Nb(this.m.Gd()),a.ld(this.opacity),a.Qa(this.a.Fa),a.ac(this.la,this.ja),a.qb(),a.tb(),b=this.a.width/2,c=this.a.height/2,a.tf(-b,c,b,c,b,-c,-b,-c),a.Qa(k)):this.m.ih(a,this,k,this.m.Gd()))};
D.qa=function(a,b,c){var d=this.a.devicePixelRatio;!this.a.Ea&&(this.a.Hf&&this.a.Nd)&&0<this.a.Vb&&(a*=d,b*=d);var d=this.a.Pa/2,e=this.a.Oa/2,d=(this.m.scrollX-d)*this.jd+d,e=(this.m.scrollY-e)*this.kd+e,f=1/this.va(),d=d-this.a.width*f/2,e=e-this.a.height*f/2,d=d+a*f,e=e+b*f,b=this.Fb();0!==b&&(d-=this.m.scrollX,e-=this.m.scrollY,a=Math.cos(b),b=Math.sin(b),f=d*a-e*b,e=e*a+d*b,d=f+this.m.scrollX,e+=this.m.scrollY);return c?d:e};
D.Z=function(a,b,c){var d=this.Fb();if(0!==d)var a=a-this.m.scrollX,b=b-this.m.scrollY,e=Math.cos(-d),d=Math.sin(-d),f=a*e-b*d,b=b*e+a*d,a=f+this.m.scrollX,b=b+this.m.scrollY;e=this.a.Pa/2;d=this.a.Oa/2;e=(this.m.scrollX-e)*this.jd+e;d=(this.m.scrollY-d)*this.kd+d;f=1/this.va();e-=this.a.width*f/2;d-=this.a.height*f/2;e=(a-e)/f;d=(b-d)/f;a=this.a.devicePixelRatio;!this.a.Ea&&(this.a.Hf&&this.a.Nd)&&0<this.a.Vb&&(e/=a,d/=a);return c?e:d};La=Kb;
function Mb(a,b){var c,d=a.length;switch(d){case 0:return h;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return l;return h}}function Nb(a,b){return a.index-b.index}function Ob(a){var b,c,d,e;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(Nb);a.length>=Pb.length&&(Pb.length=a.length+1);Pb[a.length]||(Pb[a.length]=[]);e=Pb[a.length];b=0;for(c=e.length;b<c;b++)if(d=e[b],Mb(a,d))return d;e.push(a);return a}
function Qb(a,b){this.a=a;this.Yj={};this.Hi={};this.yg=l;this.Yi=new Ua;this.name=b[0];var c=b[1];this.Ub=[];var d,e;d=0;for(e=c.length;d<e;d++)this.$i(c[d],k,this.Ub)}function Rb(a){this.type=a;this.b=[];this.P=[];this.C=h}
function Sb(a,b,c){this.sheet=a;this.parent=b;this.a=a.a;this.R=[];this.bc=[];this.Wi=this.Df=this.Wj=this.Bg=this.group=this.wh=l;this.N=[];this.kc=[];this.Sa=[];c[1]?(this.Ti=c[1][1].toLowerCase(),this.group=h,this.Bg=!!c[1][0],this.a.Zk.push(this),this.a.Wk[this.Ti.toLowerCase()]=this.Bg):(this.Ti="",this.Bg=this.group=l);this.ab=c[2];for(var d=c[3],a=0,b=d.length;a<b;a++){var e=new Ma(this,d[a]);this.N.push(e);this.oi(e.type)}d=c[4];a=0;for(b=d.length;a<b;a++)e=new Na(this,d[a]),this.kc.push(e);
if(6===c.length){c=c[5];a=0;for(b=c.length;a<b;a++)this.sheet.$i(c[a],this,this.Sa)}this.Xe=l;this.N.length&&(this.Xe=this.N[0].type==k&&this.N[0].T==R.prototype.e.gk)}function Tb(a,b){var c,d,e;if(a&&(-1===b.indexOf(a)&&b.push(a),a.Lb)){c=0;for(d=a.Ca.length;c<d;c++)e=a.Ca[c],a!==e&&-1===b.indexOf(e)&&b.push(e)}}
function Ub(a,b){this.Ka=a;this.sheet=a.sheet;this.a=a.a;this.f=[];this.n=[];this.mb={};this.T=b[1];this.trigger=0<b[3];this.Gi=2===b[3];this.ip=b[4];this.Ue=b[5];this.Hm=b[6];-1===b[0]?(this.type=k,this.W=this.oh,this.Ad=k,this.fa=-1):(this.type=this.a.k[b[0]],this.W=this.Hm?this.nn:this.nh,b[2]?(this.Ad=this.type.Oe(b[2]),this.fa=this.type.sg(b[2])):(this.Ad=k,this.fa=-1),this.Ka.parent&&this.Ka.parent.wf());this.Gi&&(this.W=this.on);if(8===b.length){var c,d,e=b[7];c=0;for(d=e.length;c<d;c++){var f=
new Oa(this,e[c]);this.f.push(f)}this.n.length=e.length}}function Vb(a,b){this.Ka=a;this.sheet=a.sheet;this.a=a.a;this.f=[];this.n=[];this.mb={};this.T=b[1];-1===b[0]?(this.type=k,this.W=this.oh,this.Ad=k,this.fa=-1):(this.type=this.a.k[b[0]],this.W=this.nh,b[2]?(this.Ad=this.type.Oe(b[2]),this.fa=this.type.sg(b[2])):(this.Ad=k,this.fa=-1));if(4===b.length){var c,d,e=b[3];c=0;for(d=e.length;c<d;c++){var f=new Oa(this,e[c]);this.f.push(f)}this.n.length=e.length}}
function Wb(a,b){this.h=a;this.Ka=a.Ka;this.sheet=a.sheet;this.a=a.a;this.type=b[0];this.lb=k;this.yi=this.cc=0;this.m=k;this.key=0;this.object=k;this.index=0;this.If=this.pd=this.Ii=this.pc=this.je=k;var c,d,e;switch(b[0]){case 0:case 7:this.lb=new L(this,b[1]);this.cc=0;this.get=this.om;break;case 1:this.lb=new L(this,b[1]);this.cc=0;this.get=this.pm;break;case 5:this.lb=new L(this,b[1]);this.cc=0;this.get=this.tm;break;case 3:case 8:this.yi=b[1];this.get=this.mm;break;case 6:this.m=this.a.Mg[b[1]];
this.get=this.um;break;case 9:this.key=b[1];this.get=this.sm;break;case 4:this.object=this.a.k[b[1]];this.get=this.vm;this.Ka.oi(this.object);this.h instanceof Na?this.Ka.wf():this.Ka.parent&&this.Ka.parent.wf();break;case 10:this.index=b[1];this.get=a.type.M?this.qm:this.rm;break;case 11:this.je=b[1];this.pc=k;this.get=this.nm;break;case 2:case 12:this.Ii=b[1];this.get=this.lm;break;case 13:this.get=this.wm;this.pd=[];this.If=[];c=1;for(d=b.length;c<d;c++)e=new Oa(this.h,b[c]),this.pd.push(e),this.If.push(0)}}
function Xb(a,b,c){this.sheet=a;this.parent=b;this.a=a.a;this.R=[];this.name=c[1];this.wp=c[2];this.Ag=c[3];this.Ze=!!c[4];this.dj=!!c[5];this.data=this.Ag;this.parent?this.vc=this.Ze||this.dj?-1:this.a.vn++:(this.vc=-1,this.a.$k.push(this))}function Yb(a,b,c){this.sheet=a;this.parent=b;this.a=a.a;this.R=[];this.Te=k;this.zm=c[1]}function Zb(){this.Rj=[];this.reset(k)}var Pb=[];D=Qb.prototype;D.toString=x("name");
D.$i=function(a,b,c){switch(a[0]){case 0:a=new Pa(this,b,a);if(a.ab){c.push(a);c=0;for(b=a.N.length;c<b;c++)a.N[c].trigger&&this.aj(a,c)}else a.ej()?this.aj(a,0):c.push(a);break;case 1:a=new Ka(this,b,a);c.push(a);break;case 2:a=new Qa(this,b,a),c.push(a)}};D.Q=function(){var a,b;a=0;for(b=this.Ub.length;a<b;a++)this.Ub[a].Q(a<b-1&&this.Ub[a+1].Xe)};
D.W=function(){this.yg=h;this.a.Fg=h;var a,b;a=0;for(b=this.Ub.length;a<b;a++){var c=this.Ub[a];c.W();this.a.Yf(c.R);(!this.a.Db.We()||this.a.Ab.length)&&this.a.Ja()}this.a.Fg=l};
D.aj=function(a,b){a.ab||this.a.Ff.push(a);var c,d,e=a.N[b],f;f=e.type?e.type.name:"system";var g=(c=e.Gi)?this.Hi:this.Yj;g[f]||(g[f]=[]);f=g[f];g=e.T;if(c){if(e.f.length&&(e=e.f[0],!(1!==e.type||2!==e.lb.type))){e=e.lb.value.toLowerCase();c=0;for(d=f.length;c<d;c++)if(f[c].method==g){c=f[c].Ke;c[e]?c[e].push([a,b]):c[e]=[[a,b]];return}c={};c[e]=[[a,b]];f.push({method:g,Ke:c})}}else{c=0;for(d=f.length;c<d;c++)if(f[c].method==g){f[c].Ke.push([a,b]);return}f.push({method:g,Ke:[[a,b]]})}};Ia=Qb;
Rb.prototype.xg=function(){return this.C?this.type.b.length:this.b.length};Rb.prototype.Da=function(){return this.C?this.type.b:this.b};Rb.prototype.pf=function(a){a&&(a.a.sa().ra.ab?(this.C&&(this.b.length=0,ka(this.P,a.type.b),this.C=l),a=this.P.indexOf(a),-1!==a&&(this.b.push(this.P[a]),this.P.splice(a,1))):(this.C=l,this.b.length=1,this.b[0]=a))};Ga=Rb;D=Sb.prototype;
D.Q=function(a){var b,c=this.parent;if(this.group)for(this.Df=h;c;){if(!c.group){this.Df=l;break}c=c.parent}this.Wj=!this.ej()&&(!this.parent||this.parent.group&&this.parent.Df);this.Wi=!!a;this.bc=this.R.slice(0);for(c=this.parent;c;){a=0;for(b=c.R.length;a<b;a++)this.Yk(c.R[a]);c=c.parent}this.R=Ob(this.R);this.bc=Ob(this.bc);a=0;for(b=this.N.length;a<b;a++)this.N[a].Q();a=0;for(b=this.kc.length;a<b;a++)this.kc[a].Q();a=0;for(b=this.Sa.length;a<b;a++)this.Sa[a].Q(a<b-1&&this.Sa[a+1].Xe)};
D.oi=function(a){Tb(a,this.R)};D.Yk=function(a){Tb(a,this.bc)};D.wf=function(){this.wh=h;this.parent&&this.parent.wf()};D.ej=function(){return this.N.length?this.N[0].trigger:l};
D.W=function(){var a,b=l,c=this.a.sa();c.ra=this;this.Xe||(c.hg=l);if(this.ab){0===this.N.length&&(b=h);c.X=0;for(a=this.N.length;c.X<a;c.X++)this.N[c.X].trigger||this.N[c.X].W()&&(b=h);(c.Tc=b)&&this.vf()}else{c.X=0;for(a=this.N.length;c.X<a;c.X++)if(!this.N[c.X].W()){c.Tc=l;return}c.Tc=h;this.vf()}c.Tc&&this.Wi&&(c.hg=h);this.Wj&&(!this.a.Db.We()||this.a.Ab.length)&&this.a.Ja()};D.ln=function(a){this.a.sa().ra=this;this.N[a].W()&&this.vf()};
D.vf=function(){var a=this.a.sa(),b;a.vb=0;for(b=this.kc.length;a.vb<b;a.vb++)if(this.kc[a.vb].W())return;this.Nj()};D.jn=function(){var a=this.a.sa(),b;for(b=this.kc.length;a.vb<b;a.vb++)if(this.kc[a.vb].W())return;this.Nj()};D.Nj=function(){if(this.Sa.length){var a,b,c,d,e=this.Sa.length-1;this.a.sf(this);if(this.wh){a=0;for(b=this.Sa.length;a<b;a++)c=this.Sa[a],(d=!this.Df||!this.group&&a<e)&&this.a.Yd(c.R),c.W(),d?this.a.Yb(c.R):this.a.Yf(c.R)}else{a=0;for(b=this.Sa.length;a<b;a++)this.Sa[a].W()}this.a.qf()}};
D.mn=function(){var a=this.a.sa();a.ra=this;var b=l,c;a.X=0;for(c=this.N.length;a.X<c;a.X++)if(this.N[a.X].W())b=h;else if(!this.ab)return l;return this.ab?b:h};D.kh=function(){this.a.kg++;var a=this.a.sa().X,b=this.a.sf(this);if(!this.ab){b.X=a+1;for(a=this.N.length;b.X<a;b.X++)if(!this.N[b.X].W()){this.a.qf();return}}this.vf();this.a.qf()};Pa=Sb;D=Ub.prototype;D.Q=function(){var a,b;a=0;for(b=this.f.length;a<b;a++)this.f[a].Q()};D.on=B(h);
D.oh=function(){var a,b;a=0;for(b=this.f.length;a<b;a++)this.n[a]=this.f[a].get();return Aa(this.T.apply(this.a.yc,this.n),this.Ue)};D.nn=function(){var a,b;a=0;for(b=this.f.length;a<b;a++)this.n[a]=this.f[a].get();a=this.T.apply(this.type,this.n);this.type.zd();return a};
D.nh=function(){var a,b,c,d,e,f,g,i=this.type.t(),j=this.Ka.ab&&!this.trigger,m=0,p=this.type.Lb;if(i.C){i.b.length=0;a=i.P.length=0;for(c=this.type.b.length;a<c;a++){f=this.type.b[a];b=0;for(d=this.f.length;b<d;b++)this.n[b]=this.f[b].get(a);-1<this.fa?(this.type.M&&(m=f.type.Nc[this.type.nb]),b=this.T.apply(f.ca[this.fa+m],this.n)):b=this.T.apply(f,this.n);(e=Aa(b,this.Ue))?i.b.push(f):j&&i.P.push(f)}this.type.finish&&this.type.finish(h);i.C=l;this.type.zd();return i.xg()}var r=0,q=j?i.P:i.b;e=
l;a=0;for(c=q.length;a<c;a++){f=q[a];b=0;for(d=this.f.length;b<d;b++)this.n[b]=this.f[b].get(a);-1<this.fa?(this.type.M&&(m=f.type.Nc[this.type.nb]),b=this.T.apply(f.ca[this.fa+m],this.n)):b=this.T.apply(f,this.n);if(Aa(b,this.Ue))if(e=h,j){if(i.b.push(f),p){b=0;for(d=f.siblings.length;b<d;b++)g=f.siblings[b],g.type.t().b.push(g)}}else{q[r]=f;if(p){b=0;for(d=f.siblings.length;b<d;b++)g=f.siblings[b],g.type.t().b[r]=g}r++}else if(j){q[r]=f;if(p){b=0;for(d=f.siblings.length;b<d;b++)g=f.siblings[b],
g.type.t().P[r]=g}r++}}q.length=r;if(p){a=0;for(c=this.type.Ca.length;a<c;a++)f=this.type.Ca[a].t(),j?f.P.length=r:f.b.length=r}m=e;if(j&&!e){a=0;for(c=i.b.length;a<c;a++){f=i.b[a];b=0;for(d=this.f.length;b<d;b++)this.n[b]=this.f[b].get(a);b=-1<this.fa?this.T.apply(f.ca[this.fa],this.n):this.T.apply(f,this.n);if(Aa(b,this.Ue)){e=h;break}}}this.type.finish&&this.type.finish(m||j);return j?e:i.xg()};Ma=Ub;Vb.prototype.Q=function(){var a,b;a=0;for(b=this.f.length;a<b;a++)this.f[a].Q()};
Vb.prototype.oh=function(){var a,b;a=0;for(b=this.f.length;a<b;a++)this.n[a]=this.f[a].get();return this.T.apply(this.a.yc,this.n)};Vb.prototype.nh=function(){var a=this.type.t().Da(),b,c,d,e,f;b=0;for(d=a.length;b<d;b++){f=a[b];c=0;for(e=this.f.length;c<e;c++)this.n[c]=this.f[c].get(b);-1<this.fa?(c=0,this.type.M&&(c=f.type.Nc[this.type.nb]),this.T.apply(f.ca[this.fa+c],this.n)):this.T.apply(f,this.n)}return l};Na=Vb;var $b=[],ac=-1;D=Wb.prototype;
D.Q=function(){var a,b;if(11===this.type)this.pc=this.a.Ri(this.je,this.Ka.parent);else if(13===this.type){a=0;for(b=this.pd.length;a<b;a++)this.pd[a].Q()}this.lb&&this.lb.Q()};D.$=function(){ac++;$b.length===ac&&$b.push(new Ra);return $b[ac]};D.V=function(){ac--};D.om=function(a){this.cc=a||0;a=this.$();this.lb.get(a);this.V();return a.data};D.pm=function(a){this.cc=a||0;a=this.$();this.lb.get(a);this.V();return G(a.data)?a.data:""};D.vm=x("object");D.mm=x("yi");
D.tm=function(a){this.cc=a||0;a=this.$();this.lb.get(a);this.V();return a.da()?this.a.Oc(a.data):this.a.Pe(a.data)};D.um=x("m");D.sm=x("key");D.rm=x("index");D.qm=function(a){var b=this.h.type,c=k,c=b.t(),d=c.Da(),c=d.length?d[a%d.length].type:c.P[a%c.P.length].type;return this.index+c.Le[b.nb]};D.nm=x("pc");D.lm=x("Ii");D.wm=function(){var a,b;a=0;for(b=this.pd.length;a<b;a++)this.If[a]=this.pd[a].get();return this.If};Oa=Wb;Xb.prototype.Q=function(){this.R=Ob(this.R)};
Xb.prototype.sn=function(a){var b=this.a.Ni();!this.parent||this.Ze||!b?this.data=a:(this.vc>=b.length&&(b.length=this.vc+1),b[this.vc]=a)};Xb.prototype.km=function(){var a=this.a.Ni();return!this.parent||this.Ze||!a?this.data:this.vc>=a.length||"undefined"===typeof a[this.vc]?this.Ag:a[this.vc]};Xb.prototype.W=function(){this.parent&&(!this.Ze&&!this.dj)&&this.sn(this.Ag)};Ka=Xb;Yb.prototype.Q=function(){this.Te=this.a.jg[this.zm];this.sheet.Yi.add(this.Te);this.R=Ob(this.R)};
Yb.prototype.W=function(){this.parent&&this.a.Xd(this.a.k);this.Te.yg||this.Te.W();this.parent&&this.a.Yb(this.a.k)};Qa=Yb;Zb.prototype.reset=function(a){this.ra=a;this.vb=this.X=0;this.Rj.length=0;this.hg=this.Tc=l};Zb.prototype.Cm=function(){return this.ra.wh?h:this.X<this.ra.N.length-1?!!this.ra.R.length:l};Ja=Zb;
function bc(a,b){this.h=a;this.a=a.a;this.type=b[0];this.get=[this.Jl,this.Fl,this.Rl,this.Ul,this.zl,this.Sl,this.Nl,this.Cl,this.Ml,this.Ql,this.Al,this.Pl,this.Dl,this.Ol,this.Kl,this.Ll,this.Gl,this.Hl,this.Bl,this.Tl,this.Di,this.Il,this.Di,this.El][this.type];var c=k;this.xa=this.f=this.n=this.T=this.Af=this.ea=this.first=this.value=k;this.fa=-1;this.Jb=k;this.Hh=-1;this.pc=this.je=this.al=k;this.be=l;switch(this.type){case 0:case 1:case 2:this.value=b[1];break;case 3:this.first=new L(a,b[1]);
break;case 18:this.first=new L(a,b[1]);this.ea=new L(a,b[2]);this.Af=new L(a,b[3]);break;case 19:this.T=b[1];this.n=[];this.f=[];3===b.length?(c=b[2],this.n.length=c.length+1):this.n.length=1;break;case 20:this.xa=this.a.k[b[1]];this.fa=-1;this.T=b[2];this.be=b[3];this.Jb=b[4]?new L(a,b[4]):k;this.n=[];this.f=[];6===b.length?(c=b[5],this.n.length=c.length+1):this.n.length=1;break;case 21:this.xa=this.a.k[b[1]];this.be=b[2];this.Jb=b[3]?new L(a,b[3]):k;this.Hh=b[4];break;case 22:this.xa=this.a.k[b[1]];
this.al=this.xa.Oe(b[2]);this.fa=this.xa.sg(b[2]);this.T=b[3];this.be=b[4];this.Jb=b[5]?new L(a,b[5]):k;this.n=[];this.f=[];7===b.length?(c=b[6],this.n.length=c.length+1):this.n.length=1;break;case 23:this.je=b[1],this.pc=k}4<=this.type&&17>=this.type&&(this.first=new L(a,b[1]),this.ea=new L(a,b[2]));if(c){var d,e;d=0;for(e=c.length;d<e;d++)this.f.push(new L(a,c[d]))}}function cc(a,b){this.type=a||P.Fc;this.data=b||0;this.fd=k;this.type==P.Fc&&(this.data=Math.floor(this.data))}D=bc.prototype;
D.Q=function(){23===this.type&&(this.pc=this.h.a.Ri(this.je,this.h.Ka.parent));this.first&&this.first.Q();this.ea&&this.ea.Q();this.Af&&this.Af.Q();this.Jb&&this.Jb.Q();if(this.f){var a,b;a=0;for(b=this.f.length;a<b;a++)this.f[a].Q()}};D.Tl=function(a){this.n[0]=a;var a=this.h.$(),b,c;b=0;for(c=this.f.length;b<c;b++)this.f[b].get(a),this.n[b+1]=a.data;this.h.V();this.T.apply(this.a.yc,this.n)};
D.Di=function(a){var b=this.xa.t(),c=b.Da();if(!c.length)if(b.P.length)c=b.P;else{this.be?a.Ga(""):a.q(0);return}this.n[0]=a;a.fd=this.xa;var a=this.h.$(),d,b=0;for(d=this.f.length;b<d;b++)this.f[b].get(a),this.n[b+1]=a.data;b=this.h.cc;this.Jb&&(this.Jb.get(a),a.da()&&(b=a.data,c=this.xa.b));this.h.V();b%=c.length;0>b&&(b+=c.length);c=c[b];-1<this.fa?(a=0,this.xa.M&&(a=c.type.Nc[this.xa.nb]),this.T.apply(c.ca[this.fa+a],this.n)):this.T.apply(c,this.n)};
D.Il=function(a){var b=this.xa.t(),c=b.Da();if(!c.length)if(b.P.length)c=b.P;else{this.be?a.Ga(""):a.q(0);return}b=this.h.cc;if(this.Jb){var d=this.h.$();this.Jb.get(d);if(d.da()){b=d.data;c=this.xa.b;b%=c.length;0>b&&(b+=c.length);c=c[b].Wa[this.Hh];G(c)?a.Ga(c):a.o(c);this.h.V();return}this.h.V()}b%=c.length;0>b&&(b+=c.length);c=c[b];b=0;this.xa.M&&(b=c.type.Le[this.xa.nb]);c=c.Wa[this.Hh+b];G(c)?a.Ga(c):a.o(c)};D.Jl=function(a){a.type=P.Fc;a.data=this.value};
D.Fl=function(a){a.type=P.Ec;a.data=this.value};D.Rl=function(a){a.type=P.se;a.data=this.value};D.Ul=function(a){this.first.get(a);a.da()&&(a.data=-a.data)};D.zl=function(a){this.first.get(a);var b=this.h.$();this.ea.get(b);a.da()&&b.da()&&(a.data+=b.data,b.Sc()&&a.cd());this.h.V()};D.Sl=function(a){this.first.get(a);var b=this.h.$();this.ea.get(b);a.da()&&b.da()&&(a.data-=b.data,b.Sc()&&a.cd());this.h.V()};
D.Nl=function(a){this.first.get(a);var b=this.h.$();this.ea.get(b);a.da()&&b.da()&&(a.data*=b.data,b.Sc()&&a.cd());this.h.V()};D.Cl=function(a){this.first.get(a);var b=this.h.$();this.ea.get(b);a.da()&&b.da()&&(a.data/=b.data,a.cd());this.h.V()};D.Ml=function(a){this.first.get(a);var b=this.h.$();this.ea.get(b);a.da()&&b.da()&&(a.data%=b.data,b.Sc()&&a.cd());this.h.V()};
D.Ql=function(a){this.first.get(a);var b=this.h.$();this.ea.get(b);a.da()&&b.da()&&(a.data=Math.pow(a.data,b.data),b.Sc()&&a.cd());this.h.V()};D.Al=function(a){this.first.get(a);var b=this.h.$();this.ea.get(b);a.da()?b.$e()?a.Ga(a.data.toString()+b.data):a.data&&b.data?a.q(1):a.q(0):a.$e()&&(a.data=b.$e()?a.data+b.data:a.data+(Math.round(1E10*b.data)/1E10).toString());this.h.V()};D.Pl=function(a){this.first.get(a);var b=this.h.$();this.ea.get(b);a.da()&&b.da()&&(a.data||b.data?a.q(1):a.q(0));this.h.V()};
D.Bl=function(a){this.first.get(a);a.data?this.ea.get(a):this.Af.get(a)};D.Dl=function(a){this.first.get(a);var b=this.h.$();this.ea.get(b);a.q(a.data===b.data?1:0);this.h.V()};D.Ol=function(a){this.first.get(a);var b=this.h.$();this.ea.get(b);a.q(a.data!==b.data?1:0);this.h.V()};D.Kl=function(a){this.first.get(a);var b=this.h.$();this.ea.get(b);a.q(a.data<b.data?1:0);this.h.V()};D.Ll=function(a){this.first.get(a);var b=this.h.$();this.ea.get(b);a.q(a.data<=b.data?1:0);this.h.V()};
D.Gl=function(a){this.first.get(a);var b=this.h.$();this.ea.get(b);a.q(a.data>b.data?1:0);this.h.V()};D.Hl=function(a){this.first.get(a);var b=this.h.$();this.ea.get(b);a.q(a.data>=b.data?1:0);this.h.V()};D.El=function(a){var b=this.pc.km();E(b)?a.o(b):a.Ga(b)};L=bc;D=cc.prototype;D.Sc=function(){return this.type===P.Ec};D.da=function(){return this.type===P.Fc||this.type===P.Ec};D.$e=function(){return this.type===P.se};
D.cd=function(){this.Sc()||(this.$e()&&(this.data=parseFloat(this.data)),this.type=P.Ec)};D.q=function(a){this.type=P.Fc;this.data=Math.floor(a)};D.o=function(a){this.type=P.Ec;this.data=a};D.Ga=function(a){this.type=P.se;this.data=a};D.qh=function(a){E(a)?(this.type=P.Ec,this.data=a):G(a)?(this.type=P.se,this.data=a.toString()):(this.type=P.Fc,this.data=0)};Ra=cc;P={Fc:0,Ec:1,se:2};function R(a){this.a=a;this.Pb=[]}function dc(){}function ec(){}var fc=R.prototype;D=dc.prototype;D.Vh=B(h);D.qk=B(h);
D.Nh=function(a,b,c){var d=this.a.sa(),e=d.ra,d=d.Cm(),a=this.a.cn(a);if(d)for(;b<=c&&!a.Ah;b++)this.a.Yd(e.R),a.index=b,e.kh(),this.a.Yb(e.R);else for(;b<=c&&!a.Ah;b++)a.index=b,e.kh();this.a.Ym();return l};D.gk=function(){var a=this.a.sa();return a.hg?l:!a.Tc};D.Wh=B(h);D.kk=B(h);fc.e=new dc;fc.F=new (n());ec.prototype["int"]=function(a,b){G(b)?(a.q(parseInt(b,10)),isNaN(a.data)&&(a.data=0)):a.q(b)};ec.prototype["float"]=function(a,b){G(b)?(a.o(parseFloat(b)),isNaN(a.data)&&(a.data=0)):a.o(b)};
D=ec.prototype;D.random=function(a,b,c){void 0===c?a.o(Math.random()*b):a.o(Math.random()*(c-b)+b)};D.sqrt=function(a,b){a.o(Math.sqrt(b))};D.round=function(a,b){a.q(Math.round(b))};D.floor=function(a,b){a.q(Math.floor(b))};D.ceil=function(a,b){a.q(Math.ceil(b))};D.sin=function(a,b){a.o(Math.sin(J(b)))};D.cos=function(a,b){a.o(Math.cos(J(b)))};D.tan=function(a,b){a.o(Math.tan(J(b)))};D.acos=function(a,b){a.o(oa(Math.acos(b)))};
D.max=function(a){var b=arguments[1],c,d;c=2;for(d=arguments.length;c<d;c++)b<arguments[c]&&(b=arguments[c]);a.o(b)};D.min=function(a){var b=arguments[1],c,d;c=2;for(d=arguments.length;c<d;c++)b>arguments[c]&&(b=arguments[c]);a.o(b)};D.Mc=function(a){a.o(this.a.Mc)};D.Cf=function(a){a.o(this.a.Cf)};D.time=function(a){a.o(this.a.Jg.qd)};D.Bf=function(a){a.q(this.a.Bf)};D.of=function(a){a.q(this.a.of)};D.pg=function(a){a.q(this.a.pg)};
D.tj=function(a,b){if(this.a.bd.length)if(b){var c,d;c=0;for(d=this.a.bd.length;c<d;c++){var e=this.a.bd[c];if(e.name===b){a.q(e.index);return}}a.q(0)}else a.q(this.a.Oi().index);else a.q(0)};D.d=function(a,b,c,d,e){a.o(oa(va(b,c,d,e)))};D.left=function(a,b,c){a.Ga(G(b)?b.substr(0,c):"")};D.right=function(a,b,c){a.Ga(G(b)?b.substr(b.length-c):"")};D.replace=function(a,b,c,d){G(b)&&G(c)&&G(d)?a.Ga(b.replace(RegExp(Ca(c),"gi"),d)):a.Ga(G(b)?b:"")};D.Zf=function(a){a.o(this.a.Zf/1E3)};D.gf=function(a){a.o(this.a.gf)};
fc.H=new ec;fc.kn=function(){var a,b,c,d,e,f=this.a.sa();a=0;for(c=this.Pb.length;a<c;a++)if(d=this.Pb[a],!(d.time>this.a.Jg.qd)){f.ra=d.yl;f.vb=d.vb;f.X=0;for(b in d.nd)d.nd.hasOwnProperty(b)&&(e=this.a.k[parseInt(b,10)].t(),e.C=l,e.b=d.nd[b]);d.yl.jn();this.a.Yf(d.R);d.jl=h}b=a=0;for(c=this.Pb.length;a<c;a++)d=this.Pb[a],this.Pb[b]=d,d.jl||b++;this.Pb.length=b};
function kb(a){var b=a[0].prototype,c=a[1],d=a[3],e=a[4],f=a[5],g=a[6],i=a[7],a=a[8];b.e||(b.e={});b.F||(b.F={});b.H||(b.H={});var j=b.e,m=b.F,b=b.H;d&&(j.Sn=function(a,b){return gc(this.x,a,b)},j.Tn=function(a,b){return gc(this.y,a,b)},j.eo=function(){var a=this.c;this.hc();var b=this.D;return!(b.right<a.eb||b.bottom<a.gb||b.left>a.fb||b.top>a.cb)},j.fo=function(){this.hc();var a=this.D,b=this.a.O;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},j.ro=function(a,b,c){var d=this.t(),e=
d.Da();if(!e.length)return l;var f=e[0],g=f,i=za(f.x,f.y,b,c),j,m,v;j=1;for(m=e.length;j<m;j++)if(f=e[j],v=za(f.x,f.y,b,c),0===a&&v<i||1===a&&v>i)i=v,g=f;d.pf(g);return h},m.Jo=function(a){this.x!==a&&(this.x=a,this.ga())},m.Ko=function(a){this.y!==a&&(this.y=a,this.ga())},m.Eo=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.ga()},m.Fo=function(a,b){var c=a.gm(this);if(c){var d;c.tg?(d=c.tg(b,h),c=c.tg(b,l)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.ga()}},m.lo=
function(a){0!==a&&(this.x+=Math.cos(this.d)*a,this.y+=Math.sin(this.d)*a,this.ga())},m.ko=function(a,b){0!==b&&(this.x+=Math.cos(J(a))*b,this.y+=Math.sin(J(a))*b,this.ga())},b.Ak=function(a){a.o(this.x)},b.Dk=function(a){a.o(this.y)},b.Mc=function(a){a.o(this.a.Pi(this))});e&&(j.Rn=function(a,b){return gc(this.width,a,b)},j.On=function(a,b){return gc(this.height,a,b)},m.Mf=function(a){this.width!==a&&(this.width=a,this.ga())},m.ci=function(a){this.height!==a&&(this.height=a,this.ga())},m.Go=function(a,
b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.ga()},b.Oo=function(a){a.o(this.width)},b.Yn=function(a){a.o(this.height)});f&&(j.Mn=function(a,b){return wa(this.d,J(b))<=J(a)},j.bo=function(a){return ya(this.d,J(a))},j.$n=function(a,b){var c=ua(a),d=ua(b),e=qa(this.d);return ya(d,c)?ya(e,c)&&!ya(e,d):!(!ya(e,c)&&ya(e,d))},m.yo=function(a){a=J(pa(a));!isNaN(a)&&this.d!==a&&(this.d=a,this.ga())},m.uo=function(a){0!==a&&!isNaN(a)&&(this.d+=J(a),this.d=qa(this.d),this.ga())},m.vo=
function(a){0!==a&&!isNaN(a)&&(this.d-=J(a),this.d=qa(this.d),this.ga())},m.wo=function(a,b){var c=xa(this.d,J(b),J(a));!isNaN(c)&&this.d!==c&&(this.d=c,this.ga())},m.xo=function(a,b,c){a=xa(this.d,Math.atan2(c-this.y,b-this.x),J(a));!isNaN(a)&&this.d!==a&&(this.d=a,this.ga())},m.Ho=function(a,b){var c=Math.atan2(b-this.y,a-this.x);!isNaN(c)&&this.d!==c&&(this.d=c,this.ga())},b.Ln=function(a){a.o(ta(this.d))});c||(j.Pn=function(a,b,c){return gc(this.Wa[a],b,c)},j.ao=function(a){return this.Wa[a]},
j.qo=function(a){return this.uid===a},j.nk=B(h),j.ok=B(h),m.Co=function(a,b){var c=this.Wa;E(c[a])?c[a]=E(b)?b:parseFloat(b):G(c[a])&&(c[a]=G(b)?b:b.toString())},m.Jn=function(a,b){var c=this.Wa;E(c[a])?c[a]=E(b)?c[a]+b:c[a]+parseFloat(b):G(c[a])&&(c[a]=G(b)?c[a]+b:c[a]+b.toString())},m.Lo=function(a,b){var c=this.Wa;E(c[a])&&(c[a]=E(b)?c[a]-b:c[a]-parseFloat(b))},m.zo=function(a,b){this.Wa[a]=b?1:0},m.Mo=function(a){this.Wa[a]=1-this.Wa[a]},m.Mh=function(){this.a.oe(this)},b.Un=function(a){var b=
a.fd.b.length,c,d,e;c=0;for(d=this.a.Ab.length;c<d;c++)e=this.a.Ab[c],a.fd.M?0<=e.type.Y.indexOf(a.fd)&&b++:e.type===a.fd&&b++;a.q(b)},b.to=function(a){a.q(a.fd.t().Da().length)},b.No=function(a){a.q(this.uid)},b.Zn=function(a){a.q(this.Re())});g&&(j.ho=x("visible"),m.Io=function(a){!a!==!this.visible&&(this.visible=a,this.a.K=h)},j.Qn=function(a,b){return gc(Fa(100*this.opacity),a,b)},m.Do=function(a){a/=100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.a.K=h)},b.po=function(a){a.o(Fa(100*
this.opacity))});i&&(j.co=function(a){return!a?l:this.c===a},j.so=function(a){var b=this.t(),c=b.Da();if(!c.length)return l;var d=c[0],e=d,f,g;f=1;for(g=c.length;f<g;f++)if(d=c[f],0===a){if(d.c.index>e.c.index||d.c.index===e.c.index&&d.Gb()>e.Gb())e=d}else if(d.c.index<e.c.index||d.c.index===e.c.index&&d.Gb()<e.Gb())e=d;b.pf(e);return h},m.oo=function(){var a=this.Gb();a!==this.c.b.length-1&&(ja(this.c.b,a),this.c.b.push(this),this.a.K=h,this.c.jc=h)},m.mo=function(){var a=this.Gb();0!==a&&(ja(this.c.b,
a),this.c.b.unshift(this),this.a.K=h,this.c.jc=h)},m.no=function(a){a&&a!=this.c&&(ja(this.c.b,this.Gb()),this.c.jc=h,this.c=a,this.Kh=a.b.length,a.b.push(this),this.a.K=h)},b.jo=function(a){a.q(this.c.zj)},b.io=function(a){a.Ga(this.c.name)},b.Po=function(a){a.q(this.Gb())});a&&(m.Ao=function(a,b){if(this.a.l){var c=this.type.Qi(b);if(!(0>c)){var d=1===a;this.Ic[c]!==d&&(this.Ic[c]=d,this.rd(),this.a.K=h)}}},m.Bo=function(a,b,c){if(this.a.l){var d=this.type.Qi(a);0>d||(a=this.type.w[d],d=this.ka[d],
b=Math.floor(b),0>b||b>=d.length||(1===this.a.l.jm(a.ha,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.yd&&(this.a.K=h))))}})}function Bb(){this.Tf=h;this.a.K=h;var a,b;a=0;for(b=this.Be.length;a<b;a++)this.Be[a](this)}function Cb(a){a&&this.Be.push(a)}
function Eb(){if(this.Tf){this.D.set(this.x,this.y,this.x+this.width,this.y+this.height);this.D.offset(-this.Hb*this.width,-this.Ib*this.height);this.d?(this.D.offset(-this.x,-this.y),this.jb.Pj(this.D,this.d),this.jb.offset(this.x,this.y),this.jb.si(this.D)):this.jb.rh(this.D);var a=0;this.D.left>this.D.right&&(a=this.D.left,this.D.left=this.D.right,this.D.right=a);this.D.top>this.D.bottom&&(a=this.D.top,this.D.top=this.D.bottom,this.D.bottom=a);this.Tf=l}}
function Db(a,b){return!this.D.yb(a,b)||!this.jb.yb(a,b)?l:this.Rb&&!this.Rb.Gm()?(this.Rb.cl(this.width,this.height,this.d),this.Rb.yb(a-this.x,b-this.y)):h}function xb(){this.type.Gf();return this.Hd}function Fb(){this.c.Cn();return this.Kh}function Gb(){this.s.length=0;var a,b;a=0;for(b=this.Ic.length;a<b;a++)this.Ic[a]&&this.s.push(this.type.w[a]);this.bk=!!this.s.length}function yb(){return"inst:"+this.type.name+"#"+this.uid}function mb(){var a=this.t().Da();return a.length?a[0]:k}
function nb(a){var b=this.t().Da();return b.length?b[a.Re()%b.length]:k}function lb(){if(this.xc&&!this.M){var a,b;a=0;for(b=this.b.length;a<b;a++)this.b[a].Hd=a;this.xc=l}}function ob(){return this.ec[this.Cb]}function pb(){this.Cb++;this.Cb===this.ec.length?this.ec.push(new Ga(this)):this.ec[this.Cb].C=h}function qb(){this.Cb++;this.Cb===this.ec.length&&this.ec.push(new Ga(this));var a=this.ec[this.Cb],b=this.ec[this.Cb-1];b.C?a.C=h:(a.C=l,ka(a.b,b.b))}function rb(){this.Cb--}
function sb(a){var b,c,d,e,f,g=0;if(!this.M){b=0;for(c=this.Y.length;b<c;b++){f=this.Y[b];d=0;for(e=f.pa.length;d<e;d++){if(a===f.pa[d].name)return this.mb.gj=g,f.pa[d];g++}}}b=0;for(c=this.pa.length;b<c;b++){if(a===this.pa[b].name)return this.mb.gj=g,this.pa[b];g++}return k}function tb(a){return this.Oe(a)?this.mb.gj:-1}function ub(a){var b,c;b=0;for(c=this.w.length;b<c;b++)if(this.w[b].name===a)return b;return-1}
function vb(){if(this.Lb&&!this.M){var a,b,c,d,e,f,g;this.Gf();f=this.t();var i=f.C,j=(a=this.a.sa())&&a.ra&&a.ra.ab;a=0;for(b=this.Ca.length;a<b;a++)if(e=this.Ca[a],e!==this&&(e.Gf(),g=e.t(),g.C=i,!i)){g.b.length=f.b.length;g.P.length=f.b.length;c=0;for(d=f.b.length;c<d;c++)g.b[c]=e.b[f.b[c].Hd];if(j){c=0;for(d=f.P.length;c<d;c++)g.P[c]=e.b[f.P[c].Hd]}}}}function wb(){return this.name}
function gc(a,b,c){if("undefined"===typeof a||"undefined"===typeof c)return l;switch(b){case 0:return a===c;case 1:return a!==c;case 2:return a<c;case 3:return a<=c;case 4:return a>c;case 5:return a>=c;default:return l}}var gb={};function hc(a){this.a=a}var ic=hc.prototype;ic.S=function(a){this.A=a;this.a=a.a};ic.S.prototype.u=n();ic.L=function(a){this.type=a;this.a=a.a};ic.L.prototype.u=n();ic.e=new (n());ic.F=new (n());ic.H=new (n());function jc(a){this.a=a}function kc(){}function lc(){}
var mc=jc.prototype;mc.S=function(a){this.A=a;this.a=a.a};mc.S.prototype.u=n();mc.L=function(a){this.type=a;this.a=a.a};var nc=mc.L.prototype;nc.u=function(){this.Ua={};var a=this.p[0];""!=a&&(this.Ua=JSON.parse(a));this.Nf=this.Ua;this.$o="";this.ap=0};nc.fi=function(){for(var a in this.Ua)delete this.Ua[a];this.Nf=this.Ua};nc.Nk=function(a){var b=a.length,c,d,e=this.Ua;for(c=0;c<b;c++){d=a[c];if(e[d]==k||"object"!=typeof e[d])e[d]={};e=e[d]}this.Nf=e};
nc.Uo=function(a){""!=a?this.Nk(a.split(".")):this.Nf=this.Ua};nc.Ik=function(a){if(1==a.length&&""==a[0])return this.Ua;var b=a.length,c,d=this.Ua;for(c=0;c<b;c++)if(d=d[a[c]],d==k||"object"!=typeof d&&c!=b-1)return k;return d};mc.e=new (n());mc.F=new kc;kc.prototype.di=function(a){this.Ua=JSON.parse(a)};mc.H=new lc;lc.prototype.me=function(a,b,c){b=this.Ik(b.split("."));"number"!=typeof b&&"string"!=typeof b&&(b=c);a.qh(b)};
lc.prototype.ei=function(a){var b;if(1==arguments.length)b=this.Ua;else{var c,d=arguments.length;b={};for(c=1;c<d;c+=2)b[arguments[c]]=arguments[c+1]}a.Ga(JSON.stringify(b))};function oc(a){this.a=a}function pc(){}function qc(){}function rc(){}var sc=oc.prototype;sc.S=function(a){this.A=a;this.a=a.a};sc.S.prototype.u=n();sc.L=function(a){this.type=a;this.a=a.a};var S=sc.L.prototype;
S.u=function(){this.Ee="BOARD";this.r=[];this.hn(this.p[0]-1,this.p[1]-1);this.xe=this.m=k;var a=this;this.xj=function(b){a.Om(b)};this.a.Xk(this.xj)};S.Sd=function(){this.a.gn(this.xj)};S.Om=function(a){this.ae(a.uid)};S.hn=function(a,b){0<=a&&(this.dk=a);0<=b&&(this.ek=b);this.r.length=a;var c,d;for(c=0;c<=a;c++){this.r[c]=[];this.r[c].length=b;for(d=0;d<=b;d++)this.r[c][d]={}}this.Ya={};this.xd={}};S.Md=function(a,b,c){var d=0<=a&&0<=b&&a<=this.dk&&b<=this.ek;d&&c!=k&&(d=c in this.r[a][b]);return d};
S.Jk=function(a){return"number"==typeof a?this.a.Oc(a):this.a.Pe(a)};S.td=function(a,b,c){return this.Md(a,b,c)?this.r[a][b][c]:k};S.le=function(a,b){return this.Md(a,b)?this.r[a][b]:k};S.yp=function(a,b){var c=0,d=this.le(a,b);if(d!=k)for(var e in d)c+=1;return c};S.jp=function(a,b){var c=this.ua(a);return c==k?k:c.Ta==b?a:this.td(c.x,c.y,b)};S.Zo=function(a,b,c){a=this.ua(a);if(a==k)return k;var d=this.m.Oh(a.x,b),b=this.m.Ph(a.y,b);c==k&&(c=a.Ta);return this.td(d,b,c)};S.ua=function(a){return this.Ya[a]};
S.ge=function(a){return this.xd[a]};S.Jf=function(a,b,c,d,e){if(b=this.m.Jf(a,b,c,d,this.Jk(e)))return this.a.Xa++,this.a.trigger(Object.getPrototypeOf(a.A).e.nk,b),this.a.Xa--,a.t().pf(b),b};S.te=function(a,b){var c=this.ua(a),d=this.ua(b);if(c==k||d==k)return l;this.ae(a);this.ae(b);this.ye(a,d.x,d.y,d.Ta);this.ye(b,c.x,c.y,c.Ta)};
S.ye=function(a,b,c,d){if(a!=k&&this.Md(b,c)){var e="number"!=typeof a,f=e?a.uid:a;this.ae(this.td(b,c,d),h);this.r[b][c][d]=f;this.Ya[f]={x:b,y:c,Ta:d};e&&(this.xd[f]=a);this.a.trigger(oc.prototype.e.Uh,this)}};S.ae=function(a,b){if(a!=k){var c=this.ua(a);c!=k&&(b&&(this.xe=this.xd[a],this.a.trigger(oc.prototype.e.lk,this)),delete this.Ya[a],delete this.r[c.x][c.y][c.Ta],delete this.xd[a])}};S.Km=function(a,b,c,d){"number"==typeof a&&(a=this.ge(a));a!=k&&(this.ae(a.uid),this.ye(a,b,c,d))};
S.Yo=function(a,b){var c=this.ua(a),d=this.ua(b);if(c==k||d==k)return l;var e,f=l;for(e=0;4>e;e++)if(this.m.Oh(c.x,e)==d.x&&this.m.Ph(c.y,e)==d.y){f=h;break}return f};S.ne=function(a,b,c,d,e){if(!(a==k||this.m==k||0!=d&&!this.Md(b,c,0)))return a=this.Jf(a,b,c,d,e),a!=k&&this.ye(a,b,c,d),a};
S.gi=function(a,b){var c=a.t().Da(),d=b.t().Da(),e,f,g;c.length>d.length?(e=b,f=a,g=d):(e=a,f=b,g=c,c=d);var d=this.a,i=d.sa().ra,j=e===f,m=g.length,p,r,q,u,s,t,w,M;for(p=0;p<m;p++)if(q=g[p],u=q.uid,s=this.ua(u),s!=k)for(r in s=this.le(s.x,s.y),s)t=s[r],t!=u&&(t=this.ge(t),-1!=c.indexOf(t)&&(d.Yd(i.R),w=e.t(),M=f.t(),w.C=l,M.C=l,j?(w.b.length=2,w.b[0]=q,w.b[1]=t):(w.b.length=1,w.b[0]=q,M.b.length=1,M.b[0]=t),i.kh(),d.Yb(i.R)))};
S.So=function(){var a,b,c,d,e=this.xd,f={};b=l;for(a in e)b=e[a],c=b.type,d=c.t(),c.name in f||(d.C=l,d.b.length=0,f[c.name]=h),d.b.push(b),b=h;return b};S.hi=function(a,b,c){b=this.le(b,c);if(b==k)return l;var d,e=a.t();e.b.length=0;e.C=l;var f=a.M,g,i,j;f&&(g=a.dd,i=g.length);for(d in b)if(c=this.ge(b[d]),f)for(j=0;j<i;j++){if(c.type==g[j]){e.b.push(c);break}}else c.type==a&&e.b.push(c);return 0!=e.b.length};sc.e=new pc;pc.prototype.Uh=function(a,b){this.gi(a,b);return l};
pc.prototype.lk=function(a){if(!a)return l;if(a.M){var b=a.dd,c=b.length,d,e,f=l;for(d=0;d<c;d++)if(e=b[d],this.xe.type==e){f=h;break}if(!f)return l}else if(this.xe.type!=a)return l;a.t().pf(this.xe);return h};pc.prototype.Lf=function(a,b,c){return!a?l:this.hi(a,b,c)};sc.F=new qc;D=qc.prototype;D.wk=function(a){a=a.b[0];"LAYOUT"==a.Ee?this.m=a:alert("SLG board should connect to a layout object")};D.fk=function(a,b,c,d){this.ne(a,b,c,0,d)};D.ne=function(a,b,c,d,e){this.ne(a,b,c,d,e)};
D.te=function(a,b){this.te(a,b)};D.Lf=function(a,b,c){a&&this.hi(a,b,c)};sc.H=new rc;rc.prototype.ai=function(a,b,c){b=this.m.ai(b,c);if(0>b||b>this.dk)b=-1;a.q(b)};rc.prototype.bi=function(a,b,c){b=this.m.bi(b,c);if(0>b||b>this.ek)b=-1;a.q(b)};function tc(a){this.a=a}var uc=tc.prototype;uc.S=function(a){this.A=a;this.a=a.a};uc.S.prototype.u=n();uc.L=function(a){this.type=a;this.a=a.a};var T=uc.L.prototype;
T.u=function(){this.Ee="LAYOUT";this.Ye=1==this.p[0];this.uk(this.p[1]);this.vk(this.p[2]);this.Mf(this.p[3]);this.ci(this.p[4])};T.uk=function(a){this.pe=a};T.vk=function(a){this.qe=a};T.Mf=function(a){this.width=a;this.wg=a/2};T.ci=function(a){this.height=a;this.vg=a/2};T.Qh=function(a,b){return(this.Ye?(a-b)*this.wg:a*this.width)+this.pe};T.Rh=function(a,b){return(this.Ye?(a+b)*this.vg:b*this.height)+this.qe};
T.ai=function(a,b){var c;this.Ye?(a-=this.pe,b-=this.qe,c=0.5*(Math.round(b/this.vg)+Math.round(a/this.wg))):c=(a-this.pe)/this.width;return c};T.bi=function(a,b){var c;this.Ye?(a-=this.pe,b-=this.qe,c=0.5*(Math.round(b/this.vg)-Math.round(a/this.wg))):c=(b-this.qe)/this.height;return c};T.Jf=function(a,b,c,d,e){return this.a.zi(a,e,this.Qh(b,c),this.Rh(b,c))};T.Oh=function(a,b){return a+(0==b?1:2==b?-1:0)};T.Ph=function(a,b){return a+(1==b?1:3==b?-1:0)};T.Vn=B(4);
T.Ck=function(a,b){var c=b.x-a.x,d=b.y-a.y;return 0==d?0<c?0:180:0==c?0<d?90:270:ta(Math.atan2(d,c))};T.Bk=function(a,b){var c=this.Ck(a,b);return 0==c?0:90==c?1:180==c?2:270==c?3:k};uc.e=new (n());uc.F=new (n());uc.H=new (n());function vc(a){this.a=a}function wc(){}function xc(){}function yc(){}var zc=vc.prototype;zc.S=function(a){this.A=a;this.a=a.a};zc.S.prototype.u=n();zc.L=function(a){this.type=a;this.a=a.a};var Ac=zc.L.prototype;
Ac.u=function(){this.we=0==this.p[0]?new Bc(this):new Cc(this);this.Ro=0==this.p[0];this.uj=this.p[1];this.oa=[];this.fi()};Ac.fi=function(){this.oa.length=0;this.v=-1};Ac.Mk=function(a){this.oa.length-1==this.v?(this.v+=1,this.oa.push(a)):(this.v+=1,this.oa[this.v]=a,this.oa.length=this.v+1);0<this.uj&&this.oa.length>this.uj&&(this.oa.shift(),this.v-=1)};function Bc(a){this.A=a}var Dc=Bc.prototype;Dc.Dc=function(){return 0<=this.A.v};
Dc.ue=function(){if(!this.Dc())return 0;var a=this.A,b=a.oa[a.v];a.v-=1;return b};Dc.Cc=function(){var a=this.A;return a.v<a.oa.length-1};Dc.re=function(){if(!this.Cc())return 0;var a=this.A;a.v+=1;return a.oa[a.v]};function Cc(a){this.A=a}var Ec=Cc.prototype;Ec.Dc=function(){return 0<this.A.v};Ec.ue=function(){if(!this.Dc())return 0;var a=this.A;a.v-=1;return a.oa[a.v]};Ec.Cc=function(){var a=this.A;return a.v<a.oa.length-1};Ec.re=function(){if(!this.Cc())return 0;var a=this.A;a.v+=1;return a.oa[a.v]};
Ac.Kk=function(){return-1!=this.v};Ac.Qo=function(){return!this.Kk()?0:this.oa[this.v]};Ac.Qk=function(){return JSON.stringify({data:this.oa,curIndex:this.v})};Ac.Wo=function(a){""!=a&&(a=JSON.parse(a),this.oa=a.data,this.v=a.curIndex)};zc.e=new wc;wc.prototype.Dc=function(){return this.we.Dc()};wc.prototype.Cc=function(){return this.we.Cc()};zc.F=new xc;xc.prototype.tk=function(a){this.Mk(a)};zc.H=new yc;yc.prototype.ue=function(a){a.qh(this.we.ue())};yc.prototype.re=function(a){a.qh(this.we.re())};
yc.prototype.ei=function(a){a.Ga(this.Qk())};function Fc(a){this.a=a}function Gc(){if(0===this.fg.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.od?b.drawImage(this.J,this.gd,this.hd,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.J,0,0,this.width,this.height);this.fg=a.toDataURL("image/png")}return this.fg}function Hc(){}var Ic=Fc.prototype;Ic.S=function(a){this.A=a;this.a=a.a};var Jc=Ic.S.prototype;
Jc.u=function(){if(!this.M){var a,b,c,d,e,f,g,i,j;a=0;for(b=this.ba.length;a<b;a++){e=this.ba[a];g={};g.name=e[0];g.speed=e[1];g.loop=e[2];g.jh=e[3];g.uf=e[4];g.Gj=e[5];g.frames=[];c=0;for(d=e[6].length;c<d;c++)f=e[6][c],i={},i.Sj=f[0],i.Tj=f[1],i.gd=f[2],i.hd=f[3],i.width=f[4],i.height=f[5],i.duration=f[6],i.Hb=f[7],i.Ib=f[8],i.zg=f[9],i.bh=f[10],i.Hj=f[11],i.od=0!==i.width,i.fg="",i.dp=Gc,j={left:0,top:0,right:1,bottom:1},i.uh=j,i.Ac=k,(j=this.a.bm(f[0]))?i.J=j:(i.J=new Image,i.J.src=f[0],i.J.gl=
f[0],i.J.fl=f[1],i.J.xb=k,this.a.ic.push(i.J)),g.frames.push(i);this.ba[a]=g}}};Jc.Xg=function(){if(!this.M){var a,b,c,d,e,f;a=0;for(b=this.ba.length;a<b;a++){e=this.ba[a];c=0;for(d=e.frames.length;c<d;c++)f=e.frames[c],f.J.xb=k,f.Ac=k}}};
Jc.Bj=function(){if(!this.M&&this.b.length){var a,b,c,d,e,f;a=0;for(b=this.ba.length;a<b;a++){e=this.ba[a];c=0;for(d=e.frames.length;c<d;c++)f=e.frames[c],f.J.xb||(f.J.xb=this.a.l.pj(f.J,this.a.U,f.Hj)),f.Ac=f.J.xb}a=0;for(b=this.b.length;a<b;a++)c=this.b[a],c.cg=c.mc.Ac}};var Kc=[];
Jc.$j=function(){if(!this.M&&!this.b.length){var a=!!this.a.l,b,c,d,e,f,g,i,j;b=Kc.length=0;for(c=this.ba.length;b<c;b++){g=this.ba[b];d=0;for(e=g.frames.length;d<e;d++)if(i=g.frames[d],j=a?i.J.xb:i.J)f=Kc.indexOf(j),-1===f&&Kc.push(j),i.J.xb=k,i.Ac=k}b=0;for(c=Kc.length;b<c;b++)j=Kc[b],a?this.a.l.deleteTexture(j):j.hintUnload&&j.hintUnload();Kc.length=0}};Ic.L=function(a){this.type=a;this.a=a.a;this.Rb=new Wa(this.type.ba[0].frames[0].bh)};var U=Ic.L.prototype;
U.u=function(){this.visible=0===this.p[0];this.Xi=this.Dm=l;this.el=0!==this.p[2];!(1===this.type.ba.length&&1===this.type.ba[0].frames.length)&&0!==this.type.ba[0].speed&&(this.a.Bn(this),this.Dm=h);this.ia=this.type.ba[0];this.j=this.p[1];0>this.j&&(this.j=0);this.j>=this.ia.frames.length&&(this.j=this.ia.frames.length-1);if(0!==this.j){var a=this.ia.frames[this.j];this.Rb.sh(a.bh);this.Hb=a.Hb;this.Ib=a.Ib}this.dg=this.type.ba[0].speed;this.qc=this.Qe();this.Ae=h;this.lc=0;this.ze=h;this.Xf=this.pi=
"";this.dl=0;this.Wf=-1;var b,c,d,e,f,g,i,a=0;for(b=this.type.ba.length;a<b;a++){e=this.type.ba[a];c=0;for(d=e.frames.length;c<d;c++)f=e.frames[c],f.J.hintLoad&&f.J.hintLoad(),0===f.width&&(f.width=f.J.width,f.height=f.J.height),f.od&&(i=f.J,g=f.uh,g.left=f.gd/i.width,g.top=f.hd/i.height,g.right=(f.gd+f.width)/i.width,g.bottom=(f.hd+f.height)/i.height,0===f.gd&&(0===f.hd&&f.width===i.width&&f.height===i.height)&&(f.od=l)),this.a.l&&(f.J.xb||(f.J.xb=this.a.l.pj(f.J,this.a.U,f.Hj)),f.Ac=f.J.xb)}this.mc=
this.ia.frames[this.j];this.cg=this.mc.Ac};U.Rf=function(a){this.j=a?0:this.ia.frames.length-1;this.Ae=l;this.pi=this.ia.name;this.Xi=h;this.a.trigger(Fc.prototype.e.jk,this);this.a.trigger(Fc.prototype.e.ik,this);this.Xi=l;this.lc=0};U.Qe=function(){return(Date.now()-this.a.yh)/1E3};
U.sb=function(){this.Xf.length&&this.kl();0<=this.Wf&&this.ll();var a=this.Qe(),b=this.ia,c=b.frames[this.j],d=c.duration/this.dg,e=this.a.Cf;-1!==this.mf&&(e=this.mf);d/=0===e?1E-9:e;if(this.Ae&&a>=this.qc+d){this.ze?this.j++:this.j--;this.qc+=d;this.j>=b.frames.length&&(b.Gj?(this.ze=l,this.j=b.frames.length-2):b.loop?this.j=b.uf:(this.lc++,this.lc>=b.jh?this.Rf(l):this.j=b.uf));0>this.j&&(b.Gj?(this.j=1,this.ze=h,b.loop||(this.lc++,this.lc>=b.jh&&this.Rf(h))):b.loop?this.j=b.uf:(this.lc++,this.lc>=
b.jh?this.Rf(h):this.j=b.uf));0>this.j?this.j=0:this.j>=b.frames.length&&(this.j=b.frames.length-1);if(a>this.qc+b.frames[this.j].duration/this.dg/(0===e?1E-9:e))this.qc=a;a=b.frames[this.j];this.ud(c,a);this.a.K=h}};
U.kl=function(){var a=this.ia.frames[this.j],b,c,d,e=k;b=0;for(c=this.type.ba.length;b<c;b++)if(d=this.type.ba[b],d.name.toLowerCase()===this.Xf.toLowerCase()){e=d;break}this.Xf="";e&&!(e.name.toLowerCase()===this.ia.name.toLowerCase()&&this.Ae)&&(this.ia=e,this.dg=e.speed,0>this.j&&(this.j=0),this.j>=this.ia.frames.length&&(this.j=this.ia.frames.length-1),1===this.dl&&(this.j=0),this.Ae=h,this.qc=this.Qe(),this.ze=h,this.ud(a,this.ia.frames[this.j]),this.a.K=h)};
U.ll=function(){var a=this.ia.frames[this.j],b=this.j;this.j=ga(this.Wf);0>this.j&&(this.j=0);this.j>=this.ia.frames.length&&(this.j=this.ia.frames.length-1);b!==this.j&&(this.ud(a,this.ia.frames[this.j]),this.qc=this.Qe(),this.a.K=h);this.Wf=-1};
U.ud=function(a,b){var c=a.width,d=a.height,e=b.width,f=b.height;c!=e&&(this.width*=e/c);d!=f&&(this.height*=f/d);this.Hb=b.Hb;this.Ib=b.Ib;this.Rb.sh(b.bh);this.ga();this.mc=b;this.cg=b.Ac;c=0;for(d=this.ca.length;c<d;c++)e=this.ca[c],e.Vm&&e.Vm(a,b);this.a.trigger(Fc.prototype.e.ud,this)};
U.Eb=function(a){a.globalAlpha=this.opacity;var b=this.mc,c=b.od,d=b.J,e=this.x,f=this.y,g=this.width,i=this.height;if(0===this.d&&0<=g&&0<=i)e-=this.Hb*g,f-=this.Ib*i,this.a.Xb&&(e=e+0.5|0,f=f+0.5|0),c?a.drawImage(d,b.gd,b.hd,b.width,b.height,e,f,g,i):a.drawImage(d,e,f,g,i);else{this.a.Xb&&(e=e+0.5|0,f=f+0.5|0);a.save();var j=0<g?1:-1,m=0<i?1:-1;a.translate(e,f);(1!==j||1!==m)&&a.scale(j,m);a.rotate(this.d*j*m);e=0-this.Hb*ea(g);f=0-this.Ib*ea(i);c?a.drawImage(d,b.gd,b.hd,b.width,b.height,e,f,ea(g),
ea(i)):a.drawImage(d,e,f,ea(g),ea(i));a.restore()}};U.Va=function(a){a.Qa(this.cg);a.ld(this.opacity);var b=this.mc,c=this.jb;if(this.a.Xb){var d=(this.x+0.5|0)-this.x,e=(this.y+0.5|0)-this.y;b.od?a.Zb(c.ma+d,c.na+e,c.Ha+d,c.Ia+e,c.Aa+d,c.Ba+e,c.ya+d,c.za+e,b.uh):a.tf(c.ma+d,c.na+e,c.Ha+d,c.Ia+e,c.Aa+d,c.Ba+e,c.ya+d,c.za+e)}else b.od?a.Zb(c.ma,c.na,c.Ha,c.Ia,c.Aa,c.Ba,c.ya,c.za,b.uh):a.tf(c.ma,c.na,c.Ha,c.Ia,c.Aa,c.Ba,c.ya,c.za)};
U.em=function(a){var b=this.mc,c,d;c=0;for(d=b.zg.length;c<d;c++)if(a.toLowerCase()===b.zg[c][0].toLowerCase())return c;return-1};U.tg=function(a,b){var c=this.mc,d=c.zg,e;e=G(a)?this.em(a):a-1;e=ga(e);if(0>e||e>=d.length)return b?this.x:this.y;var f=(d[e][1]-c.Hb)*this.width,d=d[e][2],d=(d-c.Ib)*this.height,c=Math.cos(this.d);e=Math.sin(this.d);var g=f*c-d*e,d=d*c+f*e,f=g+this.x,d=d+this.y;return b?f:d};var Lc=new Ua,Mc=l;
Jc.finish=function(a){if(Mc){if(a){var b=this.a.sa().ra.ab,a=k.t(),c=Lc.he(),d,e;if(a.C){a.C=l;a.b.length=c.length;d=0;for(e=c.length;d<e;d++)a.b[d]=c[d];if(b){d=a.P.length=0;for(e=k.b.length;d<e;d++)b=k.b[d],Lc.contains(b)||a.P.push(b)}}else{var f=a.b.length;a.b.length=f+c.length;d=0;for(e=c.length;d<e;d++)a.b[f+d]=c[d],b&&la(a.P,c[d])}k.zd()}Lc.clear();Mc=l}};Hc.prototype.ik=function(a){return this.pi.toLowerCase()===a.toLowerCase()};Hc.prototype.jk=B(h);Hc.prototype.ud=B(h);Ic.e=new Hc;Ic.F=new (n());
Ic.H=new (n());function Nc(a){this.a=a}var V=Nc.prototype;V.u=function(){V.F.Mf=function(a){this.width!==a&&(this.width=a,this.ee=h,this.ga())}};V.S=function(a){this.A=a;this.a=a.a};var Oc=V.S.prototype;Oc.u=n();Oc.Xg=function(){if(!this.M){var a,b,c;a=0;for(b=this.b.length;a<b;a++)c=this.b[a],c.Mb=k,c.ed=k,c.$a=k}};V.L=function(a){this.type=a;this.a=a.a;this.uc=[];this.ee=h};var Pc=V.L.prototype;
Pc.u=function(){this.text=this.p[0];this.visible=0===this.p[1];this.font=this.p[2];this.color=this.p[3];this.Ui=this.p[4];this.ck=this.p[5];this.Hn=0===this.p[7];this.mj=this.Vc=this.width;this.Uc=this.height;this.Im=this.p[8];this.Ki=this.Ei="";var a=this.font.split(" ");this.tp=this.up=this.eh=0;var b;for(b=0;b<a.length;b++)if("pt"===a[b].substr(a[b].length-2,2)){this.eh=parseInt(a[b].substr(0,a[b].length-2));this.dn=Math.ceil(96*(this.eh/72))+4;this.Ei=a[b+1];0<b&&(this.Ki=a[b-1]);break}this.$a=
this.ed=this.Mb=k;this.yj=l;this.Zd=new Sa(0,0,1,1)};Pc.Sd=function(){this.Mb=this.ed=k;this.a.l&&this.$a&&this.a.l.deleteTexture(this.$a);this.$a=k};Pc.vp=function(){this.font=this.Ki+" "+this.eh.toString()+"pt "+this.Ei;this.ee=h;this.a.K=h};
Pc.Eb=function(a,b){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=b?1:this.opacity;var c=1;b&&(c=this.c.va(),a.save(),a.scale(c,c));if(this.ee||this.width!==this.mj)this.type.A.yk(this.text,this.uc,a,this.width,this.Hn),this.ee=l,this.mj=this.width;this.hc();var c=b?0:this.jb.ma,d=b?0:this.jb.na;this.a.Xb&&(c=c+0.5|0,d=d+0.5|0);0!==this.d&&!b&&(a.save(),a.translate(c,d),a.rotate(this.d),d=c=0);var e=d+this.height,f=this.dn,f=f+this.Im*this.a.devicePixelRatio,g,i;1===this.ck?
d+=Math.max(this.height/2-this.uc.length*f/2,0):2===this.ck&&(d+=Math.max(this.height-this.uc.length*f-2,0));for(i=0;i<this.uc.length&&!(g=c,1===this.Ui?g=c+(this.width-this.uc[i].width)/2:2===this.Ui&&(g=c+(this.width-this.uc[i].width)),a.fillText(this.uc[i].text,g,d),d+=f,d>=e-f);i++);(0!==this.d||b)&&a.restore()};
Pc.Va=function(a){if(!(1>this.width||1>this.height)){var b=this.ee||this.yj;this.yj=l;var c=this.c.va(),d=this.c.Fb(),e=this.Zd,f=c*this.width,g=c*this.height,i=Math.ceil(f),j=Math.ceil(g),m=this.a.width/2,p=this.a.height/2;this.ed||(this.Mb=document.createElement("canvas"),this.Mb.width=i,this.Mb.height=j,this.Vc=i,this.Uc=j,b=h,this.ed=this.Mb.getContext("2d"));if(i!==this.Vc||j!==this.Uc)this.Mb.width=i,this.Mb.height=j,this.$a&&(a.deleteTexture(this.$a),this.$a=k),b=h;b&&(this.ed.clearRect(0,
0,i,j),this.Eb(this.ed,h),this.$a||(this.$a=a.zb(i,j,this.a.U,this.a.Qc)),a.Gn(this.Mb,this.$a,this.a.Qc));this.Vc=i;this.Uc=j;a.Qa(this.$a);a.ld(this.opacity);a.qb();a.translate(-m,-p);a.tb();var r=this.jb,b=this.c.Z(r.ma,r.na,h),m=this.c.Z(r.ma,r.na,l),p=this.c.Z(r.Ha,r.Ia,h),q=this.c.Z(r.Ha,r.Ia,l),u=this.c.Z(r.Aa,r.Ba,h),s=this.c.Z(r.Aa,r.Ba,l),t=this.c.Z(r.ya,r.za,h),r=this.c.Z(r.ya,r.za,l);if(this.a.Xb||0===this.d&&0===d)var w=(b+0.5|0)-b,M=(m+0.5|0)-m,b=b+w,m=m+M,p=p+w,q=q+M,u=u+w,s=s+M,t=
t+w,r=r+M;0===this.d&&0===d?(p=b+i,q=m,u=p,s=m+j,t=b,r=s,e.right=1,e.bottom=1):(e.right=f/i,e.bottom=g/j);a.Zb(b,m,p,q,u,s,t,r,e);a.qb();a.scale(c,c);a.mh(-this.c.Fb());a.translate((this.c.eb+this.c.fb)/-2,(this.c.gb+this.c.cb)/-2);a.tb()}};var Qc=[];
V.xk=function(a){Qc.length=0;for(var b="",c,d=0;d<a.length;)if(c=a.charAt(d),"\n"===c)b.length&&(Qc.push(b),b=""),Qc.push("\n"),++d;else if(" "===c||"\t"===c||"-"===c){do b+=a.charAt(d),d++;while(d<a.length&&(" "===a.charAt(d)||"\t"===a.charAt(d)));Qc.push(b);b=""}else d<a.length&&(b+=c,d++);b.length&&Qc.push(b)};
V.yk=function(a,b,c,d,e){if(!a||!a.length)b.length=0;else if(2>=d)b.length=0;else{if(100>=a.length&&-1===a.indexOf("\n")){var f=0,f=c.measureText(a).width;if(f<=d){b.length?b.length=1:b.push({});b[0].text=a;b[0].width=f;return}}this.zk(a,b,c,d,e)}};
V.zk=function(a,b,c,d,e){e&&(this.xk(a),a=Qc);var f="",g,i,j,m=0;for(j=0;j<a.length;j++)"\n"===a[j]?(m>=b.length&&b.push({}),i=b[m],i.text=f,i.width=0,i.width=c.measureText(f).width,m++,f=""):(g=f,f+=a[j],i=c.measureText(f).width,i>=d&&(m>=b.length&&b.push({}),i=b[m],i.text=g,i.width=0,i.width=c.measureText(g).width,m++,f=a[j],!e&&" "===f&&(f="")));f.length&&(m>=b.length&&b.push({}),i=b[m],i.text=f,i.width=0,i.width=c.measureText(f).width,m++);b.length=m};V.e=new (n());V.F=new (n());V.H=new (n());
function W(a){this.a=a}function Rc(a){Sc=a.x;Tc=a.y;Uc=a.Ta}function Vc(a){Wc=a.x;Xc=a.y;Yc=a.Ta}function Zc(){}function $c(){}var ad=W.prototype;ad.S=function(a){this.A=a;this.a=a.a};ad.S.prototype.u=n();ad.L=function(a){this.type=a;this.a=a.a;this.touches=[];this.Tg=l};var X=ad.L.prototype,bd={left:0,top:0};X.Me=function(a){var b,c;b=0;for(c=this.touches.length;b<c;b++)if(this.touches[b].id===a)return b;return-1};var Sc=0,Tc=0,Uc=0,Wc=0,Xc=0,Yc=0;
X.u=function(){this.Fm=!!("undefined"!==typeof window.c2isWindows8&&window.c2isWindows8);this.Ef=this.gc=this.bg=this.ag=this.mi=this.li=this.ki=this.Vk=this.Uk=this.Tk=this.Vd=this.Ud=this.Td=0;this.En=0!==this.p[0];var a=0<this.a.Vb?document:this.a.canvas,b=document;this.a.Kb?b=a=window.Canvas:this.a.Kd&&(b=a=window);var c=this;window.navigator.msPointerEnabled?(a.addEventListener("MSPointerDown",function(a){c.Um(a)},l),a.addEventListener("MSPointerMove",function(a){c.Tm(a)},l),b.addEventListener("MSPointerUp",
function(a){c.Aj(a)},l),b.addEventListener("MSPointerCancel",function(a){c.Aj(a)},l),this.a.canvas&&(this.a.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},l),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},l))):(a.addEventListener("touchstart",function(a){c.Dj(a)},l),a.addEventListener("touchmove",function(a){c.Cj(a)},l),b.addEventListener("touchend",function(a){c.Yg(a)},l),b.addEventListener("touchcancel",function(a){c.Yg(a)},l));if(this.Fm){var d=
function(a){a=a.reading;c.ki=a.accelerationX;c.li=a.accelerationY;c.mi=a.accelerationZ},e=function(a){a=a.reading;c.Td=a.yawDegrees;c.Ud=a.pitchDegrees;c.Vd=a.rollDegrees},f=Windows.Devices.Sensors.Accelerometer.getDefault();f&&(f.reportInterval=Math.max(f.minimumReportInterval,16),f.addEventListener("readingchanged",d));var g=Windows.Devices.Sensors.Inclinometer.getDefault();g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),g.addEventListener("readingchanged",e));document.addEventListener("visibilitychange",
function(){document.hidden||document.msHidden?(f&&f.removeEventListener("readingchanged",d),g&&g.removeEventListener("readingchanged",e)):(f&&f.addEventListener("readingchanged",d),g&&g.addEventListener("readingchanged",e))},l)}else window.addEventListener("deviceorientation",function(a){c.Td=a.alpha||0;c.Ud=a.beta||0;c.Vd=a.gamma||0},l),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(c.Tk=a.accelerationIncludingGravity.x,c.Uk=a.accelerationIncludingGravity.y,c.Vk=
a.accelerationIncludingGravity.z);a.acceleration&&(c.ki=a.acceleration.x,c.li=a.acceleration.y,c.mi=a.acceleration.z)},l);this.En&&!this.a.Ea&&(jQuery(document).mousemove(function(a){c.Rm(a)}),jQuery(document).mousedown(function(a){c.Qm(a)}),jQuery(document).mouseup(function(a){c.Sm(a)}));this.a.Jd&&!this.a.Kb&&AppMobi.accelerometer.watchAcceleration(Rc,{frequency:40,adjustForRotation:h});this.a.Rc&&navigator.accelerometer.watchAcceleration(Vc,k,{frequency:40});this.a.An(this)};
X.Tm=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE){a.preventDefault&&a.preventDefault();var b=this.Me(a.pointerId),c=K();if(0<=b){var d=this.a.Ea?bd:jQuery(this.a.canvas).offset(),b=this.touches[b];2>c-b.time||(b.ef=b.time,b.Kg=b.x,b.Lg=b.y,b.time=c,b.x=a.pageX-d.left,b.y=a.pageY-d.top)}}};
X.Um=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE){a.preventDefault&&a.preventDefault();var b=this.a.Ea?bd:jQuery(this.a.canvas).offset(),c=a.pageX-b.left,b=a.pageY-b.top,d=K();this.gc=this.touches.length;this.Ef=a.pointerId;this.touches.push({time:d,x:c,y:b,ef:d,Kg:c,Lg:b,id:a.pointerId,zh:this.gc});this.a.trigger(W.prototype.e.Yh,this);this.a.trigger(W.prototype.e.$h,this);this.ag=c;this.bg=b;this.a.trigger(W.prototype.e.vd,this)}};
X.Aj=function(a){a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&(a.preventDefault&&a.preventDefault(),a=this.Me(a.pointerId),this.gc=0<=a?this.touches[a].zh:-1,this.Ef=0<=a?this.touches[a].id:-1,this.a.trigger(W.prototype.e.Xh,this),this.a.trigger(W.prototype.e.Zh,this),0<=a&&this.touches.splice(a,1))};
X.Cj=function(a){a.preventDefault&&a.preventDefault();var b=K(),c,d,e,f;c=0;for(d=a.changedTouches.length;c<d;c++)if(e=a.changedTouches[c],f=this.Me(e.identifier),0<=f){var g=this.a.Ea?bd:jQuery(this.a.canvas).offset();f=this.touches[f];2>b-f.time||(f.ef=f.time,f.Kg=f.x,f.Lg=f.y,f.time=b,f.x=e.pageX-g.left,f.y=e.pageY-g.top)}};
X.Dj=function(a){a.preventDefault&&a.preventDefault();var b=this.a.Ea?bd:jQuery(this.a.canvas).offset(),c=K(),d,e,f;d=0;for(e=a.changedTouches.length;d<e;d++){f=a.changedTouches[d];var g=f.pageX-b.left,i=f.pageY-b.top;this.gc=this.touches.length;this.Ef=f.identifier;this.touches.push({time:c,x:g,y:i,ef:c,Kg:g,Lg:i,id:f.identifier,zh:this.gc});this.a.trigger(W.prototype.e.Yh,this);this.a.trigger(W.prototype.e.$h,this);this.ag=g;this.bg=i;this.a.trigger(W.prototype.e.vd,this)}};
X.Yg=function(a){a.preventDefault&&a.preventDefault();var b,c,d;b=0;for(c=a.changedTouches.length;b<c;b++)d=a.changedTouches[b],d=this.Me(d.identifier),this.gc=0<=d?this.touches[d].zh:-1,this.Ef=0<=d?this.touches[d].id:-1,this.a.trigger(W.prototype.e.Xh,this),this.a.trigger(W.prototype.e.Zh,this),0<=d&&this.touches.splice(d,1)};X.bp=function(){return this.a.Jd&&0===this.Td&&0!==Uc?90*Uc:this.a.Rc&&0===this.Td&&0!==Yc?90*Yc:this.Td};
X.cp=function(){return this.a.Jd&&0===this.Ud&&0!==Tc?-90*Tc:this.a.Rc&&0===this.Ud&&0!==Xc?-90*Xc:this.Ud};X.ep=function(){return this.a.Jd&&0===this.Vd&&0!==Sc?90*Sc:this.a.Rc&&0===this.Vd&&0!==Wc?90*Wc:this.Vd};X.Qm=function(a){a.preventDefault&&this.a.Se&&a.preventDefault();this.Dj({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.Tg=h};X.Rm=function(a){a.preventDefault&&this.a.Se&&a.preventDefault();this.Tg&&this.Cj({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};
X.Sm=function(a){a.preventDefault&&this.a.Se&&a.preventDefault();this.a.Se=h;this.Yg({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.Tg=l};X.Ch=function(){var a,b,c,d=K();a=0;for(b=this.touches.length;a<b;a++)c=this.touches[a],c.time<=d-50&&(c.ef=d)};D=Zc.prototype;D.$h=B(h);D.Zh=B(h);D.vd=function(a){return!a?l:this.a.yn(a,this.ag,this.bg)};
D.hk=function(a){if(!a)return l;var a=a.t(),b=a.Da(),c,d,e=[],f,g,i,j;f=0;for(g=b.length;f<g;f++){var m=b[f];m.hc();i=0;for(j=this.touches.length;i<j;i++)if(d=this.touches[i],c=m.c.qa(d.x,d.y,h),d=m.c.qa(d.x,d.y,l),m.yb(c,d)){e.push(m);break}}return e.length?(a.C=l,a.b=e,h):l};D.Yh=function(a){a=Math.floor(a);return a===this.gc};D.Xh=function(a){a=Math.floor(a);return a===this.gc};ad.e=new Zc;
$c.prototype.Ak=function(a,b){if(this.touches.length){var c,d,e,f,g;ca(b)?(c=this.a.Oc(0),d=c.scale,e=c.Bc,f=c.jd,g=c.d,c.scale=this.a.O.scale,c.Bc=1,c.jd=1,c.d=this.a.O.d,a.o(c.qa(this.touches[0].x,this.touches[0].y,h)),c.scale=d,c.Bc=e,c.jd=f,c.d=g):(c=E(b)?this.a.Oc(b):this.a.Pe(b))?a.o(c.qa(this.touches[0].x,this.touches[0].y,h)):a.o(0)}else a.o(0)};
$c.prototype.Dk=function(a,b){if(this.touches.length){var c,d,e,f,g;ca(b)?(c=this.a.Oc(0),d=c.scale,e=c.Bc,f=c.kd,g=c.d,c.scale=this.a.O.scale,c.Bc=1,c.kd=1,c.d=this.a.O.d,a.o(c.qa(this.touches[0].x,this.touches[0].y,l)),c.scale=d,c.Bc=e,c.kd=f,c.d=g):(c=E(b)?this.a.Oc(b):this.a.Pe(b))?a.o(c.qa(this.touches[0].x,this.touches[0].y,l)):a.o(0)}else a.o(0)};ad.H=new $c;function Z(a){this.a=a}Z.To=k;function cd(){}function dd(){}var ed=Z.prototype;ed.S=function(a,b){this.hb=a;this.Lm=b;this.a=a.a};
ed.S.prototype.u=function(){this.group=k};ed.L=function(a,b){this.type=a;this.hb=a.hb;this.B=b;this.a=a.a};var fd=ed.L.prototype;fd.u=function(){this.r=k;this.ve=new Z.Lh(this);this.Vo={x:0,y:0,Ta:0};this.pb=this.Of=l;this.Yl=this.Xl=this.Wl=this.Zl=this.lg=-1;this.Rk={np:this.p[4],op:this.p[5]};this.Hk=[];this.Li=1==this.p[6];this.wd={};this.Gk={};this.Hc=this.ii=k};fd.sb=function(){this.ve.sb()};
fd.Gc=function(){var a;if(this.r!=k){a=this.r.ua(this.B.uid);if(a!=k)return this.r;this.r=k}var b=this.a.types,c,d;for(c in b)if(d=b[c].b[0],d!=k&&"BOARD"==d.Ee&&(a=d.ua(this.B.uid),a!=k)){this.r=d;b=this.Hk;c=void 0;for(c=b.length=0;4>c;c++)b.push(c);this.Rk.fp=a;return this.r}return k};fd.Qf=function(a){a==k&&(a=this.B.uid);var b=this.Gc();return b!=k?b.ua(a):k};fd.xn=function(a,b,c){var d=this.Qf(),a={x:a,y:b,Ta:c};return this.Gc().m.Bk(d,a)};
fd.tn=function(a,b,c,d){this.Wl=a;this.Xl=b;this.Yl=c;this.Zl=d};fd.Pk=function(a,b,c){this.lg=-1;if(!this.r.Md(a,b))return k;this.ii=c=this.r.td(a,b,c);if(this.Li)return 1;if(c==k){var a=this.r.le(a,b),d;if(!(0 in a))return k;for(d in a)if(c=a[d],this.r.ge(c).mb!=k&&this.r.ge(c).mb.pp)return this.lg=c,-1;return 1}this.lg=c;return-1};
fd.Lk=function(a,b,c){var d=this.Pk(a,b,c);if(1==d){var e;if(this.Li)if(this.Hc!=k&&this.r.td(a,b,this.Hc)==k)e=this.Hc,this.Hc=k;else if(this.ii==k)e=c;else{this.Hc==k?(this.Hc=c,e="#"+this.B.uid.toString()):e+="#";for(;this.r.td(a,b,e)!=k;)e+="#"}else e=c;this.r.Km(this.B,a,b,e);c=this.r.m;this.ve.Ok(c.Qh(a,b),c.Rh(a,b));this.pb=this.Of=h;this.a.trigger(Z.prototype.e.rk,this.B);this.pb=l}else-1==d?(this.Of=l,this.pb=h,this.a.trigger(Z.prototype.e.sk,this.B),this.pb=l):this.Of=l};
fd.Fk=function(a,b,c){this.wd.x=a;this.wd.y=b;this.wd.Ta=c;this.a.trigger(Z.prototype.e.mk,this.B)};fd.Sk=function(a){var b,c=this.Gk;for(b in c)delete c[b];for(b in a)c[a[b]]=h;return c};fd.Ek=function(a,b){var c=this.Sk(this.r.le(this.wd.x,this.wd.y)),d=a.t(),e=d.C;d.C=h;var f=d.Da(),g=f.length,i,j,m=this.type.group.Wn(b);m.Nn();for(i=0;i<g;i++)j=f[i].uid,j in c&&m.Kn(j);d.C=e;return 0!=m.Xn().length};ed.e=new cd;cd.prototype.pk=function(){return this.ve.pb};cd.prototype.rk=x("pb");
cd.prototype.sk=x("pb");cd.prototype.mk=function(a,b){return this.Ek(a,b)};ed.F=new dd;dd.prototype.Kf=function(a){if(this.ve.ni&&a&&(a=a.dm(),a!=k)){var b=this.Qf(a.uid);if(b!=k){var c=this.Qf();if(c!=k){var a=b.x,b=b.y,c=c.Ta,d=this.xn(a,b,c);this.tn(a,b,c,d);this.Fk(a,b,c);this.Lk(a,b,c)}}}};ed.H=new (n());Z.Lh=function(a){this.ni=a.p[0];this.move={max:a.p[1],ji:a.p[2],gg:a.p[3]};this.target={x:0,y:0,d:0};this.Ig=l;this.$d=this.Lc=0;this.pb=this.Hg=l;this.B=a.B;this.a=a.a};var gd=Z.Lh.prototype;
gd.sb=function(){this.Hg&&(this.pb=h,this.a.trigger(Z.prototype.e.pk,this.B),this.Hg=this.pb=l);if(this.ni&&this.Ig){var a=this.a.Pi(this.B);if(0!=a){var b=l;0!=this.move.gg&&(b=this.Lc,b=b*b/(2*this.move.gg)>=this.$d);b=b?-this.move.gg:this.move.ji;0!=b&&this.Pf(this.Lc+b*a);a*=this.Lc;this.$d-=a;0>=this.$d||0>=this.Lc?(this.Ig=l,this.B.x=this.target.x,this.B.y=this.target.y,this.Pf(0),this.Hg=h):(b=this.target.d,this.B.x+=a*Math.cos(b),this.B.y+=a*Math.sin(b));this.B.ga()}}};
gd.Pf=function(a){a!=k?this.Lc=a>this.move.max?this.move.max:a:0==this.move.ji&&(this.Lc=this.move.max)};gd.Ok=function(a,b){var c=a-this.B.x,d=b-this.B.y;this.Ig=h;this.target.x=a;this.target.y=b;this.target.d=Math.atan2(d,c);this.$d=Math.sqrt(c*c+d*d);this.Pf(k)};function hd(a){this.a=a}function jd(){}function kd(){}function ld(){}var md=hd.prototype;md.S=function(a,b){this.hb=a;this.Lm=b;this.a=a.a};md.S.prototype.u=n();md.L=function(a,b){this.type=a;this.hb=a.hb;this.B=b;this.a=a.a};var nd=md.L.prototype;
nd.u=function(){this.r=k};nd.sb=n();nd.Gc=function(){var a;if(this.r!=k){a=this.r.ua(this.B.uid);if(a!=k)return this.r;this.r=k}var b=this.a.types,c,d;for(c in b)if(d=b[c].b[0],d!=k&&"BOARD"==d.Ee&&(a=d.ua(this.B.uid),a!=k))return this.r=d;return k};md.e=new jd;jd.prototype.Uh=function(a){this.gi(this.B.type,a);return l};md.F=new kd;kd.prototype.te=function(a){var b=this.Gc();b!=k&&b.te(this.B.uid,a)};md.H=new ld;ld.prototype.Sh=function(a){var b=this.Gc();a.q(b==k?-1:b.ua(this.B.uid).x)};
ld.prototype.Th=function(a){var b=this.Gc();a.q(b==k?-1:b.ua(this.B.uid).y)};
function jb(){return[k,k,[[hc,h,l,l,l,l,l,l,l,l],[oc,l,l,l,l,l,l,l,l,l],[tc,l,l,l,l,l,l,l,l,l],[jc,l,l,l,l,l,l,l,l,l],[vc,l,l,l,l,l,l,l,l,l],[Fc,l,h,h,h,h,h,h,h,l],[Nc,l,h,h,h,h,h,h,h,l],[W,h,l,l,l,l,l,l,l,l]],[["t0",Fc,l,0,1,0,k,[["Default",5,l,1,0,l,[["images/tile-sheet0.png",93,0,0,32,32,1,0.5,0.5,[],[],4]]]],[["Chess",hd]],l,l,[]],["t1",Fc,l,0,2,0,k,[["Default",5,l,1,0,l,[["images/chess-sheet0.png",93,0,0,32,32,1,0.5,0.5,[],[],4]]]],[["Chess",hd],["GridMove",Z]],l,l,[]],["t2",W,l,0,0,0,k,k,[],
l,l,[],[1]],["t3",oc,l,0,0,0,k,k,[],h,l,[]],["t4",tc,l,0,0,0,k,k,[],h,l,[]],["t5",vc,l,0,0,0,k,k,[],h,l,[]],["t6",hc,l,0,0,0,k,k,[],l,l,[],[]],["t7",jc,l,0,0,0,k,k,[],h,l,[]],["t8",Nc,l,0,0,0,k,k,[],l,l,[]],["t9",Nc,l,0,0,0,k,k,[],l,l,[]]],[],[["Layout 1",1280,1024,l,"Event sheet 1",[["Layer 0",0,h,[255,255,255],l,1,1,1,l,1,0,0,[[[-56,40,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,[],[[]],[0,0,1]],[[-59,103,0,32,32,0,0,1,0.5,0.5,0,0,[]],1,[],[[],[1,400,0,0,1,1,0]],[0,0,1]],[[444,144,0,82,30,0,0,1,0,0,0,0,[]],
8,[],[],["Undo",0,"bold 12pt Consolas","rgb(0,0,0)",0,0,0,0,0]],[[444,209,0,82,30,0,0,1,0,0,0,0,[]],9,[],[],["Redo",0,"bold 12pt Consolas","rgb(0,0,0)",0,0,0,0,0]]],[]]],[[k,3,[],[],[64,64]],[k,4,[],[],[0,80,80,34,34]],[k,5,[],[],[0,0]],[k,7,[],[],[""]]],[]]],[["Event sheet 1",[[0,k,l,[[-1,R.prototype.e.Vh,k,1,l,l,l]],[[3,oc.prototype.F.wk,k,[[4,4]]],[0,Fc.prototype.F.Mh,k],[1,Fc.prototype.F.Mh,k]],[[0,k,l,[[-1,R.prototype.e.Nh,k,0,h,l,l,[[1,[2,"y"]],[0,[0,0]],[0,[0,9]]]],[-1,R.prototype.e.Nh,k,0,
h,l,l,[[1,[2,"x"]],[0,[0,0]],[0,[0,9]]]]],[[3,oc.prototype.F.fk,k,[[4,0],[0,[19,R.prototype.H.tj,[[2,"x"]]]],[0,[19,R.prototype.H.tj,[[2,"y"]]]],[7,[0,0]]]]]],[0,k,l,[],[[3,oc.prototype.F.ne,k,[[4,1],[0,[0,3]],[0,[0,3]],[7,[0,1]],[7,[0,0]]]]]]]],[0,k,l,[[2,W.prototype.e.vd,k,1,l,l,l,[[4,0]]],[2,W.prototype.e.hk,k,0,l,h,l,[[4,1]]]],[[5,vc.prototype.F.tk,k,[[7,[20,7,jc.prototype.H.ei,h,k,[[2,"startLX"],[22,1,"Chess",hd.prototype.H.Sh,l,k],[2,"startLY"],[22,1,"Chess",hd.prototype.H.Th,l,k],[2,"endLX"],
[22,0,"Chess",hd.prototype.H.Sh,l,k],[2,"endLY"],[22,0,"Chess",hd.prototype.H.Th,l,k]]]]]],[1,Z.prototype.F.Kf,"GridMove",[[4,0]]]]],[0,k,l,[[2,W.prototype.e.vd,k,1,l,l,l,[[4,8]]],[5,vc.prototype.e.Dc,k,0,l,l,l]],[[7,jc.prototype.F.di,k,[[1,[20,5,vc.prototype.H.ue,l,k]]]],[3,oc.prototype.F.Lf,k,[[4,0],[0,[20,7,jc.prototype.H.me,l,k,[[2,"startLX"]]]],[0,[20,7,jc.prototype.H.me,l,k,[[2,"startLY"]]]]]],[1,Z.prototype.F.Kf,"GridMove",[[4,0]]]]],[0,k,l,[[2,W.prototype.e.vd,k,1,l,l,l,[[4,9]]],[5,vc.prototype.e.Cc,
k,0,l,l,l]],[[7,jc.prototype.F.di,k,[[1,[20,5,vc.prototype.H.re,l,k]]]],[3,oc.prototype.F.Lf,k,[[4,0],[0,[20,7,jc.prototype.H.me,l,k,[[2,"endLX"]]]],[0,[20,7,jc.prototype.H.me,l,k,[[2,"endLY"]]]]]],[1,Z.prototype.F.Kf,"GridMove",[[4,0]]]]]]]],"media/",l,640,480,0,h,h,h,"1.0",2,l,0,l,[]]};
