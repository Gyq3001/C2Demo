// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var aa,ba,ca,x,ea,ga,ka,M,la,na,oa,O,pa,qa,Q,ra,sa,ta,ua,R,va,ya,za,Aa,Ba,S,Ca,Da,Ea,Fa,Ga,Ha,Ia,Ja,U,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,V,Ob,Pb,W,Qb,Rb={},Sb={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(f){return f.__proto__}:function(f){return f.constructor.prototype});
(function(){function f(h,b,a,e){this.set(h,b,a,e)}function m(){this.Cc=this.Bc=this.Ec=this.Dc=this.$c=this.Zc=this.tc=this.sc=0}function q(h,b,a,e){h<b?a<e?(w=h<a?h:a,r=b>e?b:e):(w=h<e?h:e,r=b>a?b:a):a<e?(w=b<a?b:a,r=h>e?h:e):(w=b<e?b:e,r=h>a?h:a)}function p(){this.items=this.Vb=null;this.Xe=0;E&&(this.Vb=new Set);this.te=[];this.Fc=!0}function u(h){A[F++]=h}function t(){this.Ha=this.Cg=this.y=this.Tg=0}function g(h){this.je=[];this.Yi=this.$i=this.aj=this.Zi=0;this.Yo(h)}function a(h,b){this.Zg=
h;this.Yg=b;this.cells={}}function c(h,b){this.Zg=h;this.Yg=b;this.cells={}}function d(h,b,a){var e;return I.length?(e=I.pop(),e.zh=h,e.x=b,e.y=a,e):new aa(h,b,a)}function b(h,b,a){this.zh=h;this.x=b;this.y=a;this.na=new ba}function e(h,b,a){var e;return y.length?(e=y.pop(),e.zh=h,e.x=b,e.y=a,e):new ca(h,b,a)}function l(h,b,a){this.zh=h;this.x=b;this.y=a;this.na=[];this.Wd=!0;this.Sb=new ba;this.we=!1}function n(h,b){return h.Fb-b.Fb}x=function(h){window.console&&window.console.log&&window.console.log(h)};
ea=function(h){window.console&&window.console.error&&window.console.error(h)};ga=function(h){return"undefined"===typeof h};ka=function(h){return"number"===typeof h};M=function(h){return"string"===typeof h};la=function(h){return 0>h?-h:h};na=function(h,b){return h<b?h:b};oa=Math.PI;O=function(h){return 0<=h?h|0:(h|0)-1};pa=function(h){var b=h|0;return b===h?b:b+1};qa=function(h,b,a,e,c,k,n,d){var l,v,f,g;h<a?(v=h,l=a):(v=a,l=h);c<n?(g=c,f=n):(g=n,f=c);if(l<g||v>f)return!1;b<e?(v=b,l=e):(v=e,l=b);k<
d?(g=k,f=d):(g=d,f=k);if(l<g||v>f)return!1;l=c-h+n-a;v=k-b+d-e;h=a-h;b=e-b;c=n-c;k=d-k;d=la(b*c-k*h);return la(c*v-k*l)>d?!1:la(h*v-b*l)<=d};f.prototype.set=function(h,b,a,e){this.left=h;this.top=b;this.right=a;this.bottom=e};f.prototype.Ce=function(h){this.left=h.left;this.top=h.top;this.right=h.right;this.bottom=h.bottom};f.prototype.width=function(){return this.right-this.left};f.prototype.height=function(){return this.bottom-this.top};f.prototype.offset=function(h,b){this.left+=h;this.top+=b;
this.right+=h;this.bottom+=b;return this};f.prototype.normalize=function(){var h=0;this.left>this.right&&(h=this.left,this.left=this.right,this.right=h);this.top>this.bottom&&(h=this.top,this.top=this.bottom,this.bottom=h)};f.prototype.Hb=function(h,b){return h>=this.left&&h<=this.right&&b>=this.top&&b<=this.bottom};f.prototype.Ie=function(h){return this.left===h.left&&this.top===h.top&&this.right===h.right&&this.bottom===h.bottom};Q=f;m.prototype.zg=function(h){this.sc=h.left;this.tc=h.top;this.Zc=
h.right;this.$c=h.top;this.Dc=h.right;this.Ec=h.bottom;this.Bc=h.left;this.Cc=h.bottom};m.prototype.Wk=function(h,b){if(0===b)this.zg(h);else{var a=Math.sin(b),e=Math.cos(b),c=h.left*a,k=h.top*a,n=h.right*a,a=h.bottom*a,d=h.left*e,l=h.top*e,v=h.right*e,e=h.bottom*e;this.sc=d-k;this.tc=l+c;this.Zc=v-k;this.$c=l+n;this.Dc=v-a;this.Ec=e+n;this.Bc=d-a;this.Cc=e+c}};m.prototype.offset=function(h,b){this.sc+=h;this.tc+=b;this.Zc+=h;this.$c+=b;this.Dc+=h;this.Ec+=b;this.Bc+=h;this.Cc+=b;return this};var w=
0,r=0;m.prototype.cj=function(h){q(this.sc,this.Zc,this.Dc,this.Bc);h.left=w;h.right=r;q(this.tc,this.$c,this.Ec,this.Cc);h.top=w;h.bottom=r};m.prototype.Hb=function(h,b){var a=this.sc,e=this.tc,c=this.Zc-a,k=this.$c-e,n=this.Dc-a,d=this.Ec-e,l=h-a,v=b-e,f=c*c+k*k,g=c*n+k*d,k=c*l+k*v,w=n*n+d*d,m=n*l+d*v,r=1/(f*w-g*g),c=(w*k-g*m)*r,f=(f*m-g*k)*r;if(0<=c&&0<f&&1>c+f)return!0;c=this.Bc-a;k=this.Cc-e;f=c*c+k*k;g=c*n+k*d;k=c*l+k*v;r=1/(f*w-g*g);c=(w*k-g*m)*r;f=(f*m-g*k)*r;return 0<=c&&0<f&&1>c+f};ra=m;
sa=function(h,b){for(var a in b)b.hasOwnProperty(a)&&(h[a]=b[a]);return h};ta=function(h,b){var a,e;b=O(b);if(!(0>b||b>=h.length)){a=b;for(e=h.length-1;a<e;a++)h[a]=h[a+1];ua(h,e)}};ua=function(h,b){h.length=b};R=function(h){ua(h,0)};va=function(h,b){R(h);var a,e;a=0;for(e=b.length;a<e;++a)h[a]=b[a]};ya=function(h,b){h.push.apply(h,b)};za=function(h,b){var a,e;a=0;for(e=h.length;a<e;++a)if(h[a]===b)return a;return-1};Aa=function(h,b){var a=za(h,b);-1!==a&&ta(h,a)};Ba=function(h,b,a){return h<b?b:
h>a?a:h};S=function(h){return h/(180/oa)};Ca=function(h){return 180/oa*h};Da=function(h){h%=360;0>h&&(h+=360);return h};Ea=function(h){h%=2*oa;0>h&&(h+=2*oa);return h};Fa=function(h){return Da(Ca(h))};Ga=function(h){return Ea(S(h))};Ha=function(h,b,a,e){return Math.atan2(e-b,a-h)};Ia=function(h,b){if(h===b)return 0;var a=Math.sin(h),e=Math.cos(h),c=Math.sin(b),k=Math.cos(b),a=a*c+e*k;return 1<=a?0:-1>=a?oa:Math.acos(a)};Ja=function(h,b,a){var e=Math.sin(h),c=Math.cos(h),k=Math.sin(b),n=Math.cos(b);
return Math.acos(e*k+c*n)>a?0<c*k-e*n?Ea(h+a):Ea(h-a):Ea(b)};U=function(h,b){var a=Math.sin(h),e=Math.cos(h),c=Math.sin(b),k=Math.cos(b);return 0>=e*c-a*k};Ma=function(h,b,a,e){h=a-h;b=e-b;return Math.sqrt(h*h+b*b)};Na=function(h,b){return!h!==!b};Oa=function(h){for(var b in h)if(h.hasOwnProperty(b))return!0;return!1};Pa=function(h){for(var b in h)h.hasOwnProperty(b)&&delete h[b]};var H=+new Date;Qa=function(){if("undefined"!==typeof window.performance){var h=window.performance;if("undefined"!==typeof h.now)return h.now();
if("undefined"!==typeof h.webkitNow)return h.webkitNow();if("undefined"!==typeof h.mozNow)return h.mozNow();if("undefined"!==typeof h.msNow)return h.msNow()}return Date.now()-H};var k=!1,v=k=!1,Ka=!1;"undefined"!==typeof window&&(k=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),k=!k&&/safari/i.test(navigator.userAgent),v=/(iphone|ipod|ipad)/i.test(navigator.userAgent),Ka=window.c2ejecta);var E=!k&&!Ka&&!v&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;
p.prototype.contains=function(h){return this.hc()?!1:E?this.Vb.has(h):this.items&&this.items.hasOwnProperty(h)};p.prototype.add=function(h){if(E)this.Vb.has(h)||(this.Vb.add(h),this.Fc=!1);else{var b=h.toString(),a=this.items;a?a.hasOwnProperty(b)||(a[b]=h,this.Xe++,this.Fc=!1):(this.items={},this.items[b]=h,this.Xe=1,this.Fc=!1)}};p.prototype.remove=function(h){if(!this.hc())if(E)this.Vb.has(h)&&(this.Vb["delete"](h),this.Fc=!1);else if(this.items){h=h.toString();var b=this.items;b.hasOwnProperty(h)&&
(delete b[h],this.Xe--,this.Fc=!1)}};p.prototype.clear=function(){this.hc()||(E?this.Vb.clear():(this.items=null,this.Xe=0),R(this.te),this.Fc=!0)};p.prototype.hc=function(){return 0===this.count()};p.prototype.count=function(){return E?this.Vb.size:this.Xe};var A=null,F=0;p.prototype.kp=function(){if(!this.Fc){if(E)R(this.te),A=this.te,F=0,this.Vb.forEach(u),A=null,F=0;else{var h=this.te;R(h);var b,a=0,e=this.items;if(e)for(b in e)e.hasOwnProperty(b)&&(h[a++]=e[b])}this.Fc=!0}};p.prototype.Ed=function(){this.kp();
return this.te};ba=p;new ba;Ra=function(h,b){E?Sa(h,b.Vb):Ta(h,b.Ed())};Sa=function(h,b){var a,e,c,k;e=a=0;for(c=h.length;a<c;++a)k=h[a],b.has(k)||(h[e++]=k);ua(h,e)};Ta=function(h,b){var a,e,c,k;e=a=0;for(c=h.length;a<c;++a)k=h[a],-1===za(b,k)&&(h[e++]=k);ua(h,e)};t.prototype.add=function(h){this.y=h-this.Tg;this.Cg=this.Ha+this.y;this.Tg=this.Cg-this.Ha-this.y;this.Ha=this.Cg};t.prototype.reset=function(){this.Ha=this.Cg=this.y=this.Tg=0};Ua=t;Va=function(h){return h.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,
"\\$&")};g.prototype.Yo=function(h){this.Hk=h;this.tg=h.length/2;this.je.length=h.length;this.Ug=this.Vg=-1;this.ej=0};g.prototype.lo=function(){return!this.Hk.length};g.prototype.xa=function(){for(var h=this.je,b=h[0],a=b,e=h[1],c=e,k,n,d=1,l=this.tg;d<l;++d)n=2*d,k=h[n],n=h[n+1],k<b&&(b=k),k>a&&(a=k),n<e&&(e=n),n>c&&(c=n);this.Zi=b;this.$i=a;this.aj=e;this.Yi=c};g.prototype.zg=function(h,b,a){this.je.length=8;this.tg=4;var e=this.je;e[0]=h.left-b;e[1]=h.top-a;e[2]=h.right-b;e[3]=h.top-a;e[4]=h.right-
b;e[5]=h.bottom-a;e[6]=h.left-b;e[7]=h.bottom-a;this.Vg=h.right-h.left;this.Ug=h.bottom-h.top;this.xa()};g.prototype.hm=function(h,b,a){if(this.Vg!==h||this.Ug!==b||this.ej!==a){this.Vg=h;this.Ug=b;this.ej=a;var e,c,k,n,d,l=0,v=1,f=this.Hk,g=this.je;0!==a&&(l=Math.sin(a),v=Math.cos(a));a=0;for(k=this.tg;a<k;a++)e=2*a,c=e+1,n=f[e]*h,d=f[c]*b,g[e]=n*v-d*l,g[c]=d*v+n*l;this.xa()}};g.prototype.Hb=function(h,b){var a=this.je;if(h===a[0]&&b===a[1])return!0;var e,c,k,n=this.tg,d=this.Zi-110,l=this.aj-101,
v=this.$i+131,f=this.Yi+120,g,w,r=0,m=0;for(e=0;e<n;e++)c=2*e,k=(e+1)%n*2,g=a[c],c=a[c+1],w=a[k],k=a[k+1],qa(d,l,h,b,g,c,w,k)&&r++,qa(v,f,h,b,g,c,w,k)&&m++;return 1===r%2||1===m%2};Wa=g;a.prototype.Lc=function(h,b,a){var e;e=this.cells[h];return e?(e=e[b])?e:a?(e=d(this,h,b),this.cells[h][b]=e):null:a?(e=d(this,h,b),this.cells[h]={},this.cells[h][b]=e):null};a.prototype.Ia=function(h){return O(h/this.Zg)};a.prototype.Ja=function(h){return O(h/this.Yg)};a.prototype.update=function(h,b,a){var e,c,k,
n,d;if(b)for(e=b.left,c=b.right;e<=c;++e)for(k=b.top,n=b.bottom;k<=n;++k)if(!a||!a.Hb(e,k))if(d=this.Lc(e,k,!1))d.remove(h),d.hc()&&(d.na.clear(),1E3>I.length&&I.push(d),this.cells[e][k]=null);if(a)for(e=a.left,c=a.right;e<=c;++e)for(k=a.top,n=a.bottom;k<=n;++k)b&&b.Hb(e,k)||this.Lc(e,k,!0).Eh(h)};a.prototype.Jk=function(h,b){var a,e,c,k,n,d;a=this.Ia(h.left);c=this.Ja(h.top);e=this.Ia(h.right);for(n=this.Ja(h.bottom);a<=e;++a)for(k=c;k<=n;++k)(d=this.Lc(a,k,!1))&&d.dump(b)};Xa=a;c.prototype.Lc=function(h,
b,a){var c;c=this.cells[h];return c?(c=c[b])?c:a?(c=e(this,h,b),this.cells[h][b]=c):null:a?(c=e(this,h,b),this.cells[h]={},this.cells[h][b]=c):null};c.prototype.Ia=function(h){return O(h/this.Zg)};c.prototype.Ja=function(h){return O(h/this.Yg)};c.prototype.update=function(h,b,a){var e,c,k,n,d;if(b)for(e=b.left,c=b.right;e<=c;++e)for(k=b.top,n=b.bottom;k<=n;++k)if(!a||!a.Hb(e,k))if(d=this.Lc(e,k,!1))d.remove(h),d.hc()&&(d.reset(),1E3>y.length&&y.push(d),this.cells[e][k]=null);if(a)for(e=a.left,c=a.right;e<=
c;++e)for(k=a.top,n=a.bottom;k<=n;++k)b&&b.Hb(e,k)||this.Lc(e,k,!0).Eh(h)};c.prototype.Jk=function(h,b,a,e,c){var k,n;h=this.Ia(h);b=this.Ja(b);a=this.Ia(a);for(k=this.Ja(e);h<=a;++h)for(e=b;e<=k;++e)(n=this.Lc(h,e,!1))&&n.dump(c)};c.prototype.qo=function(h){var b,a,e,c,k;b=h.left;e=h.top;a=h.right;for(c=h.bottom;b<=a;++b)for(h=e;h<=c;++h)if(k=this.Lc(b,h,!1))k.Wd=!1};Ya=c;var I=[];b.prototype.hc=function(){return this.na.hc()};b.prototype.Eh=function(h){this.na.add(h)};b.prototype.remove=function(h){this.na.remove(h)};
b.prototype.dump=function(h){ya(h,this.na.Ed())};aa=b;var y=[];l.prototype.hc=function(){if(!this.na.length)return!0;if(this.na.length>this.Sb.count())return!1;this.nh();return!0};l.prototype.Eh=function(h){this.Sb.contains(h)?(this.Sb.remove(h),this.Sb.hc()&&(this.we=!1)):this.na.length?(this.na[this.na.length-1].Ob()>h.Ob()&&(this.Wd=!1),this.na.push(h)):(this.na.push(h),this.Wd=!0)};l.prototype.remove=function(h){this.Sb.add(h);this.we=!0;30<=this.Sb.count()&&this.nh()};l.prototype.nh=function(){this.we&&
(this.Sb.count()===this.na.length?this.reset():(Ra(this.na,this.Sb),this.Sb.clear(),this.we=!1))};l.prototype.Nm=function(){this.Wd||(this.na.sort(n),this.Wd=!0)};l.prototype.reset=function(){R(this.na);this.Wd=!0;this.Sb.clear();this.we=!1};l.prototype.dump=function(h){this.nh();this.Nm();this.na.length&&h.push(this.na)};ca=l;var D="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");Za=function(h){return 0>=h||11<=h?"source-over":
D[h-1]};$a=function(h,b,a){if(a)switch(h.Fa=a.ONE,h.Ba=a.ONE_MINUS_SRC_ALPHA,b){case 1:h.Fa=a.ONE;h.Ba=a.ONE;break;case 3:h.Fa=a.ONE;h.Ba=a.ZERO;break;case 4:h.Fa=a.ONE_MINUS_DST_ALPHA;h.Ba=a.ONE;break;case 5:h.Fa=a.DST_ALPHA;h.Ba=a.ZERO;break;case 6:h.Fa=a.ZERO;h.Ba=a.SRC_ALPHA;break;case 7:h.Fa=a.ONE_MINUS_DST_ALPHA;h.Ba=a.ZERO;break;case 8:h.Fa=a.ZERO;h.Ba=a.ONE_MINUS_SRC_ALPHA;break;case 9:h.Fa=a.DST_ALPHA;h.Ba=a.ONE_MINUS_SRC_ALPHA;break;case 10:h.Fa=a.ONE_MINUS_DST_ALPHA,h.Ba=a.SRC_ALPHA}};
ab=function(h){return Math.round(1E6*h)/1E6};bb=function(h,b){return"string"!==typeof h||"string"!==typeof b||h.length!==b.length?!1:h===b?!0:h.toLowerCase()===b.toLowerCase()};cb=function(h){h=h.target;return!h||h===document||h===window||document&&document.body&&h===document.body||bb(h.tagName,"canvas")?!0:!1}})();var Tb="undefined"!==typeof Float32Array?Float32Array:Array;function Ub(f){var m=new Tb(3);f&&(m[0]=f[0],m[1]=f[1],m[2]=f[2]);return m}
function X(f){var m=new Tb(16);f&&(m[0]=f[0],m[1]=f[1],m[2]=f[2],m[3]=f[3],m[4]=f[4],m[5]=f[5],m[6]=f[6],m[7]=f[7],m[8]=f[8],m[9]=f[9],m[10]=f[10],m[11]=f[11],m[12]=f[12],m[13]=f[13],m[14]=f[14],m[15]=f[15]);return m}function Vb(f,m){m[0]=f[0];m[1]=f[1];m[2]=f[2];m[3]=f[3];m[4]=f[4];m[5]=f[5];m[6]=f[6];m[7]=f[7];m[8]=f[8];m[9]=f[9];m[10]=f[10];m[11]=f[11];m[12]=f[12];m[13]=f[13];m[14]=f[14];m[15]=f[15]}
function Wb(f,m){var q=m[0],p=m[1];m=m[2];f[0]*=q;f[1]*=q;f[2]*=q;f[3]*=q;f[4]*=p;f[5]*=p;f[6]*=p;f[7]*=p;f[8]*=m;f[9]*=m;f[10]*=m;f[11]*=m}
function Xb(f,m,q,p){p||(p=X());var u,t,g,a,c,d,b,e,l=f[0],n=f[1];f=f[2];t=q[0];g=q[1];u=q[2];q=m[1];d=m[2];l===m[0]&&n===q&&f===d?(f=p,f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=1,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=1,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1):(q=l-m[0],d=n-m[1],b=f-m[2],e=1/Math.sqrt(q*q+d*d+b*b),q*=e,d*=e,b*=e,m=g*b-u*d,u=u*q-t*b,t=t*d-g*q,(e=Math.sqrt(m*m+u*u+t*t))?(e=1/e,m*=e,u*=e,t*=e):t=u=m=0,g=d*t-b*u,a=b*m-q*t,c=q*u-d*m,(e=Math.sqrt(g*g+a*a+c*c))?(e=1/e,g*=e,a*=e,c*=e):c=a=g=0,
p[0]=m,p[1]=g,p[2]=q,p[3]=0,p[4]=u,p[5]=a,p[6]=d,p[7]=0,p[8]=t,p[9]=c,p[10]=b,p[11]=0,p[12]=-(m*l+u*n+t*f),p[13]=-(g*l+a*n+c*f),p[14]=-(q*l+d*n+b*f),p[15]=1)}
(function(){function f(a,c,d){this.qd=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.P=!!d;this.Yf=this.Se=!1;this.fh=0;this.Mg=1;this.Ji=1E3;this.qp=(this.Ji-this.Mg)/32768;this.Wg=Ub([0,0,100]);this.Zj=Ub([0,0,0]);this.ol=Ub([0,1,0]);this.Bf=Ub([1,1,1]);this.Lm=!0;this.pg=X();this.cb=X();this.Th=X();this.eh=X();this.i=a;this.Gj()}function m(a,c,d){this.i=a;this.sf=c;this.name=d;this.jb=a.getAttribLocation(c,"aPos");this.Uc=a.getAttribLocation(c,
"aTex");this.Xj=a.getUniformLocation(c,"matP");this.lg=a.getUniformLocation(c,"matMV");this.de=a.getUniformLocation(c,"opacity");this.Xh=a.getUniformLocation(c,"colorFill");this.Yj=a.getUniformLocation(c,"samplerFront");this.bf=a.getUniformLocation(c,"samplerBack");this.xd=a.getUniformLocation(c,"destStart");this.wd=a.getUniformLocation(c,"destEnd");this.df=a.getUniformLocation(c,"seconds");this.Zh=a.getUniformLocation(c,"pixelWidth");this.Yh=a.getUniformLocation(c,"pixelHeight");this.af=a.getUniformLocation(c,
"layerScale");this.$e=a.getUniformLocation(c,"layerAngle");this.ef=a.getUniformLocation(c,"viewOrigin");this.cf=a.getUniformLocation(c,"scrollPos");this.$n=!!(this.Zh||this.Yh||this.df||this.bf||this.xd||this.wd||this.af||this.$e||this.ef||this.cf);this.gk=this.hk=-999;this.og=1;this.ck=this.bk=0;this.ek=this.ak=this.$j=1;this.kk=this.jk=this.ik=this.mk=this.lk=this.dk=0;this.Sh=[];this.fk=X();this.de&&a.uniform1f(this.de,1);this.Xh&&a.uniform4f(this.Xh,1,1,1,1);this.Yj&&a.uniform1i(this.Yj,0);this.bf&&
a.uniform1i(this.bf,1);this.xd&&a.uniform2f(this.xd,0,0);this.wd&&a.uniform2f(this.wd,1,1);this.af&&a.uniform1f(this.af,1);this.$e&&a.uniform1f(this.$e,0);this.ef&&a.uniform2f(this.ef,0,0);this.cf&&a.uniform2f(this.cf,0,0);this.df&&a.uniform1f(this.df,0);this.md=!1}function q(a,c){return a[0]===c[0]&&a[1]===c[1]&&a[2]===c[2]&&a[3]===c[3]&&a[4]===c[4]&&a[5]===c[5]&&a[6]===c[6]&&a[7]===c[7]&&a[8]===c[8]&&a[9]===c[9]&&a[10]===c[10]&&a[11]===c[11]&&a[12]===c[12]&&a[13]===c[13]&&a[14]===c[14]&&a[15]===
c[15]}function p(a,c){this.type=a;this.j=c;this.i=c.i;this.Pb=this.Ga=this.Ak=0;this.u=this.qb=null;this.Xk=[]}var u=X();f.prototype.Gj=function(){var a=this.i,c;this.Sj=1;this.td=this.sd=null;this.Gf=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.P?(a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL)):a.disable(a.DEPTH_TEST);this.Tj=a.ONE;this.Rj=a.ONE_MINUS_SRC_ALPHA;
this.Kg=new Float32Array(8E3*(this.P?3:2));this.Dg=new Float32Array(16E3);this.Dk=new Float32Array(32E3);this.ei=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.ei);a.bufferData(a.ARRAY_BUFFER,this.Dk.byteLength,a.DYNAMIC_DRAW);this.Af=Array(4);this.wf=Array(4);for(c=0;4>c;c++)this.Af[c]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Af[c]),a.bufferData(a.ARRAY_BUFFER,this.Kg.byteLength,a.DYNAMIC_DRAW),this.wf[c]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.wf[c]),a.bufferData(a.ARRAY_BUFFER,
this.Dg.byteLength,a.DYNAMIC_DRAW);this.$b=0;this.co=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.co);for(var d=new Uint16Array(12E3),b=c=0;12E3>c;)d[c++]=b,d[c++]=b+1,d[c++]=b+2,d[c++]=b,d[c++]=b+2,d[c++]=b+3,b+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,d,a.STATIC_DRAW);this.fi=this.qe=this.vc=0;this.Y=[];c=this.P?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";d=this.De({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},c,"<default>");this.Y.push(d);d=this.De({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Y.push(d);d=this.De({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},c,"<earlyz>");this.Y.push(d);d=this.De({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
c,"<fill>");this.Y.push(d);for(var e in Yb)Yb.hasOwnProperty(e)&&this.Y.push(this.De(Yb[e],c,e));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.Ac=[];this.Zb=0;this.Ca=!1;this.jj=this.Ye=-1;this.Od=null;this.mh=a.createFramebuffer();this.If=this.ug=null;this.Xi=!1;this.P&&(this.If=a.createRenderbuffer());this.Yc=Ub([0,0,0]);this.nk=a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1];2048<this.nk&&(this.nk=2048);this.La(0)};m.prototype.Fi=function(a){q(this.fk,a)||(Vb(a,this.fk),this.i.uniformMatrix4fv(this.lg,
!1,a))};f.prototype.De=function(a,c,d){var b=this.i,e=b.createShader(b.FRAGMENT_SHADER);b.shaderSource(e,a.src);b.compileShader(e);if(!b.getShaderParameter(e,b.COMPILE_STATUS))return b.deleteShader(e),null;var l=b.createShader(b.VERTEX_SHADER);b.shaderSource(l,c);b.compileShader(l);if(!b.getShaderParameter(l,b.COMPILE_STATUS))return b.deleteShader(e),b.deleteShader(l),null;c=b.createProgram();b.attachShader(c,e);b.attachShader(c,l);b.linkProgram(c);if(!b.getProgramParameter(c,b.LINK_STATUS))return b.deleteShader(e),
b.deleteShader(l),b.deleteProgram(c),null;b.useProgram(c);b.deleteShader(e);b.deleteShader(l);d=new m(b,c,d);d.kh=a.kh||0;d.lh=a.lh||0;d.ij=!!a.ij;d.Ab=!!a.Ab;d.Ti=!!a.Ti;d.A=a.A||[];a=0;for(e=d.A.length;a<e;a++)d.A[a][1]=b.getUniformLocation(c,d.A[a][0]),d.Sh.push(0),b.uniform1f(d.A[a][1],0);return d};f.prototype.xh=function(a){var c,d;c=0;for(d=this.Y.length;c<d;c++)if(this.Y[c].name===a)return c;return-1};f.prototype.Gk=function(a,c,d){var b=this.cb,e=this.pg,l=[0,0,0,0,0,0,0,0];l[0]=b[0]*a+b[4]*
c+b[12];l[1]=b[1]*a+b[5]*c+b[13];l[2]=b[2]*a+b[6]*c+b[14];l[3]=b[3]*a+b[7]*c+b[15];l[4]=e[0]*l[0]+e[4]*l[1]+e[8]*l[2]+e[12]*l[3];l[5]=e[1]*l[0]+e[5]*l[1]+e[9]*l[2]+e[13]*l[3];l[6]=e[2]*l[0]+e[6]*l[1]+e[10]*l[2]+e[14]*l[3];l[7]=-l[2];0!==l[7]&&(l[7]=1/l[7],l[4]*=l[7],l[5]*=l[7],l[6]*=l[7],d[0]=(.5*l[4]+.5)*this.width,d[1]=(.5*l[5]+.5)*this.height)};f.prototype.Bd=function(a,c,d){if(this.width!==a||this.height!==c||d){this.hd();d=this.i;this.width=a;this.height=c;d.viewport(0,0,a,c);Xb(this.Wg,this.Zj,
this.ol,this.cb);if(this.P){var b=-a/2;a=a/2;var e=c/2;c=-c/2;var l=this.Mg,n=this.Ji,f=this.pg;f||(f=X());var g=a-b,m=c-e,k=n-l;f[0]=2/g;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=2/m;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=-2/k;f[11]=0;f[12]=-(b+a)/g;f[13]=-(c+e)/m;f[14]=-(n+l)/k;f[15]=1;this.Bf[0]=1;this.Bf[1]=1}else c=a/c,b=this.Mg,a=this.Ji,f=this.pg,n=b*Math.tan(45*Math.PI/360),c*=n,e=-c,l=-n,f||(f=X()),g=c-e,m=n-l,k=a-b,f[0]=2*b/g,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=2*b/m,f[6]=0,f[7]=0,f[8]=(c+e)/g,f[9]=(n+l)/
m,f[10]=-(a+b)/k,f[11]=-1,f[12]=0,f[13]=0,f[14]=-(a*b*2)/k,f[15]=0,b=[0,0],a=[0,0],this.Gk(0,0,b),this.Gk(1,1,a),this.Bf[0]=1/(a[0]-b[0]),this.Bf[1]=-1/(a[1]-b[1]);b=0;for(a=this.Y.length;b<a;b++)e=this.Y[b],e.md=!1,e.Xj&&(d.useProgram(e.sf),d.uniformMatrix4fv(e.Xj,!1,this.pg));d.useProgram(this.Y[this.Ye].sf);d.bindTexture(d.TEXTURE_2D,null);d.activeTexture(d.TEXTURE1);d.bindTexture(d.TEXTURE_2D,null);d.activeTexture(d.TEXTURE0);this.td=this.sd=null;this.If&&(d.bindFramebuffer(d.FRAMEBUFFER,this.mh),
d.bindRenderbuffer(d.RENDERBUFFER,this.If),d.renderbufferStorage(d.RENDERBUFFER,d.DEPTH_COMPONENT16,this.width,this.height),this.Xi||(d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_ATTACHMENT,d.RENDERBUFFER,this.If),this.Xi=!0),d.bindRenderbuffer(d.RENDERBUFFER,null),d.bindFramebuffer(d.FRAMEBUFFER,null),this.ug=null)}};f.prototype.mb=function(){Xb(this.Wg,this.Zj,this.ol,this.cb);Wb(this.cb,this.Bf)};f.prototype.translate=function(a,c){if(0!==a||0!==c){this.Yc[0]=a;this.Yc[1]=c;this.Yc[2]=0;var d=
this.cb,b=this.Yc,e=b[0],l=b[1],b=b[2];d[12]=d[0]*e+d[4]*l+d[8]*b+d[12];d[13]=d[1]*e+d[5]*l+d[9]*b+d[13];d[14]=d[2]*e+d[6]*l+d[10]*b+d[14];d[15]=d[3]*e+d[7]*l+d[11]*b+d[15]}};f.prototype.scale=function(a,c){if(1!==a||1!==c)this.Yc[0]=a,this.Yc[1]=c,this.Yc[2]=1,Wb(this.cb,this.Yc)};f.prototype.wg=function(a){if(0!==a){var c=this.cb,d,b=Math.sin(a);a=Math.cos(a);var e=c[0],l=c[1],n=c[2],f=c[3],g=c[4],m=c[5],k=c[6],v=c[7];d?c!==d&&(d[8]=c[8],d[9]=c[9],d[10]=c[10],d[11]=c[11],d[12]=c[12],d[13]=c[13],
d[14]=c[14],d[15]=c[15]):d=c;d[0]=e*a+g*b;d[1]=l*a+m*b;d[2]=n*a+k*b;d[3]=f*a+v*b;d[4]=e*-b+g*a;d[5]=l*-b+m*a;d[6]=n*-b+k*a;d[7]=f*-b+v*a}};f.prototype.eb=function(){if(!q(this.Th,this.cb)){var a=this.Ta();a.type=5;a.u?Vb(this.cb,a.u):a.u=X(this.cb);Vb(this.cb,this.Th);this.Ca=!1}};f.prototype.xg=function(a){this.P&&(32760<a&&(a=32760),this.fh=this.Wg[2]-this.Mg-a*this.qp)};p.prototype.wm=function(){var a=this.i,c=this.j;0!==this.Ga?(a.depthMask(!0),a.colorMask(!1,!1,!1,!1),a.disable(a.BLEND),a.bindFramebuffer(a.FRAMEBUFFER,
c.mh),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.clear(a.DEPTH_BUFFER_BIT),a.bindFramebuffer(a.FRAMEBUFFER,null),c.Yf=!0):(a.depthMask(!1),a.colorMask(!0,!0,!0,!0),a.enable(a.BLEND),c.Yf=!1)};p.prototype.Am=function(){this.i.bindTexture(this.i.TEXTURE_2D,this.qb)};p.prototype.Bm=function(){var a=this.i;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.qb);a.activeTexture(a.TEXTURE0)};p.prototype.xm=function(){var a=this.Ak,c=this.j;c.Gf=a;c=c.Od;c.de&&
c.og!==a&&(c.og=a,this.i.uniform1f(c.de,a))};p.prototype.qm=function(){this.i.drawElements(this.i.TRIANGLES,this.Pb,this.i.UNSIGNED_SHORT,this.Ga)};p.prototype.tm=function(){this.i.blendFunc(this.Ga,this.Pb)};p.prototype.Cm=function(){var a,c,d,b=this.j.Y,e=this.j.jj;a=0;for(c=b.length;a<c;a++)d=b[a],a===e&&d.lg?(d.Fi(this.u),d.md=!0):d.md=!1;Vb(this.u,this.j.eh)};p.prototype.rm=function(){var a=this.i,c=this.j;this.qb?(c.td===this.qb&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),
c.td=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,c.mh),c.Yf||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.qb,0)):(c.P||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};p.prototype.om=function(){var a=this.i,c=this.Ga;0===c?(a.clearColor(this.u[0],this.u[1],this.u[2],this.u[3]),a.clear(a.COLOR_BUFFER_BIT)):1===c?(a.enable(a.SCISSOR_TEST),a.scissor(this.u[0],this.u[1],this.u[2],this.u[3]),
a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST)):a.clear(a.DEPTH_BUFFER_BIT)};p.prototype.vm=function(){var a=this.i;0!==this.Ga?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)};p.prototype.pm=function(){var a=this.i,c=this.j;c.P&&a.disable(a.DEPTH_TEST);var d=c.Y[1];a.useProgram(d.sf);!d.md&&d.lg&&(d.Fi(c.eh),d.md=!0);a.enableVertexAttribArray(d.jb);a.bindBuffer(a.ARRAY_BUFFER,c.ei);a.vertexAttribPointer(d.jb,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.Ga/4,this.Pb);d=
c.Od;a.useProgram(d.sf);0<=d.jb&&(a.enableVertexAttribArray(d.jb),a.bindBuffer(a.ARRAY_BUFFER,c.Af[c.$b]),a.vertexAttribPointer(d.jb,c.P?3:2,a.FLOAT,!1,0,0));0<=d.Uc&&(a.enableVertexAttribArray(d.Uc),a.bindBuffer(a.ARRAY_BUFFER,c.wf[c.$b]),a.vertexAttribPointer(d.Uc,2,a.FLOAT,!1,0,0));c.P&&a.enable(a.DEPTH_TEST)};p.prototype.ym=function(){var a=this.i,c=this.j,d=c.Y[this.Ga];c.jj=this.Ga;c.Od=d;a.useProgram(d.sf);!d.md&&d.lg&&(d.Fi(c.eh),d.md=!0);d.de&&d.og!==c.Gf&&(d.og=c.Gf,a.uniform1f(d.de,c.Gf));
0<=d.jb&&(a.enableVertexAttribArray(d.jb),a.bindBuffer(a.ARRAY_BUFFER,c.Af[c.$b]),a.vertexAttribPointer(d.jb,c.P?3:2,a.FLOAT,!1,0,0));0<=d.Uc&&(a.enableVertexAttribArray(d.Uc),a.bindBuffer(a.ARRAY_BUFFER,c.wf[c.$b]),a.vertexAttribPointer(d.Uc,2,a.FLOAT,!1,0,0))};p.prototype.um=function(){var a=this.u;this.i.uniform4f(this.j.Od.Xh,a[0],a[1],a[2],a[3])};p.prototype.zm=function(){var a,c,d=this.j.Od,b=this.i;a=this.u;d.bf&&this.j.td!==this.qb&&(b.activeTexture(b.TEXTURE1),b.bindTexture(b.TEXTURE_2D,
this.qb),this.j.td=this.qb,b.activeTexture(b.TEXTURE0));var e=a[0];d.Zh&&e!==d.hk&&(d.hk=e,b.uniform1f(d.Zh,e));e=a[1];d.Yh&&e!==d.gk&&(d.gk=e,b.uniform1f(d.Yh,e));e=a[2];c=a[3];!d.xd||e===d.bk&&c===d.ck||(d.bk=e,d.ck=c,b.uniform2f(d.xd,e,c));e=a[4];c=a[5];!d.wd||e===d.$j&&c===d.ak||(d.$j=e,d.ak=c,b.uniform2f(d.wd,e,c));e=a[6];d.af&&e!==d.ek&&(d.ek=e,b.uniform1f(d.af,e));e=a[7];d.$e&&e!==d.dk&&(d.dk=e,b.uniform1f(d.$e,e));e=a[8];c=a[9];!d.ef||e===d.lk&&c===d.mk||(d.lk=e,d.mk=c,b.uniform2f(d.ef,e,
c));e=a[10];c=a[11];!d.cf||e===d.ik&&c===d.jk||(d.ik=e,d.jk=c,b.uniform2f(d.cf,e,c));e=a[12];d.df&&e!==d.kk&&(d.kk=e,b.uniform1f(d.df,e));if(d.A.length)for(a=0,c=d.A.length;a<c;a++)e=this.Xk[a],e!==d.Sh[a]&&(d.Sh[a]=e,b.uniform1f(d.A[a][1],e))};f.prototype.Ta=function(){this.Zb===this.Ac.length&&this.Ac.push(new p(0,this));return this.Ac[this.Zb++]};f.prototype.hd=function(){if(0!==this.Zb&&!this.i.isContextLost()){var a=this.i;0<this.fi&&(a.bindBuffer(a.ARRAY_BUFFER,this.ei),a.bufferSubData(a.ARRAY_BUFFER,
0,this.Dk.subarray(0,this.fi)),c&&0<=c.jb&&"<point>"===c.name&&a.vertexAttribPointer(c.jb,4,a.FLOAT,!1,0,0));if(0<this.vc){var c=this.Od;a.bindBuffer(a.ARRAY_BUFFER,this.Af[this.$b]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Kg.subarray(0,this.vc));c&&0<=c.jb&&"<point>"!==c.name&&a.vertexAttribPointer(c.jb,this.P?3:2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.wf[this.$b]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Dg.subarray(0,this.qe));c&&0<=c.Uc&&"<point>"!==c.name&&a.vertexAttribPointer(c.Uc,2,a.FLOAT,
!1,0,0)}for(var d,a=0,c=this.Zb;a<c;a++)switch(d=this.Ac[a],d.type){case 1:d.qm();break;case 2:d.Am();break;case 3:d.xm();break;case 4:d.tm();break;case 5:d.Cm();break;case 6:d.rm();break;case 7:d.om();break;case 8:d.pm();break;case 9:d.ym();break;case 10:d.zm();break;case 11:d.Bm();break;case 12:d.um();break;case 13:d.vm();break;case 14:d.wm()}this.fi=this.qe=this.vc=this.Zb=0;this.Yf=this.Ca=!1;this.$b++;4<=this.$b&&(this.$b=0)}};f.prototype.qf=function(a){if(a!==this.Sj&&!this.Se){var c=this.Ta();
c.type=3;this.Sj=c.Ak=a;this.Ca=!1}};f.prototype.ob=function(a){if(a!==this.sd){var c=this.Ta();c.type=2;this.sd=c.qb=a;this.Ca=!1}};f.prototype.Wc=function(a,c){if((a!==this.Tj||c!==this.Rj)&&!this.Se){var d=this.Ta();d.type=4;d.Ga=a;d.Pb=c;this.Tj=a;this.Rj=c;this.Ca=!1}};f.prototype.Rk=function(){this.Wc(this.i.ONE,this.i.ONE_MINUS_SRC_ALPHA)};f.prototype.li=function(a,c,d,b,e,l,n,f){15992<=this.vc&&this.hd();var g=this.vc,m=this.qe,k=this.Kg,v=this.Dg,t=this.fh;if(this.Ca)this.Ac[this.Zb-1].Pb+=
6;else{var p=this.Ta();p.type=1;p.Ga=this.P?g:g/2*3;p.Pb=6;this.Ca=!0}this.P?(k[g++]=a,k[g++]=c,k[g++]=t,k[g++]=d,k[g++]=b,k[g++]=t,k[g++]=e,k[g++]=l,k[g++]=t,k[g++]=n,k[g++]=f,k[g++]=t):(k[g++]=a,k[g++]=c,k[g++]=d,k[g++]=b,k[g++]=e,k[g++]=l,k[g++]=n,k[g++]=f);v[m++]=0;v[m++]=0;v[m++]=1;v[m++]=0;v[m++]=1;v[m++]=1;v[m++]=0;v[m++]=1;this.vc=g;this.qe=m};f.prototype.ke=function(a,c,d,b,e,l,n,f,g){15992<=this.vc&&this.hd();var m=this.vc,k=this.qe,v=this.Kg,t=this.Dg,p=this.fh;if(this.Ca)this.Ac[this.Zb-
1].Pb+=6;else{var q=this.Ta();q.type=1;q.Ga=this.P?m:m/2*3;q.Pb=6;this.Ca=!0}var q=g.left,F=g.top,u=g.right;g=g.bottom;this.P?(v[m++]=a,v[m++]=c,v[m++]=p,v[m++]=d,v[m++]=b,v[m++]=p,v[m++]=e,v[m++]=l,v[m++]=p,v[m++]=n,v[m++]=f,v[m++]=p):(v[m++]=a,v[m++]=c,v[m++]=d,v[m++]=b,v[m++]=e,v[m++]=l,v[m++]=n,v[m++]=f);t[k++]=q;t[k++]=F;t[k++]=u;t[k++]=F;t[k++]=u;t[k++]=g;t[k++]=q;t[k++]=g;this.vc=m;this.qe=k};f.prototype.La=function(a){if(this.Ye!==a){if(!this.Y[a]){if(0===this.Ye)return;a=0}var c=this.Ta();
c.type=9;this.Ye=c.Ga=a;this.Ca=!1}};f.prototype.nf=function(a){a=this.Y[a];return!(!a.xd&&!a.wd)};f.prototype.hi=function(a){a=this.Y[a];return!!(a.xd||a.wd||a.ij)};f.prototype.gi=function(a){return this.Y[a].Ab};f.prototype.Ho=function(a){a=this.Y[a];return 0!==a.kh||0!==a.lh};f.prototype.Hn=function(a){return this.Y[a].kh};f.prototype.In=function(a){return this.Y[a].lh};f.prototype.Jn=function(a,c){return this.Y[a].A[c][2]};f.prototype.sg=function(a){return this.Y[a].Ti};f.prototype.oe=function(a,
c,d,b,e,l,n,f,g,m,k,v,t,p,q){var F=this.Y[this.Ye],u,y;if(F.$n||q.length){u=this.Ta();u.type=10;u.u?Vb(this.cb,u.u):u.u=X();y=u.u;y[0]=c;y[1]=d;y[2]=b;y[3]=e;y[4]=l;y[5]=n;y[6]=f;y[7]=g;y[8]=m;y[9]=k;y[10]=v;y[11]=t;y[12]=p;F.bf?u.qb=a:u.qb=null;if(q.length)for(d=u.Xk,d.length=q.length,a=0,c=q.length;a<c;a++)d[a]=q[a];this.Ca=!1}};f.prototype.clear=function(a,c,d,b){var e=this.Ta();e.type=7;e.Ga=0;e.u||(e.u=X());e.u[0]=a;e.u[1]=c;e.u[2]=d;e.u[3]=b;this.Ca=!1};f.prototype.clearRect=function(a,c,d,
b){if(!(0>d||0>b)){var e=this.Ta();e.type=7;e.Ga=1;e.u||(e.u=X());e.u[0]=a;e.u[1]=c;e.u[2]=d;e.u[3]=b;this.Ca=!1}};f.prototype.Uk=function(a){if(this.P&&(a=!!a,this.Se!==a)){var c=this.Ta();c.type=14;c.Ga=a?1:0;this.Ca=!1;this.Se=a;this.ug=null;this.Se?this.La(2):this.La(0)}};f.prototype.Tk=function(a){if(this.P){var c=this.Ta();c.type=13;c.Ga=a?1:0;this.Ca=!1}};f.prototype.uj=function(){Vb(this.Th,u);this.mb();this.eb();var a=this.width/2,c=this.height/2;this.li(-a,c,a,c,a,-c,-a,-c);Vb(u,this.cb);
this.eb()};f.prototype.Sk=function(a,c,d){this.La(3);var b=this.Ta();b.type=12;b.u||(b.u=X());b.u[0]=a;b.u[1]=c;b.u[2]=d;b.u[3]=1;this.Ca=!1};f.prototype.Vo=function(){this.La(0)};f.prototype.Ko=function(){this.La(2)};f.prototype.Go=function(){this.hd();this.i.flush()};var t=[],g={};f.prototype.jm=function(){R(t);g={}};f.prototype.Za=function(a,c,d,b){this.hd();var e=this.i;this.qd&&(b=!1);var l=e.createTexture();e.bindTexture(e.TEXTURE_2D,l);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,a,c,0,e.RGBA,b?e.UNSIGNED_SHORT_4_4_4_4:
e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,d?e.LINEAR:e.NEAREST);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,d?e.LINEAR:e.NEAREST);e.bindTexture(e.TEXTURE_2D,null);this.sd=null;l.Nd=a;l.Md=c;t.push(l);return l};f.prototype.op=function(a,c,d){this.hd();var b=this.i;this.qd&&(d=!1);b.bindTexture(b.TEXTURE_2D,c);b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
!0);try{b.texImage2D(b.TEXTURE_2D,0,b.RGBA,b.RGBA,d?b.UNSIGNED_SHORT_4_4_4_4:b.UNSIGNED_BYTE,a)}catch(e){console&&console.error&&console.error("Error updating WebGL texture: ",e)}b.bindTexture(b.TEXTURE_2D,null);this.sd=null};f.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.dj&&1<a.dj?a.dj--:(this.hd(),a===this.sd&&(this.i.bindTexture(this.i.TEXTURE_2D,null),this.sd=null),a===this.td&&(this.i.activeTexture(this.i.TEXTURE1),this.i.bindTexture(this.i.TEXTURE_2D,null),this.i.activeTexture(this.i.TEXTURE0),
this.td=null),Aa(t,a),"undefined"!==typeof a.gm&&delete g[a.gm],this.i.deleteTexture(a)))};f.prototype.nb=function(a){if(a!==this.ug){var c=this.Ta();c.type=6;this.ug=c.qb=a;this.Ca=!1}};db=f})();
(function(){function f(h){if(h&&(h.getContext||h.dc)&&!h.c2runtime){h.c2runtime=this;var b=this;this.gc=(this.Zf=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.Nc=!!h.dc;this.fo="undefined"!==typeof window.AppMobi||
this.Nc;this.yb=!!window.c2cocoonjs;this.Qb=!!window.c2ejecta;this.yb&&(CocoonJS.App.onSuspended.addEventListener(function(){b.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){b.setSuspended(!1)}));this.Qb&&(document.addEventListener("pagehide",function(){b.setSuspended(!0)}),document.addEventListener("pageshow",function(){b.setSuspended(!1)}),document.addEventListener("resize",function(){b.setSize(window.innerWidth,window.innerHeight)}));this.Ra=this.Nc||this.yb||this.Qb;this.$f=
/edge\//i.test(navigator.userAgent);this.qd=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.$f;this.Nj=/tizen/i.test(navigator.userAgent);this.Lj=/android/i.test(navigator.userAgent)&&!this.Nj&&!this.qd&&!this.$f;this.Qj=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.qd&&!this.$f;this.mo=/ipad/i.test(navigator.userAgent);this.Rh=this.Qj||this.mo||this.Qb;this.Hh=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.qd&&!this.$f;this.Kj=/amazonwebappplatform/i.test(navigator.userAgent);this.io=/firefox/i.test(navigator.userAgent);this.Oc="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.Oj=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.ko=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.Ud=!("undefined"===
typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.Ph=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.Oh=!!window.cr_windows10;this.Nh=this.Oj||this.ko||this.Ph||this.Oh;this.ho=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.Mj=this.Lj&&!this.Hh&&!this.Zf&&!this.io&&!this.Kj&&!this.Ra;this.devicePixelRatio=1;this.rd=this.gc||this.Zf||this.fo||this.yb||this.Lj||this.Rh||this.Ud||this.Ph||this.ho||this.Nj||this.Qb;this.rd||
(this.rd=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.Mh=!!(this.Rh&&this.gc&&window.indexedDB);this.Bh=null;this.ao="";this.Mh&&(this.Bh=cordova&&cordova.plugins&&cordova.plugins.CorHttpd?cordova.plugins.CorHttpd:null);"undefined"===typeof cr_is_preview||this.Oc||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||(this.Oc=!0);this.canvas=h;this.fj=document.getElementById("c2canvasdiv");
this.j=this.i=null;this.yh="(unavailable)";this.P=!1;this.gd=0;this.I=null;this.ph="";this.Nf=!1;this.xk=this.yk=0;this.canvas.oncontextmenu=function(h){h.preventDefault&&h.preventDefault();return!1};this.canvas.onselectstart=function(h){h.preventDefault&&h.preventDefault();return!1};this.Nc&&(window.c2runtime=this);this.Oc&&(window.ondragover=function(h){h.preventDefault();return!1},window.ondrop=function(h){h.preventDefault();return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());
this.Mj&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=h.width;this.height=h.height;this.n=this.width;this.m=this.height;this.Ff=this.width;this.Fe=this.height;this.Zd=window.innerWidth;this.Yd=window.innerHeight;this.vn=!1;this.Q=!0;this.Ve=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.g=[];this.V=[];this.Vh={};this.zb=[];this.jh={};this.cc=[];this.sl=[];this.Gg=[];this.Yl=[];this.Zl=[];this.ed={};this.Jh=
this.Mc=!1;this.ic=0;this.Ih=this.Lh=!1;this.Ib=[];this.Te=!1;this.jc=this.Da=this.jg=this.ti="";this.uf=this.$k=!1;this.Mf=[];this.fd=this.Pd=0;this.pk=30;this.dh=this.ff=0;this.xf=1;this.ib=new Ua;this.Lg=new Ua;this.rg=this.Qf=this.Kf=this.rc=this.vd=this.oh=this.eg=0;this.$g=null;this.lj=[];this.ih=[];this.Jf=-1;this.$h=[[]];this.Bi=this.mg=0;this.ji(null);this.Le=this.tk=this.hf=0;this.vf=[];this.xi=this.mi=-1;this.dg=!0;this.be=0;this.Ue=!1;this.$o=0;this.ze=null;this.vk=new ba;this.bi=new ba;
this.wk=new ba;this.Lk=[];new Wa([]);new Wa([]);this.Jd=[];this.Uf={};this.Hc={};this.zc={};this.ue={};this.bj={};this.Wj=this.ig=this.ba=this.fa=this.Vj=this.hg=this.M=null;this.se=this.Qh=!1;this.qh=[null,null];this.ld=0;this.mc={};this.tf=this.Sc=null;this.al="";this.qg=[];this.Jo()}}function m(h,b){return 128>=b?h[3]:256>=b?h[2]:512>=b?h[1]:h[0]}function q(){try{return!!window.indexedDB}catch(h){return!1}}function p(h){h.target.result.createObjectStore("saves",{keyPath:"slot"})}function u(h,b,
a,e){try{var c=indexedDB.open("_C2SaveStates");c.onupgradeneeded=p;c.onerror=e;c.onsuccess=function(c){c=c.target.result;c.onerror=e;c.transaction(["saves"],"readwrite").objectStore("saves").put({slot:h,data:b}).onsuccess=a}}catch(k){e(k)}}function t(h,b,a){try{var e=indexedDB.open("_C2SaveStates");e.onupgradeneeded=p;e.onerror=a;e.onsuccess=function(e){e=e.target.result;e.onerror=a;var c=e.transaction(["saves"]).objectStore("saves").get(h);c.onsuccess=function(){c.result?b(c.result.data):b(null)}}}catch(c){a(c)}}
function g(){x("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function a(h){var b,a={};for(b in h)!h.hasOwnProperty(b)||h[b]instanceof ba||h[b]&&"undefined"!==typeof h[b].Eq||"spriteCreatedDestroyCallback"!==b&&(a[b]=h[b]);return a}var c=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||
window.oRequestAnimationFrame;f.prototype.Jo=function(){var h=this;if(this.Mh)this.Bh?this.Bh.startServer({port:0,localhost_only:!0},function(b){h.ao=b;h.rj(function(b){h.ae(JSON.parse(b))},function(){alert("Error fetching data.js")})},function(h){alert("error starting local server: "+h)}):this.rj(function(b){h.ae(JSON.parse(b))},function(){alert("Error fetching data.js")});else{var b;this.Ud?b=new ActiveXObject("Microsoft.XMLHTTP"):b=new XMLHttpRequest;var a="data.js";if(this.Oj||this.Ud||this.Ph||
this.Oh)a="data.json";b.open("GET",a,!0);var e=!1;if(!this.Ra&&"response"in b&&"responseType"in b)try{b.responseType="json",e="json"===b.responseType}catch(c){e=!1}if(!e&&"responseType"in b)try{b.responseType="text"}catch(k){}if("overrideMimeType"in b)try{b.overrideMimeType("application/json; charset=utf-8")}catch(n){}this.Ud?b.onreadystatechange=function(){4===b.readyState&&h.ae(JSON.parse(b.responseText))}:(b.onload=function(){if(e)h.ae(b.response);else if(h.Qb){var a=b.responseText,a=a.substr(a.indexOf("{"));
h.ae(JSON.parse(a))}else h.ae(JSON.parse(b.responseText))},b.onerror=function(h){ea("Error requesting "+a+":");ea(h)});b.send()}};f.prototype.eo=function(){var h=this,b,a,e,c,k,n,d,l,f;this.Td=(!this.Ra||this.Qb||this.gc)&&this.mp&&!this.Mj;0===this.Oa&&this.Rh&&(this.Td=!1);this.devicePixelRatio=this.Td?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.ya();a=!(!this.vn&&(!this.Pg||this.Oc||this.Nh||this.Ud||this.Zf||this.gc||
this.Kj));0<this.Oa&&this.setSize(window.innerWidth,window.innerHeight,!0);try{this.Km&&(this.yb||this.Qb||!this.Ra)&&(b={alpha:a,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.i=this.canvas.getContext("webgl",b)||this.canvas.getContext("experimental-webgl",b))}catch(g){}if(this.i){if(b=this.i.getExtension("WEBGL_debug_renderer_info"))this.yh=this.i.getParameter(b.UNMASKED_RENDERER_WEBGL)+" ["+this.i.getParameter(b.UNMASKED_VENDOR_WEBGL)+"]";this.P&&(this.yh+=" [front-to-back enabled]");
this.Ra||(this.ua=document.createElement("canvas"),jQuery(this.ua).appendTo(this.canvas.parentNode),this.ua.oncontextmenu=function(){return!1},this.ua.onselectstart=function(){return!1},this.ua.width=Math.round(this.Ff*this.devicePixelRatio),this.ua.height=Math.round(this.Fe*this.devicePixelRatio),jQuery(this.ua).css({width:this.Ff+"px",height:this.Fe+"px"}),this.Fk(),this.di=this.ua.getContext("2d"));this.j=new db(this.i,this.rd,this.P);this.j.Bd(this.canvas.width,this.canvas.height);this.j.Lm=0!==
this.Dm;this.I=null;this.canvas.addEventListener("webglcontextlost",function(b){b.preventDefault();h.uo();x("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){h.j.Gj();h.j.Bd(h.j.width,h.j.height,!0);h.fa=null;h.ba=null;h.qh[0]=null;h.qh[1]=null;h.vo();h.Q=!0;x("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);b=0;for(a=this.g.length;b<a;b++)for(k=this.g[b],e=0,c=k.q.length;e<c;e++)d=k.q[e],d.ca=
this.j.xh(d.id),d.Ab=this.j.gi(d.ca),this.se=this.se||this.j.nf(d.ca);b=0;for(a=this.zb.length;b<a;b++){l=this.zb[b];e=0;for(c=l.q.length;e<c;e++)d=l.q[e],d.ca=this.j.xh(d.id),d.Ab=this.j.gi(d.ca);l.Eb();e=0;for(c=l.r.length;e<c;e++){f=l.r[e];k=0;for(n=f.q.length;k<n;k++)d=f.q[k],d.ca=this.j.xh(d.id),d.Ab=this.j.gi(d.ca),this.se=this.se||this.j.nf(d.ca);f.Eb()}}}else{if(0<this.Oa&&this.Nc){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.I=
AppMobi.canvas.getContext("2d");try{this.I.samplingMode=this.F?"smooth":"sharp",this.I.globalScale=1,this.I.HTML5CompatibilityMode=!0,this.I.imageSmoothingEnabled=this.F}catch(v){}0!==this.width&&0!==this.height&&(this.I.width=this.width,this.I.height=this.height)}this.I||(this.yb?(b={antialias:!!this.F,alpha:a},this.I=this.canvas.getContext("2d",b)):(b={alpha:a},this.I=this.canvas.getContext("2d",b)),this.I.webkitImageSmoothingEnabled=this.F,this.I.mozImageSmoothingEnabled=this.F,this.I.msImageSmoothingEnabled=
this.F,this.I.imageSmoothingEnabled=this.F);this.di=this.ua=null}this.hl=function(b){h.re(!1,b)};window==window.top||this.Ra||this.Nh||this.Ud||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.yb&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(x("Reloading for continuous preview"),this.jg="__c2_continuouspreview",
this.uf=!0),this.yo&&!this.rd&&(jQuery(window).focus(function(){h.setSuspended(!1)}),jQuery(window).blur(function(){h.setSuspended(!0)})));window.addEventListener("blur",function(){});this.Ra||(b=function(b){if(cb(b)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(h){}},window.navigator.pointerEnabled?document.addEventListener("pointerdown",b):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",
b):document.addEventListener("touchstart",b),document.addEventListener("mousedown",b));0===this.Oa&&this.Td&&1<this.devicePixelRatio&&this.setSize(this.ia,this.ga,!0);this.ll();this.Xn();this.go();this.S={}};f.prototype.setSize=function(b,a,e){var c=0,k=0,n=0,d=0,d=0;if(this.Zd!==b||this.Yd!==a||e){this.Zd=b;this.Yd=a;var l=this.Oa,f=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.Ue)&&!this.gc;if(f||0!==this.Oa||e)f&&0<this.ld&&(l=this.ld),
e=this.devicePixelRatio,4<=l?(n=this.ia/this.ga,b/a>n?(n*=a,5===l?(d=n*e/this.ia,1<d?d=Math.floor(d):1>d&&(d=1/Math.ceil(1/d)),n=this.ia*d/e,d=this.ga*d/e,c=(b-n)/2,k=(a-d)/2,b=n,a=d):(c=(b-n)/2,b=n)):(d=b/n,5===l?(d=d*e/this.ga,1<d?d=Math.floor(d):1>d&&(d=1/Math.ceil(1/d)),n=this.ia*d/e,d=this.ga*d/e,c=(b-n)/2,k=(a-d)/2,b=n):k=(a-d)/2,a=d),f&&!this.Oc&&(k=c=0)):this.Oc&&this.Ue&&0===this.vj&&(c=Math.floor((b-this.ia)/2),k=Math.floor((a-this.ga)/2),b=this.ia,a=this.ga),2>l&&(this.ye=e),this.Ff=Math.round(b),
this.Fe=Math.round(a),this.width=Math.round(b*e),this.height=Math.round(a*e),this.Q=!0,this.tl?(this.n=this.width,this.m=this.height,this.$a=!0):this.width<this.ia&&this.height<this.ga||1===l?(this.n=this.width,this.m=this.height,this.$a=!0):(this.n=this.ia,this.m=this.ga,this.$a=!1,2===l?(n=this.ia/this.ga,l=this.Zd/this.Yd,l<n?this.n=this.m*l:l>n&&(this.m=this.n/l)):3===l&&(n=this.ia/this.ga,l=this.Zd/this.Yd,l>n?this.n=this.m*l:l<n&&(this.m=this.n/l))),this.fj&&!this.Ra&&(jQuery(this.fj).css({width:Math.round(b)+
"px",height:Math.round(a)+"px","margin-left":Math.floor(c)+"px","margin-top":Math.floor(k)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(b)+"px",height:Math.round(a)+"px"})),this.canvas&&(this.canvas.width=Math.round(b*e),this.canvas.height=Math.round(a*e),this.Qb?(this.canvas.style.left=Math.floor(c)+"px",this.canvas.style.top=Math.floor(k)+"px",this.canvas.style.width=Math.round(b)+"px",this.canvas.style.height=Math.round(a)+"px"):this.Td&&!this.Ra&&(this.canvas.style.width=
Math.round(b)+"px",this.canvas.style.height=Math.round(a)+"px")),this.ua&&(this.ua.width=Math.round(b*e),this.ua.height=Math.round(a*e),this.ua.style.width=this.Ff+"px",this.ua.style.height=this.Fe+"px"),this.j&&this.j.Bd(Math.round(b*e),Math.round(a*e)),this.Nc&&this.I&&(this.I.width=Math.round(b),this.I.height=Math.round(a)),this.I&&(this.I.webkitImageSmoothingEnabled=this.F,this.I.mozImageSmoothingEnabled=this.F,this.I.msImageSmoothingEnabled=this.F,this.I.imageSmoothingEnabled=this.F),this.ll(),
this.Qj&&!this.gc&&window.scrollTo(0,0)}};f.prototype.ll=function(){if(this.cm&&0!==this.ci){var b="portrait";2===this.ci&&(b="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(b):screen.lockOrientation?screen.lockOrientation(b):screen.webkitLockOrientation?screen.webkitLockOrientation(b):screen.mozLockOrientation?screen.mozLockOrientation(b):screen.msLockOrientation&&screen.msLockOrientation(b)}catch(a){console&&console.warn&&console.warn("Failed to lock orientation: ",
a)}}};f.prototype.uo=function(){this.j.jm();this.Qh=!0;var b,a,e;b=0;for(a=this.g.length;b<a;b++)e=this.g[b],e.zk&&e.zk()};f.prototype.vo=function(){this.Qh=!1;var b,a,e;b=0;for(a=this.g.length;b<a;b++)e=this.g[b],e.wo&&e.wo()};f.prototype.Fk=function(){if(!this.Ra){var b=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.Ue)&&!this.gc?jQuery(this.canvas).offset():jQuery(this.canvas).position();b.position="absolute";jQuery(this.ua).css(b)}};
var d=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;f.prototype.setSuspended=function(b){var a;if(b&&!this.Ve)for(x("[Construct 2] Suspending"),this.Ve=!0,-1!==this.mi&&d&&d(this.mi),-1!==this.xi&&clearTimeout(this.xi),b=0,a=this.vf.length;b<a;b++)this.vf[b](!0);else if(!b&&this.Ve){x("[Construct 2] Resuming");this.Ve=!1;this.eg=Qa();this.vd=Qa();b=this.ff=this.Qf=0;for(a=this.vf.length;b<
a;b++)this.vf[b](!1);this.re(!1)}};f.prototype.Xl=function(b){this.vf.push(b)};f.prototype.xc=function(b){return this.qg[b]};f.prototype.ae=function(b){b&&b.project||ea("Project model unavailable");b=b.project;this.name=b[0];this.tj=b[1];this.Oa=b[12];this.vj=b[12];this.ia=b[10];this.ga=b[11];this.Bk=this.ia/2;this.Ck=this.ga/2;this.Ra&&!this.Qb&&(4<=b[12]||0===b[12])&&(x("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.vj=this.Oa=
3);this.Hi=b[18];this.Tc=b[19];if(0===this.Tc){var a=new Image;a.crossOrigin="anonymous";this.Uo(a);this.Sc={ng:a}}else if(4===this.Tc){a=new Image;a.src="";var e=new Image;e.src="";var c=new Image;c.src="";var k=new Image;k.src="";var n=new Image;n.src="";var d=new Image;d.src="";var l=new Image;l.src="";var f=new Image;f.src="";var g=new Image;g.src="";var v=new Image;v.src="";var m=new Image;m.src="";var w=new Image;w.src="";this.Sc={ng:[a,e,c,k],Co:[n,d,l,f],pp:[g,v,m,w]}}this.hf=b[21];this.qg=
Zb();this.Xb=new Y(this);a=0;for(e=b[2].length;a<e;a++)l=b[2][a],c=this.xc(l[0]),eb(l,c.prototype),f=new c(this),f.Ag=l[1],f.Pc=l[2],f.qk=l[9],f.Ea&&f.Ea(),this.plugins.push(f);this.qg=Zb();a=0;for(e=b[3].length;a<e;a++){l=b[3][a];n=this.xc(l[1]);f=null;c=0;for(k=this.plugins.length;c<k;c++)if(this.plugins[c]instanceof n){f=this.plugins[c];break}g=new f.ad(f);g.name=l[0];g.J=l[2];g.Fh=l[3].slice(0);g.np=l[3].length;g.em=l[4];g.wn=l[5];g.G=l[11];g.J?(g.ok=[],g.fc=this.Le++,g.T=null):(g.ok=null,g.fc=
-1,g.T=[]);g.Lf=null;g.Rd=null;g.nj=null;g.hb=!1;g.Na=null;l[6]?(g.bp=l[6][0],g.cp=l[6][1],g.dp=l[6][2]):(g.bp=null,g.cp=0,g.dp=0);l[7]?g.$l=l[7]:g.$l=null;g.index=a;g.d=[];g.Hf=[];g.qc=[new fb(g)];g.Jb=0;g.Lb=null;g.mm=0;g.pe=!0;g.Hg=gb;g.An=hb;g.Gn=ib;g.U=jb;g.pf=kb;g.ii=lb;g.ie=mb;g.Rf=nb;g.rh=ob;g.uh=pb;g.Kd=qb;g.vh=rb;g.gj=new Xa(this.ia,this.ga);g.Ui=!0;g.Vi=!1;g.S={};g.toString=sb;g.V=[];c=0;for(k=l[8].length;c<k;c++){v=l[8][c];m=this.xc(v[1]);w=null;n=0;for(d=this.V.length;n<d;n++)if(this.V[n]instanceof
m){w=this.V[n];break}w||(w=new m(this),w.rk=[],w.ai=new ba,w.Ea&&w.Ea(),this.V.push(w));-1===w.rk.indexOf(g)&&w.rk.push(g);n=new w.ad(w,g);n.name=v[0];n.G=v[2];n.Ea();g.V.push(n)}g.global=l[9];g.Kh=l[10];g.q=[];c=0;for(k=l[12].length;c<k;c++)g.q.push({id:l[12][c][0],name:l[12][c][1],ca:-1,Ab:!1,Xa:!0,index:c});g.Oq=l[13];this.Hi&&!g.J&&!g.Kh&&f.Pc||g.Ea();g.name&&(this.types[g.name]=g);this.g.push(g);f.Ag&&(c=new f.Gb(g),c.uid=this.hf++,c.Ik=this.tk++,c.nd=0,c.Ne=tb,c.toString=ub,c.lb=l[14],c.Ea(),
g.d.push(c),this.mc[c.uid.toString()]=c)}a=0;for(e=b[4].length;a<e;a++)for(n=b[4][a],d=this.g[n[0]],c=1,k=n.length;c<k;c++)l=this.g[n[c]],l.T.push(d),d.ok.push(l);a=0;for(e=b[28].length;a<e;a++){n=b[28][a];d=[];c=0;for(k=n.length;c<k;c++)d.push(this.g[n[c]]);c=0;for(k=d.length;c<k;c++)d[c].hb=!0,d[c].Na=d}if(0<this.Le)for(a=0,e=this.g.length;a<e;a++)if(l=this.g[a],!l.J&&l.T.length){l.Lf=Array(this.Le);l.Rd=Array(this.Le);l.nj=Array(this.Le);g=[];c=w=m=v=0;for(k=l.T.length;c<k;c++)for(f=l.T[c],l.Lf[f.fc]=
v,v+=f.np,l.Rd[f.fc]=m,m+=f.em,l.nj[f.fc]=w,w+=f.wn,n=0,d=f.q.length;n<d;n++)g.push(sa({},f.q[n]));l.q=g.concat(l.q);c=0;for(k=l.q.length;c<k;c++)l.q[c].index=c}a=0;for(e=b[5].length;a<e;a++)l=b[5][a],c=new vb(this,l),this.Vh[c.name]=c,this.zb.push(c);a=0;for(e=b[6].length;a<e;a++)l=b[6][a],c=new wb(this,l),this.jh[c.name]=c,this.cc.push(c);a=0;for(e=this.cc.length;a<e;a++)this.cc[a].Z();a=0;for(e=this.cc.length;a<e;a++)this.cc[a].Ei();a=0;for(e=this.Gg.length;a<e;a++)this.Gg[a].Z();R(this.Gg);this.am=
b[7];this.he=b[9];this.ye=1;this.Km=b[13];this.F=b[14];this.Pg=b[15];this.mp=b[17];this.ci=b[20];this.cm=0<this.ci;this.yo=b[22];this.$a=this.tl=b[23];this.Dm=b[24];this.Eo=b[25];this.P=b[27]&&!this.qd;this.Bg=Date.now();R(this.qg);this.eo()};var b=0,e=!1;f.prototype.Xn=function(){this.ze&&(b=this.ze.Lq(this.am))};f.prototype.Wi=function(){var a=b,c=0,k=0,n=!0,d,l,k=0;for(d=this.sl.length;k<d;k++){l=this.sl[k];var g=l.Fq;if(!g||0>=g)g=5E4;a+=g;l.src&&(l.complete||l.loaded)&&!l.Dq?c+=g:n=!1}n&&this.Eo&&
this.ze&&(e||(this.ze.Mq(),e=!0),k=this.ze.Gq(),c+=k,k<b&&(n=!1));this.Bb=0==a?1:c/a;return n};var l=!1;f.prototype.go=function(){if(this.I||this.j){var b=this.I||this.di;this.ua&&this.Fk();var a=window.innerWidth,e=window.innerHeight;this.Zd===a&&this.Yd===e||this.setSize(a,e);this.Bb=0;this.Uj=-1;var k=this;if(this.Wi()&&(4!==this.Tc||l))this.Yn();else{e=Date.now()-this.Bg;if(b){var n=this.width,d=this.height,a=this.devicePixelRatio;if(3>this.Tc&&(this.yb||500<=e&&this.Uj!=this.Bb)){b.clearRect(0,
0,n,d);var e=n/2,d=d/2,n=0===this.Tc&&this.Sc.ng.complete,g=40*a,f=0,v=80*a,m;if(n){var w=this.Sc.ng,v=w.width*a;m=w.height*a;g=v/2;f=m/2;b.drawImage(w,O(e-g),O(d-f),v,m)}1>=this.Tc?(e=O(e-g)+.5,d=O(d+(f+(n?12*a:0)))+.5,b.fillStyle="DodgerBlue",b.fillRect(e,d,Math.floor(v*this.Bb),6*a),b.strokeStyle="black",b.strokeRect(e,d,v,6*a),b.strokeStyle="white",b.strokeRect(e-1*a,d-1*a,v+2*a,8*a)):2===this.Tc&&(b.font=this.Qb?"12pt ArialMT":"12pt Arial",b.fillStyle="#999",b.Nq="middle",a=Math.round(100*this.Bb)+
"%",n=b.measureText?b.measureText(a):null,b.fillText(a,e-(n?n.width:0)/2,d));this.Uj=this.Bb}else if(4===this.Tc){this.Im(b);c?c(function(){k.go()}):setTimeout(function(){k.go()},16);return}}setTimeout(function(){k.go()},this.yb?10:100)}}};var n=-1,w="undefined"===typeof cr_is_preview?200:0,r=!0,H=!1,k=0,v=0,Ka="undefined"===typeof cr_is_preview?3E3:0,E=null,A=null,F=0;f.prototype.Im=function(b){if(!l){for(var a=Math.ceil(this.width),e=Math.ceil(this.height),c=this.Sc.ng,d=this.Sc.Co,g=this.Sc.pp,
f=0;4>f;++f)if(!c[f].complete||!d[f].complete||!g[f].complete)return;0===F&&(n=Date.now());var f=Date.now(),t=!1,p=b,q,u;r||H?(b.clearRect(0,0,a,e),E&&E.width===a&&E.height===e||(E=document.createElement("canvas"),E.width=a,E.height=e,A=E.getContext("2d")),p=A,t=!0,r&&1===F&&(n=Date.now())):b.globalAlpha=1;p.fillStyle="#333333";p.fillRect(0,0,a,e);256<this.Fe?(q=Ba(.22*e,105,.6*a),u=.25*q,p.drawImage(m(d,q),.5*a-q/2,.2*e-u/2,q,u),u=q=Math.min(.395*e,.95*a),p.drawImage(m(c,q),.5*a-q/2,.485*e-u/2,q,
u),q=Ba(.22*e,105,.6*a),u=.25*q,p.drawImage(m(g,q),.5*a-q/2,.868*e-u/2,q,u),p.fillStyle="#3C3C3C",q=a,u=Math.max(.005*e,2),p.fillRect(0,.8*e-u/2,q,u),p.fillStyle="#E0FF65",q=a*this.Bb,p.fillRect(.5*a-q/2,.8*e-u/2,q,u)):(u=q=.55*e,p.drawImage(m(c,q),.5*a-q/2,.45*e-u/2,q,u),p.fillStyle="#3C3C3C",q=a,u=Math.max(.005*e,2),p.fillRect(0,.85*e-u/2,q,u),p.fillStyle="#E0FF65",q=a*this.Bb,p.fillRect(.5*a-q/2,.85*e-u/2,q,u));t&&(r?b.globalAlpha=0===F?0:Math.min((f-n)/300,1):H&&(b.globalAlpha=Math.max(1-(f-v)/
300,0)),b.drawImage(E,0,0,a,e));r&&300<=f-n&&2<=F&&(r=!1,k=f);!r&&f-k>=Ka&&!H&&1<=this.Bb&&(H=!0,v=f);if(H&&f-v>=300+w||"undefined"!==typeof cr_is_preview&&1<=this.Bb&&500>Date.now()-n)l=!0,H=r=!1,this.Sc=A=E=null;++F}};f.prototype.Yn=function(){this.ua&&(this.canvas.parentNode.removeChild(this.ua),this.ua=this.di=null);this.Bg=Date.now();this.vd=Qa();var b,a,e;if(this.Hi)for(b=0,a=this.g.length;b<a;b++)e=this.g[b],e.J||e.Kh||!e.ja.Pc||e.Ea();else this.dg=!1;b=0;for(a=this.zb.length;b<a;b++)this.zb[b].km();
2<=this.Oa&&(b=this.ia/this.ga,a=this.width/this.height,this.ye=2!==this.Oa&&a>b||2===this.Oa&&a<b?this.height/this.ga:this.width/this.ia);this.tj?this.Vh[this.tj].vi():this.zb[0].vi();this.Hi||(this.be=1,this.trigger(Y.prototype.p.Ni,null));navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();b=0;for(a=this.g.length;b<a;b++)e=this.g[b],e.to&&e.to();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.re(!1);this.Nc&&
AppMobi.webview.execute("onGameReady();")};f.prototype.re=function(b,a,e){if(this.M){var k=Qa();if(e||!this.Ve||b){b||(c?this.mi=c(this.hl):this.xi=setTimeout(this.hl,this.rd?1:16));a=a||k;var n=this.Oa;((e=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.gc)||this.Ue)&&0<this.ld&&(n=this.ld);if(0<n){var n=window.innerWidth,d=window.innerHeight;this.Zd===n&&this.Yd===d||this.setSize(n,d)}this.Ra||(e?(this.Nf||(this.ph=jQuery(this.canvas).css("margin")||
"0",this.Nf=!0),this.Hh||this.Oc||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.Nf?(this.Hh||this.Oc||jQuery(this.canvas).css("margin",this.ph),this.ph="",this.Nf=!1,0===this.Oa&&this.setSize(Math.round(this.yk/this.devicePixelRatio),Math.round(this.xk/this.devicePixelRatio),!0)):(this.yk=this.width,this.xk=this.height));this.dg&&(e=this.Wi(),
this.be=this.Bb,e&&(this.dg=!1,this.Bb=1,this.trigger(Y.prototype.p.Ni,null)));this.po(a);!this.Q&&!this.yb||this.Qh||this.uf||b||(this.Q=!1,this.j?this.Mb():this.Jc(),this.tf&&(this.canvas&&this.canvas.toDataURL&&(this.al=this.canvas.toDataURL(this.tf[0],this.tf[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.al),this.trigger(Y.prototype.p.Fl,null)),this.tf=null));this.Iq||(this.rc++,this.Kf++,this.Qf++);this.ff+=Qa()-k}}};f.prototype.po=function(b){var a,e,c,k,n,d,l,g;1E3<=b-this.vd&&(this.vd+=
1E3,1E3<=b-this.vd&&(this.vd=b),this.oh=this.Qf,this.Qf=0,this.dh=this.ff,this.ff=0);a=0;0!==this.eg&&(a=b-this.eg,0>a&&(a=0),this.fd=a/=1E3,.5<this.fd?this.fd=0:this.fd>1/this.pk&&(this.fd=1/this.pk));this.eg=b;this.Pd=this.fd*this.xf;this.ib.add(this.Pd);this.Lg.add(a);b=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.Ue)&&!this.gc;2<=this.Oa||b&&0<this.ld?(a=this.ia/this.ga,e=this.width/this.height,c=this.Oa,b&&0<this.ld&&(c=this.ld),
this.ye=2!==c&&e>a||2===c&&e<a?this.height/this.ga:this.width/this.ia,this.M&&(this.M.Pk(this.M.scrollX),this.M.Qk(this.M.scrollY))):this.ye=this.Td?this.devicePixelRatio:1;this.ya();this.ic++;this.Xb.Mo();this.ic--;this.ya();this.ic++;e=this.vk.Ed();b=0;for(a=e.length;b<a;b++)e[b].Jq();b=0;for(a=this.g.length;b<a;b++)if(d=this.g[b],!d.J&&(d.V.length||d.T.length))for(e=0,c=d.d.length;e<c;e++)for(l=d.d[e],k=0,n=l.C.length;k<n;k++)l.C[k].re();b=0;for(a=this.g.length;b<a;b++)if(d=this.g[b],!d.J&&(d.V.length||
d.T.length))for(e=0,c=d.d.length;e<c;e++)for(l=d.d[e],k=0,n=l.C.length;k<n;k++)g=l.C[k],g.Bo&&g.Bo();e=this.bi.Ed();b=0;for(a=e.length;b<a;b++)e[b].re();this.ic--;this.Zn();for(b=0;this.$g&&10>b++;)this.mj(this.$g);b=0;for(a=this.cc.length;b<a;b++)this.cc[b].Ah=!1;this.M.jd&&this.M.jd.ka();R(this.Lk);this.ic++;b=0;for(a=this.g.length;b<a;b++)if(d=this.g[b],!d.J&&(d.V.length||d.T.length))for(e=0,c=d.d.length;e<c;e++)for(l=d.d[e],k=0,n=l.C.length;k<n;k++)g=l.C[k],g.gl&&g.gl();e=this.wk.Ed();b=0;for(a=
e.length;b<a;b++)e[b].gl();this.ic--};f.prototype.mj=function(b){var a=this.M;this.M.ap();var e,c,k;if(this.j)for(e=0,c=this.g.length;e<c;e++)k=this.g[e],k.J||!k.jp||k.global&&0!==k.d.length||-1!==b.Re.indexOf(k)||k.jp();a==b&&R(this.Xb.Wa);R(this.Lk);this.Mk(!0);b.vi();this.Mk(!1);this.Q=!0;this.ya()};f.prototype.Mk=function(b){var a,e,c,k,n,d,l,g,f;a=0;for(e=this.V.length;a<e;a++)c=this.V[a],b?c.jf&&c.jf():c.lf&&c.lf();a=0;for(e=this.g.length;a<e;a++)if(c=this.g[a],c.global||c.ja.Ag)for(k=0,n=c.d.length;k<
n;k++)if(d=c.d[k],b?d.jf&&d.jf():d.lf&&d.lf(),d.C)for(l=0,g=d.C.length;l<g;l++)f=d.C[l],b?f.jf&&f.jf():f.lf&&f.lf()};f.prototype.ep=function(b){this.bi.add(b)};f.prototype.zn=function(b){return b&&-1!==b.gf?this.fd*b.gf:this.Pd};f.prototype.Jc=function(){this.M.Jc(this.I);this.Nc&&this.I.present()};f.prototype.Mb=function(){this.P&&(this.gd=1,this.M.He(this.j));this.M.Mb(this.j);this.j.Go()};f.prototype.Bj=function(b){b=b.toString();return this.mc.hasOwnProperty(b)?this.mc[b]:null};var I=[];f.prototype.Gd=
function(b){var a,e;a=b.type.name;var c=null;if(this.ed.hasOwnProperty(a)){if(c=this.ed[a],c.contains(b))return}else c=I.length?I.pop():new ba,this.ed[a]=c;c.add(b);this.Mc=!0;if(b.hb)for(a=0,e=b.siblings.length;a<e;a++)this.Gd(b.siblings[a]);this.Jh&&c.te.push(b);this.Ih||(this.ic++,this.trigger(Object.getPrototypeOf(b.type.ja).p.Gl,b),this.ic--)};f.prototype.ya=function(){if(this.Mc){var b,a,e,c,k,n;this.Jh=!0;e=0;for(k=this.Ib.length;e<k;++e)for(b=this.Ib[e],a=b.type,a.d.push(b),c=0,n=a.T.length;c<
n;++c)a.T[c].d.push(b),a.T[c].pe=!0;R(this.Ib);this.Dl();Pa(this.ed);this.Mc=this.Jh=!1}};f.prototype.Dl=function(){for(var b in this.ed)this.ed.hasOwnProperty(b)&&this.yl(this.ed[b])};f.prototype.yl=function(b){var a=b.Ed(),e=a[0].type,c,k,n,d,l,g;Ra(e.d,b);e.pe=!0;0===e.d.length&&(e.Vi=!1);c=0;for(k=e.T.length;c<k;++c)g=e.T[c],Ra(g.d,b),g.pe=!0;c=0;for(k=this.Xb.Wa.length;c<k;++c)if(l=this.Xb.Wa[c],l.Va.hasOwnProperty(e.index)&&Ra(l.Va[e.index].pd,b),!e.J)for(n=0,d=e.T.length;n<d;++n)g=e.T[n],l.Va.hasOwnProperty(g.index)&&
Ra(l.Va[g.index].pd,b);if(l=a[0].e){if(l.fb)for(n=l.d,c=0,k=n.length;c<k;++c)d=n[c],b.contains(d)&&(d.xa(),l.wa.update(d,d.Ka,null),d.Ka.set(0,0,-1,-1));Ra(l.d,b);l.rf(0)}for(c=0;c<a.length;++c)this.xl(a[c],e);b.clear();I.push(b);this.Q=!0};f.prototype.xl=function(b,a){var e,c,k;e=0;for(c=this.lj.length;e<c;++e)this.lj[e](b);b.Ic&&a.gj.update(b,b.Ic,null);(e=b.e)&&e.me(b,!0);if(b.C)for(e=0,c=b.C.length;e<c;++e)k=b.C[e],k.kf&&k.kf(),k.behavior.ai.remove(b);this.vk.remove(b);this.bi.remove(b);this.wk.remove(b);
b.kf&&b.kf();this.mc.hasOwnProperty(b.uid.toString())&&delete this.mc[b.uid.toString()];this.rg--;100>a.Hf.length&&a.Hf.push(b)};var y=[];f.prototype.dd=function(b,a,e,c,k,n){var d,l,g,f;if(!b)return null;var v=this.g[b[1]],m=v.ja.Pc;if(this.dg&&m&&!v.Kh||m&&!this.j&&11===b[0][11])return null;var w=a;m||(a=null);var r;v.Hf.length?(r=v.Hf.pop(),r.Tb=!0,v.ja.Gb.call(r,v)):(r=new v.ja.Gb(v),r.Tb=!1);!e||n||this.mc.hasOwnProperty(b[2].toString())?r.uid=this.hf++:r.uid=b[2];this.mc[r.uid.toString()]=r;
r.Ik=this.tk++;r.nd=v.d.length;d=0;for(l=this.Ib.length;d<l;++d)this.Ib[d].type===v&&r.nd++;r.Ne=tb;r.toString=ub;g=b[3];if(r.Tb)Pa(r.S);else{r.S={};if("undefined"!==typeof cr_is_preview)for(r.Jj=[],r.Jj.length=g.length,d=0,l=g.length;d<l;d++)r.Jj[d]=g[d][1];r.da=[];r.da.length=g.length}d=0;for(l=g.length;d<l;d++)r.da[d]=g[d][0];if(m){var p=b[0];r.x=ga(c)?p[0]:c;r.y=ga(k)?p[1]:k;r.z=p[2];r.width=p[3];r.height=p[4];r.depth=p[5];r.k=p[6];r.opacity=p[7];r.Wf=p[8];r.Xf=p[9];r.za=p[10];d=p[11];!this.j&&
v.q.length&&(r.za=d);r.Be=Za(r.za);this.i&&$a(r,r.za,this.i);if(r.Tb){d=0;for(l=p[12].length;d<l;d++)for(g=0,f=p[12][d].length;g<f;g++)r.W[d][g]=p[12][d][g];r.qa.set(0,0,0,0);r.Ic.set(0,0,-1,-1);r.Ka.set(0,0,-1,-1);r.Ld.zg(r.qa);R(r.Sg)}else{r.W=p[12].slice(0);d=0;for(l=r.W.length;d<l;d++)r.W[d]=p[12][d].slice(0);r.D=[];r.yc=[];r.yc.length=v.q.length;r.qa=new Q(0,0,0,0);r.Ic=new Q(0,0,-1,-1);r.Ka=new Q(0,0,-1,-1);r.Ld=new ra;r.Sg=[];r.pa=xb;r.Cq=yb;r.Hb=zb;r.xa=Ab;r.lp=Bb;r.Pq=Cb;r.Ob=Db}r.gp=!1;
r.ip=0;r.hp=0;r.fp=null;14===p.length&&(r.gp=!0,r.ip=p[13][0],r.hp=p[13][1],r.fp=p[13][2]);d=0;for(l=v.q.length;d<l;d++)r.yc[d]=!0;r.oc=!0;r.Eb=Eb;r.Eb();r.ql=!!r.D.length;r.Rg=!0;r.Xg=!0;v.Ui=!0;r.visible=!0;r.gf=-1;r.e=a;r.Fb=a.d.length;r.gd=0;"undefined"===typeof r.Ae&&(r.Ae=null);this.Q=r.Df=!0}var t;R(y);d=0;for(l=v.T.length;d<l;d++)y.push.apply(y,v.T[d].V);y.push.apply(y,v.V);if(r.Tb)for(d=0,l=y.length;d<l;d++){var q=y[d];t=r.C[d];t.Tb=!0;q.behavior.Gb.call(t,q,r);p=b[4][d];g=0;for(f=p.length;g<
f;g++)t.lb[g]=p[g];t.Ea();q.behavior.ai.add(r)}else for(r.C=[],d=0,l=y.length;d<l;d++)q=y[d],t=new q.behavior.Gb(q,r),t.Tb=!1,t.lb=b[4][d].slice(0),t.Ea(),r.C.push(t),q.behavior.ai.add(r);p=b[5];if(r.Tb)for(d=0,l=p.length;d<l;d++)r.lb[d]=p[d];else r.lb=p.slice(0);this.Ib.push(r);this.Mc=!0;a&&(a.xe(r,!0),1!==a.fe||1!==a.ge)&&(v.Vi=!0);this.rg++;if(v.hb){if(r.hb=!0,r.Tb?R(r.siblings):r.siblings=[],!e&&!n){d=0;for(l=v.Na.length;d<l;d++)if(v.Na[d]!==v){if(!v.Na[d].Lb)return null;r.siblings.push(this.dd(v.Na[d].Lb,
w,!1,m?r.x:c,m?r.y:k,!0))}d=0;for(l=r.siblings.length;d<l;d++)for(r.siblings[d].siblings.push(r),g=0;g<l;g++)d!==g&&r.siblings[d].siblings.push(r.siblings[g])}}else r.hb=!1,r.siblings=null;r.Ea();d=0;for(l=r.C.length;d<l;d++)r.C[d].Ao&&r.C[d].Ao();return r};f.prototype.Dn=function(b){var a,e;a=0;for(e=this.M.r.length;a<e;a++){var c=this.M.r[a];if(bb(c.name,b))return c}return null};f.prototype.En=function(b){b=O(b);0>b&&(b=0);b>=this.M.r.length&&(b=this.M.r.length-1);return this.M.r[b]};f.prototype.ah=
function(b){var a,e;a=0;for(e=b.length;a<e;a++)b[a].U().oa=!0};f.prototype.pf=function(b){var a,e;a=0;for(e=b.length;a<e;a++)b[a].pf()};f.prototype.ii=function(b){var a,e;a=0;for(e=b.length;a<e;a++)b[a].ii()};f.prototype.ie=function(b){var a,e;a=0;for(e=b.length;a<e;a++)b[a].ie()};new ra;new Q(0,0,0,0);f.prototype.ml=function(b,a){if(!a)return!1;var e,c,k,d,n;e=0;for(c=b.V.length;e<c;e++)if(b.V[e].behavior instanceof a)return!0;if(!b.J)for(e=0,c=b.T.length;e<c;e++)for(n=b.T[e],k=0,d=n.V.length;k<
d;k++)if(n.V[k].behavior instanceof a)return!0;return!1};f.prototype.Ci=function(b){return this.ml(b,Sb.Up)};f.prototype.Di=function(b){return this.ml(b,Sb.Wp)};var D=-1;f.prototype.trigger=function(b,a,e){if(!this.M)return!1;var c=this.M.jd;if(!c)return!1;var k=!1,d,n,l;D++;var g=c.gh;n=0;for(l=g.length;n<l;++n)d=this.jl(b,a,g[n],e),k=k||d;d=this.jl(b,a,c,e);D--;return k||d};f.prototype.jl=function(b,a,e,c){var k=!1,d,n,l,g;if(a)for(l=this.Ai(b,a,a.type.name,e,c),k=k||l,g=a.type.T,d=0,n=g.length;d<
n;++d)l=this.Ai(b,a,g[d].name,e,c),k=k||l;else l=this.Ai(b,a,"system",e,c),k=k||l;return k};f.prototype.Ai=function(b,a,e,c,k){var d,n=!1,l=!1,l="undefined"!==typeof k,g=(l?c.pj:c.kl)[e];if(!g)return n;var f=null;c=0;for(d=g.length;c<d;++c)if(g[c].method==b){f=g[c].Ke;break}if(!f)return n;var v;l?v=f[k]:v=f;if(!v)return null;c=0;for(d=v.length;c<d;c++)b=v[c][0],k=v[c][1],l=this.sn(a,e,b,k),n=n||l;return n};f.prototype.sn=function(b,a,e,c){var k,d,n=!1;this.Bi++;var l=this.ab().Kb;l&&this.pf(l.Xc);
var g=1<this.Bi;this.pf(e.Xc);g&&this.Io();var f=this.ji(e);f.Kb=e;b&&(k=this.types[a].U(),k.oa=!1,R(k.d),k.d[0]=b,this.types[a].Kd());b=!0;if(e.parent){a=f.dl;for(k=e.parent;k;)a.push(k),k=k.parent;a.reverse();k=0;for(d=a.length;k<d;k++)if(!a[k].Oo()){b=!1;break}}b&&(this.Kf++,e.nc?e.No(c):e.ka(),n=n||f.ud);this.Ek();g&&this.zo();this.ie(e.Xc);l&&this.ie(l.Xc);this.Mc&&0===this.ic&&0===D&&!this.Lh&&this.ya();this.Bi--;return n};f.prototype.yn=function(){var b=this.ab();return b.Kb.Aa[b.Ma]};f.prototype.Io=
function(){this.mg++;this.mg>=this.$h.length&&this.$h.push([])};f.prototype.zo=function(){this.mg--};f.prototype.wj=function(){return this.$h[this.mg]};f.prototype.ji=function(b){this.Jf++;this.Jf>=this.ih.length&&this.ih.push(new Fb);var a=this.ab();a.reset(b);return a};f.prototype.Ek=function(){this.Jf--};f.prototype.ab=function(){return this.ih[this.Jf]};f.prototype.xj=function(b,a){for(var e,c,k,d,n,l;a;){e=0;for(c=a.pb.length;e<c;e++)if(l=a.pb[e],l instanceof Gb&&bb(b,l.name))return l;a=a.parent}e=
0;for(c=this.cc.length;e<c;e++)for(n=this.cc[e],k=0,d=n.Kc.length;k<d;k++)if(l=n.Kc[k],l instanceof Gb&&bb(b,l.name))return l;return null};f.prototype.zj=function(b){var a,e;a=0;for(e=this.zb.length;a<e;a++)if(this.zb[a].G===b)return this.zb[a];return null};f.prototype.Tf=function(b){var a,e;a=0;for(e=this.g.length;a<e;a++)if(this.g[a].G===b)return this.g[a];return null};f.prototype.Bn=function(b){var a,e;a=0;for(e=this.Jd.length;a<e;a++)if(this.Jd[a].G===b)return this.Jd[a];return null};f.prototype.nm=
function(b,a){this.tf=[b,a];this.Q=!0};f.prototype.Zn=function(){var b=this,a=this.ti,e=this.jc,c=this.jg,k=!1;this.$k&&(k=!0,a="__c2_continuouspreview",this.$k=!1);if(a.length){this.ya();e=this.So();if(q()&&!this.yb)u(a,e,function(){x("Saved state to IndexedDB storage ("+e.length+" bytes)");b.jc=e;b.trigger(Y.prototype.p.Og,null);b.jc="";k&&g()},function(c){try{localStorage.setItem("__c2save_"+a,e),x("Saved state to WebStorage ("+e.length+" bytes)"),b.jc=e,b.trigger(Y.prototype.p.Og,null),b.jc="",
k&&g()}catch(d){x("Failed to save game state: "+c+"; "+d),b.trigger(Y.prototype.p.Pi,null)}});else try{localStorage.setItem("__c2save_"+a,e),x("Saved state to WebStorage ("+e.length+" bytes)"),b.jc=e,this.trigger(Y.prototype.p.Og,null),b.jc="",k&&g()}catch(d){x("Error saving to WebStorage: "+d),b.trigger(Y.prototype.p.Pi,null)}this.Da=this.jg=this.ti=""}if(c.length){if(q()&&!this.yb)t(c,function(a){a?(b.Da=a,x("Loaded state from IndexedDB storage ("+b.Da.length+" bytes)")):(b.Da=localStorage.getItem("__c2save_"+
c)||"",x("Loaded state from WebStorage ("+b.Da.length+" bytes)"));b.uf=!1;b.Da.length||b.trigger(Y.prototype.p.Ng,null)},function(){b.Da=localStorage.getItem("__c2save_"+c)||"";x("Loaded state from WebStorage ("+b.Da.length+" bytes)");b.uf=!1;b.Da.length||b.trigger(Y.prototype.p.Ng,null)});else{try{this.Da=localStorage.getItem("__c2save_"+c)||"",x("Loaded state from WebStorage ("+this.Da.length+" bytes)")}catch(n){this.Da=""}this.uf=!1;b.Da.length||b.trigger(Y.prototype.p.Ng,null)}this.ti=this.jg=
""}this.Da.length&&(this.ya(),this.oo(this.Da),this.jc=this.Da,this.trigger(Y.prototype.p.Jl,null),this.Da=this.jc="")};f.prototype.So=function(){var b,e,c,k,d,n,l,g={c2save:!0,version:1,rt:{time:this.ib.Ha,walltime:this.Lg.Ha,timescale:this.xf,tickcount:this.rc,execcount:this.Kf,next_uid:this.hf,running_layout:this.M.G,start_time_offset:Date.now()-this.Bg},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};b=0;for(e=this.g.length;b<e;b++)if(d=this.g[b],!d.J&&!this.Ci(d)){n={instances:[]};
Oa(d.S)&&(n.ex=a(d.S));c=0;for(k=d.d.length;c<k;c++)n.instances.push(this.si(d.d[c]));g.types[d.G.toString()]=n}b=0;for(e=this.zb.length;b<e;b++)c=this.zb[b],g.layouts[c.G.toString()]=c.Wb();k=g.events.groups;b=0;for(e=this.Jd.length;b<e;b++)c=this.Jd[b],k[c.G.toString()]=this.Uf[c.Pe].Oe;e=g.events.cnds;for(l in this.Hc)this.Hc.hasOwnProperty(l)&&(b=this.Hc[l],Oa(b.S)&&(e[l]={ex:a(b.S)}));e=g.events.acts;for(l in this.zc)this.zc.hasOwnProperty(l)&&(b=this.zc[l],Oa(b.S)&&(e[l]={ex:a(b.S)}));e=g.events.vars;
for(l in this.ue)this.ue.hasOwnProperty(l)&&(b=this.ue[l],b.ag||b.parent&&!b.We||(e[l]=b.data));g.system=this.Xb.Wb();return JSON.stringify(g)};f.prototype.Kk=function(){var b,a,e,c,k,d;this.mc={};b=0;for(a=this.g.length;b<a;b++)if(e=this.g[b],!e.J)for(c=0,k=e.d.length;c<k;c++)d=e.d[c],this.mc[d.uid.toString()]=d};f.prototype.oo=function(b){b=JSON.parse(b);if(b.c2save&&!(1<b.version)){this.Te=!0;var a=b.rt;this.ib.reset();this.ib.Ha=a.time;this.Lg.reset();this.Lg.Ha=a.walltime||0;this.xf=a.timescale;
this.rc=a.tickcount;this.Kf=a.execcount;this.Bg=Date.now()-a.start_time_offset;var e=a.running_layout;if(e!==this.M.G)if(e=this.zj(e))this.mj(e);else return;var c,k,d,n,l,g,f;g=b.types;for(k in g)if(g.hasOwnProperty(k)&&(n=this.Tf(parseInt(k,10)))&&!n.J&&!this.Ci(n)){g[k].ex?n.S=g[k].ex:Pa(n.S);l=n.d;d=g[k].instances;e=0;for(c=na(l.length,d.length);e<c;e++)this.kg(l[e],d[e]);e=d.length;for(c=l.length;e<c;e++)this.Gd(l[e]);e=l.length;for(c=d.length;e<c;e++){l=null;if(n.ja.Pc&&(l=this.M.Sf(d[e].w.l),
!l))continue;l=this.dd(n.Lb,l,!1,0,0,!0);this.kg(l,d[e])}n.pe=!0}this.ya();this.Kk();c=b.layouts;for(k in c)c.hasOwnProperty(k)&&(e=this.zj(parseInt(k,10)))&&e.Rc(c[k]);c=b.events.groups;for(k in c)c.hasOwnProperty(k)&&(e=this.Bn(parseInt(k,10)))&&this.Uf[e.Pe]&&this.Uf[e.Pe].To(c[k]);e=b.events.cnds;for(k in this.Hc)this.Hc.hasOwnProperty(k)&&(e.hasOwnProperty(k)?this.Hc[k].S=e[k].ex:this.Hc[k].S={});e=b.events.acts;for(k in this.zc)this.zc.hasOwnProperty(k)&&(e.hasOwnProperty(k)?this.zc[k].S=e[k].ex:
this.zc[k].S={});e=b.events.vars;for(k in e)e.hasOwnProperty(k)&&this.ue.hasOwnProperty(k)&&(this.ue[k].data=e[k]);this.hf=a.next_uid;this.Te=!1;e=0;for(c=this.Mf.length;e<c;++e)l=this.Mf[e],this.trigger(Object.getPrototypeOf(l.type.ja).p.Mi,l);R(this.Mf);this.Xb.Rc(b.system);e=0;for(c=this.g.length;e<c;e++)if(n=this.g[e],!n.J&&!this.Ci(n))for(k=0,b=n.d.length;k<b;k++){l=n.d[k];if(n.hb)for(g=l.Ne(),R(l.siblings),a=0,d=n.Na.length;a<d;a++)f=n.Na[a],n!==f&&l.siblings.push(f.d[g]);l.bd&&l.bd();if(l.C)for(a=
0,d=l.C.length;a<d;a++)g=l.C[a],g.bd&&g.bd()}this.Q=!0}};f.prototype.si=function(b,e){var c,k,d,n,l;n=b.type;d=n.ja;var g={};e?g.c2=!0:g.uid=b.uid;Oa(b.S)&&(g.ex=a(b.S));if(b.da&&b.da.length)for(g.ivs={},c=0,k=b.da.length;c<k;c++)g.ivs[b.type.Fh[c].toString()]=b.da[c];if(d.Pc){d={x:b.x,y:b.y,w:b.width,h:b.height,l:b.e.G,zi:b.Ob()};0!==b.k&&(d.a=b.k);1!==b.opacity&&(d.o=b.opacity);.5!==b.Wf&&(d.hX=b.Wf);.5!==b.Xf&&(d.hY=b.Xf);0!==b.za&&(d.bm=b.za);b.visible||(d.v=b.visible);b.Df||(d.ce=b.Df);-1!==
b.gf&&(d.mts=b.gf);if(n.q.length)for(d.fx=[],c=0,k=n.q.length;c<k;c++)l=n.q[c],d.fx.push({name:l.name,active:b.yc[l.index],params:b.W[l.index]});g.w=d}if(b.C&&b.C.length)for(g.behs={},c=0,k=b.C.length;c<k;c++)n=b.C[c],n.Wb&&(g.behs[n.type.G.toString()]=n.Wb());b.Wb&&(g.data=b.Wb());return g};f.prototype.Cn=function(b,a){var e,c;e=0;for(c=b.Fh.length;e<c;e++)if(b.Fh[e]===a)return e;return-1};f.prototype.xn=function(b,a){var e,c;e=0;for(c=b.C.length;e<c;e++)if(b.C[e].type.G===a)return e;return-1};f.prototype.kg=
function(b,a,e){var c,k,d,n,l;l=b.type;n=l.ja;if(e){if(!a.c2)return}else b.uid=a.uid;a.ex?b.S=a.ex:Pa(b.S);if(k=a.ivs)for(c in k)k.hasOwnProperty(c)&&(d=this.Cn(l,parseInt(c,10)),0>d||d>=b.da.length||(b.da[d]=k[c]));if(n.Pc){d=a.w;b.e.G!==d.l&&(k=b.e,b.e=this.M.Sf(d.l),b.e?(k.me(b,!0),b.e.xe(b,!0),b.pa(),b.e.rf(0)):(b.e=k,e||this.Gd(b)));b.x=d.x;b.y=d.y;b.width=d.w;b.height=d.h;b.Fb=d.zi;b.k=d.hasOwnProperty("a")?d.a:0;b.opacity=d.hasOwnProperty("o")?d.o:1;b.Wf=d.hasOwnProperty("hX")?d.hX:.5;b.Xf=
d.hasOwnProperty("hY")?d.hY:.5;b.visible=d.hasOwnProperty("v")?d.v:!0;b.Df=d.hasOwnProperty("ce")?d.ce:!0;b.gf=d.hasOwnProperty("mts")?d.mts:-1;b.za=d.hasOwnProperty("bm")?d.bm:0;b.Be=Za(b.za);this.i&&$a(b,b.za,this.i);b.pa();if(d.hasOwnProperty("fx"))for(e=0,k=d.fx.length;e<k;e++)n=l.uh(d.fx[e].name),0>n||(b.yc[n]=d.fx[e].active,b.W[n]=d.fx[e].params);b.Eb()}if(l=a.behs)for(c in l)l.hasOwnProperty(c)&&(e=this.xn(b,parseInt(c,10)),0>e||b.C[e].Rc(l[c]));a.data&&b.Rc(a.data)};f.prototype.qj=function(b,
a,e){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+"www/"+b,function(b){b.file(a,e)},e)};f.prototype.rj=function(b,a){this.qj("data.js",function(e){var c=new FileReader;c.onload=function(a){b(a.target.result)};c.onerror=a;c.readAsText(e)},a)};f.prototype.tn=function(b,a){this.qj("loading-logo.png",function(a){var e=new FileReader;e.onload=function(a){b(a.target.result)};e.readAsArrayBuffer(a)},a)};f.prototype.un=function(b,a){this.tn(function(a){a=URL.createObjectURL(new Blob([a]));
b(a)},a)};f.prototype.Uo=function(b){this.Mh?this.un(function(a){b.src=a},function(b){alert("Failed to load image: "+b)}):b.src="loading-logo.png"};Hb=function(b){return new f(document.getElementById(b))};Ib=function(b,a){return new f({dc:!0,width:b,height:a})};window.cr_createRuntime=Hb;window.cr_createDCRuntime=Ib;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var b=document.createElement("screencanvas")||document.createElement("canvas");b.dm=!0;document.body.appendChild(b);b=new f(b);
window.c2runtime=b;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return b};window.createEjectaRuntime=function(){var b=new f(document.getElementById("canvas"));window.c2runtime=b;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return b}})();
window.cr_getC2Runtime=function(){var f=document.getElementById("c2canvas");return f?f.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(f,m){var q=window.cr_getC2Runtime();q&&q.nm(f,m)};window.cr_sizeCanvas=function(f,m){if(0!==f&&0!==m){var q=window.cr_getC2Runtime();q&&q.setSize(f,m)}};window.cr_setSuspended=function(f){var m=window.cr_getC2Runtime();m&&m.setSuspended(f)};
(function(){function f(b,a){this.b=b;this.jd=null;this.scrollX=this.b.ia/2;this.scrollY=this.b.ga/2;this.scale=1;this.k=0;this.Sd=!0;this.name=a[0];this.width=a[1];this.height=a[2];this.nl=a[3];this.Yk=a[4];this.G=a[5];var c=a[6],d,g;this.r=[];this.Re=[];d=0;for(g=c.length;d<g;d++){var f=new Jb(this,c[d]);f.uk=d;this.r.push(f)}c=a[7];this.od=[];d=0;for(g=c.length;d<g;d++){var f=c[d],m=this.b.g[f[1]];m.Lb||(m.Lb=f);this.od.push(f);-1===this.Re.indexOf(m)&&this.Re.push(m)}this.q=[];this.D=[];this.oc=
!0;this.W=[];d=0;for(g=a[8].length;d<g;d++)this.q.push({id:a[8][d][0],name:a[8][d][1],ca:-1,Ab:!1,Xa:!0,index:d}),this.W.push(a[8][d][2].slice(0));this.Eb();this.le=new Q(0,0,1,1);this.ni=new Q(0,0,1,1);this.Vc={}}function m(b,a){return b.Fb-a.Fb}function q(b,a){this.ma=b;this.b=b.b;this.d=[];this.scale=1;this.k=0;this.ac=!1;this.uc=new Q(0,0,0,0);this.il=new ra;this.N=this.L=this.O=this.K=0;this.Fd=!1;this.wc=-1;this.bh=0;this.name=a[0];this.index=a[1];this.G=a[2];this.visible=a[3];this.tb=a[4];
this.Db=a[5];this.fe=a[6];this.ge=a[7];this.opacity=a[8];this.Pf=a[9];this.fb=a[10];this.Ki=a[11];this.za=a[12];this.Jm=a[13];this.Be="source-over";this.Ba=this.Fa=0;this.wa=null;this.kc=p();this.Cb=!0;this.$d=new Q(0,0,-1,-1);this.ra=new Q(0,0,-1,-1);this.fb&&(this.wa=new Ya(this.b.ia,this.b.ga));this.Ub=!1;var c=a[14],d,g;this.cl=[];this.bb=[];this.Ee=[];d=0;for(g=c.length;d<g;d++){var f=c[d],m=this.b.g[f[1]];m.Lb||(m.Lb=f,m.mm=this.index);this.bb.push(f);-1===this.ma.Re.indexOf(m)&&this.ma.Re.push(m)}va(this.cl,
this.bb);this.q=[];this.D=[];this.oc=!0;this.W=[];d=0;for(g=a[15].length;d<g;d++)this.q.push({id:a[15][d][0],name:a[15][d][1],ca:-1,Ab:!1,Xa:!0,index:d}),this.W.push(a[15][d][2].slice(0));this.Eb();this.le=new Q(0,0,1,1);this.ni=new Q(0,0,1,1)}function p(){return a.length?a.pop():[]}function u(b){R(b);a.push(b)}f.prototype.Ro=function(b){var a=b.type.G.toString();this.Vc.hasOwnProperty(a)||(this.Vc[a]=[]);this.Vc[a].push(this.b.si(b))};f.prototype.Dj=function(){var b=this.r[0];return!b.Db&&1===b.opacity&&
!b.Pf&&b.visible};f.prototype.Eb=function(){R(this.D);this.oc=!0;var b,a,c;b=0;for(a=this.q.length;b<a;b++)c=this.q[b],c.Xa&&(this.D.push(c),c.Ab||(this.oc=!1))};f.prototype.sh=function(b){var a,c,d;a=0;for(c=this.q.length;a<c;a++)if(d=this.q[a],d.name===b)return d;return null};var t=[],g=!0;f.prototype.vi=function(){this.Yk&&(this.jd=this.b.jh[this.Yk],this.jd.Ei());this.b.M=this;this.scrollX=this.b.ia/2;this.scrollY=this.b.ga/2;var b,a,c,d,f,r,p;b=0;for(c=this.b.g.length;b<c;b++)if(a=this.b.g[b],
!a.J)for(f=a.d,a=0,d=f.length;a<d;a++)if(r=f[a],r.e){var k=r.e.uk;k>=this.r.length&&(k=this.r.length-1);r.e=this.r[k];-1===r.e.d.indexOf(r)&&r.e.d.push(r);r.e.Fd=!0}if(!g)for(b=0,c=this.r.length;b<c;++b)this.r[b].d.sort(m);R(t);this.fm();b=0;for(c=this.r.length;b<c;b++)r=this.r[b],r.lm(),r.Ig();f=!1;if(!this.Sd){for(p in this.Vc)if(this.Vc.hasOwnProperty(p)&&(a=this.b.Tf(parseInt(p,10)))&&!a.J&&this.b.Di(a)){d=this.Vc[p];b=0;for(c=d.length;b<c;b++){r=null;if(a.ja.Pc&&(r=this.Sf(d[b].w.l),!r))continue;
r=this.b.dd(a.Lb,r,!1,0,0,!0);this.b.kg(r,d[b]);f=!0;t.push(r)}R(d)}b=0;for(c=this.r.length;b<c;b++)this.r[b].d.sort(m),this.r[b].Fd=!0}f&&(this.b.ya(),this.b.Kk());for(b=0;b<t.length;b++)if(r=t[b],r.type.hb)for(c=r.Ne(),a=0,d=r.type.Na.length;a<d;a++)p=r.type.Na[a],r.type!==p&&(p.d.length>c?r.siblings.push(p.d[c]):p.Lb&&(f=this.b.dd(p.Lb,r.e,!0,r.x,r.y,!0),this.b.ya(),p.Hg(),r.siblings.push(f),t.push(f)));b=0;for(c=this.od.length;b<c;b++)this.b.dd(this.od[b],null,!0);this.b.$g=null;this.b.ya();if(this.b.I&&
!this.b.Ra)for(b=0,c=this.b.g.length;b<c;b++)p=this.b.g[b],!p.J&&p.d.length&&p.Do&&p.Do(this.b.I);if(this.b.Te)va(this.b.Mf,t);else for(b=0,c=t.length;b<c;b++)r=t[b],this.b.trigger(Object.getPrototypeOf(r.type.ja).p.Mi,r);R(t);this.b.Te||this.b.trigger(Y.prototype.p.Il,null);this.Sd=!1};f.prototype.km=function(){var b,a,c,d,g;a=b=0;for(c=this.od.length;b<c;b++)d=this.od[b],g=this.b.g[d[1]],g.global?g.hb||this.b.dd(d,null,!0):(this.od[a]=d,a++);ua(this.od,a)};f.prototype.ap=function(){this.b.Te||this.b.trigger(Y.prototype.p.Hl,
null);this.b.Ih=!0;R(this.b.Xb.Wa);var b,a,c,d,f,m;if(!this.Sd)for(b=0,a=this.r.length;b<a;b++)for(this.r[b].Gi(),f=this.r[b].d,c=0,d=f.length;c<d;c++)m=f[c],m.type.global||this.b.Di(m.type)&&this.Ro(m);b=0;for(a=this.r.length;b<a;b++){f=this.r[b].d;c=0;for(d=f.length;c<d;c++)m=f[c],m.type.global||this.b.Gd(m);this.b.ya();R(f);this.r[b].Fd=!0}b=0;for(a=this.b.g.length;b<a;b++)if(f=this.b.g[b],!(f.global||f.ja.Pc||f.ja.Ag||f.J)){c=0;for(d=f.d.length;c<d;c++)this.b.Gd(f.d[c]);this.b.ya()}g=!1;this.b.Ih=
!1};new Q(0,0,0,0);f.prototype.Jc=function(b){var a,c=b,d=!1,g=!this.b.$a;g&&(this.b.ig||(this.b.ig=document.createElement("canvas"),a=this.b.ig,a.width=this.b.n,a.height=this.b.m,this.b.Wj=a.getContext("2d"),d=!0),a=this.b.ig,c=this.b.Wj,a.width!==this.b.n&&(a.width=this.b.n,d=!0),a.height!==this.b.m&&(a.height=this.b.m,d=!0),d&&(c.webkitImageSmoothingEnabled=this.b.F,c.mozImageSmoothingEnabled=this.b.F,c.msImageSmoothingEnabled=this.b.F,c.imageSmoothingEnabled=this.b.F));c.globalAlpha=1;c.globalCompositeOperation=
"source-over";this.b.Pg&&!this.Dj()&&c.clearRect(0,0,this.b.n,this.b.m);var f,m,d=0;for(f=this.r.length;d<f;d++)m=this.r[d],m.visible&&0<m.opacity&&11!==m.za&&(m.d.length||!m.Db)?m.Jc(c):m.Ig();g&&b.drawImage(a,0,0,this.b.width,this.b.height)};f.prototype.He=function(b){b.Uk(!0);this.b.ba||(this.b.ba=b.Za(this.b.n,this.b.m,this.b.F));if(this.b.ba.Nd!==this.b.n||this.b.ba.Md!==this.b.m)b.deleteTexture(this.b.ba),this.b.ba=b.Za(this.b.n,this.b.m,this.b.F);b.nb(this.b.ba);this.b.$a||b.Bd(this.b.n,this.b.m);
var a,c;for(a=this.r.length-1;0<=a;--a)c=this.r[a],c.visible&&1===c.opacity&&c.oc&&0===c.za&&(c.d.length||!c.Db)?c.He(b):c.Ig();b.Uk(!1)};f.prototype.Mb=function(b){var a=0<this.D.length||this.b.se||!this.b.$a||this.b.P;if(a){this.b.ba||(this.b.ba=b.Za(this.b.n,this.b.m,this.b.F));if(this.b.ba.Nd!==this.b.n||this.b.ba.Md!==this.b.m)b.deleteTexture(this.b.ba),this.b.ba=b.Za(this.b.n,this.b.m,this.b.F);b.nb(this.b.ba);this.b.$a||b.Bd(this.b.n,this.b.m)}else this.b.ba&&(b.nb(null),b.deleteTexture(this.b.ba),
this.b.ba=null);this.b.Pg&&!this.Dj()&&b.clear(0,0,0,0);var c,d,g;c=0;for(d=this.r.length;c<d;c++)g=this.r[c],g.visible&&0<g.opacity&&(g.d.length||!g.Db)?g.Mb(b):g.Ig();a&&(0===this.D.length||1===this.D.length&&this.b.$a?(1===this.D.length?(a=this.D[0].index,b.La(this.D[0].ca),b.oe(null,1/this.b.n,1/this.b.m,0,0,1,1,this.scale,this.k,0,0,this.b.n/2,this.b.m/2,this.b.ib.Ha,this.W[a]),b.sg(this.D[0].ca)&&(this.b.Q=!0)):b.La(0),this.b.$a||b.Bd(this.b.width,this.b.height),b.nb(null),b.Tk(!1),b.qf(1),
b.ob(this.b.ba),b.Rk(),b.mb(),b.eb(),a=this.b.width/2,c=this.b.height/2,b.li(-a,c,a,c,a,-c,-a,-c),b.ob(null),b.Tk(!0)):this.oi(b,null,null,null))};f.prototype.Me=function(){return 0<this.D.length||this.b.se||!this.b.$a||this.b.P?this.b.ba:null};f.prototype.Aj=function(){var b=this.r[0].Qa(),a,c,d;a=1;for(c=this.r.length;a<c;a++)d=this.r[a],(0!==d.fe||0!==d.ge)&&d.Qa()<b&&(b=d.Qa());return b};f.prototype.Pk=function(b){if(!this.nl){var a=1/this.Aj()*this.b.n/2;b>this.width-a&&(b=this.width-a);b<a&&
(b=a)}this.scrollX!==b&&(this.scrollX=b,this.b.Q=!0)};f.prototype.Qk=function(b){if(!this.nl){var a=1/this.Aj()*this.b.m/2;b>this.height-a&&(b=this.height-a);b<a&&(b=a)}this.scrollY!==b&&(this.scrollY=b,this.b.Q=!0)};f.prototype.fm=function(){this.Pk(this.scrollX);this.Qk(this.scrollY)};f.prototype.oi=function(b,a,c,d){var g=c?c.D:a?a.D:this.D,f=1,m=0,k=0,v=0,p=this.b.n,t=this.b.m;c?(f=c.e.Qa(),m=c.e.Pa(),k=c.e.K,v=c.e.L,p=c.e.O,t=c.e.N):a&&(f=a.Qa(),m=a.Pa(),k=a.K,v=a.L,p=a.O,t=a.N);var q=this.b.qh,
u,I,y,D,h=0,ma=1,fa,ha,P=this.b.n,L=this.b.m,wa=P/2,xa=L/2,T=a?a.le:this.le,B=a?a.ni:this.ni,G=0,N=0,C=0,z=0,K=P,ia=P,J=L,ja=L,da=y=0;D=c?c.e.Pa():0;if(c){u=0;for(I=g.length;u<I;u++)y+=b.Hn(g[u].ca),da+=b.In(g[u].ca);z=c.qa;G=a.ea(z.left,z.top,!0);C=a.ea(z.left,z.top,!1);K=a.ea(z.right,z.bottom,!0);J=a.ea(z.right,z.bottom,!1);0!==D&&(u=a.ea(z.right,z.top,!0),I=a.ea(z.right,z.top,!1),N=a.ea(z.left,z.bottom,!0),z=a.ea(z.left,z.bottom,!1),D=Math.min(G,K,u,N),K=Math.max(G,K,u,N),G=D,D=Math.min(C,J,I,
z),J=Math.max(C,J,I,z),C=D);G-=y;C-=da;K+=y;J+=da;B.left=G/P;B.top=1-C/L;B.right=K/P;B.bottom=1-J/L;N=G=O(G);z=C=O(C);ia=K=pa(K);ja=J=pa(J);N-=y;z-=da;ia+=y;ja+=da;0>G&&(G=0);0>C&&(C=0);K>P&&(K=P);J>L&&(J=L);0>N&&(N=0);0>z&&(z=0);ia>P&&(ia=P);ja>L&&(ja=L);T.left=G/P;T.top=1-C/L;T.right=K/P;T.bottom=1-J/L}else T.left=B.left=0,T.top=B.top=0,T.right=B.right=1,T.bottom=B.bottom=1;da=c&&(b.nf(g[0].ca)||0!==y||0!==da||1!==c.opacity||c.type.ja.qk)||a&&!c&&1!==a.opacity;b.Rk();if(da){q[h]||(q[h]=b.Za(P,L,
this.b.F));if(q[h].Nd!==P||q[h].Md!==L)b.deleteTexture(q[h]),q[h]=b.Za(P,L,this.b.F);b.La(0);b.nb(q[h]);ha=ja-z;b.clearRect(N,L-z-ha,ia-N,ha);c?c.Mb(b):(b.ob(this.b.fa),b.qf(a.opacity),b.mb(),b.translate(-wa,-xa),b.eb(),b.ke(G,J,K,J,K,C,G,C,T));B.left=B.top=0;B.right=B.bottom=1;c&&(D=T.top,T.top=T.bottom,T.bottom=D);h=1;ma=0}b.qf(1);y=g.length-1;var La=b.hi(g[y].ca)||!a&&!c&&!this.b.$a;u=D=0;for(I=g.length;u<I;u++){q[h]||(q[h]=b.Za(P,L,this.b.F));if(q[h].Nd!==P||q[h].Md!==L)b.deleteTexture(q[h]),
q[h]=b.Za(P,L,this.b.F);b.La(g[u].ca);D=g[u].index;b.sg(g[u].ca)&&(this.b.Q=!0);0!=u||da?(b.oe(d,1/P,1/L,B.left,B.top,B.right,B.bottom,f,m,k,v,(k+p)/2,(v+t)/2,this.b.ib.Ha,c?c.W[D]:a?a.W[D]:this.W[D]),b.ob(null),u!==y||La?(b.nb(q[h]),ha=ja-z,fa=L-z-ha,b.clearRect(N,fa,ia-N,ha)):(c?b.Wc(c.Fa,c.Ba):a&&b.Wc(a.Fa,a.Ba),b.nb(d)),b.ob(q[ma]),b.mb(),b.translate(-wa,-xa),b.eb(),b.ke(G,J,K,J,K,C,G,C,T),u!==y||La||b.ob(null)):(b.nb(q[h]),ha=ja-z,fa=L-z-ha,b.clearRect(N,fa,ia-N,ha),c?(c.Ge&&c.Ge.wi?(fa=c.Ge.wi,
ma=1/fa.width,fa=1/fa.height):(ma=1/c.width,fa=1/c.height),b.oe(d,ma,fa,B.left,B.top,B.right,B.bottom,f,m,k,v,(k+p)/2,(v+t)/2,this.b.ib.Ha,c.W[D]),c.Mb(b)):(b.oe(d,1/P,1/L,0,0,1,1,f,m,k,v,(k+p)/2,(v+t)/2,this.b.ib.Ha,a?a.W[D]:this.W[D]),b.ob(a?this.b.fa:this.b.ba),b.mb(),b.translate(-wa,-xa),b.eb(),b.ke(G,J,K,J,K,C,G,C,T)),B.left=B.top=0,B.right=B.bottom=1,c&&!La&&(D=J,J=C,C=D));h=0===h?1:0;ma=0===h?1:0}La&&(b.La(0),c?b.Wc(c.Fa,c.Ba):a?b.Wc(a.Fa,a.Ba):this.b.$a||(b.Bd(this.b.width,this.b.height),
wa=this.b.width/2,xa=this.b.height/2,C=G=0,K=this.b.width,J=this.b.height),b.nb(d),b.ob(q[ma]),b.mb(),b.translate(-wa,-xa),b.eb(),c&&1===g.length&&!da?b.ke(G,C,K,C,K,J,G,J,T):b.ke(G,J,K,J,K,C,G,C,T),b.ob(null))};f.prototype.Sf=function(b){var a,c;a=0;for(c=this.r.length;a<c;a++)if(this.r[a].G===b)return this.r[a];return null};f.prototype.Wb=function(){var b,a,c,d={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.k,w:this.width,h:this.height,fv:this.Sd,persist:this.Vc,fx:[],layers:{}};b=0;for(a=
this.q.length;b<a;b++)c=this.q[b],d.fx.push({name:c.name,active:c.Xa,params:this.W[c.index]});b=0;for(a=this.r.length;b<a;b++)c=this.r[b],d.layers[c.G.toString()]=c.Wb();return d};f.prototype.Rc=function(b){var a,c,d,g;this.scrollX=b.sx;this.scrollY=b.sy;this.scale=b.s;this.k=b.a;this.width=b.w;this.height=b.h;this.Vc=b.persist;"undefined"!==typeof b.fv&&(this.Sd=b.fv);var f=b.fx;a=0;for(c=f.length;a<c;a++)if(d=this.sh(f[a].name))d.Xa=f[a].active,this.W[d.index]=f[a].params;this.Eb();a=b.layers;for(g in a)a.hasOwnProperty(g)&&
(b=this.Sf(parseInt(g,10)))&&b.Rc(a[g])};vb=f;q.prototype.Eb=function(){R(this.D);this.oc=!0;var b,a,c;b=0;for(a=this.q.length;b<a;b++)c=this.q[b],c.Xa&&(this.D.push(c),c.Ab||(this.oc=!1))};q.prototype.sh=function(b){var a,c,d;a=0;for(c=this.q.length;a<c;a++)if(d=this.q[a],d.name===b)return d;return null};q.prototype.lm=function(){var b,a,c,d,g,f;a=b=0;for(c=this.bb.length;b<c;b++){d=this.bb[b];g=this.b.g[d[1]];f=this.b.Di(g);g=!0;if(!f||this.ma.Sd){d=this.b.dd(d,this,!0);if(!d)continue;t.push(d);
d.type.global&&(g=!1,this.Ee.push(d.uid))}g&&(this.bb[a]=this.bb[b],a++)}this.bb.length=a;this.b.ya();!this.b.j&&this.q.length&&(this.za=this.Jm);this.Be=Za(this.za);this.b.i&&$a(this,this.za,this.b.i);this.Cb=!0};q.prototype.me=function(b,a){var c=za(this.d,b);0>c||(a&&this.fb&&b.Ka&&b.Ka.right>=b.Ka.left&&(b.xa(),this.wa.update(b,b.Ka,null),b.Ka.set(0,0,-1,-1)),c===this.d.length-1?this.d.pop():(ta(this.d,c),this.rf(c)),this.Cb=!0)};q.prototype.xe=function(b,a){b.Fb=this.d.length;this.d.push(b);
a&&this.fb&&b.Ka&&b.pa();this.Cb=!0};q.prototype.Fo=function(b){this.d.unshift(b);this.rf(0)};q.prototype.so=function(b,a,c){var d=b.Ob();a=a.Ob();ta(this.d,d);d<a&&a--;c&&a++;a===this.d.length?this.d.push(b):this.d.splice(a,0,b);this.rf(d<a?d:a)};q.prototype.rf=function(b){-1===this.wc?this.wc=b:b<this.wc&&(this.wc=b);this.Cb=this.Fd=!0};q.prototype.Gi=function(){if(this.Fd){-1===this.wc&&(this.wc=0);var b,a,c;if(this.fb)for(b=this.wc,a=this.d.length;b<a;++b)c=this.d[b],c.Fb=b,this.wa.qo(c.Ka);else for(b=
this.wc,a=this.d.length;b<a;++b)this.d[b].Fb=b;this.Fd=!1;this.wc=-1}};q.prototype.Qa=function(b){return this.Fn()*(this.b.$a||b?this.b.ye:1)};q.prototype.Fn=function(){return(this.scale*this.ma.scale-1)*this.Ki+1};q.prototype.Pa=function(){return this.ac?0:Ea(this.ma.k+this.k)};var a=[],c=[],d=[];q.prototype.wh=function(){this.Gi();this.wa.Jk(this.K,this.L,this.O,this.N,d);if(!d.length)return p();if(1===d.length){var b=p();va(b,d[0]);R(d);return b}for(var a=!0;1<d.length;){for(var b=d,g=void 0,n=
void 0,f=void 0,m=void 0,q=void 0,g=0,n=b.length;g<n-1;g+=2){var f=b[g],m=b[g+1],q=p(),k=f,v=m,t=q,E=0,A=0,F=0,I=k.length,y=v.length,D=void 0,h=void 0;for(t.length=I+y;E<I&&A<y;++F)D=k[E],h=v[A],D.Fb<h.Fb?(t[F]=D,++E):(t[F]=h,++A);for(;E<I;++E,++F)t[F]=k[E];for(;A<y;++A,++F)t[F]=v[A];a||(u(f),u(m));c.push(q)}1===n%2&&(a?(f=p(),va(f,b[n-1]),c.push(f)):c.push(b[n-1]));va(b,c);R(c);a=!1}b=d[0];R(d);return b};q.prototype.Jc=function(b){this.Ub=this.Pf||1!==this.opacity||0!==this.za;var a=this.b.canvas,
c=b,d=!1;this.Ub&&(this.b.hg||(this.b.hg=document.createElement("canvas"),a=this.b.hg,a.width=this.b.n,a.height=this.b.m,this.b.Vj=a.getContext("2d"),d=!0),a=this.b.hg,c=this.b.Vj,a.width!==this.b.n&&(a.width=this.b.n,d=!0),a.height!==this.b.m&&(a.height=this.b.m,d=!0),d&&(c.webkitImageSmoothingEnabled=this.b.F,c.mozImageSmoothingEnabled=this.b.F,c.msImageSmoothingEnabled=this.b.F,c.imageSmoothingEnabled=this.b.F),this.Db&&c.clearRect(0,0,this.b.n,this.b.m));c.globalAlpha=1;c.globalCompositeOperation=
"source-over";this.Db||(c.fillStyle="rgb("+this.tb[0]+","+this.tb[1]+","+this.tb[2]+")",c.fillRect(0,0,this.b.n,this.b.m));c.save();this.ac=!0;var d=this.Gc(!0),g=this.Gc(!1);this.ac=!1;this.b.he&&(d=Math.round(d),g=Math.round(g));this.vg(d,g,c);var f=this.Qa();c.scale(f,f);c.translate(-d,-g);this.fb?(this.ra.left=this.wa.Ia(this.K),this.ra.top=this.wa.Ja(this.L),this.ra.right=this.wa.Ia(this.O),this.ra.bottom=this.wa.Ja(this.N),this.Cb||!this.ra.Ie(this.$d)?(u(this.kc),d=this.wh(),this.Cb=!1,this.$d.Ce(this.ra)):
d=this.kc):d=this.d;for(var m,k=null,g=0,f=d.length;g<f;++g)m=d[g],m!==k&&(this.Em(m,c),k=m);this.fb&&(this.kc=d);c.restore();this.Ub&&(b.globalCompositeOperation=this.Be,b.globalAlpha=this.opacity,b.drawImage(a,0,0))};q.prototype.Em=function(b,a){if(b.visible&&0!==b.width&&0!==b.height){b.xa();var c=b.qa;c.right<this.K||c.bottom<this.L||c.left>this.O||c.top>this.N||(a.globalCompositeOperation=b.Be,b.Jc(a))}};q.prototype.Ig=function(){this.ac=!0;var b=this.Gc(!0),a=this.Gc(!1);this.ac=!1;this.b.he&&
(b=Math.round(b),a=Math.round(a));this.vg(b,a,null)};q.prototype.vg=function(b,a,c){var d=this.Qa();this.K=b;this.L=a;this.O=b+1/d*this.b.n;this.N=a+1/d*this.b.m;this.K>this.O&&(b=this.K,this.K=this.O,this.O=b);this.L>this.N&&(b=this.L,this.L=this.N,this.N=b);b=this.Pa();0!==b&&(c&&(c.translate(this.b.n/2,this.b.m/2),c.rotate(-b),c.translate(this.b.n/-2,this.b.m/-2)),this.uc.set(this.K,this.L,this.O,this.N),this.uc.offset((this.K+this.O)/-2,(this.L+this.N)/-2),this.il.Wk(this.uc,b),this.il.cj(this.uc),
this.uc.offset((this.K+this.O)/2,(this.L+this.N)/2),this.K=this.uc.left,this.L=this.uc.top,this.O=this.uc.right,this.N=this.uc.bottom)};q.prototype.He=function(b){if(this.Ub=this.Pf){this.b.fa||(this.b.fa=b.Za(this.b.n,this.b.m,this.b.F));if(this.b.fa.Nd!==this.b.n||this.b.fa.Md!==this.b.m)b.deleteTexture(this.b.fa),this.b.fa=b.Za(this.b.n,this.b.m,this.b.F);b.nb(this.b.fa)}this.ac=!0;var a=this.Gc(!0),c=this.Gc(!1);this.ac=!1;this.b.he&&(a=Math.round(a),c=Math.round(c));this.vg(a,c,null);a=this.Qa();
b.mb();b.scale(a,a);b.wg(-this.Pa());b.translate((this.K+this.O)/-2,(this.L+this.N)/-2);b.eb();this.fb?(this.ra.left=this.wa.Ia(this.K),this.ra.top=this.wa.Ja(this.L),this.ra.right=this.wa.Ia(this.O),this.ra.bottom=this.wa.Ja(this.N),this.Cb||!this.ra.Ie(this.$d)?(u(this.kc),a=this.wh(),this.Cb=!1,this.$d.Ce(this.ra)):a=this.kc):a=this.d;for(var d,g=null,c=a.length-1;0<=c;--c)d=a[c],d!==g&&(this.Gm(a[c],b),g=d);this.fb&&(this.kc=a);this.Db||(this.bh=this.b.gd++,b.xg(this.bh),b.Sk(1,1,1),b.uj(),b.Ko())};
q.prototype.Mb=function(b){var a=0,c=0;if(this.Ub=this.Pf||1!==this.opacity||0<this.D.length||0!==this.za){this.b.fa||(this.b.fa=b.Za(this.b.n,this.b.m,this.b.F));if(this.b.fa.Nd!==this.b.n||this.b.fa.Md!==this.b.m)b.deleteTexture(this.b.fa),this.b.fa=b.Za(this.b.n,this.b.m,this.b.F);b.nb(this.b.fa);this.Db&&b.clear(0,0,0,0)}this.Db||(this.b.P?(b.xg(this.bh),b.Sk(this.tb[0]/255,this.tb[1]/255,this.tb[2]/255),b.uj(),b.Vo()):b.clear(this.tb[0]/255,this.tb[1]/255,this.tb[2]/255,1));this.ac=!0;var d=
this.Gc(!0),a=this.Gc(!1);this.ac=!1;this.b.he&&(d=Math.round(d),a=Math.round(a));this.vg(d,a,null);d=this.Qa();b.mb();b.scale(d,d);b.wg(-this.Pa());b.translate((this.K+this.O)/-2,(this.L+this.N)/-2);b.eb();this.fb?(this.ra.left=this.wa.Ia(this.K),this.ra.top=this.wa.Ja(this.L),this.ra.right=this.wa.Ia(this.O),this.ra.bottom=this.wa.Ja(this.N),this.Cb||!this.ra.Ie(this.$d)?(u(this.kc),a=this.wh(),this.Cb=!1,this.$d.Ce(this.ra)):a=this.kc):a=this.d;var g,f,m=null,c=0;for(g=a.length;c<g;++c)f=a[c],
f!==m&&(this.Fm(a[c],b),m=f);this.fb&&(this.kc=a);this.Ub&&(a=this.D.length?this.D[0].ca:0,c=this.D.length?this.D[0].index:0,0===this.D.length||1===this.D.length&&!b.hi(a)&&1===this.opacity?(1===this.D.length?(b.La(a),b.oe(this.ma.Me(),1/this.b.n,1/this.b.m,0,0,1,1,d,this.Pa(),this.K,this.L,(this.K+this.O)/2,(this.L+this.N)/2,this.b.ib.Ha,this.W[c]),b.sg(a)&&(this.b.Q=!0)):b.La(0),b.nb(this.ma.Me()),b.qf(this.opacity),b.ob(this.b.fa),b.Wc(this.Fa,this.Ba),b.mb(),b.eb(),d=this.b.n/2,a=this.b.m/2,b.li(-d,
a,d,a,d,-a,-d,-a),b.ob(null)):this.ma.oi(b,this,null,this.ma.Me()))};q.prototype.Fm=function(b,a){if(b.visible&&0!==b.width&&0!==b.height){b.xa();var c=b.qa;c.right<this.K||c.bottom<this.L||c.left>this.O||c.top>this.N||(a.xg(b.gd),b.ql?this.Hm(b,a):(a.La(0),a.Wc(b.Fa,b.Ba),b.Mb(a)))}};q.prototype.Gm=function(b,a){if(b.visible&&0!==b.width&&0!==b.height){b.xa();var c=b.qa;c.right<this.K||c.bottom<this.L||c.left>this.O||c.top>this.N||(b.gd=this.b.gd++,0===b.za&&1===b.opacity&&b.oc&&b.He&&(a.xg(b.gd),
b.He(a)))}};q.prototype.Hm=function(b,a){var c=b.D[0].ca,d=b.D[0].index,g=this.Qa();if(1!==b.D.length||a.hi(c)||a.Ho(c)||(b.k||b.e.Pa())&&a.nf(c)||1!==b.opacity||b.type.ja.qk)this.ma.oi(a,this,b,this.Ub?this.b.fa:this.ma.Me()),a.mb(),a.scale(g,g),a.wg(-this.Pa()),a.translate((this.K+this.O)/-2,(this.L+this.N)/-2),a.eb();else{a.La(c);a.Wc(b.Fa,b.Ba);a.sg(c)&&(this.b.Q=!0);var f=0,m=0,k=0,v=0;a.nf(c)&&(v=b.qa,f=this.ea(v.left,v.top,!0),m=this.ea(v.left,v.top,!1),k=this.ea(v.right,v.bottom,!0),v=this.ea(v.right,
v.bottom,!1),f=f/windowWidth,m=1-m/windowHeight,k=k/windowWidth,v=1-v/windowHeight);var p;b.Ge&&b.Ge.wi?(p=b.Ge.wi,c=1/p.width,p=1/p.height):(c=1/b.width,p=1/b.height);a.oe(this.Ub?this.b.fa:this.ma.Me(),c,p,f,m,k,v,g,this.Pa(),this.K,this.L,(this.K+this.O)/2,(this.L+this.N)/2,this.b.ib.Ha,b.W[d]);b.Mb(a)}};q.prototype.Gc=function(a){var c=0,d=0,g=this.b.devicePixelRatio;this.b.Td&&(c*=g,d*=g);var g=this.b.Bk,f=this.b.Ck,g=(this.ma.scrollX-g)*this.fe+g,f=(this.ma.scrollY-f)*this.ge+f,m,p,k=1/this.Qa(!1);
m=g-this.b.n*k/2;p=f-this.b.m*k/2;m+=c*k;p+=d*k;d=this.Pa();0!==d&&(m-=g,p-=f,c=Math.cos(d),d=Math.sin(d),k=m*c-p*d,p=p*c+m*d,m=k+g,p+=f);return a?m:p};q.prototype.ea=function(a,c,d){var g=this.b.Bk,f=this.b.Ck,g=(this.ma.scrollX-g)*this.fe+g,m=(this.ma.scrollY-f)*this.ge+f,f=g,p=m,k=this.Pa();if(0!==k){a-=g;c-=m;var v=Math.cos(-k),k=Math.sin(-k),t=a*v-c*k;c=c*v+a*k;a=t+g;c+=m}g=1/this.Qa(!1);f-=this.b.n*g/2;p-=this.b.m*g/2;f=(a-f)/g;return d?f:(c-p)/g};q.prototype.Wb=function(){var a,c,d,g={s:this.scale,
a:this.k,vl:this.K,vt:this.L,vr:this.O,vb:this.N,v:this.visible,bc:this.tb,t:this.Db,px:this.fe,py:this.ge,o:this.opacity,zr:this.Ki,fx:[],cg:this.Ee,instances:[]};a=0;for(c=this.q.length;a<c;a++)d=this.q[a],g.fx.push({name:d.name,active:d.Xa,params:this.W[d.index]});return g};q.prototype.Rc=function(a){var c,d,g;this.scale=a.s;this.k=a.a;this.K=a.vl;this.L=a.vt;this.O=a.vr;this.N=a.vb;this.visible=a.v;this.tb=a.bc;this.Db=a.t;this.fe=a.px;this.ge=a.py;this.opacity=a.o;this.Ki=a.zr;this.Ee=a.cg||
[];va(this.bb,this.cl);var f=new ba;c=0;for(g=this.Ee.length;c<g;++c)f.add(this.Ee[c]);d=c=0;for(g=this.bb.length;c<g;++c)f.contains(this.bb[c][2])||(this.bb[d]=this.bb[c],++d);ua(this.bb,d);d=a.fx;c=0;for(g=d.length;c<g;c++)if(a=this.sh(d[c].name))a.Xa=d[c].active,this.W[a.index]=d[c].params;this.Eb();this.d.sort(m);this.Fd=!0};Jb=q})();
(function(){function f(a,b){var c,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}}function m(a,b){return a.index-b.index}function q(a){var b,c,d,e;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(m);a.length>=w.length&&(w.length=a.length+1);w[a.length]||(w[a.length]=[]);e=w[a.length];b=0;for(c=e.length;b<c;b++)if(d=e[b],f(a,d))return d;e.push(a);return a}
function p(a,b){this.b=a;this.kl={};this.pj={};this.Ah=!1;this.Fj=new ba;this.gh=[];this.Qg=[];this.name=b[0];var c=b[1];this.Kc=[];var d,e;d=0;for(e=c.length;d<e;d++)this.Hj(c[d],null,this.Kc)}function u(a){this.type=a;this.d=[];this.H=[];this.oa=!0}function t(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.aa=[];this.Xc=[];this.Ej=this.Fg=this.yi=this.Dh=this.group=this.bl=!1;this.Aa=[];this.sb=[];this.pb=[];this.Pe="";this.Oe=this.Dh=this.group=!1;this.Ef=null;c[1]&&(this.Pe=c[1][1].toLowerCase(),
this.group=!0,this.Dh=!!c[1][0],this.Ef=[],this.Oe=this.Dh,this.b.Jd.push(this),this.b.Uf[this.Pe]=this);this.nc=c[2];this.G=c[4];this.group||(this.b.bj[this.G.toString()]=this);var d=c[5];a=0;for(b=d.length;a<b;a++){var e=new Kb(this,d[a]);e.index=a;this.Aa.push(e);this.Si(e.type)}d=c[6];a=0;for(b=d.length;a<b;a++)e=new Lb(this,d[a]),e.index=a,this.sb.push(e);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.Hj(c[a],this,this.pb);this.bg=!1;this.Aa.length&&(this.bg=null==this.Aa[0].type&&
this.Aa[0].ta==Y.prototype.p.Al)}function g(a,b){var c,d,e;if(a&&(-1===b.indexOf(a)&&b.push(a),a.hb))for(c=0,d=a.Na.length;c<d;c++)e=a.Na[c],a!==e&&-1===b.indexOf(e)&&b.push(e)}function a(a,b){this.Ya=a;this.sheet=a.sheet;this.b=a.b;this.A=[];this.X=[];this.S={};this.index=-1;this.ve=!1;this.ta=this.b.xc(b[1]);this.trigger=0<b[3];this.oj=2===b[3];this.Gh=b[5];this.no=b[6];this.G=b[7];this.b.Hc[this.G.toString()]=this;-1===b[0]?(this.type=null,this.ka=this.ri,this.cd=null,this.ub=-1):(this.type=this.b.g[b[0]],
this.ka=this.no?this.Po:this.qi,b[2]?(this.cd=this.type.Rf(b[2]),this.ub=this.type.rh(b[2])):(this.cd=null,this.ub=-1),this.Ya.parent&&this.Ya.parent.yg());this.oj&&(this.ka=this.Qo);if(10===b.length){var c,d,e=b[9];c=0;for(d=e.length;c<d;c++){var g=new Mb(this,e[c]);this.A.push(g)}this.X.length=e.length}}function c(a,b){this.Ya=a;this.sheet=a.sheet;this.b=a.b;this.A=[];this.X=[];this.S={};this.index=-1;this.ve=!1;this.ta=this.b.xc(b[1]);-1===b[0]?(this.type=null,this.ka=this.ri,this.cd=null,this.ub=
-1):(this.type=this.b.g[b[0]],this.ka=this.qi,b[2]?(this.cd=this.type.Rf(b[2]),this.ub=this.type.rh(b[2])):(this.cd=null,this.ub=-1));this.G=b[3];this.b.zc[this.G.toString()]=this;if(6===b.length){var c,d,e=b[5];c=0;for(d=e.length;c<d;c++){var g=new Mb(this,e[c]);this.A.push(g)}this.X.length=e.length}}function d(){H++;r.length===H&&r.push(new Nb);return r[H]}function b(a,b){this.kb=a;this.Ya=a.Ya;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.Nb=null;this.pc=0;this.get=null;this.hj=0;this.ma=null;
this.key=0;this.object=null;this.index=0;this.yf=this.Cd=this.yf=this.Cd=this.sj=this.kd=this.zf=null;this.rb=!1;var c,d,e;switch(b[0]){case 0:case 7:this.Nb=new V(this,b[1]);this.pc=0;this.get=this.On;break;case 1:this.Nb=new V(this,b[1]);this.pc=0;this.get=this.Pn;break;case 5:this.Nb=new V(this,b[1]);this.pc=0;this.get=this.Tn;break;case 3:case 8:this.hj=b[1];this.get=this.Mn;break;case 6:this.ma=this.b.Vh[b[1]];this.get=this.Un;break;case 9:this.key=b[1];this.get=this.Sn;break;case 4:this.object=
this.b.g[b[1]];this.get=this.Vn;this.Ya.Si(this.object);this.kb instanceof Lb?this.Ya.yg():this.Ya.parent&&this.Ya.parent.yg();break;case 10:this.index=b[1];a.type&&a.type.J?(this.get=this.Qn,this.rb=!0):this.get=this.Rn;break;case 11:this.zf=b[1];this.kd=null;this.get=this.Nn;break;case 2:case 12:this.sj=b[1];this.get=this.Ln;break;case 13:for(this.get=this.Wn,this.Cd=[],this.yf=[],c=1,d=b.length;c<d;c++)e=new Mb(this.kb,b[c]),this.Cd.push(e),this.yf.push(0)}}function e(a,b,c){this.sheet=a;this.parent=
b;this.b=a.b;this.aa=[];this.name=c[1];this.Ch=c[3];this.We=!!c[4];this.ag=!!c[5];this.G=c[6];this.b.ue[this.G.toString()]=this;this.data=this.Ch;this.parent?(this.yd=this.We||this.ag?-1:this.b.$o++,this.b.Zl.push(this)):(this.yd=-1,this.b.Yl.push(this))}function l(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.aa=[];this.Qe=null;this.bo=c[1];this.Xa=!0}function n(){this.dl=[];this.reset(null)}var w=[];p.prototype.toString=function(){return this.name};p.prototype.Hj=function(a,b,c){switch(a[0]){case 0:a=
new Ob(this,b,a);if(a.nc)for(c.push(a),c=0,b=a.Aa.length;c<b;c++)a.Aa[c].trigger&&this.Ij(a,c);else a.Pj()?this.Ij(a,0):c.push(a);break;case 1:a=new Gb(this,b,a);c.push(a);break;case 2:a=new Pb(this,b,a),c.push(a)}};p.prototype.Z=function(){var a,b;a=0;for(b=this.Kc.length;a<b;a++)this.Kc[a].Z(a<b-1&&this.Kc[a+1].bg)};p.prototype.Ei=function(){R(this.gh);R(this.Qg);this.Ri(this);R(this.Qg)};p.prototype.Ri=function(a){var b,c,d,e,g=a.gh,f=a.Qg,n=this.Fj.Ed();b=0;for(c=n.length;b<c;++b)d=n[b],e=d.Qe,
!d.Xa||a===e||-1<f.indexOf(e)||(f.push(e),e.Ri(a),g.push(e))};p.prototype.ka=function(a){this.b.Kq||(this.Ah=!0,a||(this.b.Lh=!0));var b,c;b=0;for(c=this.Kc.length;b<c;b++){var d=this.Kc[b];d.ka();this.b.ah(d.aa);this.b.Mc&&this.b.ya()}a||(this.b.Lh=!1)};p.prototype.Ij=function(a,b){a.nc||this.b.Gg.push(a);var c,d,e=a.Aa[b],g;e.type?g=e.type.name:g="system";var f=(c=e.oj)?this.pj:this.kl;f[g]||(f[g]=[]);g=f[g];f=e.ta;if(c){if(e.A.length&&(e=e.A[0],1===e.type&&2===e.Nb.type)){e=e.Nb.value.toLowerCase();
c=0;for(d=g.length;c<d;c++)if(g[c].method==f){c=g[c].Ke;c[e]?c[e].push([a,b]):c[e]=[[a,b]];return}c={};c[e]=[[a,b]];g.push({method:f,Ke:c})}}else{c=0;for(d=g.length;c<d;c++)if(g[c].method==f){g[c].Ke.push([a,b]);return}Rb.Sl&&f===Rb.Sl.prototype.p.Vp?g.unshift({method:f,Ke:[[a,b]]}):g.push({method:f,Ke:[[a,b]]})}};wb=p;u.prototype.Cj=function(){return this.oa?this.type.d.length:this.d.length};u.prototype.wb=function(){return this.oa?this.type.d:this.d};u.prototype.mf=function(a){a&&(a.b.ab().Kb.nc?
(this.oa&&(R(this.d),va(this.H,a.type.d),this.oa=!1),a=this.H.indexOf(a),-1!==a&&(this.d.push(this.H[a]),this.H.splice(a,1))):(this.oa=!1,R(this.d),this.d[0]=a))};fb=u;window._c2hh_="7D411AF2A209E605333BECE836F523824A3967F9";t.prototype.Z=function(a){var b,c=this.parent;if(this.group)for(this.Fg=!0;c;){if(!c.group){this.Fg=!1;break}c=c.parent}this.yi=!this.Pj()&&(!this.parent||this.parent.group&&this.parent.Fg);this.Ej=!!a;this.Xc=this.aa.slice(0);for(c=this.parent;c;){a=0;for(b=c.aa.length;a<b;a++)this.Wl(c.aa[a]);
c=c.parent}this.aa=q(this.aa);this.Xc=q(this.Xc);a=0;for(b=this.Aa.length;a<b;a++)this.Aa[a].Z();a=0;for(b=this.sb.length;a<b;a++)this.sb[a].Z();a=0;for(b=this.pb.length;a<b;a++)this.pb[a].Z(a<b-1&&this.pb[a+1].bg)};t.prototype.To=function(a){if(this.Oe!==!!a){this.Oe=!!a;var b;a=0;for(b=this.Ef.length;a<b;++a)this.Ef[a].pl();0<b&&this.b.M.jd&&this.b.M.jd.Ei()}};t.prototype.Si=function(a){g(a,this.aa)};t.prototype.Wl=function(a){g(a,this.Xc)};t.prototype.yg=function(){this.bl=!0;this.parent&&this.parent.yg()};
t.prototype.Pj=function(){return this.Aa.length?this.Aa[0].trigger:!1};t.prototype.ka=function(){var a,b,c=!1,d=this.b,e=this.b.ab();e.Kb=this;var g=this.Aa;this.bg||(e.hh=!1);if(this.nc){0===g.length&&(c=!0);e.Ma=0;for(a=g.length;e.Ma<a;e.Ma++)b=g[e.Ma],b.trigger||(b=b.ka())&&(c=!0);(e.ud=c)&&this.pi()}else{e.Ma=0;for(a=g.length;e.Ma<a;e.Ma++)if(b=g[e.Ma].ka(),!b){e.ud=!1;this.yi&&d.Mc&&d.ya();return}e.ud=!0;this.pi()}this.Mm(e)};t.prototype.Mm=function(a){a.ud&&this.Ej&&(a.hh=!0);this.yi&&this.b.Mc&&
this.b.ya()};t.prototype.No=function(a){this.b.ab().Kb=this;this.Aa[a].ka()&&(this.pi(),this.b.ab().ud=!0)};t.prototype.pi=function(){var a=this.b.ab(),b;a.gb=0;for(b=this.sb.length;a.gb<b;a.gb++)if(this.sb[a.gb].ka())return;this.Nk()};t.prototype.Lo=function(){var a=this.b.ab(),b;for(b=this.sb.length;a.gb<b;a.gb++)if(this.sb[a.gb].ka())return;this.Nk()};t.prototype.Nk=function(){if(this.pb.length){var a,b,c,d,e=this.pb.length-1;this.b.ji(this);if(this.bl)for(a=0,b=this.pb.length;a<b;a++)c=this.pb[a],
(d=!this.Fg||!this.group&&a<e)&&this.b.ii(c.aa),c.ka(),d?this.b.ie(c.aa):this.b.ah(c.aa);else for(a=0,b=this.pb.length;a<b;a++)this.pb[a].ka();this.b.Ek()}};t.prototype.Oo=function(){var a=this.b.ab();a.Kb=this;var b=!1,c;a.Ma=0;for(c=this.Aa.length;a.Ma<c;a.Ma++)if(this.Aa[a.Ma].ka())b=!0;else if(!this.nc)return!1;return this.nc?b:!0};t.prototype.jo=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.Aa[b].type===a.type)return!1;return!0};Ob=t;a.prototype.Z=function(){var a,b,c;
a=0;for(b=this.A.length;a<b;a++)c=this.A[a],c.Z(),c.rb&&(this.ve=!0)};a.prototype.Qo=function(){return!0};a.prototype.ri=function(){var a,b;a=0;for(b=this.A.length;a<b;a++)this.X[a]=this.A[a].get();return Na(this.ta.apply(this.b.Xb,this.X),this.Gh)};a.prototype.Po=function(){var a,b;a=0;for(b=this.A.length;a<b;a++)this.X[a]=this.A[a].get();a=this.ta.apply(this.cd?this.cd:this.type,this.X);this.type.Kd();return a};a.prototype.qi=function(){var a,b,c,d,e,g,f,n,m=this.type,h=m.U(),l=this.Ya.nc&&!this.trigger;
b=0;var p=m.hb,r=m.J,t=m.fc,q=this.ub,w=-1<q,u=this.ve,H=this.A,B=this.X,G=this.Gh,N=this.ta,C;if(u)for(b=0,e=H.length;b<e;++b)g=H[b],g.rb||(B[b]=g.get(0));else for(b=0,e=H.length;b<e;++b)B[b]=H[b].get(0);if(h.oa){R(h.d);R(h.H);C=m.d;a=0;for(d=C.length;a<d;++a){n=C[a];if(u)for(b=0,e=H.length;b<e;++b)g=H[b],g.rb&&(B[b]=g.get(a));w?(b=0,r&&(b=n.type.Rd[t]),b=N.apply(n.C[q+b],B)):b=N.apply(n,B);(f=Na(b,G))?h.d.push(n):l&&h.H.push(n)}m.finish&&m.finish(!0);h.oa=!1;m.Kd();return h.Cj()}c=0;C=(f=l&&!this.Ya.jo(this))?
h.H:h.d;var z=!1;a=0;for(d=C.length;a<d;++a){n=C[a];if(u)for(b=0,e=H.length;b<e;++b)g=H[b],g.rb&&(B[b]=g.get(a));w?(b=0,r&&(b=n.type.Rd[t]),b=N.apply(n.C[q+b],B)):b=N.apply(n,B);if(Na(b,G))if(z=!0,f){if(h.d.push(n),p)for(b=0,e=n.siblings.length;b<e;b++)g=n.siblings[b],g.type.U().d.push(g)}else{C[c]=n;if(p)for(b=0,e=n.siblings.length;b<e;b++)g=n.siblings[b],g.type.U().d[c]=g;c++}else if(f){C[c]=n;if(p)for(b=0,e=n.siblings.length;b<e;b++)g=n.siblings[b],g.type.U().H[c]=g;c++}else if(l&&(h.H.push(n),
p))for(b=0,e=n.siblings.length;b<e;b++)g=n.siblings[b],g.type.U().H.push(g)}ua(C,c);if(p)for(r=m.Na,a=0,d=r.length;a<d;a++)n=r[a].U(),f?ua(n.H,c):ua(n.d,c);c=z;if(f&&!z)for(a=0,d=h.d.length;a<d;a++){n=h.d[a];if(u)for(b=0,e=H.length;b<e;b++)g=H[b],g.rb&&(B[b]=g.get(a));b=w?N.apply(n.C[q],B):N.apply(n,B);if(Na(b,G)){z=!0;break}}m.finish&&m.finish(c||l);return l?z:h.Cj()};Kb=a;c.prototype.Z=function(){var a,b,c;a=0;for(b=this.A.length;a<b;a++)c=this.A[a],c.Z(),c.rb&&(this.ve=!0)};c.prototype.ri=function(){var a=
this.b,b,c,d=this.A,e=this.X;b=0;for(c=d.length;b<c;++b)e[b]=d[b].get();return this.ta.apply(a.Xb,e)};c.prototype.qi=function(){var a=this.type,b=this.ub,c=a.fc,d=this.ve,e=this.A,g=this.X,f=this.ta,n=a.U().wb(),a=a.J,m=-1<b,h,l,p,r,t,q;if(d)for(l=0,r=e.length;l<r;++l)t=e[l],t.rb||(g[l]=t.get(0));else for(l=0,r=e.length;l<r;++l)g[l]=e[l].get(0);h=0;for(p=n.length;h<p;++h){q=n[h];if(d)for(l=0,r=e.length;l<r;++l)t=e[l],t.rb&&(g[l]=t.get(h));m?(l=0,a&&(l=q.type.Rd[c]),f.apply(q.C[b+l],g)):f.apply(q,
g)}return!1};Lb=c;var r=[],H=-1;b.prototype.Z=function(){var a,b;if(11===this.type)this.kd=this.b.xj(this.zf,this.Ya.parent);else if(13===this.type)for(a=0,b=this.Cd.length;a<b;a++)this.Cd[a].Z();this.Nb&&this.Nb.Z()};b.prototype.ro=function(a){this.rb||!a||a.ja.Ag||(this.rb=!0)};b.prototype.Vk=function(){this.rb=!0};b.prototype.On=function(a){this.pc=a||0;a=d();this.Nb.get(a);H--;return a.data};b.prototype.Pn=function(a){this.pc=a||0;a=d();this.Nb.get(a);H--;return M(a.data)?a.data:""};b.prototype.Vn=
function(){return this.object};b.prototype.Mn=function(){return this.hj};b.prototype.Tn=function(a){this.pc=a||0;a=d();this.Nb.get(a);H--;return a.la()?this.b.En(a.data):this.b.Dn(a.data)};b.prototype.Un=function(){return this.ma};b.prototype.Sn=function(){return this.key};b.prototype.Rn=function(){return this.index};b.prototype.Qn=function(a){a=a||0;var b=this.kb.type,c=null,c=b.U(),d=c.wb();if(d.length)c=d[a%d.length].type;else if(c.H.length)c=c.H[a%c.H.length].type;else if(b.d.length)c=b.d[a%b.d.length].type;
else return 0;return this.index+c.Lf[b.fc]};b.prototype.Nn=function(){return this.kd};b.prototype.Ln=function(){return this.sj};b.prototype.Wn=function(){var a,b;a=0;for(b=this.Cd.length;a<b;a++)this.yf[a]=this.Cd[a].get();return this.yf};Mb=b;e.prototype.Z=function(){this.aa=q(this.aa)};e.prototype.Wo=function(a){var b=this.b.wj();this.parent&&!this.We&&b?(this.yd>=b.length&&(b.length=this.yd+1),b[this.yd]=a):this.data=a};e.prototype.Kn=function(){var a=this.b.wj();return!this.parent||this.We||!a||
this.ag?this.data:this.yd>=a.length||"undefined"===typeof a[this.yd]?this.Ch:a[this.yd]};e.prototype.ka=function(){!this.parent||this.We||this.ag||this.Wo(this.Ch)};Gb=e;l.prototype.toString=function(){return"include:"+this.Qe.toString()};l.prototype.Z=function(){this.Qe=this.b.jh[this.bo];this.sheet.Fj.add(this);this.aa=q(this.aa);for(var a=this.parent;a;)a.group&&a.Ef.push(this),a=a.parent;this.pl()};l.prototype.ka=function(){this.parent&&this.b.pf(this.b.g);this.Qe.Ah||this.Qe.ka(!0);this.parent&&
this.b.ie(this.b.g)};l.prototype.pl=function(){for(var a=this.parent;a;){if(a.group&&!a.Oe){this.Xa=!1;return}a=a.parent}this.Xa=!0};Pb=l;n.prototype.reset=function(a){this.Kb=a;this.gb=this.Ma=0;R(this.dl);this.hh=this.ud=!1};Fb=n})();
(function(){function f(g,a){this.kb=g;this.b=g.b;this.type=a[0];this.get=[this.cn,this.Zm,this.nn,this.rn,this.Om,this.pn,this.hn,this.Wm,this.gn,this.mn,this.Pm,this.ln,this.Xm,this.jn,this.dn,this.en,this.$m,this.an,this.Vm,this.qn,this.kn,this.bn,this.Um,this.Ym][this.type];var c=null;this.lc=this.A=this.X=this.ta=this.Eg=this.second=this.first=this.value=null;this.ub=-1;this.xb=null;this.rl=-1;this.kd=this.zf=null;this.ne=!1;switch(this.type){case 0:case 1:case 2:this.value=a[1];break;case 3:this.first=
new V(g,a[1]);break;case 18:this.first=new V(g,a[1]);this.second=new V(g,a[2]);this.Eg=new V(g,a[3]);break;case 19:this.ta=this.b.xc(a[1]);this.ta!==Y.prototype.ec.random&&this.ta!==Y.prototype.ec.im||this.kb.Vk();this.X=[];this.A=[];3===a.length?(c=a[2],this.X.length=c.length+1):this.X.length=1;break;case 20:this.lc=this.b.g[a[1]];this.ub=-1;this.ta=this.b.xc(a[2]);this.ne=a[3];Rb.Function&&this.ta===Rb.Function.prototype.ec.xp&&this.kb.Vk();a[4]?this.xb=new V(g,a[4]):this.xb=null;this.X=[];this.A=
[];6===a.length?(c=a[5],this.X.length=c.length+1):this.X.length=1;break;case 21:this.lc=this.b.g[a[1]];this.ne=a[2];a[3]?this.xb=new V(g,a[3]):this.xb=null;this.rl=a[4];break;case 22:this.lc=this.b.g[a[1]];this.lc.Rf(a[2]);this.ub=this.lc.rh(a[2]);this.ta=this.b.xc(a[3]);this.ne=a[4];a[5]?this.xb=new V(g,a[5]):this.xb=null;this.X=[];this.A=[];7===a.length?(c=a[6],this.X.length=c.length+1):this.X.length=1;break;case 23:this.zf=a[1],this.kd=null}this.kb.ro(this.lc);4<=this.type&&17>=this.type&&(this.first=
new V(g,a[1]),this.second=new V(g,a[2]));if(c){var d,b;d=0;for(b=c.length;d<b;d++)this.A.push(new V(g,c[d]))}}function m(){++t;u.length===t&&u.push(new Nb);return u[t]}function q(g,a,c){var d,b;d=0;for(b=g.length;d<b;++d)g[d].get(c),a[d+1]=c.data}function p(g,a){this.type=g||W.Id;this.data=a||0;this.Ad=null;this.type==W.Id&&(this.data=Math.floor(this.data))}f.prototype.Z=function(){23===this.type&&(this.kd=this.kb.b.xj(this.zf,this.kb.Ya.parent));this.first&&this.first.Z();this.second&&this.second.Z();
this.Eg&&this.Eg.Z();this.xb&&this.xb.Z();if(this.A){var g,a;g=0;for(a=this.A.length;g<a;g++)this.A[g].Z()}};var u=[],t=-1;f.prototype.qn=function(g){var a=this.A,c=this.X;c[0]=g;g=m();q(a,c,g);--t;this.ta.apply(this.b.Xb,c)};f.prototype.kn=function(g){var a=this.lc,c=this.X,d=this.A,b=this.xb,e=this.ta,f=this.kb.pc,n=a.U(),p=n.wb();if(!p.length)if(n.H.length)p=n.H;else{this.ne?g.Ua(""):g.R(0);return}c[0]=g;g.Ad=a;g=m();q(d,c,g);b&&(b.get(g),g.la()&&(f=g.data,p=a.d));--t;a=p.length;if(f>=a||f<=-a)f%=
a;0>f&&(f+=a);e.apply(p[f],c)};f.prototype.Um=function(g){var a=this.lc,c=this.X,d=this.A,b=this.xb,e=this.ub,f=this.ta,n=this.kb.pc,p=a.U(),r=p.wb();if(!r.length)if(p.H.length)r=p.H;else{this.ne?g.Ua(""):g.R(0);return}c[0]=g;g.Ad=a;g=m();q(d,c,g);b&&(b.get(g),g.la()&&(n=g.data,r=a.d));--t;d=r.length;if(n>=d||n<=-d)n%=d;0>n&&(n+=d);n=r[n];r=0;a.J&&(r=n.type.Rd[a.fc]);f.apply(n.C[e+r],c)};f.prototype.bn=function(g){var a=this.xb,c=this.lc,d=this.rl,b=this.kb.pc,e=c.U(),f=e.wb();if(!f.length)if(e.H.length)f=
e.H;else{this.ne?g.Ua(""):g.R(0);return}if(a){e=m();a.get(e);if(e.la()){b=e.data;f=c.d;0!==f.length&&(b%=f.length,0>b&&(b+=f.length));b=c.vh(b);c=b.da[d];M(c)?g.Ua(c):g.B(c);--t;return}--t}a=f.length;if(b>=a||b<=-a)b%=a;0>b&&(b+=a);b=f[b];f=0;c.J&&(f=b.type.Lf[c.fc]);c=b.da[d+f];M(c)?g.Ua(c):g.B(c)};f.prototype.cn=function(g){g.type=W.Id;g.data=this.value};f.prototype.Zm=function(g){g.type=W.Hd;g.data=this.value};f.prototype.nn=function(g){g.type=W.String;g.data=this.value};f.prototype.rn=function(g){this.first.get(g);
g.la()&&(g.data=-g.data)};f.prototype.Om=function(g){this.first.get(g);var a=m();this.second.get(a);g.la()&&a.la()&&(g.data+=a.data,a.Vd()&&g.ee());--t};f.prototype.pn=function(g){this.first.get(g);var a=m();this.second.get(a);g.la()&&a.la()&&(g.data-=a.data,a.Vd()&&g.ee());--t};f.prototype.hn=function(g){this.first.get(g);var a=m();this.second.get(a);g.la()&&a.la()&&(g.data*=a.data,a.Vd()&&g.ee());--t};f.prototype.Wm=function(g){this.first.get(g);var a=m();this.second.get(a);g.la()&&a.la()&&(g.data/=
a.data,g.ee());--t};f.prototype.gn=function(g){this.first.get(g);var a=m();this.second.get(a);g.la()&&a.la()&&(g.data%=a.data,a.Vd()&&g.ee());--t};f.prototype.mn=function(g){this.first.get(g);var a=m();this.second.get(a);g.la()&&a.la()&&(g.data=Math.pow(g.data,a.data),a.Vd()&&g.ee());--t};f.prototype.Pm=function(g){this.first.get(g);var a=m();this.second.get(a);a.Xd()||g.Xd()?this.Rm(g,a):this.Qm(g,a);--t};f.prototype.Rm=function(g,a){g.Xd()&&a.Xd()?this.Tm(g,a):this.Sm(g,a)};f.prototype.Tm=function(g,
a){g.data+=a.data};f.prototype.Sm=function(g,a){g.Xd()?g.data+=(Math.round(1E10*a.data)/1E10).toString():g.Ua(g.data.toString()+a.data)};f.prototype.Qm=function(g,a){g.R(g.data&&a.data?1:0)};f.prototype.ln=function(g){this.first.get(g);var a=m();this.second.get(a);g.la()&&a.la()&&(g.data||a.data?g.R(1):g.R(0));--t};f.prototype.Vm=function(g){this.first.get(g);g.data?this.second.get(g):this.Eg.get(g)};f.prototype.Xm=function(g){this.first.get(g);var a=m();this.second.get(a);g.R(g.data===a.data?1:0);
--t};f.prototype.jn=function(g){this.first.get(g);var a=m();this.second.get(a);g.R(g.data!==a.data?1:0);--t};f.prototype.dn=function(g){this.first.get(g);var a=m();this.second.get(a);g.R(g.data<a.data?1:0);--t};f.prototype.en=function(g){this.first.get(g);var a=m();this.second.get(a);g.R(g.data<=a.data?1:0);--t};f.prototype.$m=function(g){this.first.get(g);var a=m();this.second.get(a);g.R(g.data>a.data?1:0);--t};f.prototype.an=function(g){this.first.get(g);var a=m();this.second.get(a);g.R(g.data>=
a.data?1:0);--t};f.prototype.Ym=function(g){var a=this.kd.Kn();ka(a)?g.B(a):g.Ua(a)};V=f;p.prototype.Vd=function(){return this.type===W.Hd};p.prototype.la=function(){return this.type===W.Id||this.type===W.Hd};p.prototype.Xd=function(){return this.type===W.String};p.prototype.ee=function(){this.Vd()||(this.Xd()&&(this.data=parseFloat(this.data)),this.type=W.Hd)};p.prototype.R=function(g){this.type=W.Id;this.data=Math.floor(g)};p.prototype.B=function(g){this.type=W.Hd;this.data=g};p.prototype.Ua=function(g){this.type=
W.String;this.data=g};p.prototype.Xo=function(g){ka(g)?(this.type=W.Hd,this.data=g):M(g)?(this.type=W.String,this.data=g.toString()):(this.type=W.Id,this.data=0)};Nb=p;W={Id:0,Hd:1,String:2}})();function Y(f){this.b=f;this.Wa=[]}
Y.prototype.Wb=function(){var f={},m,q,p,u,t,g,a,c;f.waits=[];var d=f.waits,b;m=0;for(q=this.Wa.length;m<q;m++){g=this.Wa[m];b={t:g.time,st:g.Zo,s:g.Zk,ev:g.Je.G,sm:[],sols:{}};g.Je.sb[g.gb]&&(b.act=g.Je.sb[g.gb].G);p=0;for(u=g.aa.length;p<u;p++)b.sm.push(g.aa[p].G);for(t in g.Va)if(g.Va.hasOwnProperty(t)){a=this.b.g[parseInt(t,10)];c={sa:g.Va[t].Ok,insts:[]};p=0;for(u=g.Va[t].pd.length;p<u;p++)c.insts.push(g.Va[t].pd[p].uid);b.sols[a.G.toString()]=c}d.push(b)}return f};
Y.prototype.Rc=function(f){f=f.waits;var m,q,p,u,t,g,a,c,d,b,e;R(this.Wa);m=0;for(q=f.length;m<q;m++)if(g=f[m],c=this.b.bj[g.ev.toString()]){d=-1;p=0;for(u=c.sb.length;p<u;p++)if(c.sb[p].G===g.act){d=p;break}if(-1!==d){a={Va:{},aa:[],kj:!1};a.time=g.t;a.Zo=g.st||"";a.Zk=!!g.s;a.Je=c;a.gb=d;p=0;for(u=g.sm.length;p<u;p++)(c=this.b.Tf(g.sm[p]))&&a.aa.push(c);for(t in g.sols)if(g.sols.hasOwnProperty(t)&&(c=this.b.Tf(parseInt(t,10)))){d=g.sols[t];b={Ok:d.sa,pd:[]};p=0;for(u=d.insts.length;p<u;p++)(e=this.b.Bj(d.insts[p]))&&
b.pd.push(e);a.Va[c.index.toString()]=b}this.Wa.push(a)}}};
(function(){function f(){}function m(){}var q=Y.prototype;f.prototype.Il=function(){return!0};f.prototype.Hl=function(){return!0};f.prototype.Al=function(){var f=this.b.ab();return f.hh?!1:!f.ud};f.prototype.Ni=function(){return!0};f.prototype.Fl=function(){return!0};f.prototype.Og=function(){return!0};f.prototype.Pi=function(){return!0};f.prototype.Jl=function(){return!0};f.prototype.Ng=function(){return!0};f.prototype.ul=function(f,g,a){return Ia(S(f),S(a))<=S(g)};f.prototype.Cl=function(f,g){return U(S(f),
S(g))};f.prototype.Bl=function(f,g,a){f=Ga(f);g=Ga(g);a=Ga(a);return U(a,g)?U(f,g)&&!U(f,a):!(!U(f,g)&&U(f,a))};q.p=new f;var p=[],u=[];q.Yb=new function(){};m.prototype["int"]=function(f,g){M(g)?(f.R(parseInt(g,10)),isNaN(f.data)&&(f.data=0)):f.R(g)};m.prototype["float"]=function(f,g){M(g)?(f.B(parseFloat(g)),isNaN(f.data)&&(f.data=0)):f.B(g)};m.prototype.random=function(f,g,a){void 0===a?f.B(Math.random()*g):f.B(Math.random()*(a-g)+g)};m.prototype.sqrt=function(f,g){f.B(Math.sqrt(g))};m.prototype.abs=
function(f,g){f.B(Math.abs(g))};m.prototype.round=function(f,g){f.R(Math.round(g))};m.prototype.floor=function(f,g){f.R(Math.floor(g))};m.prototype.ceil=function(f,g){f.R(Math.ceil(g))};m.prototype.sin=function(f,g){f.B(Math.sin(S(g)))};m.prototype.cos=function(f,g){f.B(Math.cos(S(g)))};m.prototype.tan=function(f,g){f.B(Math.tan(S(g)))};m.prototype.asin=function(f,g){f.B(Ca(Math.asin(g)))};m.prototype.acos=function(f,g){f.B(Ca(Math.acos(g)))};m.prototype.atan=function(f,g){f.B(Ca(Math.atan(g)))};
m.prototype.exp=function(f,g){f.B(Math.exp(g))};m.prototype.log10=function(f,g){f.B(Math.log(g)/Math.LN10)};m.prototype.max=function(f){var g=arguments[1];"number"!==typeof g&&(g=0);var a,c,d;a=2;for(c=arguments.length;a<c;a++)d=arguments[a],"number"===typeof d&&g<d&&(g=d);f.B(g)};m.prototype.min=function(f){var g=arguments[1];"number"!==typeof g&&(g=0);var a,c,d;a=2;for(c=arguments.length;a<c;a++)d=arguments[a],"number"===typeof d&&g>d&&(g=d);f.B(g)};m.prototype.Pd=function(f){f.B(this.b.Pd)};m.prototype.xf=
function(f){f.B(this.b.xf)};m.prototype.time=function(f){f.B(this.b.ib.Ha)};m.prototype.rc=function(f){f.R(this.b.rc)};m.prototype.rg=function(f){f.R(this.b.rg)};m.prototype.oh=function(f){f.R(this.b.oh)};m.prototype.k=function(f,g,a,c,d){f.B(Ca(Ha(g,a,c,d)))};m.prototype.left=function(f,g,a){f.Ua(M(g)?g.substr(0,a):"")};m.prototype.right=function(f,g,a){f.Ua(M(g)?g.substr(g.length-a):"")};m.prototype.replace=function(f,g,a,c){M(g)&&M(a)&&M(c)?f.Ua(g.replace(new RegExp(Va(a),"gi"),c)):f.Ua(M(g)?g:
"")};m.prototype.trim=function(f,g){f.Ua(M(g)?g.trim():"")};m.prototype.im=function(f){var g=O(Math.random()*(arguments.length-1));f.Xo(arguments[g+1])};m.prototype.dh=function(f){f.B(this.b.dh/1E3)};m.prototype.be=function(f){f.B(this.b.be)};q.ec=new m;q.Mo=function(){var f,g,a,c,d,b,e=this.b.ab();f=0;for(a=this.Wa.length;f<a;f++){c=this.Wa[f];if(-1===c.time){if(!c.Zk)continue}else if(c.time>this.b.ib.Ha)continue;e.Kb=c.Je;e.gb=c.gb;e.Ma=0;for(g in c.Va)c.Va.hasOwnProperty(g)&&(d=this.b.g[parseInt(g,
10)].U(),b=c.Va[g],d.oa=b.Ok,va(d.d,b.pd),d=b,R(d.pd),u.push(d));c.Je.Lo();this.b.ah(c.aa);c.kj=!0}g=f=0;for(a=this.Wa.length;f<a;f++)c=this.Wa[f],this.Wa[g]=c,c.kj?(Pa(c.Va),R(c.aa),p.push(c)):g++;ua(this.Wa,g)}})();
(function(){eb=function(f,q){var p=f[1],u=f[3],t=f[4],g=f[5],a=f[6],c=f[7],d=f[8];q.p||(q.p={});q.Yb||(q.Yb={});q.ec||(q.ec={});var b=q.p,e=q.Yb,l=q.ec;u&&(b.Cp=function(a,b){return Qb(this.x,a,b)},b.Dp=function(a,b){return Qb(this.y,a,b)},b.Kp=function(){var a=this.e;this.xa();var b=this.qa;return!(b.right<a.K||b.bottom<a.L||b.left>a.O||b.top>a.N)},b.Lp=function(){this.xa();var a=this.qa,b=this.b.M;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},b.Yp=function(a,b,c){var d=this.U(),
e=d.wb();if(!e.length)return!1;var g=e[0],f=g,m=Ma(g.x,g.y,b,c),l,p,q;l=1;for(p=e.length;l<p;l++)if(g=e[l],q=Ma(g.x,g.y,b,c),0===a&&q<m||1===a&&q>m)m=q,f=g;d.mf(f);return!0},e.sq=function(a){this.x!==a&&(this.x=a,this.pa())},e.tq=function(a){this.y!==a&&(this.y=a,this.pa())},e.nq=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.pa()},e.oq=function(a,b){var c=a.Gn(this);if(c){var d;c.yj?(d=c.yj(b,!0),c=c.yj(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.pa()}},
e.Qp=function(a){0!==a&&(this.x+=Math.cos(this.k)*a,this.y+=Math.sin(this.k)*a,this.pa())},e.Pp=function(a,b){0!==b&&(this.x+=Math.cos(S(a))*b,this.y+=Math.sin(S(a))*b,this.pa())},l.yq=function(a){a.B(this.x)},l.zq=function(a){a.B(this.y)},l.Pd=function(a){a.B(this.b.zn(this))});t&&(b.Bp=function(a,b){return Qb(this.width,a,b)},b.yp=function(a,b){return Qb(this.height,a,b)},e.Rl=function(a){this.width!==a&&(this.width=a,this.pa())},e.kq=function(a){this.height!==a&&(this.height=a,this.pa())},e.pq=
function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.pa()},l.xq=function(a){a.B(this.width)},l.Gp=function(a){a.B(this.height)},l.up=function(a){this.xa();a.B(this.qa.left)},l.wp=function(a){this.xa();a.B(this.qa.top)},l.vp=function(a){this.xa();a.B(this.qa.right)},l.tp=function(a){this.xa();a.B(this.qa.bottom)});g&&(b.ul=function(a,b){return Ia(this.k,S(b))<=S(a)},b.Cl=function(a){return U(this.k,S(a))},b.Bl=function(a,b){var c=Ga(a),d=Ga(b),e=Ea(this.k);return U(d,c)?
U(e,c)&&!U(e,d):!(!U(e,c)&&U(e,d))},e.gq=function(a){a=S(Da(a));isNaN(a)||this.k===a||(this.k=a,this.pa())},e.bq=function(a){0===a||isNaN(a)||(this.k+=S(a),this.k=Ea(this.k),this.pa())},e.cq=function(a){0===a||isNaN(a)||(this.k-=S(a),this.k=Ea(this.k),this.pa())},e.dq=function(a,b){var c=Ja(this.k,S(b),S(a));isNaN(c)||this.k===c||(this.k=c,this.pa())},e.fq=function(a,b,c){a=Ja(this.k,Math.atan2(c-this.y,b-this.x),S(a));isNaN(a)||this.k===a||(this.k=a,this.pa())},e.qq=function(a,b){var c=Math.atan2(b-
this.y,a-this.x);isNaN(c)||this.k===c||(this.k=c,this.pa())},l.sp=function(a){a.B(Fa(this.k))});p||(b.zp=function(a,b,c){return Qb(this.da[a],b,c)},b.Ip=function(a){return this.da[a]},b.Zp=function(a,b){var c=this.U(),d=c.wb();if(!d.length)return!1;var e=d[0],g=e,f=e.da[b],m,l,p;m=1;for(l=d.length;m<l;m++)if(e=d[m],p=e.da[b],0===a&&p<f||1===a&&p>f)f=p,g=e;c.mf(g);return!0},b.Xp=function(a){var b,c,d,e,g;if(this.b.yn().Gh){g=this.U();if(g.oa)for(g.oa=!1,R(g.d),R(g.H),d=this.d,b=0,c=d.length;b<c;b++)e=
d[b],e.uid===a?g.H.push(e):g.d.push(e);else{d=b=0;for(c=g.d.length;b<c;b++)e=g.d[b],g.d[d]=e,e.uid===a?g.H.push(e):d++;ua(g.d,d)}this.Kd();return!!g.d.length}e=this.b.Bj(a);if(!e)return!1;g=this.U();if(!g.oa&&-1===g.d.indexOf(e))return!1;if(this.J)for(a=e.type.T,b=0,c=a.length;b<c;b++){if(a[b]===this)return g.mf(e),this.Kd(),!0}else if(e.type===this)return g.mf(e),this.Kd(),!0;return!1},b.Mi=function(){return!0},b.Gl=function(){return!0},e.lq=function(a,b){var c=this.da;ka(c[a])?c[a]=ka(b)?b:parseFloat(b):
M(c[a])&&(c[a]=M(b)?b:b.toString())},e.rp=function(a,b){var c=this.da;ka(c[a])?c[a]=ka(b)?c[a]+b:c[a]+parseFloat(b):M(c[a])&&(c[a]=M(b)?c[a]+b:c[a]+b.toString())},e.uq=function(a,b){var c=this.da;ka(c[a])&&(c[a]=ka(b)?c[a]-b:c[a]-parseFloat(b))},e.hq=function(a,b){this.da[a]=b?1:0},e.vq=function(a){this.da[a]=1-this.da[a]},e.Fp=function(){this.b.Gd(this)},e.El||(e.El=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}this.b.kg(this,b,!0);this.bd&&this.bd();if(this.C)for(a=0,b=this.C.length;a<
b;++a)c=this.C[a],c.bd&&c.bd()}),l.Ep=function(a){var b=a.Ad.d.length,c,d,e;c=0;for(d=this.b.Ib.length;c<d;c++)e=this.b.Ib[c],a.Ad.J?0<=e.type.T.indexOf(a.Ad)&&b++:e.type===a.Ad&&b++;a.R(b)},l.aq=function(a){a.R(a.Ad.U().wb().length)},l.wq=function(a){a.R(this.uid)},l.Hp=function(a){a.R(this.Ne())},l.wl||(l.wl=function(a){a.Ua(JSON.stringify(this.b.si(this,!0)))}));a&&(b.Mp=function(){return this.visible},e.rq=function(a){!a!==!this.visible&&(this.visible=!!a,this.b.Q=!0)},b.Ap=function(a,b){return Qb(ab(100*
this.opacity),a,b)},e.mq=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.Q=!0)},l.Opacity=function(a){a.B(ab(100*this.opacity))});c&&(b.Jp=function(a){return a?this.e===a:!1},b.$p=function(a){var b=this.U(),c=b.wb();if(!c.length)return!1;var d=c[0],e=d,g,f;g=1;for(f=c.length;g<f;g++)if(d=c[g],0===a){if(d.e.index>e.e.index||d.e.index===e.e.index&&d.Ob()>e.Ob())e=d}else if(d.e.index<e.e.index||d.e.index===e.e.index&&d.Ob()<e.Ob())e=d;b.mf(e);return!0},e.Tp=function(){var a=
this.e,b=a.d;b.length&&b[b.length-1]===this||(a.me(this,!1),a.xe(this,!1),this.b.Q=!0)},e.Rp=function(){var a=this.e,b=a.d;b.length&&b[0]===this||(a.me(this,!1),a.Fo(this),this.b.Q=!0)},e.Sp=function(a){a&&a!=this.e&&(this.e.me(this,!0),this.e=a,a.xe(this,!0),this.b.Q=!0)},e.Bq=function(a,b){var c=0===a;if(b){var d=b.An(this);d&&d.uid!==this.uid&&(this.e.index!==d.e.index&&(this.e.me(this,!0),this.e=d.e,d.e.xe(this,!0)),this.e.so(this,d,c),this.b.Q=!0)}},l.Op=function(a){a.R(this.e.uk)},l.Np=function(a){a.Ua(this.e.name)},
l.Aq=function(a){a.R(this.Ob())});d&&(e.iq=function(a,b){if(this.b.j){var c=this.type.uh(b);if(!(0>c)){var d=1===a;this.yc[c]!==d&&(this.yc[c]=d,this.Eb(),this.b.Q=!0)}}},e.jq=function(a,b,c){if(this.b.j){var d=this.type.uh(a);0>d||(a=this.type.q[d],d=this.W[d],b=Math.floor(b),0>b||b>=d.length||(1===this.b.j.Jn(a.ca,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.Xa&&(this.b.Q=!0))))}})};xb=function(){this.Xg=this.Rg=!0;this.type.Ui=!0;this.b.Q=!0;var f,q,p=this.Sg;f=0;for(q=p.length;f<q;++f)p[f](this);this.e.fb&&
this.xa()};yb=function(f){f&&this.Sg.push(f)};Ab=function(){if(this.Rg){var f=this.qa,q=this.Ld;f.set(this.x,this.y,this.x+this.width,this.y+this.height);f.offset(-this.Wf*this.width,-this.Xf*this.height);this.k?(f.offset(-this.x,-this.y),q.Wk(f,this.k),q.offset(this.x,this.y),q.cj(f)):q.zg(f);f.normalize();this.Rg=!1;this.lp()}};var f=new Q(0,0,0,0);Bb=function(){if(this.e.fb){var m=this.e.wa,q=this.qa;f.set(m.Ia(q.left),m.Ja(q.top),m.Ia(q.right),m.Ja(q.bottom));this.Ka.Ie(f)||(this.Ka.right<this.Ka.left?
m.update(this,null,f):m.update(this,this.Ka,f),this.Ka.Ce(f),this.e.Cb=!0)}};Cb=function(){if(this.Xg&&this.Df){this.xa();var m=this.type.gj,q=this.qa;f.set(m.Ia(q.left),m.Ja(q.top),m.Ia(q.right),m.Ja(q.bottom));this.Ic.Ie(f)||(this.Ic.right<this.Ic.left?m.update(this,null,f):m.update(this,this.Ic,f),this.Ic.Ce(f),this.Xg=!1)}};zb=function(f,q){return this.qa.Hb(f,q)&&this.Ld.Hb(f,q)?this.Ae&&!this.Ae.lo()?(this.Ae.hm(this.width,this.height,this.k),this.Ae.Hb(f-this.x,q-this.y)):!0:!1};tb=function(){this.type.Hg();
return this.nd};Db=function(){this.e.Gi();return this.Fb};Eb=function(){R(this.D);var f,q,p,u=!0;f=0;for(q=this.yc.length;f<q;f++)this.yc[f]&&(p=this.type.q[f],this.D.push(p),p.Ab||(u=!1));this.ql=!!this.D.length;this.oc=u};ub=function(){return"Inst"+this.Ik};hb=function(f){if(f&&f.hb&&f.type!=this){var q,p,u;q=0;for(p=f.siblings.length;q<p;q++)if(u=f.siblings[q],u.type==this)return u}f=this.U().wb();return f.length?f[0]:null};ib=function(f){var q=this.U().wb();return q.length?q[f.Ne()%q.length]:
null};gb=function(){if(this.pe&&!this.J){var f,q;f=0;for(q=this.d.length;f<q;f++)this.d[f].nd=f;var p=f,u=this.b.Ib;f=0;for(q=u.length;f<q;++f)u[f].type===this&&(u[f].nd=p++);this.pe=!1}};rb=function(f){if(f<this.d.length)return this.d[f];f-=this.d.length;var q=this.b.Ib,p,u;p=0;for(u=q.length;p<u;++p)if(q[p].type===this){if(0===f)return q[p];--f}return null};jb=function(){return this.qc[this.Jb]};kb=function(){this.Jb++;this.Jb===this.qc.length?this.qc.push(new fb(this)):(this.qc[this.Jb].oa=!0,
R(this.qc[this.Jb].H))};lb=function(){this.Jb++;this.Jb===this.qc.length&&this.qc.push(new fb(this));var f=this.qc[this.Jb],q=this.qc[this.Jb-1];q.oa?(f.oa=!0,R(f.H)):(f.oa=!1,va(f.d,q.d),va(f.H,q.H))};mb=function(){this.Jb--};nb=function(f){var q,p,u,t,g,a=0;if(!this.J)for(q=0,p=this.T.length;q<p;q++)for(g=this.T[q],u=0,t=g.V.length;u<t;u++){if(f===g.V[u].name)return this.S.lastBehIndex=a,g.V[u];a++}q=0;for(p=this.V.length;q<p;q++){if(f===this.V[q].name)return this.S.lastBehIndex=a,this.V[q];a++}return null};
ob=function(f){return this.Rf(f)?this.S.lastBehIndex:-1};pb=function(f){var q,p;q=0;for(p=this.q.length;q<p;q++)if(this.q[q].name===f)return q;return-1};qb=function(){if(this.hb&&!this.J){var f,q,p,u,t,g,a;this.Hg();g=this.U();var c=g.oa,d=(f=this.b.ab())&&f.Kb&&f.Kb.nc;f=0;for(q=this.Na.length;f<q;f++)if(t=this.Na[f],t!==this&&(t.Hg(),a=t.U(),a.oa=c,!c)){R(a.d);p=0;for(u=g.d.length;p<u;++p)a.d[p]=t.vh(g.d[p].nd);if(d)for(R(a.H),p=0,u=g.H.length;p<u;++p)a.H[p]=t.vh(g.H[p].nd)}}};sb=function(){return"Type"+
this.G};Qb=function(f,q,p){if("undefined"===typeof f||"undefined"===typeof p)return!1;switch(q){case 0:return f===p;case 1:return f!==p;case 2:return f<p;case 3:return f<=p;case 4:return f>p;case 5:return f>=p;default:return!1}}})();var Yb={};function Z(f){this.b=f}
(function(){function f(){}function m(){}var q=Z.prototype;q.ad=function(f){this.ja=f;this.b=f.b};q.ad.prototype.Ea=function(){};q.Gb=function(f){this.type=f;this.b=f.b};q.Gb.prototype.Ea=function(){var f=this;window.addEventListener("resize",function(){f.b.trigger(Z.prototype.p.Ol,f)});"undefined"!==typeof navigator.onLine&&(window.addEventListener("online",function(){f.b.trigger(Z.prototype.p.Ll,f)}),window.addEventListener("offline",function(){f.b.trigger(Z.prototype.p.Kl,f)}));"undefined"!==typeof window.applicationCache&&
(window.applicationCache.addEventListener("updateready",function(){f.b.be=1;f.b.trigger(Z.prototype.p.Qi,f)}),window.applicationCache.addEventListener("progress",function(m){f.b.be=m.loaded/m.total||0}));this.b.Nc||(document.addEventListener("appMobi.device.update.available",function(){f.b.trigger(Z.prototype.p.Qi,f)}),document.addEventListener("backbutton",function(){f.b.trigger(Z.prototype.p.Cf,f)}),document.addEventListener("menubutton",function(){f.b.trigger(Z.prototype.p.Oi,f)}),document.addEventListener("searchbutton",
function(){f.b.trigger(Z.prototype.p.Pl,f)}),document.addEventListener("tizenhwkey",function(m){var q;switch(m.keyName){case "back":q=f.b.trigger(Z.prototype.p.Cf,f);!q&&window.tizen&&window.tizen.application.getCurrentApplication().exit();break;case "menu":(q=f.b.trigger(Z.prototype.p.Oi,f))||m.preventDefault()}}));this.b.Oh&&"undefined"!==typeof Windows?Windows.UI.Core.SystemNavigationManager.getForCurrentView().addEventListener("backrequested",function(m){f.b.trigger(Z.prototype.p.Cf,f)&&(m.Hq=
!0)}):this.b.Nh&&WinJS.Application&&(WinJS.Application.onbackclick=function(){return!!f.b.trigger(Z.prototype.p.Cf,f)});this.b.Xl(function(m){m?f.b.trigger(Z.prototype.p.Ml,f):f.b.trigger(Z.prototype.p.Nl,f)})};f.prototype.Ll=function(){return!0};f.prototype.Kl=function(){return!0};f.prototype.Qi=function(){return!0};f.prototype.Nl=function(){return!0};f.prototype.Ml=function(){return!0};f.prototype.Ol=function(){return!0};f.prototype.Cf=function(){return!0};f.prototype.Oi=function(){return!0};f.prototype.Pl=
function(){return!0};q.p=new f;m.prototype.zl=function(f,m){"undefined"!==typeof console&&(0===f&&console.log&&console.log(m.toString()),1===f&&console.warn&&console.warn(m.toString()),2===f&&console.error&&console.error(m.toString()))};q.Yb=new m;q.ec=new function(){}})();window.kongregate=null;function $b(f){this.b=f}
(function(){function f(){}var m=$b.prototype;m.ad=function(f){this.ja=f;this.b=f.b};m.ad.prototype.Ea=function(){};m.Gb=function(f){this.type=f;this.b=f.b};var q=m.Gb.prototype;q.Ea=function(){var f=this;this.b.Ra||"undefined"===typeof window.kongregateAPI||window.kongregateAPI.loadAPI(function(){window.kongregate=window.kongregateAPI.getAPI();f.b.trigger($b.prototype.p.Li,f)})};q.kf=function(){};m.p=new f;f.prototype.Li=function(){return!0};m.Yb=new function(){};m.ec=new function(){}})();
function ac(f){this.b=f}
(function(){function f(){return a.length?a.pop():{}}function m(c){var d,b;d=0;for(b=c.length;d<b;d++)a.push(c[d]);R(c)}function q(a){return a.length&&" "===a.charAt(a.length-1)?a.substring(0,a.length-1):a}function p(){}var u=ac.prototype;u.Ea=function(){u.Yb.Rl=function(a){this.width!==a&&(this.width=a,this.Dd=!0,this.pa())}};u.ad=function(a){this.ja=a;this.b=a.b};var t=u.ad.prototype;t.Ea=function(){};t.zk=function(){if(!this.J){var a,d,b;a=0;for(d=this.d.length;a<d;a++)b=this.d[a],b.Rb=null,b.zd=
null,b.Sa=null}};u.Gb=function(a){this.type=a;this.b=a.b;this.Tb?R(this.Qc):this.Qc=[];this.Dd=!0};t=u.Gb.prototype;t.Ea=function(){this.text=this.lb[0];this.visible=0===this.lb[1];this.font=this.lb[2];this.color=this.lb[3];this.Vf=this.lb[4];this.Jg=this.lb[5];this.Ii=0===this.lb[7];this.Uh=this.gg=this.width;this.fg=this.height;this.Wh=this.lb[8];this.Of=this.Qd="";this.el=this.fl=this.of=0;this.xo();this.Sa=this.zd=this.Rb=null;this.sk=!1;this.Ze=this.b.rc;this.Tb?this.le.set(0,0,1,1):this.le=
new Q(0,0,1,1);this.b.j&&this.b.ep(this)};t.xo=function(){var a=this.font.split(" "),d;for(d=0;d<a.length;d++)if("pt"===a[d].substr(a[d].length-2,2)){this.of=parseInt(a[d].substr(0,a[d].length-2));this.ki=Math.ceil(this.of/72*96)+4;0<d&&(this.Of=a[d-1]);this.Qd=a[d+1];for(d+=2;d<a.length;d++)this.Qd+=" "+a[d];break}};t.Wb=function(){return{t:this.text,f:this.font,c:this.color,ha:this.Vf,va:this.Jg,wr:this.Ii,lho:this.Wh,fn:this.Qd,fs:this.Of,ps:this.of,pxh:this.ki,tw:this.fl,th:this.el,lrt:this.Ze}};
t.Rc=function(a){this.text=a.t;this.font=a.f;this.color=a.c;this.Vf=a.ha;this.Jg=a.va;this.Ii=a.wr;this.Wh=a.lho;this.Qd=a.fn;this.Of=a.fs;this.of=a.ps;this.ki=a.pxh;this.fl=a.tw;this.el=a.th;this.Ze=a.lrt;this.Dd=!0;this.Uh=this.gg=this.width;this.fg=this.height};t.re=function(){if(this.b.j&&this.Sa&&300<=this.b.rc-this.Ze){var a=this.e;this.xa();var d=this.qa;if(d.right<a.K||d.bottom<a.L||d.left>a.O||d.top>a.N)this.b.j.deleteTexture(this.Sa),this.Rb=this.zd=this.Sa=null}};t.kf=function(){this.Rb=
this.zd=null;this.b.j&&this.Sa&&this.b.j.deleteTexture(this.Sa);this.Sa=null};t.dm=function(){this.font=this.Of+" "+this.of.toString()+"pt "+this.Qd;this.Dd=!0;this.b.Q=!0};t.Jc=function(a,d){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=d?1:this.opacity;var b=1;d&&(b=Math.abs(this.e.Qa()),a.save(),a.scale(b,b));if(this.Dd||this.width!==this.Uh)this.type.ja.Ul(this.text,this.Qc,a,this.width,this.Ii),this.Dd=!1,this.Uh=this.width;this.xa();var b=d?0:this.Ld.sc,e=d?0:this.Ld.tc;
this.b.he&&(b=b+.5|0,e=e+.5|0);0===this.k||d||(a.save(),a.translate(b,e),a.rotate(this.k),e=b=0);var f=e+this.height,g=this.ki,g=g+this.Wh,m,p;1===this.Jg?e+=Math.max(this.height/2-this.Qc.length*g/2,0):2===this.Jg&&(e+=Math.max(this.height-this.Qc.length*g-2,0));for(p=0;p<this.Qc.length&&!(m=b,1===this.Vf?m=b+(this.width-this.Qc[p].width)/2:2===this.Vf&&(m=b+(this.width-this.Qc[p].width)),a.fillText(this.Qc[p].text,m,e),e+=g,e>=f-g);p++);(0!==this.k||d)&&a.restore();this.Ze=this.b.rc};t.Mb=function(a){if(!(1>
this.width||1>this.height)){var d=this.Dd||this.sk;this.sk=!1;var b=this.e.Qa(),e=this.e.Pa(),f=this.le,g=b*this.width,m=b*this.height,p=Math.ceil(g),q=Math.ceil(m),k=Math.abs(p),t=Math.abs(q),u=this.b.n/2,E=this.b.m/2;this.zd||(this.Rb=document.createElement("canvas"),this.Rb.width=k,this.Rb.height=t,this.gg=k,this.fg=t,d=!0,this.zd=this.Rb.getContext("2d"));if(k!==this.gg||t!==this.fg)this.Rb.width=k,this.Rb.height=t,this.Sa&&(a.deleteTexture(this.Sa),this.Sa=null),d=!0;d&&(this.zd.clearRect(0,
0,k,t),this.Jc(this.zd,!0),this.Sa||(this.Sa=a.Za(k,t,this.b.F,this.b.rd)),a.op(this.Rb,this.Sa,this.b.rd));this.gg=k;this.fg=t;a.ob(this.Sa);a.qf(this.opacity);a.mb();a.translate(-u,-E);a.eb();var A=this.Ld,d=this.e.ea(A.sc,A.tc,!0),k=this.e.ea(A.sc,A.tc,!1),t=this.e.ea(A.Zc,A.$c,!0),u=this.e.ea(A.Zc,A.$c,!1),E=this.e.ea(A.Dc,A.Ec,!0),F=this.e.ea(A.Dc,A.Ec,!1),I=this.e.ea(A.Bc,A.Cc,!0),A=this.e.ea(A.Bc,A.Cc,!1);if(this.b.he||0===this.k&&0===e)var y=(d+.5|0)-d,D=(k+.5|0)-k,d=d+y,k=k+D,t=t+y,u=u+D,
E=E+y,F=F+D,I=I+y,A=A+D;0===this.k&&0===e?(t=d+p,u=k,E=t,F=k+q,I=d,A=F,f.right=1,f.bottom=1):(f.right=g/p,f.bottom=m/q);a.ke(d,k,t,u,E,F,I,A,f);a.mb();a.scale(b,b);a.wg(-this.e.Pa());a.translate((this.e.K+this.e.O)/-2,(this.e.L+this.e.N)/-2);a.eb();this.Ze=this.b.rc}};var g=[];u.Tl=function(a){R(g);for(var d="",b,e=0;e<a.length;)if(b=a.charAt(e),"\n"===b)d.length&&(g.push(d),d=""),g.push("\n"),++e;else if(" "===b||"\t"===b||"-"===b){do d+=a.charAt(e),e++;while(e<a.length&&(" "===a.charAt(e)||"\t"===
a.charAt(e)));g.push(d);d=""}else e<a.length&&(d+=b,e++);d.length&&g.push(d)};var a=[];u.Ul=function(a,d,b,e,g){if(a&&a.length)if(2>=e)m(d);else{if(100>=a.length&&-1===a.indexOf("\n")){var n=b.measureText(a).width;if(n<=e){m(d);d.push(f());d[0].text=a;d[0].width=n;return}}this.Vl(a,d,b,e,g)}else m(d)};u.Vl=function(c,d,b,e,l){l&&(this.Tl(c),c=g);var m="",p,r,t,k=0;for(t=0;t<c.length;t++)"\n"===c[t]?(k>=d.length&&d.push(f()),m=q(m),r=d[k],r.text=m,r.width=b.measureText(m).width,k++,m=""):(p=m,m+=c[t],
r=b.measureText(m).width,r>=e&&(k>=d.length&&d.push(f()),p=q(p),r=d[k],r.text=p,r.width=b.measureText(p).width,k++,m=c[t],l||" "!==m||(m="")));m.length&&(k>=d.length&&d.push(f()),m=q(m),r=d[k],r.text=m,r.width=b.measureText(m).width,k++);for(t=k;t<d.length;t++)a.push(d[t]);d.length=k};u.p=new function(){};p.prototype.Ql=function(a){ka(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.Dd=!0,this.b.Q=!0)};u.Yb=new p;u.ec=new function(){}})();
function Zb(){return[Z,$b,ac,$b.prototype.p.Li,Z.prototype.Yb.zl,ac.prototype.Yb.Ql]};
