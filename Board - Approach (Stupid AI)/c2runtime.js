// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';function C(){return function(){}}function ca(l){return function(n){this[l]=n}}function G(l){return function(){return this[l]}}function I(l){return function(){return l}}var da,fa,J,ga,ha,K,ia,ja,ka,la,ma,na,M,oa,pa,qa,ra,sa,ta,ua,va,O,wa,xa,ya,za,Aa,Ca,Da,Ea,Fa,Ga,Ha,Ia,Ja,P,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Q,Ab,Bb,Cb,R,Db,Eb={},Fb={};
"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(l){return l.__proto__}:function(l){return l.constructor.prototype});
(function(){function l(c,a,p,f){this.set(c,a,p,f)}function n(){this.Ub=this.Tb=this.Wb=this.Vb=this.lc=this.kc=this.ib=this.hb=0}function e(a,p,f,d){a<p?f<d?(m=a<f?a:f,c=p>d?p:d):(m=a<d?a:d,c=p>f?p:f):f<d?(m=p<f?p:f,c=a>d?a:d):(m=p<d?p:d,c=a>f?a:f)}function k(){this.ba=this.fc=null;this.ne=0;p&&(this.fc=new Set);this.Fe=[];this.Lc=!0}function b(c){s[u++]=c}function a(){this.Ha=this.rh=this.y=this.Mh=0}function d(c){this.ye=[];this.kk=this.mk=this.nk=this.lk=0;this.Mf(c)}function h(c,a){this.co=c;
this.bo=a;this.cells={}}function f(c,a,p){var f;return t.length?(f=t.pop(),f.Cp=c,f.x=a,f.y=p,f):new da(c,a,p)}function g(c,a,p){this.Cp=c;this.x=a;this.y=p;this.Xg=new fa}J=function(c){window.console&&window.console.log&&window.console.log(c)};ga=function(c){return"undefined"===typeof c};ha=function(c){return"number"===typeof c};K=function(c){return"string"===typeof c};ia=function(c){return 0<c&&0===(c-1&c)};ja=function(c){--c;for(var a=1;32>a;a<<=1)c|=c>>a;return c+1};ka=function(c){return 0>c?
-c:c};la=function(c,a){return c<a?c:a};ma=Math.PI;na=function(c){return c+0.5|0};M=function(c){return 0<=c?c|0:(c|0)-1};oa=function(c){var a=c|0;return a===c?a:a+1};pa=function(c,a,p,f,d,r,g,t){var h,b,w,s;c<p?(b=c,h=p):(b=p,h=c);d<g?(s=d,w=g):(s=g,w=d);if(h<s||b>w)return!1;a<f?(b=a,h=f):(b=f,h=a);r<t?(s=r,w=t):(s=t,w=r);if(h<s||b>w)return!1;h=d-c+g-p;b=r-a+t-f;c=p-c;a=f-a;d=g-d;r=t-r;t=ka(a*d-r*c);return ka(d*b-r*h)>t?!1:ka(c*b-a*h)<=t};l.prototype.set=function(c,a,p,f){this.left=c;this.top=a;this.right=
p;this.bottom=f};l.prototype.copy=function(c){this.left=c.left;this.top=c.top;this.right=c.right;this.bottom=c.bottom};l.prototype.width=function(){return this.right-this.left};l.prototype.height=function(){return this.bottom-this.top};l.prototype.offset=function(c,a){this.left+=c;this.top+=a;this.right+=c;this.bottom+=a;return this};l.prototype.normalize=function(){var c=0;this.left>this.right&&(c=this.left,this.left=this.right,this.right=c);this.top>this.bottom&&(c=this.top,this.top=this.bottom,
this.bottom=c)};l.prototype.Yb=function(c,a){return c>=this.left&&c<=this.right&&a>=this.top&&a<=this.bottom};l.prototype.Co=function(c){return this.left===c.left&&this.top===c.top&&this.right===c.right&&this.bottom===c.bottom};qa=l;n.prototype.lh=function(c){this.hb=c.left;this.ib=c.top;this.kc=c.right;this.lc=c.top;this.Vb=c.right;this.Wb=c.bottom;this.Tb=c.left;this.Ub=c.bottom};n.prototype.jm=function(c,a){if(0===a)this.lh(c);else{var p=Math.sin(a),f=Math.cos(a),d=c.left*p,r=c.top*p,g=c.right*
p,p=c.bottom*p,t=c.left*f,h=c.top*f,b=c.right*f,f=c.bottom*f;this.hb=t-r;this.ib=h+d;this.kc=b-r;this.lc=h+g;this.Vb=b-p;this.Wb=f+g;this.Tb=t-p;this.Ub=f+d}};n.prototype.offset=function(c,a){this.hb+=c;this.ib+=a;this.kc+=c;this.lc+=a;this.Vb+=c;this.Wb+=a;this.Tb+=c;this.Ub+=a;return this};var m=0,c=0;n.prototype.pk=function(a){e(this.hb,this.kc,this.Vb,this.Tb);a.left=m;a.right=c;e(this.ib,this.lc,this.Wb,this.Ub);a.top=m;a.bottom=c};n.prototype.Yb=function(c,a){var p=this.kc-this.hb,f=this.lc-
this.ib,d=this.Vb-this.hb,r=this.Wb-this.ib,g=c-this.hb,t=a-this.ib,h=p*p+f*f,b=p*d+f*r,f=p*g+f*t,w=d*d+r*r,s=d*g+r*t,u=1/(h*w-b*b),p=(w*f-b*s)*u,h=(h*s-b*f)*u;if(0<=p&&0<h&&1>p+h)return!0;p=this.Tb-this.hb;f=this.Ub-this.ib;h=p*p+f*f;b=p*d+f*r;f=p*g+f*t;u=1/(h*w-b*b);p=(w*f-b*s)*u;h=(h*s-b*f)*u;return 0<=p&&0<h&&1>p+h};ra=n;sa=function(c,a){for(var p in a)a.hasOwnProperty(p)&&(c[p]=a[p]);return c};ta=function(c,a){var p,f;a=M(a);if(!(0>a||a>=c.length))if(0===a)c.shift();else if(a===c.length-1)c.pop();
else{p=a;for(f=c.length-1;p<f;p++)c[p]=c[p+1];c.length=f}};ua=function(c,a){c.length=a.length;var p,f;p=0;for(f=a.length;p<f;p++)c[p]=a[p]};va=function(c,a){var p=c.indexOf(a);-1!==p&&ta(c,p)};O=function(c){return c/(180/ma)};wa=function(c){return c*(180/ma)};xa=function(c){c%=360;0>c&&(c+=360);return c};ya=function(c){c%=2*ma;0>c&&(c+=2*ma);return c};za=function(c){return xa(wa(c))};Aa=function(c){return ya(O(c))};Ca=function(c,a,p,f){return Math.atan2(f-a,p-c)};Da=function(c,a){if(c===a)return 0;
var p=Math.sin(c),f=Math.cos(c),d=Math.sin(a),r=Math.cos(a),p=p*d+f*r;return 1<=p?0:-1>=p?ma:Math.acos(p)};Ea=function(c,a,p){var f=Math.sin(c),d=Math.cos(c),r=Math.sin(a),g=Math.cos(a);return Math.acos(f*r+d*g)>p?0<d*r-f*g?ya(c+p):ya(c-p):ya(a)};Fa=function(c,a){var p=Math.sin(c),f=Math.cos(c),d=Math.sin(a),r=Math.cos(a);return 0>=f*d-p*r};Ga=function(c,a,p,f){c=p-c;a=f-a;return Math.sqrt(c*c+a*a)};Ha=function(c,a){return!c!==!a};Ia=function(c){for(var a in c)if(c.hasOwnProperty(a))return!0;return!1};
Ja=function(c){for(var a in c)c.hasOwnProperty(a)&&delete c[a]};var r=+new Date;P=function(){if("undefined"!==typeof window.performance){var c=window.performance;if("undefined"!==typeof c.now)return c.now();if("undefined"!==typeof c.webkitNow)return c.webkitNow();if("undefined"!==typeof c.mozNow)return c.mozNow();if("undefined"!==typeof c.msNow)return c.msNow()}return Date.now()-r};var p=("undefined"===typeof window||!window.c2ejecta)&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;
k.prototype.contains=function(c){return this.Kb()?!1:p?this.fc.has(c):this.ba&&this.ba.hasOwnProperty(c)};k.prototype.add=function(c){if(p)this.fc.has(c)||(this.fc.add(c),this.Lc=!1);else{var a=c.toString(),f=this.ba;f?f.hasOwnProperty(a)||(f[a]=c,this.ne++,this.Lc=!1):(this.ba={},this.ba[a]=c,this.ne=1,this.Lc=!1)}};k.prototype.remove=function(c){if(!this.Kb())if(p)this.fc.has(c)&&(this.fc["delete"](c),this.Lc=!1);else if(this.ba){c=c.toString();var a=this.ba;a.hasOwnProperty(c)&&(delete a[c],this.ne--,
this.Lc=!1)}};k.prototype.clear=function(){this.Kb()||(p?this.fc.clear():(this.ba=null,this.ne=0),this.Fe.length=0,this.Lc=!0)};k.prototype.Kb=function(){return 0===this.count()};k.prototype.count=function(){return p?this.fc.size:this.ne};var s=null,u=0;k.prototype.Zq=function(){if(!this.Lc){if(p)this.Fe.length=this.fc.size,s=this.Fe,u=0,this.fc.forEach(b),s=null,u=0;else{var c=this.Fe;c.length=this.ne;var a,f=0,d=this.ba;if(d)for(a in d)d.hasOwnProperty(a)&&(c[f++]=d[a])}this.Lc=!0}};k.prototype.Tf=
function(){this.Zq();return this.Fe};fa=k;a.prototype.add=function(c){this.y=c-this.Mh;this.rh=this.Ha+this.y;this.Mh=this.rh-this.Ha-this.y;this.Ha=this.rh};a.prototype.reset=function(){this.Ha=this.rh=this.y=this.Mh=0};Ka=a;La=function(c){return c.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};d.prototype.Mf=function(c){this.Ul=c;this.dh=c.length/2;this.ye.length=c.length;this.Nh=this.Oh=-1;this.rk=0};d.prototype.Up=function(){return!this.Ul.length};d.prototype.Za=function(){for(var c=this.ye,a=c[0],
p=a,f=c[1],d=f,r,g,t=1,h=this.dh;t<h;++t)g=2*t,r=c[g],g=c[g+1],r<a&&(a=r),r>p&&(p=r),g<f&&(f=g),g>d&&(d=g);this.lk=a;this.mk=p;this.nk=f;this.kk=d};d.prototype.lh=function(c,a,p){this.ye.length=8;this.dh=4;var f=this.ye;f[0]=c.left-a;f[1]=c.top-p;f[2]=c.right-a;f[3]=c.top-p;f[4]=c.right-a;f[5]=c.bottom-p;f[6]=c.left-a;f[7]=c.bottom-p;this.Oh=c.right-c.left;this.Nh=c.bottom-c.top;this.Za()};d.prototype.ao=function(c,a,p){if(this.Oh!==c||this.Nh!==a||this.rk!==p){this.Oh=c;this.Nh=a;this.rk=p;var f,
d,r,g,t,h=0,b=1,w=this.Ul,s=this.ye;0!==p&&(h=Math.sin(p),b=Math.cos(p));p=0;for(r=this.dh;p<r;p++)f=2*p,d=f+1,g=w[f]*c,t=w[d]*a,s[f]=g*b-t*h,s[d]=t*b+g*h;this.Za()}};d.prototype.Yb=function(c,a){var p=this.ye;if(c===p[0]&&a===p[1])return!0;var f,d,r,g=this.dh,t=this.lk-110,h=this.nk-101,b=this.mk+131,w=this.kk+120,s,u,m=0,e=0;for(f=0;f<g;f++)d=2*f,r=2*((f+1)%g),s=p[d],d=p[d+1],u=p[r],r=p[r+1],pa(t,h,c,a,s,d,u,r)&&m++,pa(b,w,c,a,s,d,u,r)&&e++;return 1===m%2||1===e%2};Ma=d;h.prototype.Ok=function(c,
a,p){var d;d=this.cells[c];return d?(d=d[a])?d:p?(d=f(this,c,a),this.cells[c][a]=d):null:p?(d=f(this,c,a),this.cells[c]={},this.cells[c][a]=d):null};h.prototype.Uj=function(c){return M(c/this.co)};h.prototype.Vj=function(c){return M(c/this.bo)};h.prototype.update=function(c,a,p){var f,d,r,g,h;if(a)for(f=a.left,d=a.right;f<=d;++f)for(r=a.top,g=a.bottom;r<=g;++r)if(!p||!p.Yb(f,r))if(h=this.Ok(f,r,!1))h.remove(c),h.Kb()&&(h.Xg.clear(),1E3>t.length&&t.push(h),this.cells[f][r]=null);if(p)for(f=p.left,
d=p.right;f<=d;++f)for(r=p.top,g=p.bottom;r<=g;++r)a&&a.Yb(f,r)||this.Ok(f,r,!0).Ip(c)};Na=h;var t=[];g.prototype.Kb=function(){return this.Xg.Kb()};g.prototype.Ip=function(c){this.Xg.add(c)};g.prototype.remove=function(c){this.Xg.remove(c)};da=g;var w="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");Oa=function(c){return 0>=c||11<=c?"source-over":w[c-1]};Pa=function(c,a,p){if(p)switch(c.Ba=p.ONE,c.za=p.ONE_MINUS_SRC_ALPHA,
a){case 1:c.Ba=p.ONE;c.za=p.ONE;break;case 3:c.Ba=p.ONE;c.za=p.ZERO;break;case 4:c.Ba=p.ONE_MINUS_DST_ALPHA;c.za=p.ONE;break;case 5:c.Ba=p.DST_ALPHA;c.za=p.ZERO;break;case 6:c.Ba=p.ZERO;c.za=p.SRC_ALPHA;break;case 7:c.Ba=p.ONE_MINUS_DST_ALPHA;c.za=p.ZERO;break;case 8:c.Ba=p.ZERO;c.za=p.ONE_MINUS_SRC_ALPHA;break;case 9:c.Ba=p.DST_ALPHA;c.za=p.ONE_MINUS_SRC_ALPHA;break;case 10:c.Ba=p.ONE_MINUS_DST_ALPHA,c.za=p.SRC_ALPHA}};Qa=function(c){return na(1E6*c)/1E6};Ra=function(c,a){return"string"!==typeof c||
"string"!==typeof a||c.length!==a.length?!1:c===a?!0:c.toLowerCase()===a.toLowerCase()}})();var Gb="undefined"!==typeof Float32Array?Float32Array:Array;function Hb(l){var n=new Gb(3);l&&(n[0]=l[0],n[1]=l[1],n[2]=l[2]);return n}function Ib(l){var n=new Gb(16);l&&(n[0]=l[0],n[1]=l[1],n[2]=l[2],n[3]=l[3],n[4]=l[4],n[5]=l[5],n[6]=l[6],n[7]=l[7],n[8]=l[8],n[9]=l[9],n[10]=l[10],n[11]=l[11],n[12]=l[12],n[13]=l[13],n[14]=l[14],n[15]=l[15]);return n}
function Jb(l,n){n[0]=l[0];n[1]=l[1];n[2]=l[2];n[3]=l[3];n[4]=l[4];n[5]=l[5];n[6]=l[6];n[7]=l[7];n[8]=l[8];n[9]=l[9];n[10]=l[10];n[11]=l[11];n[12]=l[12];n[13]=l[13];n[14]=l[14];n[15]=l[15]}function Kb(l,n){var e=n[0],k=n[1];n=n[2];l[0]*=e;l[1]*=e;l[2]*=e;l[3]*=e;l[4]*=k;l[5]*=k;l[6]*=k;l[7]*=k;l[8]*=n;l[9]*=n;l[10]*=n;l[11]*=n}
function Lb(l,n,e,k){k||(k=Ib());var b,a,d,h,f,g,m,c,r=l[0],p=l[1];l=l[2];a=e[0];d=e[1];b=e[2];e=n[1];g=n[2];r===n[0]&&p===e&&l===g?(l=k,l[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=1,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=1,l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1):(e=r-n[0],g=p-n[1],m=l-n[2],c=1/Math.sqrt(e*e+g*g+m*m),e*=c,g*=c,m*=c,n=d*m-b*g,b=b*e-a*m,a=a*g-d*e,(c=Math.sqrt(n*n+b*b+a*a))?(c=1/c,n*=c,b*=c,a*=c):a=b=n=0,d=g*a-m*b,h=m*n-e*a,f=e*b-g*n,(c=Math.sqrt(d*d+h*h+f*f))?(c=1/c,d*=c,h*=c,f*=c):f=h=d=0,
k[0]=n,k[1]=d,k[2]=e,k[3]=0,k[4]=b,k[5]=h,k[6]=g,k[7]=0,k[8]=a,k[9]=f,k[10]=m,k[11]=0,k[12]=-(n*r+b*p+a*l),k[13]=-(d*r+h*p+f*l),k[14]=-(e*r+g*p+m*l),k[15]=1)}
(function(){function l(a){this.Fi=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.sk=Hb([0,0,100]);this.ul=Hb([0,0,0]);this.Dm=Hb([0,1,0]);this.Dj=Hb([1,1,1]);this.Ti=Ib();this.wb=Ib();this.ll=Ib();this.Zh=Ib();this.g=a;this.$k()}function n(a,d,h){this.g=a;this.Nf=d;this.name=h;this.ub=a.getAttribLocation(d,"aPos");this.Vc=a.getAttribLocation(d,"aTex");this.sl=a.getUniformLocation(d,"matP");this.pe=a.getUniformLocation(d,"matMV");this.qe=a.getUniformLocation(d,
"opacity");this.tl=a.getUniformLocation(d,"samplerFront");this.Af=a.getUniformLocation(d,"samplerBack");this.Jd=a.getUniformLocation(d,"destStart");this.Id=a.getUniformLocation(d,"destEnd");this.Ri=a.getUniformLocation(d,"seconds");this.Qi=a.getUniformLocation(d,"pixelWidth");this.Pi=a.getUniformLocation(d,"pixelHeight");this.zf=a.getUniformLocation(d,"layerScale");this.yf=a.getUniformLocation(d,"layerAngle");this.Bf=a.getUniformLocation(d,"viewOrigin");this.Fp=!!(this.Qi||this.Pi||this.Ri||this.Af||
this.Jd||this.Id||this.zf||this.yf||this.Bf);this.qe&&a.uniform1f(this.qe,1);this.tl&&a.uniform1i(this.tl,0);this.Af&&a.uniform1i(this.Af,1);this.Jd&&a.uniform2f(this.Jd,0,0);this.Id&&a.uniform2f(this.Id,1,1);this.zf&&a.uniform1f(this.zf,1);this.yf&&a.uniform1f(this.yf,0);this.Bf&&a.uniform2f(this.Bf,0,0);this.yd=!1}function e(a,d){this.type=a;this.r=d;this.g=d.g;this.cc=this.zb=this.Ll=0;this.N=this.Qb=null;this.mm=[]}l.prototype.$k=function(){var a=this.g,d;this.ml=1;this.Gd=this.Fd=null;this.zk=
1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.DEPTH_TEST);this.nl=a.ONE;this.kl=a.ONE_MINUS_SRC_ALPHA;this.cj=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.cj);this.Wf=Array(4);this.Pf=Array(4);for(d=0;4>d;d++)this.Wf[d]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Wf[d]),this.Pf[d]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Pf[d]);this.sc=0;this.Hp=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,
this.Hp);this.Cj=new Float32Array(16E3);this.uj=new Float32Array(16E3);this.rq=new Float32Array(32E3);for(var h=new Uint16Array(12E3),f=d=0;12E3>d;)h[d++]=f,h[d++]=f+1,h[d++]=f+2,h[d++]=f,h[d++]=f+2,h[d++]=f+3,f+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,h,a.STATIC_DRAW);this.dj=this.nc=0;this.ma=[];d=this.Yh({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}","<default>");this.ma.push(d);d=this.Yh({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}",
"<point>");this.ma.push(d);for(var g in Mb)Mb.hasOwnProperty(g)&&this.ma.push(this.Yh(Mb[g],"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",g));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.Kc=[];this.qc=0;this.Ua=!1;this.Ak=this.sf=-1;this.$e=null;this.$o=a.createFramebuffer();this.Zl=
null;this.ed=Hb([0,0,0]);this.hc(0)};l.prototype.Yh=function(a,d,h){var f=this.g,g=f.createShader(f.FRAGMENT_SHADER);f.shaderSource(g,a.src);f.compileShader(g);if(!f.getShaderParameter(g,f.COMPILE_STATUS))return f.deleteShader(g),null;var b=f.createShader(f.VERTEX_SHADER);f.shaderSource(b,d);f.compileShader(b);if(!f.getShaderParameter(b,f.COMPILE_STATUS))return f.deleteShader(g),f.deleteShader(b),null;d=f.createProgram();f.attachShader(d,g);f.attachShader(d,b);f.linkProgram(d);if(!f.getProgramParameter(d,
f.LINK_STATUS))return f.deleteShader(g),f.deleteShader(b),f.deleteProgram(d),null;f.useProgram(d);f.deleteShader(g);f.deleteShader(b);h=new n(f,d,h);h.hi=a.hi||0;h.ii=a.ii||0;h.yk=!!a.yk;h.gk=!!a.gk;h.u=a.u||[];a=0;for(g=h.u.length;a<g;a++)h.u[a][1]=f.getUniformLocation(d,h.u[a][0]),f.uniform1f(h.u[a][1],0);return h};l.prototype.si=function(a){var d,h;d=0;for(h=this.ma.length;d<h;d++)if(this.ma[d].name===a)return d;return-1};l.prototype.Tl=function(a,d,h){var f=this.wb,g=this.Ti,b=[0,0,0,0,0,0,0,
0];b[0]=f[0]*a+f[4]*d+f[12];b[1]=f[1]*a+f[5]*d+f[13];b[2]=f[2]*a+f[6]*d+f[14];b[3]=f[3]*a+f[7]*d+f[15];b[4]=g[0]*b[0]+g[4]*b[1]+g[8]*b[2]+g[12]*b[3];b[5]=g[1]*b[0]+g[5]*b[1]+g[9]*b[2]+g[13]*b[3];b[6]=g[2]*b[0]+g[6]*b[1]+g[10]*b[2]+g[14]*b[3];b[7]=-b[2];0!==b[7]&&(b[7]=1/b[7],b[4]*=b[7],b[5]*=b[7],b[6]*=b[7],h[0]=(0.5*b[4]+0.5)*this.width,h[1]=(0.5*b[5]+0.5)*this.height)};l.prototype.Ae=function(a,d,b){if(this.width!==a||this.height!==d||b){this.td();this.width=a;this.height=d;this.g.viewport(0,0,
a,d);d=a/d;var f=this.Ti,g;g=1*Math.tan(45*Math.PI/360);d*=g;a=-d;b=-g;f||(f=Ib());var m=d-a,c=g-b;f[0]=2/m;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=2/c;f[6]=0;f[7]=0;f[8]=(d+a)/m;f[9]=(g+b)/c;f[10]=-1001/999;f[11]=-1;f[12]=0;f[13]=0;f[14]=-2E3/999;f[15]=0;Lb(this.sk,this.ul,this.Dm,this.wb);a=[0,0];d=[0,0];this.Tl(0,0,a);this.Tl(1,1,d);this.Dj[0]=1/(d[0]-a[0]);this.Dj[1]=-1/(d[1]-a[1]);a=0;for(d=this.ma.length;a<d;a++)b=this.ma[a],b.yd=!1,b.sl&&(this.g.useProgram(b.Nf),this.g.uniformMatrix4fv(b.sl,!1,this.Ti));
this.g.useProgram(this.ma[this.sf].Nf);this.g.bindTexture(this.g.TEXTURE_2D,null);this.g.activeTexture(this.g.TEXTURE1);this.g.bindTexture(this.g.TEXTURE_2D,null);this.g.activeTexture(this.g.TEXTURE0);this.Gd=this.Fd=null}};l.prototype.$c=function(){Lb(this.sk,this.ul,this.Dm,this.wb);Kb(this.wb,this.Dj)};l.prototype.translate=function(a,d){if(0!==a||0!==d){this.ed[0]=a;this.ed[1]=d;this.ed[2]=0;var b=this.wb,f=this.ed,g=f[0],m=f[1],f=f[2];b[12]=b[0]*g+b[4]*m+b[8]*f+b[12];b[13]=b[1]*g+b[5]*m+b[9]*
f+b[13];b[14]=b[2]*g+b[6]*m+b[10]*f+b[14];b[15]=b[3]*g+b[7]*m+b[11]*f+b[15]}};l.prototype.scale=function(a,d){if(1!==a||1!==d)this.ed[0]=a,this.ed[1]=d,this.ed[2]=1,Kb(this.wb,this.ed)};l.prototype.am=function(a){if(0!==a){var d=this.wb,b,f=Math.sin(a);a=Math.cos(a);var g=d[0],m=d[1],c=d[2],r=d[3],p=d[4],s=d[5],u=d[6],t=d[7];b?d!==b&&(b[8]=d[8],b[9]=d[9],b[10]=d[10],b[11]=d[11],b[12]=d[12],b[13]=d[13],b[14]=d[14],b[15]=d[15]):b=d;b[0]=g*a+p*f;b[1]=m*a+s*f;b[2]=c*a+u*f;b[3]=r*a+t*f;b[4]=g*-f+p*a;b[5]=
m*-f+s*a;b[6]=c*-f+u*a;b[7]=r*-f+t*a}};l.prototype.hd=function(){for(var a=!1,d=0;16>d;d++)if(this.ll[d]!==this.wb[d]){a=!0;break}a&&(a=this.Ob(),a.type=5,a.N?Jb(this.wb,a.N):a.N=Ib(this.wb),Jb(this.wb,this.ll),this.Ua=!1)};e.prototype.wo=function(){this.g.bindTexture(this.g.TEXTURE_2D,this.Qb)};e.prototype.xo=function(){var a=this.g;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.Qb);a.activeTexture(a.TEXTURE0)};e.prototype.to=function(){var a=this.Ll,d=this.r;d.zk=a;d=d.$e;d.qe&&this.g.uniform1f(d.qe,
a)};e.prototype.qo=function(){this.g.drawElements(this.g.TRIANGLES,this.cc,this.g.UNSIGNED_SHORT,2*this.zb)};e.prototype.so=function(){this.g.blendFunc(this.zb,this.cc)};e.prototype.yo=function(){var a,d,b,f=this.r.ma,g=this.r.Ak;a=0;for(d=f.length;a<d;a++)b=f[a],a===g&&b.pe?(this.g.uniformMatrix4fv(b.pe,!1,this.N),b.yd=!0):b.yd=!1;Jb(this.N,this.r.Zh)};e.prototype.ro=function(){var a=this.g,d=this.r;this.Qb?(d.Gd===this.Qb&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),d.Gd=null,
a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,d.$o),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.Qb,0)):(a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};e.prototype.oo=function(){var a=this.g;0===this.zb?(a.clearColor(this.N[0],this.N[1],this.N[2],this.N[3]),a.clear(a.COLOR_BUFFER_BIT)):(a.enable(a.SCISSOR_TEST),a.scissor(this.N[0],this.N[1],this.N[2],this.N[3]),a.clearColor(0,0,0,0),
a.clear(this.g.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST))};e.prototype.po=function(){var a=this.g,d=this.r,b=d.ma[1];a.useProgram(b.Nf);!b.yd&&b.pe&&(a.uniformMatrix4fv(b.pe,!1,d.Zh),b.yd=!0);a.enableVertexAttribArray(b.ub);a.bindBuffer(a.ARRAY_BUFFER,d.cj);a.vertexAttribPointer(b.ub,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.zb/4,this.cc);b=d.$e;a.useProgram(b.Nf);0<=b.ub&&(a.enableVertexAttribArray(b.ub),a.bindBuffer(a.ARRAY_BUFFER,d.Wf[d.sc]),a.vertexAttribPointer(b.ub,2,a.FLOAT,!1,0,0));0<=
b.Vc&&(a.enableVertexAttribArray(b.Vc),a.bindBuffer(a.ARRAY_BUFFER,d.Pf[d.sc]),a.vertexAttribPointer(b.Vc,2,a.FLOAT,!1,0,0))};e.prototype.uo=function(){var a=this.g,d=this.r,b=d.ma[this.zb];d.Ak=this.zb;d.$e=b;a.useProgram(b.Nf);!b.yd&&b.pe&&(a.uniformMatrix4fv(b.pe,!1,d.Zh),b.yd=!0);b.qe&&a.uniform1f(b.qe,d.zk);0<=b.ub&&(a.enableVertexAttribArray(b.ub),a.bindBuffer(a.ARRAY_BUFFER,d.Wf[d.sc]),a.vertexAttribPointer(b.ub,2,a.FLOAT,!1,0,0));0<=b.Vc&&(a.enableVertexAttribArray(b.Vc),a.bindBuffer(a.ARRAY_BUFFER,
d.Pf[d.sc]),a.vertexAttribPointer(b.Vc,2,a.FLOAT,!1,0,0))};e.prototype.vo=function(){var a,d,b=this.r.$e,f=this.g;a=this.N;b.Af&&this.r.Gd!==this.Qb&&(f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,this.Qb),this.r.Gd=this.Qb,f.activeTexture(f.TEXTURE0));b.Qi&&f.uniform1f(b.Qi,a[0]);b.Pi&&f.uniform1f(b.Pi,a[1]);b.Jd&&f.uniform2f(b.Jd,a[2],a[3]);b.Id&&f.uniform2f(b.Id,a[4],a[5]);b.zf&&f.uniform1f(b.zf,a[6]);b.yf&&f.uniform1f(b.yf,a[7]);b.Bf&&f.uniform2f(b.Bf,a[8],a[9]);b.Ri&&f.uniform1f(b.Ri,
P()/1E3);if(b.u.length)for(a=0,d=b.u.length;a<d;a++)f.uniform1f(b.u[a][1],this.mm[a])};l.prototype.Ob=function(){this.qc===this.Kc.length&&this.Kc.push(new e(0,this));return this.Kc[this.qc++]};l.prototype.td=function(){if(0!==this.qc&&!this.g.isContextLost()){var a=this.g;0<this.dj&&(a.bindBuffer(a.ARRAY_BUFFER,this.cj),a.bufferData(a.ARRAY_BUFFER,this.rq.subarray(0,this.dj),a.STREAM_DRAW),b&&0<=b.ub&&"<point>"===b.name&&a.vertexAttribPointer(b.ub,4,a.FLOAT,!1,0,0));if(0<this.nc){var b=this.$e;a.bindBuffer(a.ARRAY_BUFFER,
this.Wf[this.sc]);a.bufferData(a.ARRAY_BUFFER,this.Cj.subarray(0,this.nc),a.STREAM_DRAW);b&&0<=b.ub&&"<point>"!==b.name&&a.vertexAttribPointer(b.ub,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Pf[this.sc]);a.bufferData(a.ARRAY_BUFFER,this.uj.subarray(0,this.nc),a.STREAM_DRAW);b&&0<=b.Vc&&"<point>"!==b.name&&a.vertexAttribPointer(b.Vc,2,a.FLOAT,!1,0,0)}for(var h,a=0,b=this.qc;a<b;a++)switch(h=this.Kc[a],h.type){case 1:h.qo();break;case 2:h.wo();break;case 3:h.to();break;case 4:h.so();break;case 5:h.yo();
break;case 6:h.ro();break;case 7:h.oo();break;case 8:h.po();break;case 9:h.uo();break;case 10:h.vo();break;case 11:h.xo()}this.dj=this.nc=this.qc=0;this.Ua=!1;this.sc++;4<=this.sc&&(this.sc=0)}};l.prototype.Lf=function(a){if(a!==this.ml){var b=this.Ob();b.type=3;this.ml=b.Ll=a;this.Ua=!1}};l.prototype.xb=function(a){if(a!==this.Fd){var b=this.Ob();b.type=2;this.Fd=b.Qb=a;this.Ua=!1}};l.prototype.ad=function(a,b){if(a!==this.nl||b!==this.kl){var h=this.Ob();h.type=4;h.zb=a;h.cc=b;this.nl=a;this.kl=
b;this.Ua=!1}};l.prototype.gm=function(){this.ad(this.g.ONE,this.g.ONE_MINUS_SRC_ALPHA)};l.prototype.gh=function(a,b,h,f,g,m,c,r){15992<=this.nc&&this.td();var p=this.nc,s=this.Cj,u=this.uj;if(this.Ua)this.Kc[this.qc-1].cc+=6;else{var t=this.Ob();t.type=1;t.zb=3*(p/4);t.cc=6;this.Ua=!0}s[p]=a;u[p++]=0;s[p]=b;u[p++]=0;s[p]=h;u[p++]=1;s[p]=f;u[p++]=0;s[p]=g;u[p++]=1;s[p]=m;u[p++]=1;s[p]=c;u[p++]=0;s[p]=r;u[p++]=1;this.nc=p};l.prototype.Nd=function(a,b,h,f,g,m,c,r,p){15992<=this.nc&&this.td();var s=
this.nc,u=this.Cj,t=this.uj;if(this.Ua)this.Kc[this.qc-1].cc+=6;else{var w=this.Ob();w.type=1;w.zb=3*(s/4);w.cc=6;this.Ua=!0}var w=p.left,x=p.top,e=p.right;p=p.bottom;u[s]=a;t[s++]=w;u[s]=b;t[s++]=x;u[s]=h;t[s++]=e;u[s]=f;t[s++]=x;u[s]=g;t[s++]=e;u[s]=m;t[s++]=p;u[s]=c;t[s++]=w;u[s]=r;t[s++]=p;this.nc=s};l.prototype.hc=function(a){if(this.sf!==a){if(!this.ma[a]){if(0===this.sf)return;a=0}var b=this.Ob();b.type=9;this.sf=b.zb=a;this.Ua=!1}};l.prototype.If=function(a){a=this.ma[a];return!(!a.Jd&&!a.Id)};
l.prototype.gj=function(a){a=this.ma[a];return!!(a.Jd||a.Id||a.yk)};l.prototype.xq=function(a){a=this.ma[a];return 0!==a.hi||0!==a.ii};l.prototype.lp=function(a){return this.ma[a].hi};l.prototype.mp=function(a){return this.ma[a].ii};l.prototype.np=function(a,b){return this.ma[a].u[b][2]};l.prototype.bh=function(a){return this.ma[a].gk};l.prototype.ze=function(a,b,h,f,g,m,c,r,p,s,u,t){var w=this.ma[this.sf],x,e;if(w.Fp||t.length){x=this.Ob();x.type=10;x.N?Jb(this.wb,x.N):x.N=Ib();e=x.N;e[0]=b;e[1]=
h;e[2]=f;e[3]=g;e[4]=m;e[5]=c;e[6]=r;e[7]=p;e[8]=s;e[9]=u;x.Qb=w.Af?a:null;if(t.length)for(h=x.mm,h.length=t.length,a=0,b=t.length;a<b;a++)h[a]=t[a];this.Ua=!1}};l.prototype.clear=function(a,b,h,f){var g=this.Ob();g.type=7;g.zb=0;g.N||(g.N=Ib());g.N[0]=a;g.N[1]=b;g.N[2]=h;g.N[3]=f;this.Ua=!1};l.prototype.clearRect=function(a,b,h,f){if(!(0>h||0>f)){var g=this.Ob();g.type=7;g.zb=1;g.N||(g.N=Ib());g.N[0]=a;g.N[1]=b;g.N[2]=h;g.N[3]=f;this.Ua=!1}};l.prototype.vq=function(){this.td();this.g.flush()};var k=
[],b={};l.prototype.rl=function(a,d,h){var f;f=!1;d=!!d;var g=a.src+","+f+","+d+(f?",undefined":""),m=null;if("undefined"!==typeof a.src&&b.hasOwnProperty(g))return m=b[g],m.gg++,m;this.td();var c=this.g,r=ia(a.width)&&ia(a.height),m=c.createTexture();c.bindTexture(c.TEXTURE_2D,m);c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var p=c.RGBA,s=c.RGBA,u=c.UNSIGNED_BYTE;if(h&&!this.Fi)switch(h){case 1:s=p=c.RGB;break;case 2:u=c.UNSIGNED_SHORT_4_4_4_4;break;case 3:u=c.UNSIGNED_SHORT_5_5_5_1;break;
case 4:s=p=c.RGB,u=c.UNSIGNED_SHORT_5_6_5}if(!r&&f){h=document.createElement("canvas");h.width=ja(a.width);h.height=ja(a.height);var t=h.getContext("2d");t.webkitImageSmoothingEnabled=d;t.mozImageSmoothingEnabled=d;t.msImageSmoothingEnabled=d;t.imageSmoothingEnabled=d;t.drawImage(a,0,0,a.width,a.height,0,0,h.width,h.height);c.texImage2D(c.TEXTURE_2D,0,p,s,u,h)}else c.texImage2D(c.TEXTURE_2D,0,p,s,u,a);f?(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.REPEAT),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,
c.REPEAT)):(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE));d?(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.LINEAR),r?(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.LINEAR_MIPMAP_LINEAR),c.generateMipmap(c.TEXTURE_2D)):c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.LINEAR)):(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST));c.bindTexture(c.TEXTURE_2D,
null);this.Fd=null;m.Ue=a.width;m.Te=a.height;m.gg=1;m.qk=g;k.push(m);return b[g]=m};l.prototype.Mc=function(a,b,h){var f;this.td();var g=this.g;this.Fi&&(f=!1);var m=g.createTexture();g.bindTexture(g.TEXTURE_2D,m);g.texImage2D(g.TEXTURE_2D,0,g.RGBA,a,b,0,g.RGBA,f?g.UNSIGNED_SHORT_4_4_4_4:g.UNSIGNED_BYTE,null);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,h?g.LINEAR:g.NEAREST);
g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,h?g.LINEAR:g.NEAREST);g.bindTexture(g.TEXTURE_2D,null);this.Fd=null;m.Ue=a;m.Te=b;k.push(m);return m};l.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.gg&&1<a.gg?a.gg--:(this.td(),a===this.Fd&&(this.g.bindTexture(this.g.TEXTURE_2D,null),this.Fd=null),a===this.Gd&&(this.g.activeTexture(this.g.TEXTURE1),this.g.bindTexture(this.g.TEXTURE_2D,null),this.g.activeTexture(this.g.TEXTURE0),this.Gd=null),va(k,a),"undefined"!==typeof a.qk&&delete b[a.qk],
this.g.deleteTexture(a)))};l.prototype.gc=function(a){if(a!==this.Zl){var b=this.Ob();b.type=6;this.Zl=b.Qb=a;this.Ua=!1}};Sa=l})();
(function(){function l(c){if(c&&(c.getContext||c.dc)&&!c.c2runtime){c.c2runtime=this;var a=this;this.Ei=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk);this.ke=!this.Ei&&"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap);this.yc=!!c.dc;this.lf="undefined"!==typeof window.AppMobi||this.yc;this.rb=!!window.c2cocoonjs;this.zc=!!window.c2ejecta;
this.rb&&(CocoonJS.App.onSuspended.addEventListener(function(){a.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){a.setSuspended(!1)}));this.zc&&(document.addEventListener("pagehide",function(){a.setSuspended(!0)}),document.addEventListener("pageshow",function(){a.setSuspended(!1)}),document.addEventListener("resize",function(){a.setSize(window.innerWidth,window.innerHeight)}));this.ka=this.yc||this.rb||this.zc;this.el=/tizen/i.test(navigator.userAgent);this.dl=/android/i.test(navigator.userAgent)&&
!this.el;this.Fi=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.Kg=/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent);this.il=/ipad/i.test(navigator.userAgent);this.Vp=this.Kg||this.il||this.zc;this.Wp=this.Kg&&/os\s6/i.test(navigator.userAgent);this.Gg=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent);this.Kp=/amazonwebappplatform/i.test(navigator.userAgent);this.Op=/firefox/i.test(navigator.userAgent);this.Qp=!this.Gg&&/safari/i.test(navigator.userAgent);
this.Sc="undefined"!==typeof window.c2nodewebkit||/nodewebkit/i.test(navigator.userAgent);this.Sp=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Tp=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.Ji=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.gl=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.fl=this.Sp||this.Tp||this.gl;this.Mp=!("undefined"===typeof window.c2isBlackberry10||
!window.c2isBlackberry10);this.Lp=this.dl&&!this.Gg&&!this.Op&&!this.Kp&&!this.ka;this.devicePixelRatio=1;this.Rc=this.ke||this.Ei||this.lf||this.rb||this.dl||this.Vp||this.Ji||this.gl||this.Mp||this.el||this.zc;this.Rc||(this.Rc=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet)/i.test(navigator.userAgent));"undefined"===typeof cr_is_preview||this.Sc||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)||(this.Sc=!0);this.Np="undefined"!==typeof cr_is_preview&&
-1<window.location.search.indexOf("debug");this.canvas=c;this.tk=document.getElementById("c2canvasdiv");this.R=this.r=this.g=null;this.li="";this.vg=!1;this.Cl=this.Dl=0;this.canvas.oncontextmenu=function(c){c.preventDefault&&c.preventDefault();return!1};this.canvas.onselectstart=function(c){c.preventDefault&&c.preventDefault();return!1};this.yc&&(window.c2runtime=this);this.Sc&&(window.Ls=function(c){c.preventDefault();return!1},window.Ms=function(c){c.preventDefault();return!1},require("nw.gui").App.clearCache());
this.width=c.width;this.height=c.height;this.H=this.width;this.G=this.height;this.lg=this.width;this.kg=this.height;this.uf=window.innerWidth;this.tf=window.innerHeight;this.V=!0;this.nf=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.i=[];this.fa=[];this.Oi={};this.Mb=[];this.ci={};this.uc=[];this.He=[];this.wh=[];this.Sn=[];this.Tn=[];this.Zb=new fa;this.Gi=!1;this.Lb=0;this.Ii=!1;this.Sa=[];this.Ac=this.Ga=this.Sg=this.rj="";this.Of=this.om=!1;this.Xh=this.Cf=
this.Pc=this.fe=0;this.Rf=1;this.Dd=new Ka;this.Mg=0;this.wl=!0;this.Wg=this.wg=this.sg=this.Qf=this.vf=this.ki=0;this.Uh=null;this.pg=[];this.bi=[];this.rg=-1;this.Si=[[]];this.yj=this.Vg=0;this.fh(null);this.ef=this.Al=this.Ef=0;this.qh=[];this.uh=this.hh=-1;this.Lg=!0;this.Ug=0;this.mf=!1;this.Nq=0;this.Dp=!1;this.Ni=0;this.sb=this.Eg=this.hj=!1;this.Wi=new fa;this.Xi=new fa;this.zq=[];new Ma([]);new Ma([]);this.de=[];this.Dg={};this.ee={};this.be={};this.Ge={};this.ok={};this.ql=this.Rg=this.Xa=
this.gb=this.pl=this.Pg=this.P=null;this.Ee=this.Ki=!1;this.mi=[null,null];this.wd=0;this.Wc={};this.nh=this.oe=null;this.load();this.devicePixelRatio=(this.Cd=(!this.ka||this.zc)&&this.$q&&!this.Lp)?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.xa();var p,b=this.Hh&&!(this.Sc||this.fl||this.Ji||this.Ei);0<this.Ta&&this.setSize(window.innerWidth,window.innerHeight,!0);try{this.Ao&&(this.rb||this.zc||!this.ka)&&(p={alpha:b,depth:!1,
antialias:!1,failIfMajorPerformanceCaveat:!0},this.g=c.getContext("webgl",p)||c.getContext("experimental-webgl",p))}catch(f){}if(this.g){this.ka||(this.ua=document.createElement("canvas"),jQuery(this.ua).appendTo(this.canvas.parentNode),this.ua.oncontextmenu=I(!1),this.ua.onselectstart=I(!1),this.ua.width=this.lg,this.ua.height=this.kg,jQuery(this.ua).css({width:this.lg+"px",height:this.kg+"px"}),this.Ql(),this.aj=this.ua.getContext("2d"));this.r=new Sa(this.g,this.Rc);this.r.Ae(c.width,c.height);
this.R=null;this.canvas.addEventListener("webglcontextlost",function(c){c.preventDefault();a.hq();console.log("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.r.$k();a.r.Ae(a.r.width,a.r.height,!0);a.gb=null;a.Xa=null;a.mi[0]=null;a.mi[1]=null;a.iq();a.V=!0;console.log("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);var d,g,h,m,e,k;c=0;for(p=this.i.length;c<p;c++)for(g=this.i[c],b=0,d=g.p.length;b<
d;b++)m=g.p[b],m.wa=this.r.si(m.id),this.Ee=this.Ee||this.r.If(m.wa);c=0;for(p=this.Mb.length;c<p;c++){e=this.Mb[c];b=0;for(d=e.p.length;b<d;b++)m=e.p[b],m.wa=this.r.si(m.id);b=0;for(d=e.I.length;b<d;b++)for(k=e.I[b],g=0,h=k.p.length;g<h;g++)m=k.p[g],m.wa=this.r.si(m.id),this.Ee=this.Ee||this.r.If(m.wa)}}else{if(0<this.Ta&&this.yc){this.canvas=null;document.oncontextmenu=I(!1);document.onselectstart=I(!1);this.R=AppMobi.canvas.getContext("2d");try{this.R.samplingMode=this.O?"smooth":"sharp",this.R.globalScale=
1,this.R.HTML5CompatibilityMode=!0,this.R.imageSmoothingEnabled=this.O}catch(l){}0!==this.width&&0!==this.height&&(this.R.width=this.width,this.R.height=this.height)}this.R||(p=this.rb?{antialias:!!this.O,alpha:b}:{alpha:b},this.R=c.getContext("2d",p),this.R.webkitImageSmoothingEnabled=this.O,this.R.mozImageSmoothingEnabled=this.O,this.R.msImageSmoothingEnabled=this.O,this.R.imageSmoothingEnabled=this.O);this.aj=this.ua=null}this.th=function(){a.ic(!1)};window==window.top||this.ka||this.fl||this.Ji||
(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.rb&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(J("Reloading for continuous preview"),this.Sg="__c2_continuouspreview",this.Of=!0),this.qq&&!this.Rc&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){a.setSuspended(!0)})));
0===this.Ta&&this.Cd&&1<this.devicePixelRatio&&this.setSize(this.qa,this.pa,!0);this.ym();this.go();this.K={}}}function n(c){c.target.result.createObjectStore("saves",{keyPath:"slot"})}function e(c,a,p,b){var f=indexedDB.open("_C2SaveStates");f.onupgradeneeded=n;f.onerror=b;f.onsuccess=function(f){f=f.target.result;f.onerror=b;f.transaction(["saves"],"readwrite").objectStore("saves").put({slot:c,data:a}).onsuccess=p}}function k(c,a,p){var b=indexedDB.open("_C2SaveStates");b.onupgradeneeded=n;b.onerror=
p;b.onsuccess=function(b){b=b.target.result;b.onerror=p;var f=b.transaction(["saves"]).objectStore("saves").get(c);f.onsuccess=function(){f.result?a(f.result.data):a(null)}}}function b(){J("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location+="?continuous"}function a(c){var a,p={};for(a in c)!c.hasOwnProperty(a)||c[a]instanceof fa||c[a]&&"undefined"!==typeof c[a].Ds||(p[a]=c[a]);return p}
l.prototype.setSize=function(c,a,p){var b=0,f=0,d=0,g=0,g=0,h=this.Wp&&this.Qp&&!navigator.standalone&&!this.ka&&!this.ke;h&&(a+=60);if(this.uf!==c||this.tf!==a||p){this.uf=c;this.tf=a;var m=this.Ta,e=document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.mf;if(e||0!==this.Ta||p)e&&0<this.wd&&(m=this.wd),4<=m?(p=this.qa/this.pa,c/a>p?(d=a*p,5===m?(g=d/this.qa,1<g?g=Math.floor(g):1>g&&(g=1/Math.ceil(1/g)),d=this.qa*g,g*=this.pa,b=(c-d)/2,f=(a-
g)/2,c=d,a=g):(b=(c-d)/2,c=d)):(g=c/p,5===m?(g/=this.pa,1<g?g=Math.floor(g):1>g&&(g=1/Math.ceil(1/g)),d=this.qa*g,g*=this.pa,b=(c-d)/2,f=(a-g)/2,c=d):f=(a-g)/2,a=g),e&&!this.Sc&&(f=b=0),b=Math.floor(b),f=Math.floor(f),c=Math.floor(c),a=Math.floor(a)):this.Sc&&this.mf&&0===this.Mk&&(b=Math.floor((c-this.qa)/2),f=Math.floor((a-this.pa)/2),c=this.qa,a=this.pa),2>m&&(this.Se=this.devicePixelRatio),this.Cd&&this.il&&1<this.devicePixelRatio&&(1024<=c&&(c=1023),1024<=a&&(a=1023)),e=this.devicePixelRatio,
this.lg=c,this.kg=a,this.width=Math.round(c*e),this.height=Math.round(a*e),this.V=!0,this.Gm?(this.H=this.width,this.G=this.height,this.pb=!0):this.width<this.qa&&this.height<this.pa||1===m?(this.H=this.width,this.G=this.height,this.pb=!0):(this.H=this.qa,this.G=this.pa,this.pb=!1,2===m?(p=this.qa/this.pa,m=this.uf/this.tf,m<p?this.H=this.G*m:m>p&&(this.G=this.H/m)):3===m&&(p=this.qa/this.pa,m=this.uf/this.tf,m>p?this.H=this.G*m:m<p&&(this.G=this.H/m))),this.tk&&!this.ka&&(jQuery(this.tk).css({width:c+
"px",height:a+"px","margin-left":b,"margin-top":f}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:c+"px",height:a+"px"})),this.canvas&&(this.canvas.width=Math.round(c*e),this.canvas.height=Math.round(a*e),this.zc?(this.canvas.style.left=b+"px",this.canvas.style.top=f+"px",this.canvas.style.width=c+"px",this.canvas.style.height=a+"px"):this.Cd&&!this.ka&&jQuery(this.canvas).css({width:c+"px",height:a+"px"})),this.ua&&(this.ua.width=c,this.ua.height=a,jQuery(this.ua).css({width:c+
"px",height:a+"px"})),this.r&&this.r.Ae(Math.round(c*e),Math.round(a*e)),this.yc&&this.R&&(this.R.width=c,this.R.height=a),this.R&&(this.R.webkitImageSmoothingEnabled=this.O,this.R.mozImageSmoothingEnabled=this.O,this.R.msImageSmoothingEnabled=this.O,this.R.imageSmoothingEnabled=this.O),this.ym(),this.ka||!h&&!this.Kg||window.setTimeout(function(){window.scrollTo(0,1)},100)}};l.prototype.ym=function(){if(this.Vn&&0!==this.$i){var c="portrait";2===this.$i&&(c="landscape");screen.lockOrientation?screen.lockOrientation(c):
screen.webkitLockOrientation?screen.webkitLockOrientation(c):screen.mozLockOrientation?screen.mozLockOrientation(c):screen.msLockOrientation&&screen.msLockOrientation(c)}};l.prototype.hq=function(){this.Ki=!0;var c,a,p;c=0;for(a=this.i.length;c<a;c++)p=this.i[c],p.El&&p.El()};l.prototype.iq=function(){this.Ki=!1;var c,a,p;c=0;for(a=this.i.length;c<a;c++)p=this.i[c],p.Hl&&p.Hl()};l.prototype.Ql=function(){if(!this.ka){var c=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||
document.msFullscreenElement||this.mf?jQuery(this.canvas).offset():jQuery(this.canvas).position();c.position="absolute";jQuery(this.ua).css(c)}};var d=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;l.prototype.setSuspended=function(c){var a;if(c&&!this.nf)for(J("[Construct 2] Suspending"),this.nf=!0,-1!==this.hh&&d&&d(this.hh),-1!==this.uh&&clearTimeout(this.uh),c=0,a=this.qh.length;c<a;c++)this.qh[c](!0);
else if(!c&&this.nf){J("[Construct 2] Resuming");this.nf=!1;this.Mg=P();this.vf=P();c=this.Cf=this.wg=0;for(a=this.qh.length;c<a;c++)this.qh[c](!1);this.ic(!1)}};l.prototype.load=function(){var c=Nb();this.name=c[0];this.Kk=c[1];this.Ta=c[11];this.Mk=c[11];this.qa=c[9];this.pa=c[10];this.Ml=this.qa/2;this.Nl=this.pa/2;this.ka&&!this.zc&&(4<=c[11]||0===c[11])&&(J("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.Mk=this.Ta=3);
this.Aj=c[17];this.xf=c[18];0===this.xf&&(this.oe=new Image,this.oe.src="loading-logo.png");this.Ef=c[20];this.Pb=new S(this);var a,p,b,f,g,d,h,m,e;a=0;for(p=c[2].length;a<p;a++)h=c[2][a],Ta(h),e=new h[0](this),e.mh=h[1],e.Uc=h[2],e.xl=h[9],e.U&&e.U(),this.plugins.push(e);c=Nb();a=0;for(p=c[3].length;a<p;a++){h=c[3][a];g=h[1];e=null;b=0;for(f=this.plugins.length;b<f;b++)if(this.plugins[b]instanceof g){e=this.plugins[b];break}var k=new e.ya(e);k.name=h[0];k.D=h[2];k.Ci=h[3].slice(0);k.br=h[3].length;
k.Wn=h[4];k.cp=h[5];k.F=h[11];k.D?(k.se=[],k.vc=this.ef++,k.X=null):(k.se=null,k.vc=-1,k.X=[]);k.ug=null;k.ge=null;k.Gk=null;k.fb=!1;k.Ra=null;h[6]?(k.rm=h[6][0],k.tm=h[6][1],k.Qq=h[6][2]):(k.rm=null,k.tm=0,k.Qq=0);k.Pa=h[7]?h[7]:null;k.index=a;k.c=[];k.og=[];k.dd=[new Ua(k)];k.tc=0;k.ob=null;k.lo=0;k.Ce=!0;k.xh=Va;k.yg=Wa;k.kp=Xa;k.C=Ya;k.Jf=Za;k.eh=$a;k.Ld=ab;k.xg=bb;k.ni=cb;k.qi=db;k.Sb=eb;k.Sk=fb;k.uk=new Na(this.qa,this.pa);k.hk=!0;k.ik=!1;k.K={};k.toString=gb;k.fa=[];b=0;for(f=h[8].length;b<
f;b++){m=h[8][b];var l=m[1],n=null;g=0;for(d=this.fa.length;g<d;g++)if(this.fa[g]instanceof l){n=this.fa[g];break}n||(n=new l(this),n.zl=[],n.Vi=new fa,n.U&&n.U(),this.fa.push(n));-1===n.zl.indexOf(k)&&n.zl.push(k);g=new n.ya(n,k);g.name=m[0];g.F=m[2];g.U();k.fa.push(g)}k.global=h[9];k.Hi=h[10];k.p=[];b=0;for(f=h[12].length;b<f;b++)k.p.push({id:h[12][b][0],name:h[12][b][1],wa:-1,bb:!0,index:b});k.Vs=h[13];this.Aj&&!k.D&&!k.Hi&&e.Uc||k.U();k.name&&(this.types[k.name]=k);this.i.push(k);e.mh&&(b=new e.W(k),
b.uid=this.Ef++,b.Vl=this.Al++,b.zd=0,b.hf=hb,b.toString=ib,b.S=h[14],b.U(),k.c.push(b),this.Wc[b.uid.toString()]=b)}a=0;for(p=c[4].length;a<p;a++)for(g=c[4][a],d=this.i[g[0]],b=1,f=g.length;b<f;b++)h=this.i[g[b]],h.X.push(d),d.se.push(h);a=0;for(p=c[23].length;a<p;a++){g=c[23][a];d=[];b=0;for(f=g.length;b<f;b++)d.push(this.i[g[b]]);b=0;for(f=d.length;b<f;b++)d[b].fb=!0,d[b].Ra=d}if(0<this.ef)for(a=0,p=this.i.length;a<p;a++)if(h=this.i[a],!h.D&&h.X.length){h.ug=Array(this.ef);h.ge=Array(this.ef);
h.Gk=Array(this.ef);k=[];b=n=l=m=0;for(f=h.X.length;b<f;b++)for(e=h.X[b],h.ug[e.vc]=m,m+=e.br,h.ge[e.vc]=l,l+=e.Wn,h.Gk[e.vc]=n,n+=e.cp,g=0,d=e.p.length;g<d;g++)k.push(sa({},e.p[g]));h.p=k.concat(h.p);b=0;for(f=h.p.length;b<f;b++)h.p[b].index=b}a=0;for(p=c[5].length;a<p;a++)h=c[5][a],b=new jb(this,h),this.Oi[b.name]=b,this.Mb.push(b);a=0;for(p=c[6].length;a<p;a++)h=c[6][a],b=new kb(this,h),this.ci[b.name]=b,this.uc.push(b);a=0;for(p=this.uc.length;a<p;a++)this.uc[a].da();a=0;for(p=this.uc.length;a<
p;a++)this.uc[a].fp();a=0;for(p=this.wh.length;a<p;a++)this.wh[a].da();this.wh.length=0;this.xe=c[8];this.Se=1;this.Ao=c[12];this.O=c[13];this.Hh=c[14];this.$q=c[16];this.$i=c[19];this.Vn=0<this.$i;this.qq=c[21];this.pb=this.Gm=c[22];this.oh=Date.now()};var h=!1;l.prototype.cr=function(c){c.onerror=function(a){h=c.Zn=!0;console&&console.error&&console.error("Error loading image '"+c.src+"': ",a)};this.He.push(c)};l.prototype.bp=function(c){var a,b;a=0;for(b=this.He.length;a<b;a++)if(this.He[a].io===
c)return this.He[a];return null};l.prototype.jk=function(){var c=0,a=0,b=!0,f,g,d;f=0;for(g=this.He.length;f<g;f++){d=this.He[f];var h=d.ho;if(!h||0>=h)h=5E4;c+=h;!d.complete&&!d.loaded||d.Zn?b=!1:a+=h}this.Md=0==c?0:a/c;return b};l.prototype.go=function(){if(this.R||this.r){var c=this.R||this.aj;this.ua&&this.Ql();this.Md=0;this.ol=-1;if(this.jk())this.Bp();else{var a=Date.now()-this.oh;if(c){var b=this.width,f=this.height,g=this.devicePixelRatio;this.ua&&(b=this.lg,f=this.kg,g=1);if(3!==this.xf&&
(this.rb||500<=a&&this.ol!=this.Md)){c.clearRect(0,0,b,f);var a=b/2,f=f/2,b=0===this.xf&&this.oe.complete,d=40*g,w=0,m=80*g,e;b&&(m=this.oe.width*g,e=this.oe.height*g,d=m/2,w=e/2,c.drawImage(this.oe,M(a-d),M(f-w),m,e));1>=this.xf?(a=M(a-d)+0.5,f=M(f+(w+(b?12*g:0)))+0.5,c.fillStyle=h?"red":"DodgerBlue",c.fillRect(a,f,Math.floor(m*this.Md),6*g),c.strokeStyle="black",c.strokeRect(a,f,m,6*g),c.strokeStyle="white",c.strokeRect(a-1*g,f-1*g,m+2*g,8*g)):2===this.xf&&(c.font=this.zc?"12pt ArialMT":"12pt Arial",
c.fillStyle=h?"#f00":"#999",c.Us="middle",g=Math.round(100*this.Md)+"%",b=c.measureText?c.measureText(g):null,c.fillText(g,a-(b?b.width:0)/2,f))}this.ol=this.Md}setTimeout(function(c){return function(){c.go()}}(this),this.rb?10:100)}}};l.prototype.Bp=function(){this.ua&&(this.canvas.parentNode.removeChild(this.ua),this.ua=this.aj=null);this.oh=Date.now();this.vf=P();var c,a,b;if(this.Aj)for(c=0,a=this.i.length;c<a;c++)b=this.i[c],b.D||b.Hi||!b.Y.Uc||b.U();else this.Lg=!1;c=0;for(a=this.Mb.length;c<
a;c++)this.Mb[c].jo();2<=this.Ta&&(c=this.qa/this.pa,a=this.width/this.height,this.Se=2!==this.Ta&&a>c||2===this.Ta&&a<c?this.height/this.pa:this.width/this.qa);this.Kk?this.Oi[this.Kk].tj():this.Mb[0].tj();this.Aj||(this.Ug=1,this.trigger(S.prototype.d.Nj,null));navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();c=0;for(a=this.i.length;c<a;c++)b=this.i[c],b.gq&&b.gq();this.ic(!1);this.yc&&AppMobi.webview.execute("onGameReady();")};var f=window.requestAnimationFrame||
window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;l.prototype.ic=function(c){if(this.P){var a=P();if(this.Dp&&this.hj&&29>a-this.Ni)this.hj=!1,this.Ni=a,f?this.hh=f(this.th,this.canvas):this.uh=setTimeout(this.th,this.Rc?1:16);else{this.hj=!0;this.Ni=a;var b=this.Ta,g=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement;(g||this.mf)&&0<this.wd&&(b=this.wd);if(0<b&&(!this.Kg||
window.self!==window.top)){var b=window.innerWidth,d=window.innerHeight;this.uf===b&&this.tf===d||this.setSize(b,d)}this.ka||(g?(this.vg||(this.li=jQuery(this.canvas).css("margin")||"0",this.vg=!0),this.Gg||this.Sc||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.vg?(this.Gg||this.Sc||jQuery(this.canvas).css("margin",this.li),this.li="",this.vg=
!1,0===this.Ta&&this.setSize(Math.round(this.Dl/this.devicePixelRatio),Math.round(this.Cl/this.devicePixelRatio),!0)):(this.Dl=this.width,this.Cl=this.height));this.Lg&&(g=this.jk(),this.Ug=this.Md,g&&(this.Lg=!1,this.Md=1,this.trigger(S.prototype.d.Nj,null)));this.$p();!this.V&&!this.rb||this.Ki||this.Of||c||(this.V=!1,this.r?this.$b():this.sd(),this.nh&&(this.canvas&&this.canvas.toDataURL&&(this.canvas.toDataURL(this.nh[0],this.nh[1]),this.trigger(S.prototype.d.Ym,null)),this.nh=null));this.Js||
(this.Qf++,this.sg++,this.wg++);this.Cf+=P()-a;this.nf||c||(f?this.hh=f(this.th,this.canvas):this.uh=setTimeout(this.th,this.Rc?1:16))}}};l.prototype.$p=function(){var c,a,b,f,g,d,h,m,e;c=P();1E3<=c-this.vf&&(this.vf+=1E3,this.ki=this.wg,this.wg=0,this.Xh=this.Cf,this.Cf=0);this.wl&&(0!==this.Mg&&(a=c-this.Mg,0!==a||this.Np?(this.Pc=a/1E3,0.5<this.Pc?this.Pc=0:0.1<this.Pc&&(this.Pc=0.1)):(10<=this.Ys&&(this.wl=!1),this.Pc=1/60)),this.Mg=c);this.fe=this.Pc*this.Rf;this.Dd.add(this.fe);c=document.mozFullScreen||
document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.mf;2<=this.Ta||c&&0<this.wd?(a=this.qa/this.pa,b=this.width/this.height,f=this.Ta,c&&0<this.wd&&(f=this.wd),this.Se=2!==f&&b>a||2===f&&b<a?this.height/this.pa:this.width/this.qa,this.P&&(this.P.em(this.P.scrollX),this.P.fm(this.P.scrollY))):this.Se=this.Cd?this.devicePixelRatio:1;this.xa();this.Lb++;this.Pb.Eq();this.Lb--;this.xa();this.Lb++;c=0;for(a=this.i.length;c<a;c++)if(h=this.i[c],!h.D&&(h.fa.length||h.X.length))for(b=
0,f=h.c.length;b<f;b++)for(m=h.c[b],g=0,d=m.B.length;g<d;g++)m.B[g].ic();c=0;for(a=this.i.length;c<a;c++)if(h=this.i[c],!h.D&&(h.fa.length||h.X.length))for(b=0,f=h.c.length;b<f;b++)for(m=h.c[b],g=0,d=m.B.length;g<d;g++)e=m.B[g],e.uq&&e.uq();b=this.Wi.Tf();c=0;for(a=b.length;c<a;c++)b[c].ic();this.Lb--;this.Ep();for(c=0;this.Uh&&10>c++;)this.Ek(this.Uh);c=0;for(a=this.uc.length;c<a;c++)this.uc[c].xi=!1;this.P.qg&&this.P.qg.ha();this.zq.length=0;this.Lb++;c=0;for(a=this.i.length;c<a;c++)if(h=this.i[c],
!h.D&&(h.fa.length||h.X.length))for(b=0,f=h.c.length;b<f;b++)for(m=h.c[b],g=0,d=m.B.length;g<d;g++)e=m.B[g],e.vj&&e.vj();b=this.Xi.Tf();c=0;for(a=b.length;c<a;c++)b[c].vj();this.Lb--};l.prototype.Ek=function(c){var a=this.P;this.P.Oq();var b,f,g,d,h,m,e;if(this.r)for(b=0,f=this.i.length;b<f;b++)h=this.i[b],h.D||!h.Cm||h.global&&0!==h.c.length||-1!==c.kf.indexOf(h)||h.Cm();a==c&&(this.Pb.$a.length=0);c.tj();b=0;for(f=this.i.length;b<f;b++)if(h=this.i[b],h.global||h.Y.mh)for(c=0,a=h.c.length;c<a;c++)if(m=
h.c[c],m.Yi&&m.Yi(),m.B)for(g=0,d=m.B.length;g<d;g++)e=m.B[g],e.Yi&&e.Yi();this.V=!0;this.xa()};l.prototype.um=function(c){this.Wi.add(c)};l.prototype.Rq=function(c){this.Xi.add(c)};l.prototype.oi=function(c){return c&&-1!==c.Df?this.Pc*c.Df:this.fe};l.prototype.sd=function(){this.P.sd(this.R);this.yc&&this.R.present()};l.prototype.$b=function(){this.P.$b(this.r);this.r.vq()};l.prototype.Qn=function(c){c&&this.pg.push(c)};l.prototype.Bq=function(c){va(this.pg,c)};l.prototype.xd=function(c){c=c.toString();
return this.Wc.hasOwnProperty(c)?this.Wc[c]:null};l.prototype.Td=function(c){var a,b;if(!this.Zb.contains(c)){this.Zb.add(c);if(c.fb)for(a=0,b=c.siblings.length;a<b;a++)this.Td(c.siblings[a]);this.Gi&&this.Zb.Fe.push(c);this.Lb++;this.trigger(Object.getPrototypeOf(c.type.Y).d.cn,c);this.Lb--}};l.prototype.xa=function(){var c,a,b,f,g,d,h,m,e,k;this.Gi=!0;f=0;for(d=this.Sa.length;f<d;f++)for(c=this.Sa[f],a=c.type,a.c.push(c),g=0,h=a.X.length;g<h;g++)a.X[g].c.push(c),a.X[g].Ce=!0;this.Sa.length=0;d=
this.Zb.Tf();for(f=0;f<d.length;f++){c=d[f];a=c.type;b=a.c;g=0;for(h=this.pg.length;g<h;g++)this.pg[g](c);va(b,c);0===b.length&&(a.ik=!1);c.jg&&a.uk.update(c,c.jg,null);c.e&&(ta(c.e.c,c.eb()),c.e.ab=!0);g=0;for(h=a.X.length;g<h;g++)va(a.X[g].c,c),a.X[g].Ce=!0;if(c.B)for(g=0,h=c.B.length;g<h;g++)b=c.B[g],b.Yg&&b.Yg(),b.rc.Vi.remove(c);this.Wi.remove(c);this.Xi.remove(c);g=0;for(h=this.Pb.$a.length;g<h;g++)if(e=this.Pb.$a[g],e.Ya.hasOwnProperty(a.index)&&va(e.Ya[a.index].Bd,c),!a.D)for(b=0,m=a.X.length;b<
m;b++)k=a.X[b],e.Ya.hasOwnProperty(k.index)&&va(e.Ya[k.index].Bd,c);c.Yg&&c.Yg();this.Wc.hasOwnProperty(c.uid.toString())&&delete this.Wc[c.uid.toString()];this.Wg--;64>a.og.length&&a.og.push(c);a.Ce=!0}this.Zb.Kb()||(this.V=!0);this.Zb.clear();this.Gi=!1};l.prototype.xk=function(c,a,b,f){if(c.D){var g=M(Math.random()*c.se.length);return this.xk(c.se[g],a,b,f)}return c.ob?this.Nc(c.ob,a,!1,b,f,!1):null};var g=[];l.prototype.Nc=function(c,a,b,f,d,h){var m,e,k,l;if(!c)return null;var n=this.i[c[1]],
y=n.Y.Uc;if(this.Lg&&y&&!n.Hi||y&&!this.r&&11===c[0][11])return null;var T=a;y||(a=null);var q;n.og.length?(q=n.og.pop(),q.ec=!0,n.Y.W.call(q,n)):(q=new n.Y.W(n),q.ec=!1);q.uid=b&&!h?c[2]:this.Ef++;this.Wc[q.uid.toString()]=q;q.Vl=this.Al++;q.zd=n.c.length;m=0;for(e=this.Sa.length;m<e;++m)this.Sa[m].type===n&&q.zd++;q.hf=hb;k=c[3];if(q.ec)Ja(q.K);else{q.K={};if("undefined"!==typeof cr_is_preview)for(q.cl=[],q.cl.length=k.length,m=0,e=k.length;m<e;m++)q.cl[m]=k[m][1];q.ja=[];q.ja.length=k.length}m=
0;for(e=k.length;m<e;m++)q.ja[m]=k[m][0];if(y){var v=c[0];q.x=ga(f)?v[0]:f;q.y=ga(d)?v[1]:d;q.z=v[2];q.width=v[3];q.height=v[4];q.depth=v[5];q.j=v[6];q.opacity=v[7];q.Va=v[8];q.Wa=v[9];q.La=v[10];m=v[11];!this.r&&n.p.length&&(q.La=m);q.We=Oa(q.La);this.g&&Pa(q,q.La,this.g);if(q.ec){m=0;for(e=v[12].length;m<e;m++)for(k=0,l=v[12][m].length;k<l;k++)q.aa[m][k]=v[12][m][k];q.Ka.set(0,0,0,0);q.jg.set(0,0,-1,-1);q.fg.lh(q.Ka);q.Kh.length=0}else{q.aa=v[12].slice(0);m=0;for(e=q.aa.length;m<e;m++)q.aa[m]=v[12][m].slice(0);
q.J=[];q.Ic=[];q.Ic.length=n.p.length;q.Ka=new qa(0,0,0,0);q.jg=new qa(0,0,-1,-1);q.fg=new ra;q.Kh=[];q.va=lb;q.Cs=mb;q.Yb=nb;q.Za=ob;q.Ws=pb;q.eb=qb}q.Tq=!1;q.Vq=0;q.Uq=0;q.Sq=null;14===v.length&&(q.Tq=!0,q.Vq=v[13][0],q.Uq=v[13][1],q.Sq=v[13][2]);m=0;for(e=n.p.length;m<e;m++)q.Ic[m]=!0;q.Ec=rb;q.Ec();q.Fm=!!q.J.length;q.Jh=!0;q.Ph=!0;n.hk=!0;q.visible=!0;q.Df=-1;q.e=a;q.Sd=a.c.length;"undefined"===typeof q.Xb&&(q.Xb=null);this.V=q.Ve=!0}q.toString=ib;var A;m=g.length=0;for(e=n.X.length;m<e;m++)g.push.apply(g,
n.X[m].fa);g.push.apply(g,n.fa);if(q.ec)for(m=0,e=g.length;m<e;m++){var B=g[m];A=q.B[m];A.ec=!0;B.rc.W.call(A,B,q);v=c[4][m];k=0;for(l=v.length;k<l;k++)A.S[k]=v[k];A.U();B.rc.Vi.add(q)}else for(q.B=[],m=0,e=g.length;m<e;m++)B=g[m],A=new B.rc.W(B,q),A.ec=!1,A.S=c[4][m].slice(0),A.U(),q.B.push(A),B.rc.Vi.add(q);v=c[5];if(q.ec)for(m=0,e=v.length;m<e;m++)q.S[m]=v[m];else q.S=v.slice(0);this.Sa.push(q);a&&(a.c.push(q),1!==a.Bc||1!==a.Cc)&&(n.ik=!0);this.Wg++;if(n.fb){if(q.fb=!0,q.ec?q.siblings.length=
0:q.siblings=[],!b&&!h){m=0;for(e=n.Ra.length;m<e;m++)if(n.Ra[m]!==n){if(!n.Ra[m].ob)return null;q.siblings.push(this.Nc(n.Ra[m].ob,T,!1,y?q.x:f,y?q.y:d,!0))}m=0;for(e=q.siblings.length;m<e;m++)for(q.siblings[m].siblings.push(q),k=0;k<e;k++)m!==k&&q.siblings[m].siblings.push(q.siblings[k])}}else q.fb=!1,q.siblings=null;q.U();m=0;for(e=q.B.length;m<e;m++)q.B[m].tq&&q.B[m].tq();return q};l.prototype.zg=function(c){var a,b;a=0;for(b=this.P.I.length;a<b;a++){var f=this.P.I[a];if(Ra(f.name,c))return f}return null};
l.prototype.he=function(c){c=M(c);0>c&&(c=0);c>=this.P.I.length&&(c=this.P.I.length-1);return this.P.I[c]};l.prototype.Wh=function(c){var a,b;a=0;for(b=c.length;a<b;a++)c[a].C().L=!0};l.prototype.Jf=function(c){var a,b;a=0;for(b=c.length;a<b;a++)c[a].Jf()};l.prototype.eh=function(c){var a,b;a=0;for(b=c.length;a<b;a++)c[a].eh()};l.prototype.Ld=function(c){var a,b;a=0;for(b=c.length;a<b;a++)c[a].Ld()};l.prototype.Pq=function(c,a,b){var f=c.C(),g,d,h,m,e,k;if(f.L)for(f.L=!1,g=f.c.length=0,m=c.c.length;g<
m;g++)h=c.c[g],h.Za(),e=h.e.Qa(a,b,!0),k=h.e.Qa(a,b,!1),h.Yb(e,k)&&f.c.push(h);else{g=d=0;for(m=f.c.length;g<m;g++)h=f.c[g],h.Za(),e=h.e.Qa(a,b,!0),k=h.e.Qa(a,b,!1),h.Yb(e,k)&&(f.c[d]=f.c[g],d++);f.c.length=d}c.Sb();return f.wi()};new ra;new qa(0,0,0,0);l.prototype.zm=function(c,a){if(!a)return!1;var b,f,g,d,h;b=0;for(f=c.fa.length;b<f;b++)if(c.fa[b].rc instanceof a)return!0;if(!c.D)for(b=0,f=c.X.length;b<f;b++)for(h=c.X[b],g=0,d=h.fa.length;g<d;g++)if(h.fa[g].rc instanceof a)return!0;return!1};l.prototype.Am=
function(c){return this.zm(c,Fb.Rr)};l.prototype.zj=function(c){return this.zm(c,Fb.Sr)};var m=-1;l.prototype.trigger=function(c,a,b){if(!this.P)return!1;var f=this.P.qg;if(!f)return!1;var g=!1,d,h;m++;d=this.wm(c,a,f,b);var g=g||d,e=f.Bk,f=0;for(h=e.length;f<h;++f)d=e[f],d.bb&&(d=this.wm(c,a,d.ie,b),g=g||d);m--;return g};l.prototype.wm=function(c,a,b,f){var g=!1,d,h,m,e;if(a)for(m=this.xj(c,a,a.type.name,b,f),g=g||m,e=a.type.X,d=0,h=e.length;d<h;++d)m=this.xj(c,a,e[d].name,b,f),g=g||m;else m=this.xj(c,
a,"system",b,f),g=g||m;return g};l.prototype.xj=function(c,a,b,f,g){var d,h=!1,m=!1,m="undefined"!==typeof g,e=(m?f.Ik:f.xm)[b];if(!e)return h;var k=null;f=0;for(d=e.length;f<d;++f)if(e[f].method==c){k=e[f].cf;break}if(!k)return h;c=m?k[g]:k;if(!c)return null;f=0;for(d=c.length;f<d;f++)g=c[f][0],m=c[f][1],m=this.Zo(a,b,g,m),h=h||m;return h};l.prototype.Zo=function(c,a,b,f){var g,d,h=!1;this.yj++;var e=this.Fa().nb;e&&this.Jf(e.bd);var k=1<this.yj;this.Jf(b.bd);k&&this.yq();var l=this.fh(b);l.nb=b;
c&&(g=this.types[a].C(),g.L=!1,g.c.length=1,g.c[0]=c,this.types[a].Sb());c=!0;if(b.parent){a=l.qm;for(g=b.parent;g;)a.push(g),g=g.parent;a.reverse();g=0;for(d=a.length;g<d;g++)if(!a[g].Gq()){c=!1;break}}c&&(this.sg++,b.Nb?b.Fq(f):b.ha(),h=h||l.Hd);this.ah();k&&this.sq();this.Ld(b.bd);e&&this.Ld(e.bd);0!==this.Lb||0!==m||this.Ii||this.Zb.Kb()&&!this.Sa.length||this.xa();this.yj--;return h};l.prototype.Pk=function(){var c=this.Fa();return c.nb.na[c.ia]};l.prototype.yq=function(){this.Vg++;this.Vg>=
this.Si.length&&this.Si.push([])};l.prototype.sq=function(){this.Vg--};l.prototype.Qk=function(){return this.Si[this.Vg]};l.prototype.fh=function(c){this.rg++;this.rg>=this.bi.length&&this.bi.push(new sb);var a=this.Fa();a.reset(c);return a};l.prototype.ah=function(){this.rg--};l.prototype.Fa=function(){return this.bi[this.rg]};l.prototype.Rk=function(c,a){for(var b,f,g,d,h,m;a;){b=0;for(f=a.Ab.length;b<f;b++)if(m=a.Ab[b],m instanceof tb&&Ra(c,m.name))return m;a=a.parent}b=0;for(f=this.uc.length;b<
f;b++)for(h=this.uc[b],g=0,d=h.Qc.length;g<d;g++)if(m=h.Qc[g],m instanceof tb&&Ra(c,m.name))return m;return null};l.prototype.Tk=function(c){var a,b;a=0;for(b=this.Mb.length;a<b;a++)if(this.Mb[a].F===c)return this.Mb[a];return null};l.prototype.Bg=function(c){var a,b;a=0;for(b=this.i.length;a<b;a++)if(this.i[a].F===c)return this.i[a];return null};l.prototype.gp=function(c){var a,b;a=0;for(b=this.de.length;a<b;a++)if(this.de[a].F===c)return this.de[a];return null};l.prototype.Ep=function(){var c=this,
a=this.rj,f=this.Ac,g=this.Sg,d=!1;this.om&&(d=!0,a="__c2_continuouspreview",this.om=!1);if(a.length){this.xa();f=this.Kq();if(window.indexedDB&&!this.rb)e(a,f,function(){J("Saved state to IndexedDB storage ("+f.length+" bytes)");c.Ac=f;c.trigger(S.prototype.d.Eh,null);c.Ac="";d&&b()},function(g){try{localStorage.setItem("__c2save_"+a,f),J("Saved state to WebStorage ("+f.length+" bytes)"),c.Ac=f,c.trigger(S.prototype.d.Eh,null),c.Ac="",d&&b()}catch(h){J("Failed to save game state: "+g+"; "+h)}});
else try{localStorage.setItem("__c2save_"+a,f),J("Saved state to WebStorage ("+f.length+" bytes)"),c.Ac=f,this.trigger(S.prototype.d.Eh,null),c.Ac="",d&&b()}catch(h){J("Error saving to WebStorage: "+h)}this.Ga=this.Sg=this.rj=""}g.length&&(window.indexedDB&&!this.rb?k(g,function(a){a?(c.Ga=a,J("Loaded state from IndexedDB storage ("+c.Ga.length+" bytes)")):(c.Ga=localStorage.getItem("__c2save_"+g)||"",J("Loaded state from WebStorage ("+c.Ga.length+" bytes)"));c.Of=!1;c.Ga.length||c.trigger(S.prototype.d.Dh,
null)},function(){c.Ga=localStorage.getItem("__c2save_"+g)||"";J("Loaded state from WebStorage ("+c.Ga.length+" bytes)");c.Of=!1;c.Ga.length||c.trigger(S.prototype.d.Dh,null)}):(this.Ga=localStorage.getItem("__c2save_"+g)||"",J("Loaded state from WebStorage ("+this.Ga.length+" bytes)"),this.Of=!1,c.Ga.length||c.trigger(S.prototype.d.Dh,null)),this.rj=this.Sg="");this.Ga.length&&(this.xa(),this.Yp(this.Ga),this.Ac=this.Ga,this.trigger(S.prototype.d.nn,null),this.Ga=this.Ac="")};l.prototype.Kq=function(){var c,
b,f,g,d,h,m,e={c2save:!0,version:1,rt:{time:this.Dd.Ha,timescale:this.Rf,tickcount:this.Qf,execcount:this.sg,next_uid:this.Ef,running_layout:this.P.F,start_time_offset:Date.now()-this.oh},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};c=0;for(b=this.i.length;c<b;c++)if(d=this.i[c],!d.D&&!this.Am(d)){h={instances:[]};Ia(d.K)&&(h.ex=a(d.K));f=0;for(g=d.c.length;f<g;f++)h.instances.push(this.qj(d.c[f]));e.types[d.F.toString()]=h}c=0;for(b=this.Mb.length;c<b;c++)f=this.Mb[c],e.layouts[f.F.toString()]=
f.Aa();g=e.events.groups;c=0;for(b=this.de.length;c<b;c++)f=this.de[c],g[f.F.toString()]=this.Dg[f.jf].Cg;b=e.events.cnds;for(m in this.ee)this.ee.hasOwnProperty(m)&&(c=this.ee[m],Ia(c.K)&&(b[m]={ex:a(c.K)}));b=e.events.acts;for(m in this.be)this.be.hasOwnProperty(m)&&(c=this.be[m],Ia(c.K)&&(b[m]={ex:c.K}));b=e.events.vars;for(m in this.Ge)this.Ge.hasOwnProperty(m)&&(c=this.Ge[m],c.Hg||c.parent&&!c.rf||(b[m]=c.data));e.system=this.Pb.Aa();return JSON.stringify(e)};l.prototype.Yl=function(){var c,
a,b,f,g,d;this.Wc={};c=0;for(a=this.i.length;c<a;c++)if(b=this.i[c],!b.D)for(f=0,g=b.c.length;f<g;f++)d=b.c[f],this.Wc[d.uid.toString()]=d};l.prototype.Yp=function(c){c=JSON.parse(c);if(c.c2save&&!(1<c.version)){var a=c.rt;this.Dd.reset();this.Dd.Ha=a.time;this.Rf=a.timescale;this.Qf=a.tickcount;this.oh=Date.now()-a.start_time_offset;var b=a.running_layout;if(b!==this.P.F)if(b=this.Tk(b))this.Ek(b);else return;var f,g,d,h,m,e,k;e=c.types;for(g in e)if(e.hasOwnProperty(g)&&(h=this.Bg(parseInt(g,10)))&&
!h.D&&!this.Am(h)){e[g].ex?h.K=e[g].ex:Ja(h.K);m=h.c;d=e[g].instances;b=0;for(f=la(m.length,d.length);b<f;b++)this.Tg(m[b],d[b]);b=d.length;for(f=m.length;b<f;b++)this.Td(m[b]);b=m.length;for(f=d.length;b<f;b++){m=null;if(h.Y.Uc&&(m=this.P.Ag(d[b].w.l),!m))continue;m=this.Nc(h.ob,m,!1,0,0,!0);this.Tg(m,d[b])}h.Ce=!0}this.xa();this.Yl();f=c.layouts;for(g in f)f.hasOwnProperty(g)&&(b=this.Tk(parseInt(g,10)))&&b.Na(f[g]);f=c.events.groups;for(g in f)f.hasOwnProperty(g)&&(b=this.gp(parseInt(g,10)))&&
this.Dg[b.jf]&&(this.Dg[b.jf].Cg=f[g]);b=c.events.cnds;for(g in b)b.hasOwnProperty(g)&&this.ee.hasOwnProperty(g)&&(this.ee[g].K=b[g].ex);b=c.events.acts;for(g in b)b.hasOwnProperty(g)&&this.be.hasOwnProperty(g)&&(this.be[g].K=b[g].ex);b=c.events.vars;for(g in b)b.hasOwnProperty(g)&&this.Ge.hasOwnProperty(g)&&(this.Ge[g].data=b[g]);this.Ef=a.next_uid;this.Pb.Na(c.system);b=0;for(f=this.i.length;b<f;b++)if(h=this.i[b],!h.D)for(g=0,c=h.c.length;g<c;g++){m=h.c[g];if(h.fb)for(e=m.hf(),a=m.siblings.length=
0,d=h.Ra.length;a<d;a++)k=h.Ra[a],h!==k&&m.siblings.push(k.c[e]);m.oc&&m.oc();if(m.B)for(a=0,d=m.B.length;a<d;a++)e=m.B[a],e.oc&&e.oc()}this.V=!0}};l.prototype.qj=function(c,b){var f,g,d,h,m;h=c.type;d=h.Y;var e={};b?e.c2=!0:e.uid=c.uid;Ia(c.K)&&(e.ex=a(c.K));if(c.ja&&c.ja.length)for(e.ivs={},f=0,g=c.ja.length;f<g;f++)e.ivs[c.type.Ci[f].toString()]=c.ja[f];if(d.Uc){d={x:c.x,y:c.y,w:c.width,h:c.height,l:c.e.F,zi:c.eb()};0!==c.j&&(d.a=c.j);1!==c.opacity&&(d.o=c.opacity);0.5!==c.Va&&(d.hX=c.Va);0.5!==
c.Wa&&(d.hY=c.Wa);0!==c.La&&(d.bm=c.La);c.visible||(d.v=c.visible);c.Ve||(d.ce=c.Ve);-1!==c.Df&&(d.mts=c.Df);if(h.p.length)for(d.fx=[],f=0,g=h.p.length;f<g;f++)m=h.p[f],d.fx.push({name:m.name,active:c.Ic[m.index],params:c.aa[m.index]});e.w=d}if(c.B&&c.B.length)for(e.behs={},f=0,g=c.B.length;f<g;f++)h=c.B[f],h.Aa&&(e.behs[h.type.F.toString()]=h.Aa());c.Aa&&(e.data=c.Aa());return e};l.prototype.ip=function(c,a){var b,f;b=0;for(f=c.Ci.length;b<f;b++)if(c.Ci[b]===a)return b;return-1};l.prototype.ep=function(c,
a){var b,f;b=0;for(f=c.B.length;b<f;b++)if(c.B[b].type.F===a)return b;return-1};l.prototype.Tg=function(c,a,b){var f,g,d,h,m;m=c.type;d=m.Y;if(b){if(!a.c2)return}else c.uid=a.uid;a.ex?c.K=a.ex:Ja(c.K);if(g=a.ivs)for(f in g)g.hasOwnProperty(f)&&(b=this.ip(m,parseInt(f,10)),0>b||b>=c.ja.length||(c.ja[b]=g[f]));if(d.Uc){d=a.w;c.e.F!==d.l&&(b=c.e,c.e=this.P.Ag(d.l),c.e?(c.e.c.push(c),c.e.ab=!0,va(b.c,c),b.ab=!0):(c.e=b,this.Td(c)));c.x=d.x;c.y=d.y;c.width=d.w;c.height=d.h;c.Sd=d.zi;c.j=d.hasOwnProperty("a")?
d.a:0;c.opacity=d.hasOwnProperty("o")?d.o:1;c.Va=d.hasOwnProperty("hX")?d.hX:0.5;c.Wa=d.hasOwnProperty("hY")?d.hY:0.5;c.visible=d.hasOwnProperty("v")?d.v:!0;c.Ve=d.hasOwnProperty("ce")?d.ce:!0;c.Df=d.hasOwnProperty("mts")?d.mts:-1;c.La=d.hasOwnProperty("bm")?d.bm:0;c.We=Oa(c.La);this.g&&Pa(c,c.La,this.g);c.va();if(d.hasOwnProperty("fx"))for(b=0,g=d.fx.length;b<g;b++)h=m.qi(d.fx[b].name),0>h||(c.Ic[h]=d.fx[b].active,c.aa[h]=d.fx[b].params);c.Ec()}if(m=a.behs)for(f in m)m.hasOwnProperty(f)&&(d=this.ep(c,
parseInt(f,10)),0>d||c.B[d].Na(m[f]));a.data&&c.Na(a.data)};ub=function(c){return new l(document.getElementById(c))};vb=function(c,a){return new l({dc:!0,width:c,height:a})};window.cr_createRuntime=ub;window.cr_createDCRuntime=vb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.Ps=!0;document.body.appendChild(a);a=new l(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,
window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new l(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var l=document.getElementById("c2canvas");return l?l.c2runtime:window.c2runtime?window.c2runtime:null};
window.cr_sizeCanvas=function(l,n){if(0!==l&&0!==n){var e=window.cr_getC2Runtime();e&&e.setSize(l,n)}};window.cr_setSuspended=function(l){var n=window.cr_getC2Runtime();n&&n.setSuspended(l)};
(function(){function l(b,a){this.b=b;this.qg=null;this.scrollX=this.b.qa/2;this.scrollY=this.b.pa/2;this.scale=1;this.j=0;this.ff=!0;this.name=a[0];this.width=a[1];this.height=a[2];this.Bm=a[3];this.nm=a[4];this.F=a[5];var d=a[6],h,f;this.I=[];this.kf=[];h=0;for(f=d.length;h<f;h++){var g=new wb(this,d[h]);g.Bl=h;this.I.push(g)}d=a[7];this.Ad=[];h=0;for(f=d.length;h<f;h++){var g=d[h],m=this.b.i[g[1]];m.ob||(m.ob=g);this.Ad.push(g);-1===this.kf.indexOf(m)&&this.kf.push(m)}this.p=[];this.J=[];this.aa=
[];h=0;for(f=a[8].length;h<f;h++)this.p.push({id:a[8][h][0],name:a[8][h][1],wa:-1,bb:!0,index:h}),this.aa.push(a[8][h][2].slice(0));this.Ec();this.jj=new qa(0,0,1,1);this.kj=new qa(0,0,1,1);this.Xc={}}function n(b,a){this.q=b;this.b=b.b;this.c=[];this.scale=1;this.j=0;this.qd=!1;this.Dc=new qa(0,0,0,0);this.vm=new ra;this.Cb=this.Ja=this.Db=this.Ia=0;this.ab=!1;this.name=a[0];this.index=a[1];this.F=a[2];this.visible=a[3];this.Jc=a[4];this.Qd=a[5];this.Bc=a[6];this.Cc=a[7];this.opacity=a[8];this.ji=
a[9];this.Fc=a[10];this.La=a[11];this.zo=a[12];this.We="source-over";this.za=this.Ba=0;this.Zc=!1;var d=a[13],h,f;this.je=[];h=0;for(f=d.length;h<f;h++){var g=d[h],m=this.b.i[g[1]];m.ob||(m.ob=g,m.lo=this.index);this.je.push(g);-1===this.q.kf.indexOf(m)&&this.q.kf.push(m)}this.p=[];this.J=[];this.aa=[];h=0;for(f=a[14].length;h<f;h++)this.p.push({id:a[14][h][0],name:a[14][h][1],wa:-1,bb:!0,index:h}),this.aa.push(a[14][h][2].slice(0));this.Ec();this.jj=new qa(0,0,1,1);this.kj=new qa(0,0,1,1)}function e(b,
a){return b.Sd-a.Sd}l.prototype.Jq=function(b){var a=b.type.F.toString();this.Xc.hasOwnProperty(a)||(this.Xc[a]=[]);this.Xc[a].push(this.b.qj(b))};l.prototype.Xk=function(){var b=this.I[0];return!b.Qd&&1===b.opacity&&!b.ji&&b.visible};l.prototype.Ec=function(){this.J.length=0;var b,a,d;b=0;for(a=this.p.length;b<a;b++)d=this.p[b],d.bb&&this.J.push(d)};l.prototype.pi=function(b){var a,d,h;a=0;for(d=this.p.length;a<d;a++)if(h=this.p[a],h.name===b)return h;return null};var k=[];l.prototype.tj=function(){this.nm&&
(this.qg=this.b.ci[this.nm]);this.b.P=this;this.scrollX=this.b.qa/2;this.scrollY=this.b.pa/2;var b,a,d,h,f,g,m;b=0;for(d=this.b.i.length;b<d;b++)if(a=this.b.i[b],!a.D)for(f=a.c,a=0,h=f.length;a<h;a++)if(g=f[a],g.e){var c=g.e.Bl;c>=this.I.length&&(c=this.I.length-1);g.e=this.I[c];g.e.c.push(g);g.e.ab=!0}k.length=0;this.Yn();b=0;for(d=this.I.length;b<d;b++)g=this.I[b],g.ko(),g.qd=!0,a=g.Qa(0,0,!0,!0),h=g.Qa(0,0,!1,!0),g.qd=!1,this.b.xe&&(a=a+0.5|0,h=h+0.5|0),g.nj(a,h,null);f=!1;if(!this.ff){for(m in this.Xc)if(this.Xc.hasOwnProperty(m)&&
(a=this.b.Bg(parseInt(m,10)))&&!a.D&&this.b.zj(a)){h=this.Xc[m];b=0;for(d=h.length;b<d;b++){g=null;if(a.Y.Uc&&(g=this.Ag(h[b].w.l),!g))continue;g=this.b.Nc(a.ob,g,!1,0,0,!0);this.b.Tg(g,h[b]);f=!0;k.push(g)}h.length=0}b=0;for(d=this.I.length;b<d;b++)this.I[b].c.sort(e),this.I[b].ab=!0}f&&(this.b.xa(),this.b.Yl());for(b=0;b<k.length;b++)if(g=k[b],g.type.fb)for(d=g.hf(),a=0,h=g.type.Ra.length;a<h;a++)m=g.type.Ra[a],g.type!==m&&(m.c.length>d?g.siblings.push(m.c[d]):m.ob&&(f=this.b.Nc(m.ob,g.e,!0,g.x,
g.y,!0),this.b.xa(),m.xh(),g.siblings.push(f),k.push(f)));b=0;for(d=this.Ad.length;b<d;b++)this.b.Nc(this.Ad[b],null,!0);this.b.Uh=null;this.b.xa();if(this.b.R&&!this.b.ka)for(b=0,d=this.b.i.length;b<d;b++)m=this.b.i[b],!m.D&&m.c.length&&m.Sl&&m.Sl(this.b.R);b=0;for(d=k.length;b<d;b++)g=k[b],this.b.trigger(Object.getPrototypeOf(g.type.Y).d.Ch,g);k.length=0;this.b.trigger(S.prototype.d.Mj,null);this.ff=!1};l.prototype.jo=function(){var b,a,d,h,f;a=b=0;for(d=this.Ad.length;b<d;b++)h=this.Ad[b],f=this.b.i[h[1]],
f.global?this.b.Nc(h,null,!0):(this.Ad[a]=h,a++);this.Ad.length=a};l.prototype.Oq=function(){this.b.trigger(S.prototype.d.mn,null);this.b.Pb.$a.length=0;var b,a,d,h,f,g;b=0;for(a=this.I.length;b<a;b++){f=this.I[b].c;d=0;for(h=f.length;d<h;d++)g=f[d],g.type.global||(this.b.zj(g.type)&&this.Jq(g),this.b.Td(g));this.b.xa();f.length=0;this.I[b].ab=!0}b=0;for(a=this.b.i.length;b<a;b++)if(f=this.b.i[b],!(f.global||f.Y.Uc||f.Y.mh||f.D)){d=0;for(h=f.c.length;d<h;d++)this.b.Td(f.c[d]);this.b.xa()}};l.prototype.sd=
function(b){var a,d=b,h=!1,f=!this.b.pb;f&&(this.b.Rg||(this.b.Rg=document.createElement("canvas"),a=this.b.Rg,a.width=this.b.H,a.height=this.b.G,this.b.ql=a.getContext("2d"),h=!0),a=this.b.Rg,d=this.b.ql,a.width!==this.b.H&&(a.width=this.b.H,h=!0),a.height!==this.b.G&&(a.height=this.b.G,h=!0),h&&(d.webkitImageSmoothingEnabled=this.b.O,d.mozImageSmoothingEnabled=this.b.O,d.msImageSmoothingEnabled=this.b.O,d.imageSmoothingEnabled=this.b.O));d.globalAlpha=1;d.globalCompositeOperation="source-over";
this.b.Hh&&!this.Xk()&&d.clearRect(0,0,this.b.H,this.b.G);var g,m,h=0;for(g=this.I.length;h<g;h++)m=this.I[h],m.visible&&0<m.opacity&&11!==m.La&&m.sd(d);f&&b.drawImage(a,0,0,this.b.width,this.b.height)};l.prototype.$b=function(b){var a=0<this.J.length||this.b.Ee||!this.b.pb;if(a){this.b.Xa||(this.b.Xa=b.Mc(this.b.H,this.b.G,this.b.O));if(this.b.Xa.Ue!==this.b.H||this.b.Xa.Te!==this.b.G)b.deleteTexture(this.b.Xa),this.b.Xa=b.Mc(this.b.H,this.b.G,this.b.O);b.gc(this.b.Xa);this.b.pb||b.Ae(this.b.H,this.b.G)}else this.b.Xa&&
(b.gc(null),b.deleteTexture(this.b.Xa),this.b.Xa=null);this.b.Hh&&!this.Xk()&&b.clear(0,0,0,0);var d,h;d=0;for(h=this.I.length;d<h;d++)this.I[d].visible&&0<this.I[d].opacity&&this.I[d].$b(b);a&&(0===this.J.length||1===this.J.length&&this.b.pb?(1===this.J.length?(a=this.J[0].index,b.hc(this.J[0].wa),b.ze(null,1/this.b.H,1/this.b.G,0,0,1,1,this.scale,this.j,0,0,this.aa[a]),b.bh(this.J[0].wa)&&(this.b.V=!0)):b.hc(0),this.b.pb||b.Ae(this.b.width,this.b.height),b.gc(null),b.Lf(1),b.xb(this.b.Xa),b.gm(),
b.$c(),b.hd(),a=this.b.width/2,d=this.b.height/2,b.gh(-a,d,a,d,a,-d,-a,-d),b.xb(null)):this.lj(b,null,null,null))};l.prototype.gf=function(){return 0<this.J.length||this.b.Ee||!this.b.pb?this.b.Xa:null};l.prototype.Uk=function(){var b=this.I[0].qb(),a,d,h;a=1;for(d=this.I.length;a<d;a++)h=this.I[a],(0!==h.Bc||0!==h.Cc)&&h.qb()<b&&(b=h.qb());return b};l.prototype.em=function(b){if(!this.Bm){var a=this.b.H*(1/this.Uk())/2;b>this.width-a&&(b=this.width-a);b<a&&(b=a)}this.scrollX!==b&&(this.scrollX=b,
this.b.V=!0)};l.prototype.fm=function(b){if(!this.Bm){var a=this.b.G*(1/this.Uk())/2;b>this.height-a&&(b=this.height-a);b<a&&(b=a)}this.scrollY!==b&&(this.scrollY=b,this.b.V=!0)};l.prototype.Yn=function(){this.em(this.scrollX);this.fm(this.scrollY)};l.prototype.lj=function(b,a,d,h){var f=d?d.J:a?a.J:this.J,g=1,m=0,c=0,e=0;d?(g=d.e.qb(),m=d.e.Jb(),c=d.e.Ia,e=d.e.Ja):a&&(g=a.qb(),m=a.Jb(),c=a.Ia,e=a.Ja);var p=this.b.mi,k,l,t,n,x=0,ea=1,L,E=this.b.H,y=this.b.G,T=E/2,q=y/2,v=a?a.jj:this.jj,A=a?a.kj:this.kj,
B=0,Y=0,D=0,Z=0,F=E,ba=E,z=y,H=y,U=t=0,aa=d?d.e.Jb():0;if(d){k=0;for(l=f.length;k<l;k++)t+=b.lp(f[k].wa),U+=b.mp(f[k].wa);n=d.Ka;B=a.tb(n.left,n.top,!0);D=a.tb(n.left,n.top,!1);F=a.tb(n.right,n.bottom,!0);z=a.tb(n.right,n.bottom,!1);0!==aa&&(k=a.tb(n.right,n.top,!0),l=a.tb(n.right,n.top,!1),Y=a.tb(n.left,n.bottom,!0),Z=a.tb(n.left,n.bottom,!1),n=Math.min(B,F,k,Y),F=Math.max(B,F,k,Y),B=n,n=Math.min(D,z,l,Z),z=Math.max(D,z,l,Z),D=n);B-=t;D-=U;F+=t;z+=U;A.left=B/E;A.top=1-D/y;A.right=F/E;A.bottom=1-
z/y;Y=B=M(B);Z=D=M(D);ba=F=oa(F);H=z=oa(z);Y-=t;Z-=U;ba+=t;H+=U;0>B&&(B=0);0>D&&(D=0);F>E&&(F=E);z>y&&(z=y);0>Y&&(Y=0);0>Z&&(Z=0);ba>E&&(ba=E);H>y&&(H=y);v.left=B/E;v.top=1-D/y;v.right=F/E;v.bottom=1-z/y}else v.left=A.left=0,v.top=A.top=0,v.right=A.right=1,v.bottom=A.bottom=1;U=d&&((d.j||aa)&&b.If(f[0].wa)||0!==t||0!==U||1!==d.opacity||d.type.Y.xl)||a&&!d&&1!==a.opacity;b.gm();if(U){p[x]||(p[x]=b.Mc(E,y,this.b.O));if(p[x].Ue!==E||p[x].Te!==y)b.deleteTexture(p[x]),p[x]=b.Mc(E,y,this.b.O);b.hc(0);b.gc(p[x]);
L=H-Z;b.clearRect(Y,y-Z-L,ba-Y,L);d?d.$b(b):(b.xb(this.b.gb),b.Lf(a.opacity),b.$c(),b.translate(-T,-q),b.hd(),b.Nd(B,z,F,z,F,D,B,D,v));A.left=A.top=0;A.right=A.bottom=1;d&&(n=v.top,v.top=v.bottom,v.bottom=n);x=1;ea=0}b.Lf(1);t=f.length-1;var aa=b.gj(f[t].wa)||!a&&!d&&!this.b.pb,N=0;k=0;for(l=f.length;k<l;k++){p[x]||(p[x]=b.Mc(E,y,this.b.O));if(p[x].Ue!==E||p[x].Te!==y)b.deleteTexture(p[x]),p[x]=b.Mc(E,y,this.b.O);b.hc(f[k].wa);N=f[k].index;b.bh(f[k].wa)&&(this.b.V=!0);0!=k||U?(b.ze(h,1/E,1/y,A.left,
A.top,A.right,A.bottom,g,m,c,e,d?d.aa[N]:a?a.aa[N]:this.aa[N]),b.xb(null),k!==t||aa?(b.gc(p[x]),L=H-Z,n=y-Z-L,b.clearRect(Y,n,ba-Y,L)):(d?b.ad(d.Ba,d.za):a&&b.ad(a.Ba,a.za),b.gc(h)),b.xb(p[ea]),b.$c(),b.translate(-T,-q),b.hd(),b.Nd(B,z,F,z,F,D,B,D,v),k!==t||aa||b.xb(null)):(b.gc(p[x]),L=H-Z,n=y-Z-L,b.clearRect(Y,n,ba-Y,L),d?(b.ze(h,1/d.width,1/d.height,A.left,A.top,A.right,A.bottom,g,m,c,e,d.aa[N]),d.$b(b)):(b.ze(h,1/E,1/y,0,0,1,1,g,m,c,e,a?a.aa[N]:this.aa[N]),b.xb(a?this.b.gb:this.b.Xa),b.$c(),b.translate(-T,
-q),b.hd(),b.Nd(B,z,F,z,F,D,B,D,v)),A.left=A.top=0,A.right=A.bottom=1,d&&!aa&&(n=z,z=D,D=n));x=0===x?1:0;ea=0===x?1:0}aa&&(b.hc(0),d?b.ad(d.Ba,d.za):a?b.ad(a.Ba,a.za):this.b.pb||(b.Ae(this.b.width,this.b.height),T=this.b.width/2,q=this.b.height/2,D=B=0,F=this.b.width,z=this.b.height),b.gc(h),b.xb(p[ea]),b.$c(),b.translate(-T,-q),b.hd(),d&&1===f.length&&!U?b.Nd(B,D,F,D,F,z,B,z,v):b.Nd(B,z,F,z,F,D,B,D,v),b.xb(null))};l.prototype.Ag=function(b){var a,d;a=0;for(d=this.I.length;a<d;a++)if(this.I[a].F===
b)return this.I[a];return null};l.prototype.Aa=function(){var b,a,d,h={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.j,w:this.width,h:this.height,fv:this.ff,persist:this.Xc,fx:[],layers:{}};b=0;for(a=this.p.length;b<a;b++)d=this.p[b],h.fx.push({name:d.name,active:d.bb,params:this.aa[d.index]});b=0;for(a=this.I.length;b<a;b++)d=this.I[b],h.layers[d.F.toString()]=d.Aa();return h};l.prototype.Na=function(b){var a,d,h,f;this.scrollX=b.sx;this.scrollY=b.sy;this.scale=b.s;this.j=b.a;this.width=b.w;
this.height=b.h;this.Xc=b.persist;"undefined"!==typeof b.fv&&(this.ff=b.fv);var g=b.fx;a=0;for(d=g.length;a<d;a++)if(h=this.pi(g[a].name))h.bb=g[a].active,this.aa[h.index]=g[a].params;this.Ec();a=b.layers;for(f in a)a.hasOwnProperty(f)&&(b=this.Ag(parseInt(f,10)))&&b.Na(a[f])};jb=l;n.prototype.Ec=function(){this.J.length=0;var b,a,d;b=0;for(a=this.p.length;b<a;b++)d=this.p[b],d.bb&&this.J.push(d)};n.prototype.pi=function(b){var a,d,h;a=0;for(d=this.p.length;a<d;a++)if(h=this.p[a],h.name===b)return h;
return null};n.prototype.ko=function(){var b,a,d,h,f,g;a=b=0;for(d=this.je.length;b<d;b++){h=this.je[b];f=this.b.i[h[1]];g=this.b.zj(f);f=!0;if(!g||this.q.ff)h=this.b.Nc(h,this,!0),k.push(h),h.type.global&&(f=!1);f&&(this.je[a]=this.je[b],a++)}this.je.length=a;this.b.xa();!this.b.r&&this.p.length&&(this.La=this.zo);this.We=Oa(this.La);this.b.g&&Pa(this,this.La,this.b.g)};n.prototype.Yq=function(){if(this.ab){var b,a;b=0;for(a=this.c.length;b<a;b++)this.c[b].Sd=b;this.ab=!1}};n.prototype.qb=function(b){return this.jp()*
(this.b.pb||b?this.b.Se:1)};n.prototype.jp=function(){return(this.scale*this.q.scale-1)*this.Fc+1};n.prototype.Jb=function(){return this.qd?0:ya(this.q.j+this.j)};n.prototype.sd=function(b){this.Zc=this.ji||1!==this.opacity||0!==this.La;var a=this.b.canvas,d=b,h=!1;this.Zc&&(this.b.Pg||(this.b.Pg=document.createElement("canvas"),a=this.b.Pg,a.width=this.b.H,a.height=this.b.G,this.b.pl=a.getContext("2d"),h=!0),a=this.b.Pg,d=this.b.pl,a.width!==this.b.H&&(a.width=this.b.H,h=!0),a.height!==this.b.G&&
(a.height=this.b.G,h=!0),h&&(d.webkitImageSmoothingEnabled=this.b.O,d.mozImageSmoothingEnabled=this.b.O,d.msImageSmoothingEnabled=this.b.O,d.imageSmoothingEnabled=this.b.O),this.Qd&&d.clearRect(0,0,this.b.H,this.b.G));d.globalAlpha=1;d.globalCompositeOperation="source-over";this.Qd||(d.fillStyle="rgb("+this.Jc[0]+","+this.Jc[1]+","+this.Jc[2]+")",d.fillRect(0,0,this.b.H,this.b.G));d.save();this.qd=!0;var h=this.Qa(0,0,!0,!0),f=this.Qa(0,0,!1,!0);this.qd=!1;this.b.xe&&(h=h+0.5|0,f=f+0.5|0);this.nj(h,
f,d);var g=this.qb();d.scale(g,g);d.translate(-h,-f);for(var m,h=0,f=this.c.length;h<f;h++)g=this.c[h],g.visible&&0!==g.width&&0!==g.height&&(g.Za(),m=g.Ka,m.right<this.Ia||m.bottom<this.Ja||m.left>this.Db||m.top>this.Cb||(d.globalCompositeOperation=g.We,g.sd(d)));d.restore();this.Zc&&(b.globalCompositeOperation=this.We,b.globalAlpha=this.opacity,b.drawImage(a,0,0))};n.prototype.nj=function(b,a,d){var h=this.qb();this.Ia=b;this.Ja=a;this.Db=b+this.b.H*(1/h);this.Cb=a+this.b.G*(1/h);b=this.Jb();0!==
b&&(d&&(d.translate(this.b.H/2,this.b.G/2),d.rotate(-b),d.translate(this.b.H/-2,this.b.G/-2)),this.Dc.set(this.Ia,this.Ja,this.Db,this.Cb),this.Dc.offset((this.Ia+this.Db)/-2,(this.Ja+this.Cb)/-2),this.vm.jm(this.Dc,b),this.vm.pk(this.Dc),this.Dc.offset((this.Ia+this.Db)/2,(this.Ja+this.Cb)/2),this.Ia=this.Dc.left,this.Ja=this.Dc.top,this.Db=this.Dc.right,this.Cb=this.Dc.bottom)};n.prototype.$b=function(b){var a=this.b.H,d=this.b.G,h=0,f=0;if(this.Zc=this.ji||1!==this.opacity||0<this.J.length||0!==
this.La){this.b.gb||(this.b.gb=b.Mc(this.b.H,this.b.G,this.b.O));if(this.b.gb.Ue!==this.b.H||this.b.gb.Te!==this.b.G)b.deleteTexture(this.b.gb),this.b.gb=b.Mc(this.b.H,this.b.G,this.b.O);b.gc(this.b.gb);this.Qd&&b.clear(0,0,0,0)}this.Qd||b.clear(this.Jc[0]/255,this.Jc[1]/255,this.Jc[2]/255,1);this.qd=!0;var f=this.Qa(0,0,!0,!0),g=this.Qa(0,0,!1,!0);this.qd=!1;this.b.xe&&(f=f+0.5|0,g=g+0.5|0);this.nj(f,g,null);g=this.qb();b.$c();b.scale(g,g);b.am(-this.Jb());b.translate((this.Ia+this.Db)/-2,(this.Ja+
this.Cb)/-2);b.hd();var m,c,e;m=0;for(c=this.c.length;m<c;m++)if(e=this.c[m],e.visible&&0!==e.width&&0!==e.height&&(e.Za(),h=e.Ka,!(h.right<this.Ia||h.bottom<this.Ja||h.left>this.Db||h.top>this.Cb)))if(e.Fm)if(h=e.J[0].wa,f=e.J[0].index,1!==e.J.length||b.gj(h)||b.xq(h)||(e.j||e.e.Jb())&&b.If(h)||1!==e.opacity||e.type.Y.xl)this.q.lj(b,this,e,this.Zc?this.b.gb:this.q.gf()),b.$c(),b.scale(g,g),b.am(-this.Jb()),b.translate((this.Ia+this.Db)/-2,(this.Ja+this.Cb)/-2),b.hd();else{b.hc(h);b.ad(e.Ba,e.za);
b.bh(h)&&(this.b.V=!0);var p=0,k=0,l=0,t=0;b.If(h)&&(h=e.Ka,p=this.tb(h.left,h.top,!0),k=this.tb(h.left,h.top,!1),l=this.tb(h.right,h.bottom,!0),h=this.tb(h.right,h.bottom,!1),p/=a,k=1-k/d,l/=a,t=1-h/d);b.ze(this.Zc?this.b.gb:this.q.gf(),1/e.width,1/e.height,p,k,l,t,this.qb(),this.Jb(),this.Ia,this.Ja,e.aa[f]);e.$b(b)}else b.hc(0),b.ad(e.Ba,e.za),e.$b(b);this.Zc&&(h=this.J.length?this.J[0].wa:0,f=this.J.length?this.J[0].index:0,0===this.J.length||1===this.J.length&&!b.gj(h)&&1===this.opacity?(1===
this.J.length?(b.hc(h),b.ze(this.q.gf(),1/this.b.H,1/this.b.G,0,0,1,1,this.qb(),this.Jb(),this.Ia,this.Ja,this.aa[f]),b.bh(h)&&(this.b.V=!0)):b.hc(0),b.gc(this.q.gf()),b.Lf(this.opacity),b.xb(this.b.gb),b.ad(this.Ba,this.za),b.$c(),b.hd(),a=this.b.H/2,d=this.b.G/2,b.gh(-a,d,a,d,a,-d,-a,-d),b.xb(null)):this.q.lj(b,this,null,this.q.gf()))};n.prototype.Qa=function(b,a,d,h){var f=this.b.devicePixelRatio;this.b.Cd&&(b*=f,a*=f);var f=this.b.Ml,g=this.b.Nl,f=(this.q.scrollX-f)*this.Bc+f,g=(this.q.scrollY-
g)*this.Cc+g,m=1/this.qb(!h);h?(f-=this.b.H*m/2,g-=this.b.G*m/2):(f-=this.b.width*m/2,g-=this.b.height*m/2);f+=b*m;g+=a*m;a=this.Jb();0!==a&&(f-=this.q.scrollX,g-=this.q.scrollY,b=Math.cos(a),a=Math.sin(a),h=f*b-g*a,g=g*b+f*a,f=h+this.q.scrollX,g+=this.q.scrollY);return d?f:g};n.prototype.tb=function(b,a,d){var h=this.Jb();if(0!==h){b-=this.q.scrollX;a-=this.q.scrollY;var f=Math.cos(-h),h=Math.sin(-h),g=b*f-a*h;a=a*f+b*h;b=g+this.q.scrollX;a+=this.q.scrollY}f=this.b.Ml;h=this.b.Nl;f=(this.q.scrollX-
f)*this.Bc+f;h=(this.q.scrollY-h)*this.Cc+h;g=1/this.qb(!1);f-=this.b.H*g/2;h-=this.b.G*g/2;f=(b-f)/g;h=(a-h)/g;b=this.b.devicePixelRatio;this.b.Cd&&(f/=b,h/=b);return d?f:h};n.prototype.Aa=function(){var b,a,d,h={s:this.scale,a:this.j,vl:this.Ia,vt:this.Ja,vr:this.Db,vb:this.Cb,v:this.visible,bc:this.Jc,t:this.Qd,px:this.Bc,py:this.Cc,o:this.opacity,zr:this.Fc,fx:[],instances:[]};b=0;for(a=this.p.length;b<a;b++)d=this.p[b],h.fx.push({name:d.name,active:d.bb,params:this.aa[d.index]});return h};n.prototype.Na=
function(b){var a,d;this.scale=b.s;this.j=b.a;this.Ia=b.vl;this.Ja=b.vt;this.Db=b.vr;this.Cb=b.vb;this.visible=b.v;this.Jc=b.bc;this.Qd=b.t;this.Bc=b.px;this.Cc=b.py;this.opacity=b.o;this.Fc=b.zr;var h=b.fx;b=0;for(a=h.length;b<a;b++)if(d=this.pi(h[b].name))d.bb=h[b].active,this.aa[d.index]=h[b].params;this.Ec();this.c.sort(e);this.ab=!0};wb=n})();
(function(){function l(a,c){var b,f=a.length;switch(f){case 0:return!0;case 1:return a[0]===c[0];case 2:return a[0]===c[0]&&a[1]===c[1];default:for(b=0;b<f;b++)if(a[b]!==c[b])return!1;return!0}}function n(a,c){return a.index-c.index}function e(a){var c,b,f,g;2===a.length?a[0].index>a[1].index&&(c=a[0],a[0]=a[1],a[1]=c):2<a.length&&a.sort(n);a.length>=p.length&&(p.length=a.length+1);p[a.length]||(p[a.length]=[]);g=p[a.length];c=0;for(b=g.length;c<b;c++)if(f=g[c],l(a,f))return f;g.push(a);return a}
function k(a,c){this.b=a;this.xm={};this.Ik={};this.xi=!1;this.Zk=new fa;this.Bk=[];this.name=c[0];var b=c[1];this.Qc=[];var f,g;f=0;for(g=b.length;f<g;f++)this.al(b[f],null,this.Qc)}function b(a){this.type=a;this.c=[];this.M=[];this.L=!0}function a(a,c,b){this.sheet=a;this.parent=c;this.b=a.b;this.Z=[];this.bd=[];this.Yk=this.vh=this.wj=this.Bi=this.group=this.pm=!1;this.na=[];this.Hb=[];this.Ab=[];this.jf="";this.Cg=this.Bi=this.group=!1;this.wk=null;b[1]&&(this.jf=b[1][1].toLowerCase(),this.group=
!0,this.Bi=!!b[1][0],this.wk=[],this.Cg=this.Bi,this.b.de.push(this),this.b.Dg[this.jf]=this);this.Nb=b[2];this.F=b[4];this.group||(this.b.ok[this.F.toString()]=this);var f=b[5];a=0;for(c=f.length;a<c;a++){var g=new xb(this,f[a]);g.index=a;this.na.push(g);this.ek(g.type)}f=b[6];a=0;for(c=f.length;a<c;a++)g=new yb(this,f[a]),g.index=a,this.Hb.push(g);if(8===b.length)for(b=b[7],a=0,c=b.length;a<c;a++)this.sheet.al(b[a],this,this.Ab);this.Ig=!1;this.na.length&&(this.Ig=null==this.na[0].type&&this.na[0].ta==
S.prototype.d.Om)}function d(a,c){var b,f,g;if(a&&(-1===c.indexOf(a)&&c.push(a),a.fb))for(b=0,f=a.Ra.length;b<f;b++)g=a.Ra[b],a!==g&&-1===c.indexOf(g)&&c.push(g)}function h(a,c){this.cb=a;this.sheet=a.sheet;this.b=a.b;this.u=[];this.T=[];this.K={};this.index=-1;this.Re=!1;this.ta=c[1];this.trigger=0<c[3];this.Hk=2===c[3];this.Di=c[5];this.Xp=c[6];this.F=c[7];this.b.ee[this.F.toString()]=this;-1===c[0]?(this.type=null,this.ha=this.pj,this.pd=null,this.lb=-1):(this.type=this.b.i[c[0]],this.ha=this.Xp?
this.Hq:this.oj,c[2]?(this.pd=this.type.xg(c[2]),this.lb=this.type.ni(c[2])):(this.pd=null,this.lb=-1),this.cb.parent&&this.cb.parent.kh());this.Hk&&(this.ha=this.Iq);if(10===c.length){var b,f,g=c[9];b=0;for(f=g.length;b<f;b++){var d=new zb(this,g[b]);this.u.push(d)}this.T.length=g.length}}function f(a,c){this.cb=a;this.sheet=a.sheet;this.b=a.b;this.u=[];this.T=[];this.K={};this.index=-1;this.Re=!1;this.ta=c[1];-1===c[0]?(this.type=null,this.ha=this.pj,this.pd=null,this.lb=-1):(this.type=this.b.i[c[0]],
this.ha=this.oj,c[2]?(this.pd=this.type.xg(c[2]),this.lb=this.type.ni(c[2])):(this.pd=null,this.lb=-1));this.F=c[3];this.b.be[this.F.toString()]=this;if(6===c.length){var b,f,g=c[5];b=0;for(f=g.length;b<f;b++){var d=new zb(this,g[b]);this.u.push(d)}this.T.length=g.length}}function g(a,c){this.n=a;this.cb=a.cb;this.sheet=a.sheet;this.b=a.b;this.type=c[0];this.ac=null;this.cd=0;this.get=null;this.vk=0;this.q=null;this.key=0;this.object=null;this.index=0;this.Uf=this.Pd=this.Uf=this.Pd=this.Jk=this.ud=
this.Vf=null;this.Bb=!1;var b,f,g;switch(c[0]){case 0:case 7:this.ac=new Q(this,c[1]);this.cd=0;this.get=this.sp;break;case 1:this.ac=new Q(this,c[1]);this.cd=0;this.get=this.tp;break;case 5:this.ac=new Q(this,c[1]);this.cd=0;this.get=this.xp;break;case 3:case 8:this.vk=c[1];this.get=this.qp;break;case 6:this.q=this.b.Oi[c[1]];this.get=this.yp;break;case 9:this.key=c[1];this.get=this.wp;break;case 4:this.object=this.b.i[c[1]];this.get=this.zp;this.cb.ek(this.object);this.n instanceof yb?this.cb.kh():
this.cb.parent&&this.cb.parent.kh();break;case 10:this.index=c[1];a.type.D?(this.get=this.up,this.Bb=!0):this.get=this.vp;break;case 11:this.Vf=c[1];this.ud=null;this.get=this.rp;break;case 2:case 12:this.Jk=c[1];this.get=this.pp;break;case 13:for(this.get=this.Ap,this.Pd=[],this.Uf=[],b=1,f=c.length;b<f;b++)g=new zb(this.n,c[b]),this.Pd.push(g),this.Uf.push(0)}}function m(a,c,b){this.sheet=a;this.parent=c;this.b=a.b;this.Z=[];this.name=b[1];this.Ai=b[3];this.rf=!!b[4];this.Hg=!!b[5];this.F=b[6];
this.b.Ge[this.F.toString()]=this;this.data=this.Ai;this.parent?(this.Kd=this.rf||this.Hg?-1:this.b.Nq++,this.b.Tn.push(this)):(this.Kd=-1,this.b.Sn.push(this))}function c(a,c,b){this.sheet=a;this.parent=c;this.b=a.b;this.Z=[];this.ie=null;this.Gp=b[1];this.bb=!0}function r(){this.qm=[];this.reset(null)}var p=[];k.prototype.toString=G("name");k.prototype.al=function(a,c,b){switch(a[0]){case 0:a=new Ab(this,c,a);if(a.Nb)for(b.push(a),b=0,c=a.na.length;b<c;b++)a.na[b].trigger&&this.bl(a,b);else a.hl()?
this.bl(a,0):b.push(a);break;case 1:a=new tb(this,c,a);b.push(a);break;case 2:a=new Bb(this,c,a),b.push(a)}};k.prototype.da=function(){var a,c;a=0;for(c=this.Qc.length;a<c;a++)this.Qc[a].da(a<c-1&&this.Qc[a+1].Ig)};k.prototype.fp=function(){this.dk(this.Bk)};k.prototype.dk=function(a){var c,b,f,g;g=this.Zk.Tf();c=0;for(b=g.length;c<b;++c)f=g[c],-1===a.indexOf(f)&&(a.push(f),f.ie.dk(a))};k.prototype.ha=function(a){this.b.Os||(this.xi=!0,a||(this.b.Ii=!0));var c,b;c=0;for(b=this.Qc.length;c<b;c++){var f=
this.Qc[c];f.ha();this.b.Wh(f.Z);this.b.Zb.Kb()&&!this.b.Sa.length||this.b.xa()}a||(this.b.Ii=!1)};k.prototype.bl=function(a,c){a.Nb||this.b.wh.push(a);var b,f,g=a.na[c],d;d=g.type?g.type.name:"system";var h=(b=g.Hk)?this.Ik:this.xm;h[d]||(h[d]=[]);d=h[d];h=g.ta;if(b){if(g.u.length&&(g=g.u[0],1===g.type&&2===g.ac.type)){g=g.ac.value.toLowerCase();b=0;for(f=d.length;b<f;b++)if(d[b].method==h){b=d[b].cf;b[g]?b[g].push([a,c]):b[g]=[[a,c]];return}b={};b[g]=[[a,c]];d.push({method:h,cf:b})}}else{b=0;for(f=
d.length;b<f;b++)if(d[b].method==h){d[b].cf.push([a,c]);return}Ob&&h===Ob.prototype.d.Yd?d.unshift({method:h,cf:[[a,c]]}):d.push({method:h,cf:[[a,c]]})}};kb=k;b.prototype.wi=function(){return this.L?this.type.c.length:this.c.length};b.prototype.Ma=function(){return this.L?this.type.c:this.c};b.prototype.we=function(a){a&&(a.b.Fa().nb.Nb?(this.L&&(this.c.length=0,ua(this.M,a.type.c),this.L=!1),a=this.M.indexOf(a),-1!==a&&(this.c.push(this.M[a]),this.M.splice(a,1))):(this.L=!1,this.c.length=1,this.c[0]=
a))};Ua=b;window._c2hh_="7D411AF2A209E605333BECE836F523824A3967F9";a.prototype.da=function(a){var c,b=this.parent;if(this.group)for(this.vh=!0;b;){if(!b.group){this.vh=!1;break}b=b.parent}this.wj=!this.hl()&&(!this.parent||this.parent.group&&this.parent.vh);this.Yk=!!a;this.bd=this.Z.slice(0);for(b=this.parent;b;){a=0;for(c=b.Z.length;a<c;a++)this.Rn(b.Z[a]);b=b.parent}this.Z=e(this.Z);this.bd=e(this.bd);a=0;for(c=this.na.length;a<c;a++)this.na[a].da();a=0;for(c=this.Hb.length;a<c;a++)this.Hb[a].da();
a=0;for(c=this.Ab.length;a<c;a++)this.Ab[a].da(a<c-1&&this.Ab[a+1].Ig)};a.prototype.ek=function(a){d(a,this.Z)};a.prototype.Rn=function(a){d(a,this.bd)};a.prototype.kh=function(){this.pm=!0;this.parent&&this.parent.kh()};a.prototype.hl=function(){return this.na.length?this.na[0].trigger:!1};a.prototype.ha=function(){var a,c=!1,b,f=this.b,g=this.b.Fa();g.nb=this;var d=this.na;this.Ig||(g.ai=!1);if(this.Nb){0===d.length&&(c=!0);g.ia=0;for(a=d.length;g.ia<a;g.ia++)d[g.ia].trigger||(b=d[g.ia].ha())&&
(c=!0);(g.Hd=c)&&this.jh()}else{g.ia=0;for(a=d.length;g.ia<a;g.ia++)if(b=d[g.ia].ha(),!b){g.Hd=!1;!this.wj||f.Zb.Kb()&&!f.Sa.length||f.xa();return}g.Hd=!0;this.jh()}this.Bo(g)};a.prototype.Bo=function(a){a.Hd&&this.Yk&&(a.ai=!0);!this.wj||this.b.Zb.Kb()&&!this.b.Sa.length||this.b.xa()};a.prototype.Fq=function(a){this.b.Fa().nb=this;this.na[a].ha()&&(this.jh(),this.b.Fa().Hd=!0)};a.prototype.jh=function(){var a=this.b.Fa(),c;a.kb=0;for(c=this.Hb.length;a.kb<c;a.kb++)if(this.Hb[a.kb].ha())return;this.cm()};
a.prototype.Cq=function(){var a=this.b.Fa(),c;for(c=this.Hb.length;a.kb<c;a.kb++)if(this.Hb[a.kb].ha())return;this.cm()};a.prototype.cm=function(){if(this.Ab.length){var a,c,b,f,g=this.Ab.length-1;this.b.fh(this);if(this.pm)for(a=0,c=this.Ab.length;a<c;a++)b=this.Ab[a],(f=!this.vh||!this.group&&a<g)&&this.b.eh(b.Z),b.ha(),f?this.b.Ld(b.Z):this.b.Wh(b.Z);else for(a=0,c=this.Ab.length;a<c;a++)this.Ab[a].ha();this.b.ah()}};a.prototype.Gq=function(){var a=this.b.Fa();a.nb=this;var c=!1,b;a.ia=0;for(b=
this.na.length;a.ia<b;a.ia++)if(this.na[a.ia].ha())c=!0;else if(!this.Nb)return!1;return this.Nb?c:!0};a.prototype.Dq=function(){this.b.sg++;var a=this.b.Fa().ia,c=this.b.fh(this);if(!this.Nb)for(c.ia=a+1,a=this.na.length;c.ia<a;c.ia++)if(!this.na[c.ia].ha()){this.b.ah();return}this.jh();this.b.ah()};a.prototype.Pp=function(a){var c=a.index;if(0===c)return!0;for(--c;0<=c;--c)if(this.na[c].type===a.type)return!1;return!0};Ab=a;h.prototype.da=function(){var a,c,b;a=0;for(c=this.u.length;a<c;a++)b=this.u[a],
b.da(),b.Bb&&(this.Re=!0)};h.prototype.Iq=I(!0);h.prototype.pj=function(){var a,c;a=0;for(c=this.u.length;a<c;a++)this.T[a]=this.u[a].get();return Ha(this.ta.apply(this.b.Pb,this.T),this.Di)};h.prototype.Hq=function(){var a,c;a=0;for(c=this.u.length;a<c;a++)this.T[a]=this.u[a].get();a=this.ta.apply(this.pd?this.pd:this.type,this.T);this.type.Sb();return a};h.prototype.oj=function(){var a,c,b,f,g,d,h,m,p=this.type,e=p.C(),k=this.cb.Nb&&!this.trigger;c=0;var l=p.fb,n=p.D,r=p.vc,s=this.lb,u=-1<s,ba=
this.Re,z=this.u,H=this.T,U=this.Di,aa=this.ta,N;if(ba)for(c=0,g=z.length;c<g;++c)d=z[c],d.Bb||(H[c]=d.get(0));else for(c=0,g=z.length;c<g;++c)H[c]=z[c].get(0);if(e.L){e.c.length=0;e.M.length=0;N=p.c;a=0;for(f=N.length;a<f;++a){m=N[a];if(ba)for(c=0,g=z.length;c<g;++c)d=z[c],d.Bb&&(H[c]=d.get(a));u?(c=0,n&&(c=m.type.ge[r]),c=aa.apply(m.B[s+c],H)):c=aa.apply(m,H);(h=Ha(c,U))?e.c.push(m):k&&e.M.push(m)}p.finish&&p.finish(!0);e.L=!1;p.Sb();return e.wi()}b=0;N=(h=k&&!this.cb.Pp(this))?e.M:e.c;var Ba=!1;
a=0;for(f=N.length;a<f;++a){m=N[a];if(ba)for(c=0,g=z.length;c<g;++c)d=z[c],d.Bb&&(H[c]=d.get(a));u?(c=0,n&&(c=m.type.ge[r]),c=aa.apply(m.B[s+c],H)):c=aa.apply(m,H);if(Ha(c,U))if(Ba=!0,h){if(e.c.push(m),l)for(c=0,g=m.siblings.length;c<g;c++)d=m.siblings[c],d.type.C().c.push(d)}else{N[b]=m;if(l)for(c=0,g=m.siblings.length;c<g;c++)d=m.siblings[c],d.type.C().c[b]=d;b++}else if(h){N[b]=m;if(l)for(c=0,g=m.siblings.length;c<g;c++)d=m.siblings[c],d.type.C().M[b]=d;b++}else if(k&&(e.M.push(m),l))for(c=0,g=
m.siblings.length;c<g;c++)d=m.siblings[c],d.type.C().M.push(d)}N.length=b;if(l)for(n=p.Ra,a=0,f=n.length;a<f;a++)m=n[a].C(),h?m.M.length=b:m.c.length=b;b=Ba;if(h&&!Ba)for(a=0,f=e.c.length;a<f;a++){m=e.c[a];if(ba)for(c=0,g=z.length;c<g;c++)d=z[c],d.Bb&&(H[c]=d.get(a));c=u?aa.apply(m.B[s],H):aa.apply(m,H);if(Ha(c,U)){Ba=!0;break}}p.finish&&p.finish(b||k);return k?Ba:e.wi()};xb=h;f.prototype.da=function(){var a,c,b;a=0;for(c=this.u.length;a<c;a++)b=this.u[a],b.da(),b.Bb&&(this.Re=!0)};f.prototype.pj=
function(){var a,c;a=0;for(c=this.u.length;a<c;a++)this.T[a]=this.u[a].get();return this.ta.apply(this.b.Pb,this.T)};f.prototype.oj=function(){var a=this.type.C().Ma(),c=this.type.D,b=this.type.vc,f=this.lb,g=-1<f,d=this.Re,h=this.u,m=this.T,e=this.ta,p,k,l,n,r,s;if(d)for(k=0,n=h.length;k<n;++k)r=h[k],r.Bb||(m[k]=r.get(0));else for(k=0,n=h.length;k<n;++k)m[k]=h[k].get(0);p=0;for(l=a.length;p<l;++p){s=a[p];if(d)for(k=0,n=h.length;k<n;++k)r=h[k],r.Bb&&(m[k]=r.get(p));g?(k=0,c&&(k=s.type.ge[b]),e.apply(s.B[f+
k],m)):e.apply(s,m)}return!1};yb=f;var s=[],u=-1;g.prototype.da=function(){var a,c;if(11===this.type)this.ud=this.b.Rk(this.Vf,this.cb.parent);else if(13===this.type)for(a=0,c=this.Pd.length;a<c;a++)this.Pd[a].da();this.ac&&this.ac.da()};g.prototype.cq=function(a){this.Bb||!a||a.Y.mh||(this.Bb=!0)};g.prototype.hm=function(){this.Bb=!0};g.prototype.la=function(){u++;s.length===u&&s.push(new Cb);return s[u]};g.prototype.ga=function(){u--};g.prototype.sp=function(a){this.cd=a||0;a=this.la();this.ac.get(a);
this.ga();return a.data};g.prototype.tp=function(a){this.cd=a||0;a=this.la();this.ac.get(a);this.ga();return K(a.data)?a.data:""};g.prototype.zp=G("object");g.prototype.qp=G("vk");g.prototype.xp=function(a){this.cd=a||0;a=this.la();this.ac.get(a);this.ga();return a.oa()?this.b.he(a.data):this.b.zg(a.data)};g.prototype.yp=G("q");g.prototype.wp=G("key");g.prototype.vp=G("index");g.prototype.up=function(a){a=a||0;var c=this.n.type,b=null,b=c.C(),f=b.Ma();if(f.length)b=f[a%f.length].type;else if(b.M.length)b=
b.M[a%b.M.length].type;else if(c.c.length)b=c.c[a%c.c.length].type;else return 0;return this.index+b.ug[c.vc]};g.prototype.rp=G("ud");g.prototype.pp=G("Jk");g.prototype.Ap=function(){var a,c;a=0;for(c=this.Pd.length;a<c;a++)this.Uf[a]=this.Pd[a].get();return this.Uf};zb=g;m.prototype.da=function(){this.Z=e(this.Z)};m.prototype.Lq=function(a){var c=this.b.Qk();this.parent&&!this.rf&&c?(this.Kd>=c.length&&(c.length=this.Kd+1),c[this.Kd]=a):this.data=a};m.prototype.op=function(){var a=this.b.Qk();return!this.parent||
this.rf||!a||this.Hg?this.data:this.Kd>=a.length||"undefined"===typeof a[this.Kd]?this.Ai:a[this.Kd]};m.prototype.ha=function(){!this.parent||this.rf||this.Hg||this.Lq(this.Ai)};tb=m;c.prototype.toString=function(){return"include:"+this.ie.toString()};c.prototype.da=function(){this.ie=this.b.ci[this.Gp];this.sheet.Zk.add(this);this.Z=e(this.Z);for(var a=this.parent;a;)a.group&&a.wk.push(this),a=a.parent;this.Wq()};c.prototype.ha=function(){this.parent&&this.b.Jf(this.b.i);this.ie.xi||this.ie.ha(!0);
this.parent&&this.b.Ld(this.b.i)};c.prototype.Wq=function(){for(var a=this.parent;a;){if(a.group&&!a.Cg){this.bb=!1;return}a=a.parent}this.bb=!0};Bb=c;r.prototype.reset=function(a){this.nb=a;this.kb=this.ia=0;this.qm.length=0;this.ai=this.Hd=!1};sb=r})();
(function(){function l(e,k){this.n=e;this.b=e.b;this.type=k[0];this.get=[this.No,this.Jo,this.Vo,this.Yo,this.Do,this.Wo,this.Ro,this.Go,this.Qo,this.Uo,this.Eo,this.To,this.Ho,this.So,this.Oo,this.Po,this.Ko,this.Lo,this.Fo,this.Xo,this.Fk,this.Mo,this.Fk,this.Io][this.type];var b=null;this.Oa=this.u=this.T=this.ta=this.sh=this.ra=this.first=this.value=null;this.lb=-1;this.xc=null;this.Bj=-1;this.ud=this.Vf=null;this.Kf=!1;switch(this.type){case 0:case 1:case 2:this.value=k[1];break;case 3:this.first=
new Q(e,k[1]);break;case 18:this.first=new Q(e,k[1]);this.ra=new Q(e,k[2]);this.sh=new Q(e,k[3]);break;case 19:this.ta=k[1];this.ta!==S.prototype.Ea.random&&this.ta!==S.prototype.Ea.fo||this.n.hm();this.T=[];this.u=[];3===k.length?(b=k[2],this.T.length=b.length+1):this.T.length=1;break;case 20:this.Oa=this.b.i[k[1]];this.lb=-1;this.ta=k[2];this.Kf=k[3];Eb.Qm&&this.ta===Eb.Qm.prototype.Ea.lr&&this.n.hm();this.xc=k[4]?new Q(e,k[4]):null;this.T=[];this.u=[];6===k.length?(b=k[5],this.T.length=b.length+
1):this.T.length=1;break;case 21:this.Oa=this.b.i[k[1]];this.Kf=k[2];this.xc=k[3]?new Q(e,k[3]):null;this.Bj=k[4];break;case 22:this.Oa=this.b.i[k[1]];this.Oa.xg(k[2]);this.lb=this.Oa.ni(k[2]);this.ta=k[3];this.Kf=k[4];this.xc=k[5]?new Q(e,k[5]):null;this.T=[];this.u=[];7===k.length?(b=k[6],this.T.length=b.length+1):this.T.length=1;break;case 23:this.Vf=k[1],this.ud=null}this.n.cq(this.Oa);4<=this.type&&17>=this.type&&(this.first=new Q(e,k[1]),this.ra=new Q(e,k[2]));if(b){var a,d;a=0;for(d=b.length;a<
d;a++)this.u.push(new Q(e,b[a]))}}function n(e,k){this.type=e||R.Vd;this.data=k||0;this.te=null;this.type==R.Vd&&(this.data=Math.floor(this.data))}l.prototype.da=function(){23===this.type&&(this.ud=this.n.b.Rk(this.Vf,this.n.cb.parent));this.first&&this.first.da();this.ra&&this.ra.da();this.sh&&this.sh.da();this.xc&&this.xc.da();if(this.u){var e,k;e=0;for(k=this.u.length;e<k;e++)this.u[e].da()}};l.prototype.Xo=function(e){this.T[0]=e;e=this.n.la();var k,b;k=0;for(b=this.u.length;k<b;k++)this.u[k].get(e),
this.T[k+1]=e.data;this.n.ga();this.ta.apply(this.b.Pb,this.T)};l.prototype.Fk=function(e){var k=this.Oa.C(),b=k.Ma();if(!b.length)if(k.M.length)b=k.M;else{this.Kf?e.yb(""):e.Q(0);return}this.T[0]=e;e.te=this.Oa;e=this.n.la();var a,k=0;for(a=this.u.length;k<a;k++)this.u[k].get(e),this.T[k+1]=e.data;k=this.n.cd;this.xc&&(this.xc.get(e),e.oa()&&(k=e.data,b=this.Oa.c));this.n.ga();k%=b.length;0>k&&(k+=b.length);b=b[k];-1<this.lb?(e=0,this.Oa.D&&(e=b.type.ge[this.Oa.vc]),this.ta.apply(b.B[this.lb+e],
this.T)):this.ta.apply(b,this.T)};l.prototype.Mo=function(e){var k=this.Oa.C(),b=k.Ma();if(!b.length)if(k.M.length)b=k.M;else{this.Kf?e.yb(""):e.Q(0);return}k=this.n.cd;if(this.xc){var a=this.n.la();this.xc.get(a);if(a.oa()){k=a.data;b=this.Oa.c;k%=b.length;0>k&&(k+=b.length);b=b[k].ja[this.Bj];K(b)?e.yb(b):e.k(b);this.n.ga();return}this.n.ga()}k%=b.length;0>k&&(k+=b.length);b=b[k];k=0;this.Oa.D&&(k=b.type.ug[this.Oa.vc]);b=b.ja[this.Bj+k];K(b)?e.yb(b):e.k(b)};l.prototype.No=function(e){e.type=R.Vd;
e.data=this.value};l.prototype.Jo=function(e){e.type=R.Ud;e.data=this.value};l.prototype.Vo=function(e){e.type=R.dg;e.data=this.value};l.prototype.Yo=function(e){this.first.get(e);e.oa()&&(e.data=-e.data)};l.prototype.Do=function(e){this.first.get(e);var k=this.n.la();this.ra.get(k);e.oa()&&k.oa()&&(e.data+=k.data,k.le()&&e.re());this.n.ga()};l.prototype.Wo=function(e){this.first.get(e);var k=this.n.la();this.ra.get(k);e.oa()&&k.oa()&&(e.data-=k.data,k.le()&&e.re());this.n.ga()};l.prototype.Ro=function(e){this.first.get(e);
var k=this.n.la();this.ra.get(k);e.oa()&&k.oa()&&(e.data*=k.data,k.le()&&e.re());this.n.ga()};l.prototype.Go=function(e){this.first.get(e);var k=this.n.la();this.ra.get(k);e.oa()&&k.oa()&&(e.data/=k.data,e.re());this.n.ga()};l.prototype.Qo=function(e){this.first.get(e);var k=this.n.la();this.ra.get(k);e.oa()&&k.oa()&&(e.data%=k.data,k.le()&&e.re());this.n.ga()};l.prototype.Uo=function(e){this.first.get(e);var k=this.n.la();this.ra.get(k);e.oa()&&k.oa()&&(e.data=Math.pow(e.data,k.data),k.le()&&e.re());
this.n.ga()};l.prototype.Eo=function(e){this.first.get(e);var k=this.n.la();this.ra.get(k);e.oa()?k.Jg()?e.yb(e.data.toString()+k.data):e.data&&k.data?e.Q(1):e.Q(0):e.Jg()&&(e.data=k.Jg()?e.data+k.data:e.data+(Math.round(1E10*k.data)/1E10).toString());this.n.ga()};l.prototype.To=function(e){this.first.get(e);var k=this.n.la();this.ra.get(k);e.oa()&&k.oa()&&(e.data||k.data?e.Q(1):e.Q(0));this.n.ga()};l.prototype.Fo=function(e){this.first.get(e);e.data?this.ra.get(e):this.sh.get(e)};l.prototype.Ho=
function(e){this.first.get(e);var k=this.n.la();this.ra.get(k);e.Q(e.data===k.data?1:0);this.n.ga()};l.prototype.So=function(e){this.first.get(e);var k=this.n.la();this.ra.get(k);e.Q(e.data!==k.data?1:0);this.n.ga()};l.prototype.Oo=function(e){this.first.get(e);var k=this.n.la();this.ra.get(k);e.Q(e.data<k.data?1:0);this.n.ga()};l.prototype.Po=function(e){this.first.get(e);var k=this.n.la();this.ra.get(k);e.Q(e.data<=k.data?1:0);this.n.ga()};l.prototype.Ko=function(e){this.first.get(e);var k=this.n.la();
this.ra.get(k);e.Q(e.data>k.data?1:0);this.n.ga()};l.prototype.Lo=function(e){this.first.get(e);var k=this.n.la();this.ra.get(k);e.Q(e.data>=k.data?1:0);this.n.ga()};l.prototype.Io=function(e){var k=this.ud.op();ha(k)?e.k(k):e.yb(k)};Q=l;n.prototype.le=function(){return this.type===R.Ud};n.prototype.oa=function(){return this.type===R.Vd||this.type===R.Ud};n.prototype.Jg=function(){return this.type===R.dg};n.prototype.re=function(){this.le()||(this.Jg()&&(this.data=parseFloat(this.data)),this.type=
R.Ud)};n.prototype.Q=function(e){this.type=R.Vd;this.data=Math.floor(e)};n.prototype.k=function(e){this.type=R.Ud;this.data=e};n.prototype.yb=function(e){this.type=R.dg;this.data=e};n.prototype.im=function(e){ha(e)?(this.type=R.Ud,this.data=e):K(e)?(this.type=R.dg,this.data=e.toString()):(this.type=R.Vd,this.data=0)};Cb=n;R={Vd:0,Ud:1,dg:2}})();function S(l){this.b=l;this.$a=[]}
S.prototype.Aa=function(){var l={},n,e,k,b,a,d,h,f;l.waits=[];var g=l.waits,m;n=0;for(e=this.$a.length;n<e;n++){d=this.$a[n];m={t:d.time,ev:d.bf.F,sm:[],sols:{}};d.bf.Hb[d.kb]&&(m.act=d.bf.Hb[d.kb].F);k=0;for(b=d.Z.length;k<b;k++)m.sm.push(d.Z[k].F);for(a in d.Ya)if(d.Ya.hasOwnProperty(a)){h=this.b.i[parseInt(a,10)];f={sa:d.Ya[a].dm,insts:[]};k=0;for(b=d.Ya[a].Bd.length;k<b;k++)f.insts.push(d.Ya[a].Bd[k].uid);m.sols[h.F.toString()]=f}g.push(m)}return l};
S.prototype.Na=function(l){l=l.waits;var n,e,k,b,a,d,h,f,g,m,c;n=this.$a.length=0;for(e=l.length;n<e;n++)if(d=l[n],f=this.b.ok[d.ev.toString()]){g=-1;k=0;for(b=f.Hb.length;k<b;k++)if(f.Hb[k].F===d.act){g=k;break}if(-1!==g){h={Ya:{},Z:[],Ck:!1};h.time=d.t;h.bf=f;h.kb=g;k=0;for(b=d.sm.length;k<b;k++)(f=this.b.Bg(d.sm[k]))&&h.Z.push(f);for(a in d.sols)if(d.sols.hasOwnProperty(a)&&(f=this.b.Bg(parseInt(a,10)))){g=d.sols[a];m={dm:g.sa,Bd:[]};k=0;for(b=g.insts.length;k<b;k++)(c=this.b.xd(g.insts[k]))&&
m.Bd.push(c);h.Ya[f.index.toString()]=m}this.$a.push(h)}}};
(function(){function l(){}function n(){}function e(){}var k=S.prototype;l.prototype.Mj=I(!0);l.prototype.mn=I(!0);l.prototype.Pm=function(a){var b=this.b.Pk(),f=b.K.zh||0,g=this.b.Dd.Ha;"undefined"===typeof b.K.Ah&&(b.K.Ah=a);var m=b.K.Ah;return g>=f+m?(b.K.zh=f+m,g>=b.K.zh+0.04&&(b.K.zh=g),b.K.Ah=a,!0):!1};l.prototype.Om=function(){var a=this.b.Fa();return a.ai?!1:!a.Hd};l.prototype.Nj=I(!0);l.prototype.Ym=I(!0);l.prototype.Eh=I(!0);l.prototype.nn=I(!0);l.prototype.Dh=I(!0);k.d=new l;n.prototype.Nm=
function(a,b,f,g){if(b&&a&&(b=this.b.xk(a,b,f,g))){this.b.Lb++;var m;this.b.trigger(Object.getPrototypeOf(a.Y).d.Ch,b);if(b.fb)for(f=0,g=b.siblings.length;f<g;f++)m=b.siblings[f],this.b.trigger(Object.getPrototypeOf(m.type.Y).d.Ch,m);this.b.Lb--;a=a.C();a.L=!1;a.c.length=1;a.c[0]=b;if(b.fb)for(f=0,g=b.siblings.length;f<g;f++)m=b.siblings[f],a=m.type.C(),a.L=!1,a.c.length=1,a.c[0]=m}};var b=[],a=[];k.ea=new n;e.prototype["int"]=function(a,b){K(b)?(a.Q(parseInt(b,10)),isNaN(a.data)&&(a.data=0)):a.Q(b)};
e.prototype["float"]=function(a,b){K(b)?(a.k(parseFloat(b)),isNaN(a.data)&&(a.data=0)):a.k(b)};e.prototype.random=function(a,b,f){void 0===f?a.k(Math.random()*b):a.k(Math.random()*(f-b)+b)};e.prototype.sqrt=function(a,b){a.k(Math.sqrt(b))};e.prototype.round=function(a,b){a.Q(Math.round(b))};e.prototype.floor=function(a,b){a.Q(Math.floor(b))};e.prototype.ceil=function(a,b){a.Q(Math.ceil(b))};e.prototype.sin=function(a,b){a.k(Math.sin(O(b)))};e.prototype.cos=function(a,b){a.k(Math.cos(O(b)))};e.prototype.tan=
function(a,b){a.k(Math.tan(O(b)))};e.prototype.acos=function(a,b){a.k(wa(Math.acos(b)))};e.prototype.max=function(a){var b=arguments[1],f,g;f=2;for(g=arguments.length;f<g;f++)b<arguments[f]&&(b=arguments[f]);a.k(b)};e.prototype.min=function(a){var b=arguments[1],f,g;f=2;for(g=arguments.length;f<g;f++)b>arguments[f]&&(b=arguments[f]);a.k(b)};e.prototype.fe=function(a){a.k(this.b.fe)};e.prototype.Rf=function(a){a.k(this.b.Rf)};e.prototype.time=function(a){a.k(this.b.Dd.Ha)};e.prototype.Qf=function(a){a.Q(this.b.Qf)};
e.prototype.Wg=function(a){a.Q(this.b.Wg)};e.prototype.ki=function(a){a.Q(this.b.ki)};e.prototype.j=function(a,b,f,g,m){a.k(wa(Ca(b,f,g,m)))};e.prototype.left=function(a,b,f){a.yb(K(b)?b.substr(0,f):"")};e.prototype.right=function(a,b,f){a.yb(K(b)?b.substr(b.length-f):"")};e.prototype.replace=function(a,b,f,g){K(b)&&K(f)&&K(g)?a.yb(b.replace(RegExp(La(f),"gi"),g)):a.yb(K(b)?b:"")};e.prototype.fo=function(a){var b=M(Math.random()*(arguments.length-1));a.im(arguments[b+1])};e.prototype.Xh=function(a){a.k(this.b.Xh/
1E3)};e.prototype.Ug=function(a){a.k(this.b.Ug)};k.Ea=new e;k.Eq=function(){var d,h,f,g,m,c,e=this.b.Fa();d=0;for(f=this.$a.length;d<f;d++)if(g=this.$a[d],!(g.time>this.b.Dd.Ha)){e.nb=g.bf;e.kb=g.kb;e.ia=0;for(h in g.Ya)g.Ya.hasOwnProperty(h)&&(m=this.b.i[parseInt(h,10)].C(),c=g.Ya[h],m.L=c.dm,ua(m.c,c.Bd),m=c,m.Bd.length=0,a.push(m));g.bf.Cq();this.b.Wh(g.Z);g.Ck=!0}h=d=0;for(f=this.$a.length;d<f;d++)g=this.$a[d],this.$a[h]=g,g.Ck?(Ja(g.Ya),g.Z.length=0,b.push(g)):h++;this.$a.length=h}})();
(function(){Ta=function(l){var e=l[0].prototype,k=l[1],b=l[3],a=l[4],d=l[5],h=l[6],f=l[7];l=l[8];e.d||(e.d={});e.ea||(e.ea={});e.Ea||(e.Ea={});var g=e.d,m=e.ea,e=e.Ea;b&&(g.rr=function(a,b){return Db(this.x,a,b)},g.sr=function(a,b){return Db(this.y,a,b)},g.Hr=function(){var a=this.e;this.Za();var b=this.Ka;return!(b.right<a.Ia||b.bottom<a.Ja||b.left>a.Db||b.top>a.Cb)},g.Ir=function(){this.Za();var a=this.Ka,b=this.b.P;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},g.Ur=function(a,b,
f){var g=this.C(),d=g.Ma();if(!d.length)return!1;var m=d[0],h=m,e=Ga(m.x,m.y,b,f),k,l,n;k=1;for(l=d.length;k<l;k++)if(m=d[k],n=Ga(m.x,m.y,b,f),0===a&&n<e||1===a&&n>e)e=n,h=m;g.we(h);return!0},m.os=function(a){this.x!==a&&(this.x=a,this.va())},m.ps=function(a){this.y!==a&&(this.y=a,this.va())},m.js=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.va()},m.ks=function(a,b){var f=a.kp(this);if(f){var g;f.ri?(g=f.ri(b,!0),f=f.ri(b,!1)):(g=f.x,f=f.y);if(this.x!==g||this.y!==f)this.x=g,this.y=
f,this.va()}},m.Nr=function(a){0!==a&&(this.x+=Math.cos(this.j)*a,this.y+=Math.sin(this.j)*a,this.va())},m.Mr=function(a,b){0!==b&&(this.x+=Math.cos(O(a))*b,this.y+=Math.sin(O(a))*b,this.va())},e.yn=function(a){a.k(this.x)},e.Bn=function(a){a.k(this.y)},e.fe=function(a){a.k(this.b.oi(this))});a&&(g.qr=function(a,b){return Db(this.width,a,b)},g.nr=function(a,b){return Db(this.height,a,b)},m.cg=function(a){this.width!==a&&(this.width=a,this.va())},m.$f=function(a){this.height!==a&&(this.height=a,this.va())},
m.ls=function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.va()},e.xn=function(a){a.k(this.width)},e.Sm=function(a){a.k(this.height)},e.ir=function(a){this.Za();a.k(this.Ka.left)},e.kr=function(a){this.Za();a.k(this.Ka.top)},e.jr=function(a){this.Za();a.k(this.Ka.right)},e.hr=function(a){this.Za();a.k(this.Ka.bottom)});d&&(g.gr=function(a,b){return Da(this.j,O(b))<=O(a)},g.Er=function(a){return Fa(this.j,O(a))},g.Cr=function(a,b){var f=Aa(a),g=Aa(b),d=ya(this.j);return Fa(g,
f)?Fa(d,f)&&!Fa(d,g):!(!Fa(d,f)&&Fa(d,g))},m.bs=function(a){a=O(xa(a));isNaN(a)||this.j===a||(this.j=a,this.va())},m.Yr=function(a){0===a||isNaN(a)||(this.j+=O(a),this.j=ya(this.j),this.va())},m.Zr=function(a){0===a||isNaN(a)||(this.j-=O(a),this.j=ya(this.j),this.va())},m.$r=function(a,b){var f=Ea(this.j,O(b),O(a));isNaN(f)||this.j===f||(this.j=f,this.va())},m.as=function(a,b,f){a=Ea(this.j,Math.atan2(f-this.y,b-this.x),O(a));isNaN(a)||this.j===a||(this.j=a,this.va())},m.ms=function(a,b){var f=Math.atan2(b-
this.y,a-this.x);isNaN(f)||this.j===f||(this.j=f,this.va())},e.fr=function(a){a.k(za(this.j))});k||(g.or=function(a,b,f){return Db(this.ja[a],b,f)},g.Dr=function(a){return this.ja[a]},g.Vr=function(a,b){var f=this.C(),g=f.Ma();if(!g.length)return!1;var d=g[0],m=d,h=d.ja[b],e,k,l;e=1;for(k=g.length;e<k;e++)if(d=g[e],l=d.ja[b],0===a&&l<h||1===a&&l>h)h=l,m=d;f.we(m);return!0},g.Tr=function(a){var b,f,g,d,m;if(this.b.Pk().Di){m=this.C();if(m.L)for(m.L=!1,m.c.length=0,m.M.length=0,g=this.c,b=0,f=g.length;b<
f;b++)d=g[b],d.uid===a?m.M.push(d):m.c.push(d);else{g=b=0;for(f=m.c.length;b<f;b++)d=m.c[b],m.c[g]=d,d.uid===a?m.M.push(d):g++;m.c.length=g}this.Sb();return!!m.c.length}d=this.b.xd(a);if(!d)return!1;m=this.C();if(!m.L&&-1===m.c.indexOf(d))return!1;if(this.D)for(a=d.type.X,b=0,f=a.length;b<f;b++){if(a[b]===this)return m.we(d),this.Sb(),!0}else if(d.type===this)return m.we(d),this.Sb(),!0;return!1},g.Ch=I(!0),g.cn=I(!0),m.gs=function(a,b){var f=this.ja;ha(f[a])?f[a]=ha(b)?b:parseFloat(b):K(f[a])&&(f[a]=
K(b)?b:b.toString())},m.dr=function(a,b){var f=this.ja;ha(f[a])?f[a]=ha(b)?f[a]+b:f[a]+parseFloat(b):K(f[a])&&(f[a]=K(b)?f[a]+b:f[a]+b.toString())},m.qs=function(a,b){var f=this.ja;ha(f[a])&&(f[a]=ha(b)?f[a]-b:f[a]-parseFloat(b))},m.cs=function(a,b){this.ja[a]=b?1:0},m.rs=function(a){this.ja[a]=1-this.ja[a]},m.ur=function(){this.b.Td(this)},m.Um||(m.Um=function(a){var b,f;try{b=JSON.parse(a)}catch(g){return}this.b.Tg(this,b,!0);this.oc&&this.oc();if(this.B)for(a=0,b=this.B.length;a<b;++a)f=this.B[a],
f.oc&&f.oc()}),e.tr=function(a){var b=a.te.c.length,f,g,d;f=0;for(g=this.b.Sa.length;f<g;f++)d=this.b.Sa[f],a.te.D?0<=d.type.X.indexOf(a.te)&&b++:d.type===a.te&&b++;a.Q(b)},e.Xr=function(a){a.Q(a.te.C().Ma().length)},e.ss=function(a){a.Q(this.uid)},e.Br=function(a){a.Q(this.hf())},e.Lm||(e.Lm=function(a){a.yb(JSON.stringify(this.b.qj(this,!0)))}));h&&(g.Jr=G("visible"),m.ns=function(a){!a!==!this.visible&&(this.visible=a,this.b.V=!0)},g.pr=function(a,b){return Db(Qa(100*this.opacity),a,b)},m.hs=function(a){a/=
100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.V=!0)},e.Opacity=function(a){a.k(Qa(100*this.opacity))});f&&(g.Gr=function(a){return a?this.e===a:!1},g.Wr=function(a){var b=this.C(),f=b.Ma();if(!f.length)return!1;var g=f[0],d=g,m,h;m=1;for(h=f.length;m<h;m++)if(g=f[m],0===a){if(g.e.index>d.e.index||g.e.index===d.e.index&&g.eb()>d.eb())d=g}else if(g.e.index<d.e.index||g.e.index===d.e.index&&g.eb()<d.eb())d=g;b.we(d);return!0},m.Qr=function(){var a=this.eb();a!==this.e.c.length-1&&(ta(this.e.c,
a),this.e.c.push(this),this.b.V=!0,this.e.ab=!0)},m.Or=function(){var a=this.eb();0!==a&&(ta(this.e.c,a),this.e.c.unshift(this),this.b.V=!0,this.e.ab=!0)},m.Pr=function(a){a&&a!=this.e&&(ta(this.e.c,this.eb()),this.e.ab=!0,this.e=a,this.Sd=a.c.length,a.c.push(this),this.b.V=!0)},m.ws=function(a,b){var f=0===a;if(b){var g=b.yg(this);if(g&&g.uid!==this.uid){this.e.index!==g.e.index&&(ta(this.e.c,this.eb()),this.e.ab=!0,this.e=g.e,this.Sd=g.e.c.length,g.e.c.push(this));var d=this.eb(),g=g.eb();ta(this.e.c,
d);d<g&&g--;f&&g++;g===this.e.c.length?this.e.c.push(this):this.e.c.splice(g,0,this);this.e.ab=!0;this.b.V=!0}}},e.Lr=function(a){a.Q(this.e.Bl)},e.Kr=function(a){a.yb(this.e.name)},e.vs=function(a){a.Q(this.eb())});l&&(m.ds=function(a,b){if(this.b.r){var f=this.type.qi(b);if(!(0>f)){var g=1===a;this.Ic[f]!==g&&(this.Ic[f]=g,this.Ec(),this.b.V=!0)}}},m.es=function(a,b,f){if(this.b.r){var g=this.type.qi(a);0>g||(a=this.type.p[g],g=this.aa[g],b=Math.floor(b),0>b||b>=g.length||(1===this.b.r.np(a.wa,
b)&&(f/=100),g[b]!==f&&(g[b]=f,a.bb&&(this.b.V=!0))))}})};lb=function(){this.Ph=this.Jh=!0;this.type.hk=!0;this.b.V=!0;var l,e,k=this.Kh;l=0;for(e=k.length;l<e;++l)k[l](this)};mb=function(l){l&&this.Kh.push(l)};ob=function(){if(this.Jh){var l=this.Ka,e=this.fg;l.set(this.x,this.y,this.x+this.width,this.y+this.height);l.offset(-this.Va*this.width,-this.Wa*this.height);this.j?(l.offset(-this.x,-this.y),e.jm(l,this.j),e.offset(this.x,this.y),e.pk(l)):e.lh(l);l.normalize();this.Jh=!1}};var l=new qa(0,
0,0,0);pb=function(){if(this.Ph&&this.Ve){this.Za();var n=this.type.uk,e=this.jg,k=this.Ka;l.set(n.Uj(k.left),n.Vj(k.top),n.Uj(k.right),n.Vj(k.bottom));e.Co(l)||(e.right<e.left?n.update(this,null,l):n.update(this,e,l),e.copy(l),this.Ph=!1)}};nb=function(l,e){return this.Ka.Yb(l,e)&&this.fg.Yb(l,e)?this.Xb&&!this.Xb.Up()?(this.Xb.ao(this.width,this.height,this.j),this.Xb.Yb(l-this.x,e-this.y)):!0:!1};hb=function(){this.type.xh();return this.zd};qb=function(){this.e.Yq();return this.Sd};rb=function(){this.J.length=
0;var l,e;l=0;for(e=this.Ic.length;l<e;l++)this.Ic[l]&&this.J.push(this.type.p[l]);this.Fm=!!this.J.length};ib=function(){return"Inst"+this.Vl};Wa=function(l){if(l&&l.fb&&l.type!=this){var e,k,b;e=0;for(k=l.siblings.length;e<k;e++)if(b=l.siblings[e],b.type==this)return b}l=this.C().Ma();return l.length?l[0]:null};Xa=function(l){var e=this.C().Ma();return e.length?e[l.hf()%e.length]:null};Va=function(){if(this.Ce&&!this.D){var l,e;l=0;for(e=this.c.length;l<e;l++)this.c[l].zd=l;var k=l,b=this.b.Sa;
l=0;for(e=b.length;l<e;++l)b[l].type===this&&(b[l].zd=k++);this.Ce=!1}};fb=function(l){if(l<this.c.length)return this.c[l];l-=this.c.length;var e=this.b.Sa,k,b;k=0;for(b=e.length;k<b;++k)if(e[k].type===this){if(0===l)return e[k];--l}return null};Ya=function(){return this.dd[this.tc]};Za=function(){this.tc++;this.tc===this.dd.length?this.dd.push(new Ua(this)):this.dd[this.tc].L=!0};$a=function(){this.tc++;this.tc===this.dd.length&&this.dd.push(new Ua(this));var l=this.dd[this.tc],e=this.dd[this.tc-
1];e.L?l.L=!0:(l.L=!1,ua(l.c,e.c),ua(l.M,e.M))};ab=function(){this.tc--};bb=function(l){var e,k,b,a,d,h=0;if(!this.D)for(e=0,k=this.X.length;e<k;e++)for(d=this.X[e],b=0,a=d.fa.length;b<a;b++){if(l===d.fa[b].name)return this.K.jl=h,d.fa[b];h++}e=0;for(k=this.fa.length;e<k;e++){if(l===this.fa[e].name)return this.K.jl=h,this.fa[e];h++}return null};cb=function(l){return this.xg(l)?this.K.jl:-1};db=function(l){var e,k;e=0;for(k=this.p.length;e<k;e++)if(this.p[e].name===l)return e;return-1};eb=function(){if(this.fb&&
!this.D){var l,e,k,b,a,d,h;this.xh();d=this.C();var f=d.L,g=(l=this.b.Fa())&&l.nb&&l.nb.Nb;l=0;for(e=this.Ra.length;l<e;l++)if(a=this.Ra[l],a!==this&&(a.xh(),h=a.C(),h.L=f,!f)){h.c.length=d.c.length;k=0;for(b=d.c.length;k<b;k++)h.c[k]=a.Sk(d.c[k].zd);if(g)for(h.M.length=d.M.length,k=0,b=d.M.length;k<b;k++)h.M[k]=a.Sk(d.M[k].zd)}}};gb=function(){return"Type"+this.F};Db=function(l,e,k){if("undefined"===typeof l||"undefined"===typeof k)return!1;switch(e){case 0:return l===k;case 1:return l!==k;case 2:return l<
k;case 3:return l<=k;case 4:return l>k;case 5:return l>=k;default:return!1}}})();var Mb={};function Pb(l){this.b=l}
(function(){function l(){}var n=Pb.prototype;n.ya=function(b){this.Y=b;this.b=b.b};n.ya.prototype.U=C();n.W=function(b){this.type=b;this.b=b.b;this.Ed=Array(256);this.yh=Array(256);this.fd=0};var e=n.W.prototype;e.U=function(){var b=this;this.b.ka||(jQuery(document).keydown(function(a){b.kq(a)}),jQuery(document).keyup(function(a){b.lq(a)}))};var k=[32,33,34,35,36,37,38,39,40,44];e.kq=function(b){var a=!1;window!=window.top&&-1<k.indexOf(b.which)&&(b.preventDefault(),a=!0,b.stopPropagation());if(this.Ed[b.which])this.yh[b.which]&&
!a&&b.preventDefault();else{this.Ed[b.which]=!0;this.fd=b.which;this.b.sb=!0;this.b.trigger(Pb.prototype.d.Jj,this);var d=this.b.trigger(Pb.prototype.d.Je,this),h=this.b.trigger(Pb.prototype.d.hn,this);this.b.sb=!1;if(d||h)this.yh[b.which]=!0,a||b.preventDefault()}};e.lq=function(b){this.Ed[b.which]=!1;this.fd=b.which;this.b.sb=!0;this.b.trigger(Pb.prototype.d.Xm,this);var a=this.b.trigger(Pb.prototype.d.kn,this),d=this.b.trigger(Pb.prototype.d.jn,this);this.b.sb=!1;if(a||d||this.yh[b.which])this.yh[b.which]=
!0,b.preventDefault()};e.Aa=function(){return{triggerKey:this.fd}};e.Na=function(b){this.fd=b.triggerKey};l.prototype.Je=function(b){return b===this.fd};l.prototype.Jj=I(!0);l.prototype.Xm=I(!0);l.prototype.kn=function(b){return b===this.fd};l.prototype.hn=function(b){return b===this.fd};l.prototype.jn=function(b){return b===this.fd};n.d=new l;n.ea=new (C());n.Ea=new (C())})();function V(l){this.b=l}
(function(){function l(){}var n=V.prototype;n.ya=function(b){this.Y=b;this.b=b.b};n.ya.prototype.U=C();n.W=function(b){this.type=b;this.b=b.b};var e=n.W.prototype;e.U=function(){this.Gn=this.S[0];this.Jn=this.S[1];this.b.um(this);this.lm=!0;this.Sf=this.Hj=this.Gj=this.De=null;this.fj=this.ej=0;this.ig=this.Mi=!1;this.Ed=[!1,!1,!1,!1];this.Rl=0;this.wq=[V.prototype.d.Qj,V.prototype.d.Kj,V.prototype.d.Lj,V.prototype.d.Sj];this.Aq=[V.prototype.d.qn,V.prototype.d.bn,V.prototype.d.ln,V.prototype.d.rn]};
e.wn=function(){var b=this.b.types,a,d;for(a in b)if(d=b[a].c[0],null!=d&&"TOUCHWRAP"==d.hg){this.De=d;this.Gj=W.prototype.Ea.Hm;this.Hj=W.prototype.Ea.Im;this.De.Tm(this);break}};e.ld=function(b){this.ig?this.ig=!1:(this.Mi=!0,this.Sf=b,this.ej=this.Vk(),this.fj=this.Wk())};e.kd=function(b){b==this.Sf&&(this.Sf=null,this.Mi=!1,this.Ne(0))};e.Vk=function(){var b=this.De;this.Gj.call(b,b.tg,this.Sf);return b.tg.value};e.Wk=function(){var b=this.De;this.Hj.call(b,b.tg,this.Sf);return b.tg.value};e.ic=
function(){this.Kn();this.Ln()};e.Kn=function(){this.lm&&(this.wn(),this.lm=!1,null==this.De&&assert("Arrow key object need at least one input signal."))};e.Ln=function(){if(null==this.De||!this.Mi||this.ig)this.ig=!1;else{var b=this.Vk(),a=this.Wk(),d=b-this.ej,h=a-this.fj;if(Math.sqrt(d*d+h*h)>=this.Jn){d=za(Math.atan2(h,d));switch(this.Gn){case 0:this.Ne(180>d?2:8);break;case 1:this.Ne(90<d&&270>=d?4:1);break;case 2:this.Ne(45<d&&135>=d?2:135<d&&225>=d?4:225<d&&315>=d?8:1);break;case 3:this.Ne(22.5<
d&&67.5>=d?3:67.5<d&&112.5>=d?2:112.5<d&&157.5>=d?6:157.5<d&&202.5>=d?4:202.5<d&&247.5>=d?12:247.5<d&&292.5>=d?8:292.5<d&&337.5>=d?9:1)}this.ej=b;this.fj=a}}};var k=[1,2,4,8];e.Ne=function(b){if(this.Rl!=b){var a;for(a=0;4>a;a++){var d=0!=(k[a]&b);this.Ed[a]&&!d&&this.b.trigger(this.Aq[a],this)}var h=!1;for(a=0;4>a;a++)d=0!=(k[a]&b),!this.Ed[a]&&d&&(this.b.trigger(this.wq[a],this),h=!0),this.Ed[a]=d;h&&this.b.trigger(V.prototype.d.Jj,this);this.Rl=b}};n.d=new l;l.prototype.Sj=I(!0);l.prototype.Kj=
I(!0);l.prototype.Lj=I(!0);l.prototype.Qj=I(!0);l.prototype.rn=I(!0);l.prototype.bn=I(!0);l.prototype.ln=I(!0);l.prototype.qn=I(!0);n.ea=new (C());n.Ea=new (C())})();function Qb(l){this.b=l}
(function(){function l(a){for(var b in a)delete a[b]}function n(){}function e(){}function k(){}var b=Qb.prototype;b.ya=function(a){this.Y=a;this.b=a.b};b.ya.prototype.U=C();b.W=function(a){this.type=a;this.b=a.b};var a=b.W.prototype;a.U=function(){this.hg="BOARD";this.Jm=S.prototype.ea.Nm;this.A=[];this.$l(this.S[0]-1,this.S[1]-1);this.q=null;this.Qg=-1;this.eg=null;this.yl=function(a){return function(b){a.jq(b)}}(this);this.b.Qn(this.yl)};a.Yg=function(){this.b.Bq(this.yl)};a.jq=function(a){this.Yc(a.uid)};
a.Gb=function(){if(null!=this.q)return this.q;var a=this.b.types,b,d;for(b in a)if(d=a[b].c[0],Rb&&d instanceof Rb.prototype.W||Eb.tn&&d instanceof Eb.tn.prototype.W||Eb.sn&&d instanceof Eb.sn.prototype.W)return this.q=d;return null};a.$l=function(a,b){0<=a&&(this.Eb=a);0<=b&&(this.Fb=b);this.A.length=a+1;var d,c;for(d=0;d<=a;d++)for(this.A[d]=[],this.A[d].length=b+1,c=0;c<=b;c++)this.A[d][c]={};null==this.ba?this.ba={}:l(this.ba)};a.Rs=function(a){if(this.Eb!=a){if(this.Eb<a){var b,d,c=this.Fb;this.A.length=
a;for(b=this.Eb+1;b<=a;b++)for(this.A[b]=[],this.A[b].length=c+1,d=0;d<=c;d++)this.A[b][d]={}}else{var c=this.Fb,h,e;for(b=this.Eb;b>a;b--)for(d=0;d<=c;d++)for(h in e=this.A[b][d],e)this.Yc(e[h],!0);this.A.length=a+1}this.Eb=a}};a.Qs=function(a){if(this.Fb!=a){if(this.Fb<a){var b,d,c=this.Eb;for(b=0;b<=c;b++)for(this.A[b].length=a+1,d=this.Fb+1;d<=a;d++)this.A[b][d]={}}else{var c=this.Eb,h,e;for(b=0;b<=c;b++){for(d=this.Fb;d>a;d--)for(h in e=this.A[b][d],e)this.Yc(e[h],!0);this.A[b].length=a+1}}this.Fb=
a}};a.pf=function(a,b,d){var c=0<=a&&0<=b&&a<=this.Eb&&b<=this.Fb;c&&null!=d&&(c=d in this.A[a][b]);return c};a.Rd=function(a,b,d){return this.pf(a,b,d)?this.A[a][b][d]:null};a.Ie=function(a,b){return this.pf(a,b)?this.A[a][b]:null};a.Xs=function(a,b){var d=0,c=this.Ie(a,b);if(null!=c)for(var h in c)d+=1;return d};a.Ks=function(a,b){var d=this.jb(a);return null==d?null:d.z==b?a:this.Rd(d.x,d.y,b)};a.Dk=function(a,b){var d=0,c=this.jb(a);if(null==c)return null;var h=this.Gb(),e=h.Xf(c.x,b),h=h.Yf(c.y,
b);null==d&&(d=c.z);return this.Rd(e,h,d)};a.jb=function(a){return this.ba[a]};a.mc=function(a){return null==this.jb(a)?null:this.b.xd(a)};a.Mm=function(a,b,d,c,h){if(null!=a&&(h="number"==typeof h?this.b.he(h):this.b.zg(h),null!=h)){var e=this.Gb(),k=e.Wd(b,d,c);b=e.Xd(b,d,c);this.Jm.call(this.b.Pb,a,h,k,b);return a.yg()}};a.Tj=function(a,b){var d=this.jb(a),c=this.jb(b);if(null==d||null==c)return!1;var h=this.mc(a),e=this.mc(b);this.Yc(a);this.Yc(b);this.Qe(h,c.x,c.y,c.z);this.Qe(e,d.x,d.y,d.z);
return!0};a.Qe=function(a,b,d,c){null!=a&&this.pf(b,d)&&(a="number"!=typeof a?a.uid:a,null!=this.mc(a)&&this.Yc(a),this.Yc(this.Rd(b,d,c),!0),this.A[b][d][c]=a,this.ba[a]={x:b,y:d,z:c},this.b.trigger(Qb.prototype.d.$m,this))};a.Yc=function(a,b){if(null!=a){var d=this.jb(a);null!=d&&(b&&(this.eg=this.mc(a),this.b.trigger(Qb.prototype.d.Zm,this)),delete this.ba[a],delete this.A[d.x][d.y][d.z])}};a.dq=function(a,b,d,c){"number"==typeof a&&(a=this.mc(a));null!=a&&(this.Yc(a.uid),this.Qe(a,b,d,c))};a.Un=
function(a,b){var d=this.jb(a),c=this.jb(b);if(null==d||null==c)return!1;var h=this.Gb(),e,k=!1;for(e=0;4>e;e++)if(h.Xf(d.x,e)==c.x&&h.Yf(d.y,e)==c.y){k=!0;break}return k};a.Fj=function(a,b,d,c,h){if(0==c||this.pf(b,d,0))return a=this.Mm(a,b,d,c,h),null!=a&&this.Qe(a,b,d,c),a};a.Hn=function(a,b){var d=a.C().Ma(),c=b.C().Ma(),h,e,k;d.length>c.length?(h=b,e=a,k=c):(h=a,e=b,k=d,d=c);var c=this.b,l=c.Fa().nb,n=h===e,w=k.length,x,ea,L,E,y,T,q,v;for(x=0;x<w;x++)if(L=k[x],E=L.uid,y=this.jb(E),null!=y)for(ea in y=
this.Ie(y.x,y.y),y)T=y[ea],T!=E&&(T=this.mc(T),-1!=d.indexOf(T)&&(c.eh(l.Z),q=h.C(),v=e.C(),q.L=!1,v.L=!1,n?(q.c.length=2,q.c[0]=L,q.c[1]=T):(q.c.length=1,q.c[0]=L,v.c.length=1,v.c[0]=T),l.Dq(),c.Ld(l.Z)))};var d=[];a.bj=function(a,b){var d=b.C();d.c.length=0;d.L=!1;var c=b.D,h,e,k;c&&(h=b.se,e=h.length);var l=a.length,n,w;for(k=0;k<l;k++)if(n=this.mc(a[k]),null!=n)if(w=n.type.name,c)for(k=0;k<e;k++){if(w==h[k].name){d.c.push(n);break}}else w==b.name&&d.c.push(n);b.Sb();return 0<d.c.length};var h=
{};a.ys=function(){var a,b,d,c;b=this.ba;l(h);d=!1;for(a in b)b=this.mc(a),d=b.type,c=d.C(),d.name in h||(c.L=!1,c.c.length=0,h[d.name]=d),c.c.push(b),d=!0;for(var e in h)h[e].Sb();l(h);return d};a.zs=function(a,b,h){b=this.Ie(b,h);if(null==b)return!1;d.length=0;for(var c in b)d.push(b[c]);a=this.bj(d,a);d.length=0;return a};a.In=function(a,b){d.length=0;var h=b.length,c,e,k;for(c=0;c<h;c++)if(e=b[c],e="number"==typeof e?e:e.uid,e=this.jb(e),null!=e&&(e=this.Ie(e.x,e.y),null!=e))for(k in e)d.push(e[k]);
h=this.bj(d,a);d.length=0;return h};a.Ns=function(a,b){var d=this.Gb(),c=d.Ke(a,b),d=d.Le(a,b);return 0<=c&&0<=d&&c<=this.Eb&&d<=this.Fb};a.As=function(a,b,h,c){b=this.Rd(b,h,c);if(null==b)return!1;d.length=0;d.push(b);a=this.bj(d,a);d.length=0;return a};a.Bs=function(a,b,d){if(!d||!a)return!1;a=a.yg();if(null==a)return!1;this.Gb();a=a.uid;var c=[];if(-1==b)for(b=0;4>b;b++)c.push(this.Dk(a,b));else c.push(this.Dk(a,b));return this.In(d,c)};a.Aa=function(){var a,b={},d;for(a in this.ba)b[a]={},d=this.ba[a],
b[a].x=d.x,b[a].y=d.y,b[a].z=d.z;a=this.Gb();return{luid:null!=a?a.uid:-1,mx:this.Eb,my:this.Fb,xyz2uid:this.A,uid2xyz:b}};a.Na=function(a){this.Qg=a.luid;this.Eb=a.mx;this.Fb=a.my;this.A=a.xyz2uid;l(this.ba);var b;a=a.uid2xyz;var d;for(b in a)this.ba[b]={},d=a[b],this.ba[b].x=d.x,this.ba[b].y=d.y,this.ba[b].z=d.z};a.oc=function(){this.q=-1===this.Qg?null:this.b.xd(this.Qg);this.Qg=-1};b.d=new n;n.prototype.$m=function(a,b){this.Hn(a,b);return!1};n.prototype.Zm=function(a){if(!a)return!1;if(a.D){var b=
a.se,d=b.length,c,h,e=!1;for(c=0;c<d;c++)if(h=b[c],this.eg.type==h){e=!0;break}if(!e)return!1}else if(this.eg.type!=a)return!1;a.C().we(this.eg);return!0};b.ea=new e;e.prototype.vn=function(a){a=a.c[0];"LAYOUT"==a.hg?this.q=a:alert("Board should connect to a layout object")};e.prototype.Fj=function(a,b,d,c,h){this.Fj(a,b,d,c,h)};e.prototype.Tj=function(a,b){this.Tj(a,b)};b.Ea=new k;k.prototype.Wd=function(a,b,d,c){b=this.Gb().Wd(b,d,c);a.k(b)};k.prototype.Xd=function(a,b,d,c){b=this.Gb().Xd(b,d,c);
a.k(b)};k.prototype.Ke=function(a,b,d){b=this.Gb().Ke(b,d);if(0>b||b>this.Eb)b=-1;a.Q(b)};k.prototype.Le=function(a,b,d){b=this.Gb().Le(b,d);if(0>b||b>this.Fb)b=-1;a.Q(b)}})();function Rb(l){this.b=l}
(function(){function l(){}var n=Rb.prototype;n.ya=function(e){this.Y=e;this.b=e.b};n.ya.prototype.U=C();n.W=function(e){this.type=e;this.b=e.b};var e=n.W.prototype;e.U=function(){this.hg="LAYOUT";this.me=1==this.S[0];this.ag(this.S[1]);this.bg(this.S[2]);this.cg(this.S[3]);this.$f(this.S[4])};e.ag=ca("Zd");e.bg=ca("$d");e.yr=G("Zd");e.Ar=G("$d");e.cg=function(e){this.width=e;this.vi=e/2};e.$f=function(e){this.height=e;this.ti=e/2};e.Wd=function(e,b){return(this.me?(e-b)*this.vi:e*this.width)+this.Zd};
e.Xd=function(e,b){return(this.me?(e+b)*this.ti:b*this.height)+this.$d};e.Ke=function(e,b){var a;this.me?(e-=this.Zd,b-=this.$d,a=0.5*(Math.round(b/this.ti)+Math.round(e/this.vi))):a=(e-this.Zd)/this.width;return a};e.Le=function(e,b){var a;this.me?(e-=this.Zd,b-=this.$d,a=0.5*(Math.round(b/this.ti)-Math.round(e/this.vi))):a=(b-this.$d)/this.height;return a};e.Xf=function(e,b){return e+(0==b?1:2==b?-1:0)};e.Yf=function(e,b){return e+(1==b?1:3==b?-1:0)};e.Rm=I(4);e.An=function(e,b){var a=b.x-e.x,d=
b.y-e.y;return 0==d?0<a?0:180:0==a?0<d?90:270:za(Math.atan2(d,a))};e.zn=function(e,b){var a=this.An(e,b);return 0==a?0:90==a?1:180==a?2:270==a?3:null};e.Aa=function(){return{iso:this.me,w:this.width,h:this.height,ox:this.Zd,oy:this.$d}};e.Na=function(e){this.me=e.iso;this.cg(e.w);this.$f(e.h);this.ag(e.ox);this.bg(e.oy)};n.d=new (C());n.ea=new (C());n.Ea=new l;l.prototype.xn=function(e){e.k(this.width)};l.prototype.Sm=function(e){e.k(this.height)}})();function Sb(l){this.b=l}
(function(){function l(){}var n=Sb.prototype;n.ya=function(e){this.Y=e;this.b=e.b};n.ya.prototype.U=C();n.W=function(e){this.type=e;this.b=e.b};var e=n.W.prototype;e.U=function(){this.Rh=this.S[0];this.Qh=this.S[1];this.Lh={}};e.Xn=function(e,b){var a=e.q,d=this.Lh[e.uid],h,f=b.length,g;g=b[0];a.ag(g.x);a.bg(g.y);a.cg(this.Rh);a.$f(this.Qh);var m=0,c=0,l=0,p=0,n;for(h=1;h<f;h++)g=b[h],n=a.Ke(g.x,g.y),g=a.Le(g.x,g.y),m>n&&(m=n),c>g&&(c=g),l<n&&(l=n),p<g&&(p=g);d.Wl=a.Wd(m,c);d.Xl=a.Xd(m,c);e.$l(l-
m+1,p-c+1);a.ag(d.Wl);a.bg(d.Xl)};e.Aa=function(){return{w:this.Rh,h:this.Qh}};e.Na=function(e){this.Rh=e.w;this.Qh=e.h};n.d=new (C());n.ea=new l;l.prototype.Bh=function(e,b,a){if(e&&b&&(e=e.C().Ma(),0!=e.length)){b=b.yg();b.uid in this.Lh||(this.Lh[b.uid]={Wl:null,Xl:null});0==a&&this.Xn(b,e);var d,h=e.length,f,g,m,c=b.q;for(d=0;d<h;d++)f=e[d],g=c.Ke(f.x,f.y),m=c.Le(f.x,f.y),b.Qe(f,g,m,a)}};n.Ea=new (C())})();function Ob(l){this.b=l}
(function(){function l(){if(0===this.$h.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.Be?b.drawImage(this.Ca,this.ue,this.ve,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.Ca,0,0,this.width,this.height);this.$h=a.toDataURL("image/png")}return this.$h}function n(){}var e=Ob.prototype;e.ya=function(a){this.Y=a;this.b=a.b};var k=e.ya.prototype;k.U=function(){if(!this.D){var a,b,d,c,e,h,k,n,t;this.Ib=[];this.Fg=
!1;a=0;for(b=this.Pa.length;a<b;a++){e=this.Pa[a];k={};k.name=e[0];k.speed=e[1];k.loop=e[2];k.mj=e[3];k.ih=e[4];k.Ol=e[5];k.F=e[6];k.frames=[];d=0;for(c=e[7].length;d<c;d++)h=e[7][d],n={},n.rm=h[0],n.tm=h[1],n.ue=h[2],n.ve=h[3],n.width=h[4],n.height=h[5],n.duration=h[6],n.Va=h[7],n.Wa=h[8],n.yi=h[9],n.$g=h[10],n.Pl=h[11],n.Be=0!==n.width,n.$h="",n.Gs=l,t={left:0,top:0,right:1,bottom:1},n.sj=t,n.jd=null,(t=this.b.bp(h[0]))?n.Ca=t:(n.Ca=new Image,n.Ca.idtkLoadDisposed=!0,n.Ca.src=h[0],n.Ca.io=h[0],
n.Ca.ho=h[1],n.Ca.$n=null,this.b.cr(n.Ca)),k.frames.push(n),this.Ib.push(n);this.Pa[a]=k}}};k.Xq=function(){var a,b,d;a=0;for(b=this.c.length;a<b;a++)d=this.c[a],d.mg=d.mb.jd};k.El=function(){if(!this.D){var a,b,d;a=0;for(b=this.Ib.length;a<b;++a)d=this.Ib[a],d.Ca.$n=null,d.jd=null}};k.Hl=function(){if(!this.D&&this.c.length){var a,b,d;a=0;for(b=this.Ib.length;a<b;++a)d=this.Ib[a],d.jd=this.b.r.rl(d.Ca,this.b.O,d.Pl);this.Xq()}};k.Zp=function(){if(!this.D&&!this.Fg&&this.b.r){var a,b,d;a=0;for(b=
this.Ib.length;a<b;++a)d=this.Ib[a],d.jd=this.b.r.rl(d.Ca,this.b.O,d.Pl);this.Fg=!0}};k.Cm=function(){if(!this.D&&!this.c.length&&this.Fg){var a,b,d;a=0;for(b=this.Ib.length;a<b;++a)d=this.Ib[a],this.b.r.deleteTexture(d.jd);this.Fg=!1}};var b=[];k.Sl=function(a){var d,e,c;d=b.length=0;for(e=this.Ib.length;d<e;++d)c=this.Ib[d].Ca,-1===b.indexOf(c)&&(a.drawImage(c,0,0),b.push(c))};e.W=function(a){this.type=a;this.b=a.b;a=this.type.Pa[0].frames[0].$g;this.ec?this.Xb.Mf(a):this.Xb=new Ma(a)};var a=e.W.prototype;
a.U=function(){this.visible=0===this.S[0];this.Ve=0!==this.S[3];1===this.type.Pa.length&&1===this.type.Pa[0].frames.length||0===this.type.Pa[0].speed||this.b.um(this);this.$=this.Nk(this.S[1])||this.type.Pa[0];this.m=this.S[2];0>this.m&&(this.m=0);this.m>=this.$.frames.length&&(this.m=this.$.frames.length-1);var a=this.$.frames[this.m];this.Xb.Mf(a.$g);this.Va=a.Va;this.Wa=a.Wa;this.Ze=this.$.speed;this.ec?this.Rb.reset():this.Rb=new Ka;this.wc=this.Rb.Ha;this.od=!0;this.pc=0;this.nd=!0;this.Th=this.fk=
"";this.eo=0;this.Sh=-1;this.type.Zp();var b,d,c,e,h,k,l,a=0;for(b=this.type.Pa.length;a<b;a++)for(e=this.type.Pa[a],d=0,c=e.frames.length;d<c;d++)h=e.frames[d],0===h.width&&(h.width=h.Ca.width,h.height=h.Ca.height),h.Be&&(l=h.Ca,k=h.sj,k.left=h.ue/l.width,k.top=h.ve/l.height,k.right=(h.ue+h.width)/l.width,k.bottom=(h.ve+h.height)/l.height,0===h.ue&&0===h.ve&&h.width===l.width&&h.height===l.height&&(h.Be=!1));this.mb=this.$.frames[this.m];this.mg=this.mb.jd};a.Aa=function(){var a={a:this.$.F,f:this.m,
cas:this.Ze,fs:this.wc,ar:this.pc,at:this.Rb.Ha};this.od||(a.ap=this.od);this.nd||(a.af=this.nd);return a};a.Na=function(a){var b=this.dp(a.a);b&&(this.$=b);this.m=a.f;0>this.m&&(this.m=0);this.m>=this.$.frames.length&&(this.m=this.$.frames.length-1);this.Ze=a.cas;this.wc=a.fs;this.pc=a.ar;this.Rb.reset();this.Rb.Ha=a.at;this.od=a.hasOwnProperty("ap")?a.ap:!0;this.nd=a.hasOwnProperty("af")?a.af:!0;this.mb=this.$.frames[this.m];this.mg=this.mb.jd;this.Xb.Mf(this.mb.$g);this.Va=this.mb.Va;this.Wa=this.mb.Wa};
a.Ih=function(a){this.m=a?0:this.$.frames.length-1;this.od=!1;this.fk=this.$.name;this.b.trigger(Ob.prototype.d.Wm,this);this.b.trigger(Ob.prototype.d.Vm,this);this.pc=0};a.Is=function(){return this.Rb.Ha};a.ic=function(){this.Rb.add(this.b.oi(this));this.Th.length&&this.mo();0<=this.Sh&&this.no();var a=this.Rb.Ha,b=this.$,d=b.frames[this.m],c=d.duration/this.Ze;this.od&&a>=this.wc+c&&(this.nd?this.m++:this.m--,this.wc+=c,this.m>=b.frames.length&&(b.Ol?(this.nd=!1,this.m=b.frames.length-2):b.loop?
this.m=b.ih:(this.pc++,this.pc>=b.mj?this.Ih(!1):this.m=b.ih)),0>this.m&&(b.Ol?(this.m=1,this.nd=!0,b.loop||(this.pc++,this.pc>=b.mj&&this.Ih(!0))):b.loop?this.m=b.ih:(this.pc++,this.pc>=b.mj?this.Ih(!0):this.m=b.ih)),0>this.m?this.m=0:this.m>=b.frames.length&&(this.m=b.frames.length-1),a>this.wc+b.frames[this.m].duration/this.Ze&&(this.wc=a),a=b.frames[this.m],this.Yd(d,a),this.b.V=!0)};a.Nk=function(a){var b,d,c;b=0;for(d=this.type.Pa.length;b<d;b++)if(c=this.type.Pa[b],Ra(c.name,a))return c;return null};
a.dp=function(a){var b,d,c;b=0;for(d=this.type.Pa.length;b<d;b++)if(c=this.type.Pa[b],c.F===a)return c;return null};a.mo=function(){var a=this.$.frames[this.m],b=this.Nk(this.Th);this.Th="";!b||Ra(b.name,this.$.name)&&this.od||(this.$=b,this.Ze=b.speed,0>this.m&&(this.m=0),this.m>=this.$.frames.length&&(this.m=this.$.frames.length-1),1===this.eo&&(this.m=0),this.od=!0,this.wc=this.Rb.Ha,this.nd=!0,this.Yd(a,this.$.frames[this.m]),this.b.V=!0)};a.no=function(){var a=this.$.frames[this.m],b=this.m;
this.m=M(this.Sh);0>this.m&&(this.m=0);this.m>=this.$.frames.length&&(this.m=this.$.frames.length-1);b!==this.m&&(this.Yd(a,this.$.frames[this.m]),this.wc=this.Rb.Ha,this.b.V=!0);this.Sh=-1};a.Yd=function(a,b){var d=a.width,c=a.height,e=b.width,h=b.height;d!=e&&(this.width*=e/d);c!=h&&(this.height*=h/c);this.Va=b.Va;this.Wa=b.Wa;this.Xb.Mf(b.$g);this.va();this.mb=b;this.mg=b.jd;d=0;for(c=this.B.length;d<c;d++)e=this.B[d],e.pq&&e.pq(a,b);this.b.trigger(Ob.prototype.d.Yd,this)};a.sd=function(a){a.globalAlpha=
this.opacity;var b=this.mb,d=b.Be,c=b.Ca,e=this.x,h=this.y,k=this.width,l=this.height;if(0===this.j&&0<=k&&0<=l)e-=this.Va*k,h-=this.Wa*l,this.b.xe&&(e=e+0.5|0,h=h+0.5|0),d?a.drawImage(c,b.ue,b.ve,b.width,b.height,e,h,k,l):a.drawImage(c,e,h,k,l);else{this.b.xe&&(e=e+0.5|0,h=h+0.5|0);a.save();var n=0<k?1:-1,w=0<l?1:-1;a.translate(e,h);1===n&&1===w||a.scale(n,w);a.rotate(this.j*n*w);e=0-this.Va*ka(k);h=0-this.Wa*ka(l);d?a.drawImage(c,b.ue,b.ve,b.width,b.height,e,h,ka(k),ka(l)):a.drawImage(c,e,h,ka(k),
ka(l));a.restore()}};a.$b=function(a){a.xb(this.mg);a.Lf(this.opacity);var b=this.mb,d=this.fg;if(this.b.xe){var c=(this.x+0.5|0)-this.x,e=(this.y+0.5|0)-this.y;b.Be?a.Nd(d.hb+c,d.ib+e,d.kc+c,d.lc+e,d.Vb+c,d.Wb+e,d.Tb+c,d.Ub+e,b.sj):a.gh(d.hb+c,d.ib+e,d.kc+c,d.lc+e,d.Vb+c,d.Wb+e,d.Tb+c,d.Ub+e)}else b.Be?a.Nd(d.hb,d.ib,d.kc,d.lc,d.Vb,d.Wb,d.Tb,d.Ub,b.sj):a.gh(d.hb,d.ib,d.kc,d.lc,d.Vb,d.Wb,d.Tb,d.Ub)};a.hp=function(a){var b=this.mb,d,c;d=0;for(c=b.yi.length;d<c;d++)if(Ra(a,b.yi[d][0]))return d;return-1};
a.ri=function(a,b){var d=this.mb,c=d.yi,e;e=K(a)?this.hp(a):a-1;e=M(e);if(0>e||e>=c.length)return b?this.x:this.y;var h=(c[e][1]-d.Va)*this.width,c=c[e][2],c=(c-d.Wa)*this.height,d=Math.cos(this.j);e=Math.sin(this.j);var k=h*d-c*e,c=c*d+h*e,h=k+this.x,c=c+this.y;return b?h:c};var d=new fa,h=!1;k.finish=function(a){if(h){if(a){var b=this.b.Fa().nb.Nb;a=null.C();var e=d.Tf(),c,k;if(a.L){a.L=!1;a.c.length=e.length;c=0;for(k=e.length;c<k;c++)a.c[c]=e[c];if(b)for(c=a.M.length=0,k=null.c.length;c<k;c++)e=
null.c[c],d.contains(e)||a.M.push(e)}else if(b)for(b=a.c.length,a.c.length=b+e.length,c=0,k=e.length;c<k;c++)a.c[b+c]=e[c],va(a.M,e[c]);else ua(a.c,e);null.Sb()}d.clear();h=!1}};n.prototype.Vm=function(a){return Ra(this.fk,a)};n.prototype.Wm=I(!0);n.prototype.Yd=I(!0);e.d=new n;e.ea=new (C());e.Ea=new (C())})();function W(l){this.b=l}
(function(){function l(a){h=a.x;f=a.y;g=a.z}function n(a){m=a.x;c=a.y;r=a.z}function e(){}function k(){}var b=W.prototype;b.ya=function(a){this.Y=a;this.b=a.b};b.ya.prototype.U=C();b.W=function(a){this.type=a;this.b=a.b;this.touches=[];this.Ui=!1;this.hg="TOUCHWRAP";this.Gc=!1;this.Da=[];this.tg={value:0,im:ca("value"),Q:ca("value"),k:ca("value")}};var a=b.W.prototype,d={left:0,top:0};a.vd=function(a){var b,c;b=0;for(c=this.touches.length;b<c;b++)if(this.touches[b].id===a)return b;return-1};var h=
0,f=0,g=0,m=0,c=0,r=0;a.U=function(){this.Rp=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.gd=this.jc=this.Ye=this.Xe=this.ck=this.bk=this.ak=this.Pn=this.On=this.Nn=this.Hf=this.Gf=this.Ff=0;this.Em=0!==this.S[0];var a=0<this.b.Ta?document:this.b.canvas,b=document;this.b.yc?b=a=window.Canvas:this.b.rb&&(b=a=window);var c=this;window.navigator.pointerEnabled?(a.addEventListener("pointerdown",function(a){c.Gl(a)},!1),a.addEventListener("pointermove",function(a){c.Fl(a)},!1),
b.addEventListener("pointerup",function(a){c.Zg(a)},!1),b.addEventListener("pointercancel",function(a){c.Zg(a)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.b.canvas.addEventListener("gesturehold",function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",function(a){a.preventDefault()},!1))):window.navigator.msPointerEnabled?(a.addEventListener("MSPointerDown",
function(a){c.Gl(a)},!1),a.addEventListener("MSPointerMove",function(a){c.Fl(a)},!1),b.addEventListener("MSPointerUp",function(a){c.Zg(a)},!1),b.addEventListener("MSPointerCancel",function(a){c.Zg(a)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1))):(a.addEventListener("touchstart",function(a){c.Jl(a)},!1),a.addEventListener("touchmove",function(a){c.Il(a)},!1),b.addEventListener("touchend",
function(a){c.Zi(a)},!1),b.addEventListener("touchcancel",function(a){c.Zi(a)},!1));if(this.Rp){var d=function(a){a=a.reading;c.ak=a.accelerationX;c.bk=a.accelerationY;c.ck=a.accelerationZ},f=function(a){a=a.reading;c.Ff=a.yawDegrees;c.Gf=a.pitchDegrees;c.Hf=a.rollDegrees},e=Windows.Devices.Sensors.Accelerometer.getDefault();e&&(e.reportInterval=Math.max(e.minimumReportInterval,16),e.addEventListener("readingchanged",d));var g=Windows.Devices.Sensors.Inclinometer.getDefault();g&&(g.reportInterval=
Math.max(g.minimumReportInterval,16),g.addEventListener("readingchanged",f));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?(e&&e.removeEventListener("readingchanged",d),g&&g.removeEventListener("readingchanged",f)):(e&&e.addEventListener("readingchanged",d),g&&g.addEventListener("readingchanged",f))},!1)}else window.addEventListener("deviceorientation",function(a){c.Ff=a.alpha||0;c.Gf=a.beta||0;c.Hf=a.gamma||0},!1),window.addEventListener("devicemotion",
function(a){a.accelerationIncludingGravity&&(c.Nn=a.accelerationIncludingGravity.x||0,c.On=a.accelerationIncludingGravity.y||0,c.Pn=a.accelerationIncludingGravity.z||0);a.acceleration&&(c.ak=a.acceleration.x||0,c.bk=a.acceleration.y||0,c.ck=a.acceleration.z||0)},!1);this.Em&&!this.b.ka&&(jQuery(document).mousemove(function(a){c.nq(a)}),jQuery(document).mousedown(function(a){c.mq(a)}),jQuery(document).mouseup(function(a){c.oq(a)}));this.b.lf&&!this.b.yc&&AppMobi.accelerometer.watchAcceleration(l,{frequency:40,
adjustForRotation:!0});this.b.ke&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(n,null,{frequency:40});this.b.Rq(this);this.enable=1==this.S[1]};a.Fl=function(a){if(this.enable&&a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){this.Gc=!1;a.preventDefault&&a.preventDefault();var b=this.vd(a.pointerId),c=P();if(0<=b){var f=this.b.ka?d:jQuery(this.b.canvas).offset(),b=this.touches[b];2>c-b.time||(b.wf=b.time,b.Ng=b.x,b.Og=
b.y,b.time=c,b.x=a.pageX-f.left,b.y=a.pageY-f.top)}}};a.Gl=function(a){if(this.enable&&a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){this.Gc=!1;a.preventDefault&&a.preventDefault();var b=this.b.ka?d:jQuery(this.b.canvas).offset(),c=a.pageX-b.left,b=a.pageY-b.top,f=P();this.jc=this.touches.length;this.gd=a.pointerId;this.touches.push({time:f,x:c,y:b,wf:f,Ng:c,Og:b,id:a.pointerId,ph:this.jc});this.b.sb=!0;this.b.trigger(W.prototype.d.Pj,this);this.b.trigger(W.prototype.d.ld,this);
this.Xe=c;this.Ye=b;this.b.trigger(W.prototype.d.Rj,this);c=this.Da.length;for(a=0;a<c;a++)this.Da[a].ld&&this.Da[a].ld(this.gd,this.Xe,this.Ye);this.b.sb=!1}};a.Zg=function(a){if(this.enable&&a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){this.Gc=!1;a.preventDefault&&a.preventDefault();a=this.vd(a.pointerId);this.jc=0<=a?this.touches[a].ph:-1;this.gd=0<=a?this.touches[a].id:-1;this.b.sb=!0;this.b.trigger(W.prototype.d.Oj,this);this.b.trigger(W.prototype.d.kd,this);var b=this.Da.length,
c;for(c=0;c<b;c++)this.Da[c].kd&&this.Da[c].kd(this.gd);this.b.sb=!1;0<=a&&this.touches.splice(a,1)}};a.Il=function(a){if(this.enable){a.preventDefault&&a.preventDefault();var b=P(),c,f,e,g;c=0;for(f=a.changedTouches.length;c<f;c++)if(e=a.changedTouches[c],g=this.vd(e.identifier),0<=g){var h=this.b.ka?d:jQuery(this.b.canvas).offset();g=this.touches[g];2>b-g.time||(g.wf=g.time,g.Ng=g.x,g.Og=g.y,g.time=b,g.x=e.pageX-h.left,g.y=e.pageY-h.top)}}};a.Jl=function(a){if(this.enable){a.preventDefault&&a.preventDefault();
var b=this.b.ka?d:jQuery(this.b.canvas).offset(),c=P();this.b.sb=!0;var f,g,e,h,k=this.Da.length;f=0;for(g=a.changedTouches.length;f<g;f++)if(e=a.changedTouches[f],h=this.vd(e.identifier),-1===h){h=e.pageX-b.left;var l=e.pageY-b.top;this.jc=this.touches.length;this.gd=e.identifier;this.touches.push({time:c,x:h,y:l,wf:c,Ng:h,Og:l,id:e.identifier,ph:this.jc});this.b.trigger(W.prototype.d.Pj,this);this.b.trigger(W.prototype.d.ld,this);this.Xe=h;this.Ye=l;this.b.trigger(W.prototype.d.Rj,this);for(e=0;e<
k;e++)this.Da[e].ld&&this.Da[e].ld(this.gd,this.Xe,this.Ye)}this.b.sb=!1}};a.Zi=function(a){if(this.enable){a.preventDefault&&a.preventDefault();this.b.sb=!0;var b,c,d,f=this.Da.length,e;b=0;for(c=a.changedTouches.length;b<c;b++)if(d=a.changedTouches[b],d=this.vd(d.identifier),0<=d){this.jc=this.touches[d].ph;this.gd=this.touches[d].id;this.b.trigger(W.prototype.d.Oj,this);this.b.trigger(W.prototype.d.kd,this);for(e=0;e<f;e++)this.Da[e].kd&&this.Da[e].kd(this.gd);this.touches.splice(d,1)}this.b.sb=
!1}};a.Es=function(){return this.b.lf&&0===this.Ff&&0!==g?90*g:this.b.ke&&0===this.Ff&&0!==r?90*r:this.Ff};a.Fs=function(){return this.b.lf&&0===this.Gf&&0!==f?-90*f:this.b.ke&&0===this.Gf&&0!==c?-90*c:this.Gf};a.Hs=function(){return this.b.lf&&0===this.Hf&&0!==h?90*h:this.b.ke&&0===this.Hf&&0!==m?90*m:this.Hf};a.mq=function(a){this.enable&&(this.Ui=this.Gc=!0,a.preventDefault&&this.b.Eg&&!this.b.Rc&&a.preventDefault(),a={changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]},this.touches.length=
0,this.Jl(a))};a.nq=function(a){this.enable&&(this.Gc=!0,a.preventDefault&&this.b.Eg&&a.preventDefault(),a={changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]},0==this.touches.length?this.Xj(a):this.Il(a))};a.oq=function(a){this.enable&&(this.Gc=!0,this.Ui=!1,a.preventDefault&&this.b.Eg&&!this.b.Rc&&a.preventDefault(),this.b.Eg=!0,a={changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]},this.Zi(a),this.Xj(a))};a.vj=function(){if(this.enable){var a,b,c,d=P();a=0;for(b=this.touches.length;a<
b;a++)c=this.touches[a],c.time<=d-50&&(c.wf=d)}};e.prototype.ld=I(!0);e.prototype.kd=I(!0);e.prototype.Ij=function(){return this.Ij()};e.prototype.Rj=function(a){return a?this.b.Pq(a,this.Xe,this.Ye):!1};e.prototype.Pj=function(a){a=Math.floor(a);return a===this.jc};e.prototype.Oj=function(a){a=Math.floor(a);return a===this.jc};b.d=new e;b.ea=new (C());k.prototype.yn=function(a,b){if(this.touches.length){var c,d,f,e,g;ga(b)?(c=this.b.he(0),d=c.scale,f=c.Fc,e=c.Bc,g=c.j,c.scale=this.b.P.scale,c.Fc=
1,c.Bc=1,c.j=this.b.P.j,a.k(c.Qa(this.touches[0].x,this.touches[0].y,!0)),c.scale=d,c.Fc=f,c.Bc=e,c.j=g):(c=ha(b)?this.b.he(b):this.b.zg(b))?a.k(c.Qa(this.touches[0].x,this.touches[0].y,!0)):a.k(0)}else a.k(0)};k.prototype.Bn=function(a,b){if(this.touches.length){var c,d,f,e,g;ga(b)?(c=this.b.he(0),d=c.scale,f=c.Fc,e=c.Cc,g=c.j,c.scale=this.b.P.scale,c.Fc=1,c.Cc=1,c.j=this.b.P.j,a.k(c.Qa(this.touches[0].x,this.touches[0].y,!1)),c.scale=d,c.Fc=f,c.Cc=e,c.j=g):(c=ha(b)?this.b.he(b):this.b.zg(b))?a.k(c.Qa(this.touches[0].x,
this.touches[0].y,!1)):a.k(0)}else a.k(0)};k.prototype.Hm=function(a,b){var c=this.vd(b);0>c?a.k(0):a.k(this.touches[c].x)};k.prototype.Im=function(a,b){var c=this.vd(b);0>c?a.k(0):a.k(this.touches[c].y)};b.Ea=new k;a.Xj=function(a){a.preventDefault&&a.preventDefault();var b=this.b.ka?d:jQuery(this.b.canvas).offset(),c=P(),f,e,g;f=0;for(e=a.changedTouches.length;f<e;f++){g=a.changedTouches[f];var h=g.pageX-b.left,k=g.pageY-b.top;this.jc=this.touches.length;this.touches.push({time:c,x:h,y:k,wf:c,Ng:h,
Og:k,id:g.identifier,ph:this.jc})}};a.Tm=function(a){this.Da.push(a)};a.ts=function(a){var b,c=this.Da.length,d;for(b=0;b<c;b++)if(d=this.Da[b],a===d){ta(this.Da,b);break}};a.us=G("Em");a.Fr=G("Gc");a.Ij=function(){return this.Gc?this.Ui:this.touches.length}})();function X(l){this.b=l}X.Fh=null;
(function(){function l(){}function n(){}var e=X.prototype;e.ya=function(a){this.rc=a;this.b=a.b};var k=e.ya.prototype;k.U=function(){this.group=null};k.Jp=function(){if(null!=this.group)return this.group;var a=this.b.types,b,e;for(b in a)if(e=a[b].c[0],Eb.un&&e instanceof Eb.un.prototype.W)return this.group=e;return null};e.W=function(a,b){this.type=a;this.rc=a.rc;this.ca=b;this.b=a.b};k=e.W.prototype;k.U=function(){this.A=null;this.md=new X.Ej(this);this.Tc=!1;this.fi=this.ei=this.di=this.gi=this.df=
-1;this.Li=null;this.Oe={rx:this.S[4],ry:this.S[5],o:{x:0,y:0,z:0}};this.Wj=[];this.Lk=1==this.S[6];this.Me={};this.En={};this.Hc=this.Zj=null};k.ic=function(){this.md.ic()};k.ae=function(){var a;if(null!=this.A){a=this.A.jb(this.ca.uid);if(null!=a)return this.A;this.A=null}var b=this.b.types,e,f;for(e in b)if(f=b[e].c[0],Qb&&f instanceof Qb.prototype.W&&(a=f.jb(this.ca.uid),null!=a)){this.A=f;b=this.Wj;f=f.Gb().Rm();e=void 0;for(e=b.length=0;e<f;e++)b.push(e);this.Oe.o.x=a.x;this.Oe.o.y=a.y;this.Oe.o.z=
a.z;return this.A}return null};k.Vh=function(){var a;null==a&&(a=this.ca.uid);var b=this.ae();return null!=b?b.jb(a):null};k.xs=function(a){var b=this.ae();return null!=b?b.mc(a):null};k.Ts=function(a,b,e){var f=this.Vh();a={x:a,y:b,z:e};return this.ae().q.zn(f,a)};k.km=function(a,b,e,f){this.di=a;this.ei=b;this.fi=e;this.gi=f};k.Fn=function(){this.Li=null;this.b.trigger(X.prototype.d.dn,this.ca);return null==this.Li?null:this.Li?-1:1};k.$j=function(a,b,e){this.df=-1;if(!this.A.pf(a,b))return null;
var f=this.A.Rd(a,b,e);this.Zj=f;if(this.Lk)return 1;if(null==f){f=this.Fn();if(null!=f)return f;a=this.A.Ie(a,b);var g;if(0!=e){if(!(0 in a))return null;for(g in a)if(f=a[g],e=this.A.mc(f),null!=e.K&&e.K.Ss)return this.df=f,-1;return 1}return 0 in a?null:1}this.df=f;return-1};k.Yj=function(a,b,e){var f=this.$j(a,b,e);if(1==f){var g;if(this.Lk)if(null!=this.Hc&&null==this.A.Rd(a,b,this.Hc))g=this.Hc,this.Hc=null;else if(null==this.Zj)g=e;else for(null==this.Hc?(this.Hc=e,g="#"+this.ca.uid.toString()):
g+="#";null!=this.A.Rd(a,b,g);)g+="#";else g=e;this.A.dq(this.ca,a,b,g);this.fq(a,b,e);this.Kl(!0)}else-1==f&&this.Kl(!1)};k.fq=function(a,b,e){var f=this.A.q;this.md.Mq(f.Wd(a,b,e),f.Xd(a,b,e))};k.Kl=function(a){this.Tc=!0;this.b.trigger(a?X.prototype.d.on:X.prototype.d.pn,this.ca);this.Tc=!1};k.Dn=function(a,b,e){this.Me.x=a;this.Me.y=b;this.Me.z=e;this.b.trigger(X.prototype.d.an,this.ca)};k.Mn=function(a){var b,e=this.En;for(b in e)delete e[b];for(b in a)e[a[b]]=!0;return e};k.Cn=function(a,b){var e=
this.Mn(this.A.Ie(this.Me.x,this.Me.y)),f=a.C(),g=f.L;f.L=!0;var k=f.Ma(),c=k.length,l,n,s=this.type.Jp().wr(b);s.mr();for(l=0;l<c;l++)n=k[l].uid,n in e&&s.er(n);f.L=g;return 0!=s.xr().length};k.Aa=function(){var a=X.Fh,a=null!=a?a.uid:-1;return{mt:this.md.Aa(),wander:this.Oe,z:this.Hc,e_buid:this.df,e_dir:this.gi,e_dlx:this.di,e_dly:this.ei,e_dlz:this.fi,ruid:a}};k.Na=function(a){this.md.Na(a.mt);this.Oe=a.wander;this.Hc=a.z;this.df=a.e_buid;this.gi=a.e_dir;this.di=a.e_dlx;this.ei=a.e_dly;this.fi=
a.e_dlz;this.ij=a.ruid};k.oc=function(){var a;a=-1===this.ij?null:this.b.xd(this.ij);this.ij=-1;X.Fh=a;this.A=null};e.d=new l;l.prototype.gn=function(){return this.md.Tc};l.prototype.on=G("Tc");l.prototype.pn=G("Tc");l.prototype.an=function(a,b){return this.Cn(a,b)};l.prototype.dn=I(!0);e.ea=new n;n.prototype.Zf=function(a){if(this.md.Pe){var b=this.Vh();if(null!=b){var e=this.ae().q,f=e.Xf(b.x,a),e=e.Yf(b.y,a),b=b.z;this.km(f,e,b,a);this.Dn(f,e,b);this.Yj(f,e,b)}}};var b=[];n.prototype.Km=function(a,
d){if(this.md.Pe){var e=this.Vh();if(null!=e){var f;if("number"==typeof a){var g=this.b.xd(a);if(null==g)return;f=[g]}else if("string"==typeof a){var k=JSON.parse(a),c,l=k.length;f=[];for(c=0;c<l;c++)g=this.b.xd(k[c]),null!=g&&f.push(g)}else{if(!a)return;f=a.C().Ma()}if(0!=f.length&&(0!=d||1!=f.length||!this.ae().Un(this.ca.uid,f[0].uid))){var l=this.ae().q,k=this.Wj.length,n,s,g=e.z,u,t;for(c=0;c<k;c++)if(n=l.Xf(e.x,c),s=l.Yf(e.y,c),this.km(n,s,g,c),u=this.$j(n,s,g),1==u){u=l.Wd(n,s,g);t=l.Xd(n,
s,g);for(var w=void 0,x=f.length,ea=void 0,L=0,w=0;w<x;w++)ea=f[w],L+=Math.pow(ea.x-u,2)+Math.pow(ea.y-t,2);u=L;b.push({ng:u,aq:n,bq:s})}l=b.length;if(0!=l){if(1<l&&(c=b.length,e=X.Fh,0!=c))for(;--c;)f=null==e?Math.random():e.random(),f=Math.floor(f*(c+1)),k=b[c],b[c]=b[f],b[f]=k;e=b[0];if(0==d)for(c=1;c<l;c++)e.ng>b[c].ng&&(e=b[c]);else for(c=1;c<l;c++)e.ng<b[c].ng&&(e=b[c]);this.Yj(e.aq,e.bq,g);b.length=0}}}}};e.Ea=new (C())})();
(function(){X.Ej=function(l){this.Pe=l.S[0];this.move={max:l.S[1],acc:l.S[2],dec:l.S[3]};this.target={x:0,y:0,a:0};this.qf=!1;this.Od=this.Oc=0;this.Tc=this.of=!1;this.ca=l.ca;this.b=l.b};var l=X.Ej.prototype;l.ic=function(){this.of&&(this.qf=!1,this.Tc=!0,this.b.trigger(X.prototype.d.gn,this.ca),this.of=this.Tc=!1);if(this.Pe&&this.qf){var l=this.b.oi(this.ca);if(0!=l){var e=!1;0!=this.move.dec&&(e=this.Oc,e=e*e/(2*this.move.dec)>=this.Od);e=e?-this.move.dec:this.move.acc;0!=e&&this.Gh(this.Oc+e*
l);l*=this.Oc;this.Od-=l;0>=this.Od||0>=this.Oc?(this.ca.x=this.target.x,this.ca.y=this.target.y,this.Gh(0),this.of=!0):(e=this.target.a,this.ca.x+=l*Math.cos(e),this.ca.y+=l*Math.sin(e));this.ca.va()}}};l.Gh=function(l){null!=l?this.Oc=l>this.move.max?this.move.max:l:0==this.move.acc&&(this.Oc=this.move.max)};l.Mq=function(l,e){var k=l-this.ca.x,b=e-this.ca.y;this.qf=!0;this.target.x=l;this.target.y=e;this.target.a=Math.atan2(b,k);this.Od=Math.sqrt(k*k+b*b);this.Gh(null)};l.Aa=function(){return{en:this.Pe,
v:this.move,t:this.target,is_m:this.qf,c_spd:this.Oc,rd:this.Od,is_ht:this.of}};l.Na=function(l){this.Pe=l.en;this.move=l.v;this.target=l.t;this.qf=l.is_m;this.Oc=l.c_spd;this.Od=l.rd;this.of=l.is_ht}})();
function Nb(){return[null,null,[[Pb,!0,!1,!1,!1,!1,!1,!1,!1,!1],[Qb,!1,!1,!1,!1,!1,!1,!1,!1,!1],[Rb,!1,!1,!1,!1,!1,!1,!1,!1,!1],[V,!0,!1,!1,!1,!1,!1,!1,!1,!1],[Sb,!1,!1,!1,!1,!1,!1,!1,!1,!1],[W,!0,!1,!1,!1,!1,!1,!1,!1,!1],[Ob,!1,!0,!0,!0,!0,!0,!0,!0,!1]],[["t0",Ob,!1,[],0,0,null,[["Default",5,!1,1,0,!1,1,[["images/tile-sheet0.png",93,0,0,32,32,1,0.5,0.5,[],[],4]]]],[],!1,!1,0,[],null],["t1",Qb,!1,[],0,0,null,null,[],!0,!1,2,[],null],["t2",Sb,!1,[],0,0,null,null,[],!0,!1,3,[],null],["t3",Ob,!1,[40,
41],1,0,null,[["Default",5,!1,1,0,!1,6,[["images/chess-sheet0.png",93,0,0,32,32,1,0.5,0.5,[],[],4]]]],[["GridMove",X,5]],!1,!1,4,[],null],["t4",Pb,!1,[],0,0,null,null,[],!1,!1,7,[],null,[]],["t5",Rb,!1,[],0,0,null,null,[],!0,!1,8,[],null],["t6",Ob,!1,[],1,0,null,[["Default",5,!1,1,0,!1,36,[["images/enemy-sheet0.png",93,0,0,32,32,1,0.5,0.5,[],[],1]]]],[["GridMove",X,35]],!1,!1,34,[],null],["t7",W,!1,[],0,0,null,null,[],!1,!1,4727794227244309,[],null,[1,1]],["t8",V,!1,[],0,0,null,null,[],!1,!1,5809979110368886,
[],null,[3,10]]],[],[["Layout 1",420,280,!1,"Event sheet 1",9,[["Layer 0",0,10,!0,[255,255,255],!1,1,1,1,!1,1,0,0,[[[128,160,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,0,[],[],[0,"Default",0,1]],[[160,96,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,1,[],[],[0,"Default",0,1]],[[160,64,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,2,[],[],[0,"Default",0,1]],[[192,128,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,3,[],[],[0,"Default",0,1]],[[128,32,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,4,[],[],[0,"Default",0,1]],[[128,64,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,5,[],
[],[0,"Default",0,1]],[[96,64,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,6,[],[],[0,"Default",0,1]],[[288,160,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,7,[],[],[0,"Default",0,1]],[[256,96,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,8,[],[],[0,"Default",0,1]],[[224,160,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,9,[],[],[0,"Default",0,1]],[[192,96,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,10,[],[],[0,"Default",0,1]],[[256,128,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,11,[],[],[0,"Default",0,1]],[[128,96,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,12,[],[],[0,"Default",0,1]],
[[224,96,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,13,[],[],[0,"Default",0,1]],[[256,160,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,14,[],[],[0,"Default",0,1]],[[160,160,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,15,[],[],[0,"Default",0,1]],[[192,160,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,16,[],[],[0,"Default",0,1]],[[256,192,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,22,[],[],[0,"Default",0,1]],[[256,224,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,24,[],[],[0,"Default",0,1]],[[192,192,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,25,[],[],[0,"Default",0,1]],[[192,224,0,
32,32,0,0,1,0.5,0.5,0,0,[]],0,27,[],[],[0,"Default",0,1]],[[128,128,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,28,[],[],[0,"Default",0,1]],[[128,192,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,29,[],[],[0,"Default",0,1]],[[128,256,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,30,[],[],[0,"Default",0,1]],[[96,128,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,31,[],[],[0,"Default",0,1]],[[160,256,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,32,[],[],[0,"Default",0,1]],[[192,256,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,33,[],[],[0,"Default",0,1]],[[224,256,0,32,32,0,0,1,
0.5,0.5,0,0,[]],0,34,[],[],[0,"Default",0,1]],[[256,256,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,35,[],[],[0,"Default",0,1]],[[288,256,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,36,[],[],[0,"Default",0,1]],[[96,256,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,37,[],[],[0,"Default",0,1]],[[256,256,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,38,[],[],[0,"Default",0,1]],[[192,64,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,26,[],[],[0,"Default",0,1]],[[160,128,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,39,[],[],[0,"Default",0,1]],[[96,96,0,32,32,0,0,1,0.5,0.5,0,0,[]],
0,40,[],[],[0,"Default",0,1]],[[224,128,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,41,[],[],[0,"Default",0,1]],[[224,64,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,42,[],[],[0,"Default",0,1]],[[160,192,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,43,[],[],[0,"Default",0,1]],[[224,192,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,44,[],[],[0,"Default",0,1]],[[288,192,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,45,[],[],[0,"Default",0,1]],[[288,128,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,46,[],[],[0,"Default",0,1]],[[288,96,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,47,[],[],[0,
"Default",0,1]],[[288,64,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,48,[],[],[0,"Default",0,1]],[[256,64,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,49,[],[],[0,"Default",0,1]],[[160,32,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,50,[],[],[0,"Default",0,1]],[[192,32,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,51,[],[],[0,"Default",0,1]],[[224,32,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,52,[],[],[0,"Default",0,1]],[[256,32,0,32,32,0,0,1,0.5,0.5,0,0,[]],0,53,[],[],[0,"Default",0,1]]],[]],["Layer 1",1,52,!0,[255,255,255],!0,1,1,1,!1,1,0,0,[[[192,160,0,32,
32,0,0,1,0.5,0.5,0,0,[]],6,23,[],[[1,400,0,0,1,1,0]],[0,"Default",0,1]],[[128,32,0,32,32,0,0,1,0.5,0.5,0,0,[]],3,17,[[0],[0]],[[1,400,0,0,1,1,0]],[0,"Default",0,1]]],[]]],[[null,1,18,[],[],[64,64]],[null,2,19,[],[],[32,32]],[null,5,20,[],[],[0,0,0,32,32]]],[]]],[["Event sheet 1",[[0,null,!1,null,11,[[-1,S.prototype.d.Mj,null,1,!1,!1,!1,12,!1]],[[1,Qb.prototype.ea.vn,null,13,!1,[[4,5]]],[2,Sb.prototype.ea.Bh,null,14,!1,[[4,0],[4,1],[7,[0,0]]]],[2,Sb.prototype.ea.Bh,null,15,!1,[[4,3],[4,1],[7,[0,1]]]],
[2,Sb.prototype.ea.Bh,null,37,!1,[[4,6],[4,1],[7,[0,1]]]]]],[0,null,!0,null,16,[[4,Pb.prototype.d.Je,null,1,!1,!1,!1,17,!1,[[9,38]]],[8,V.prototype.d.Sj,null,1,!1,!1,!1,5884041785155529,!1]],[[3,X.prototype.ea.Zf,"GridMove",18,!1,[[3,3]]]]],[0,null,!0,null,19,[[4,Pb.prototype.d.Je,null,1,!1,!1,!1,20,!1,[[9,40]]],[8,V.prototype.d.Kj,null,1,!1,!1,!1,0xde358a1ba7683,!1]],[[3,X.prototype.ea.Zf,"GridMove",21,!1,[[3,1]]]]],[0,null,!0,null,22,[[4,Pb.prototype.d.Je,null,1,!1,!1,!1,23,!1,[[9,37]]],[8,V.prototype.d.Lj,
null,1,!1,!1,!1,399347448734225,!1]],[[3,X.prototype.ea.Zf,"GridMove",24,!1,[[3,2]]]]],[0,null,!0,null,25,[[4,Pb.prototype.d.Je,null,1,!1,!1,!1,26,!1,[[9,39]]],[8,V.prototype.d.Qj,null,1,!1,!1,!1,683834138881204,!1]],[[3,X.prototype.ea.Zf,"GridMove",27,!1,[[3,0]]]]],[0,null,!1,null,38,[[-1,S.prototype.d.Pm,null,0,!1,!1,!1,39,!1,[[0,[1,1]]]]],[[6,X.prototype.ea.Km,"GridMove",53,!1,[[4,3],[3,0]]]]]]]],"media/",!1,420,280,4,!0,!0,!0,"1.0",!0,!1,0,0,56,!1,!0,[]]};
