// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';function s(){return function(){}}function aa(a){return function(b){this[a]=b}}function u(a){return function(){return this[a]}}function w(a){return function(){return a}}var z,ba,ca,H,da,ea,I,fa,ga,ha,ia,ja,ka,la,ma,na,oa,qa,ra,sa,ta,ua,va,J,wa,xa,ya,Ba,Ca,Da,Ea,Fa,Ga,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,K,Hb,Ib={};
"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(a){return a.__proto__}:function(a){return a.constructor.prototype});
(function(){function a(a,n,c,b){this.set(a,n,c,b)}function b(){this.be=this.ae=this.ee=this.de=this.te=this.se=this.Rc=this.Qc=0}function c(a,c,b,d){a<c?b<d?(m=a<b?a:b,n=c>d?c:d):(m=a<d?a:d,n=c>b?c:b):b<d?(m=c<b?c:b,n=a>d?a:d):(m=c<d?c:d,n=a>b?a:b)}function d(){this.Kf=this.nf=null;this.tj=0;p?this.nf=new Set:this.Kf={};this.Ui=[];this.ei=!0}function e(a){t[r++]=a}function g(){this.td=this.Zn=this.y=this.r=0}function h(a){this.Ch=[];this.Ys=this.$s=this.bt=this.Zs=0;this.xm=null;this.Hl(a)}function f(a,
n){this.Ax=a;this.zx=n;this.cells={}}function k(a,n,c){var b;return x.length?(b=x.pop(),b.kz=a,b.x=n,b.y=c,b):new ba(a,n,c)}function l(a,n,c){this.kz=a;this.x=n;this.y=c;this.In=new ca}H=function(a){window.console&&window.console.log&&window.console.log(a)};da=function(a){return"undefined"===typeof a};ea=function(a){return"number"===typeof a};I=function(a){return"string"===typeof a};fa=function(a){return 0<a&&0===(a-1&a)};ga=function(a){--a;for(var n=1;32>n;n<<=1)a|=a>>n;return a+1};ha=function(a){return 0>
a?-a:a};ia=function(a,n){return a<n?a:n};ja=Math.PI;ka=function(a){return a+0.5|0};la=function(a){return 0<=a?a|0:(a|0)-1};ma=function(a){var n=a|0;return n===a?n:n+1};na=function(a,n,c,b,d,g,e,f){var h,k,q,p;a<c?(k=a,h=c):(k=c,h=a);d<e?(p=d,q=e):(p=e,q=d);if(h<p||k>q)return!1;n<b?(k=n,h=b):(k=b,h=n);g<f?(p=g,q=f):(p=f,q=g);if(h<p||k>q)return!1;h=d-a+e-c;k=g-n+f-b;a=c-a;n=b-n;d=e-d;g=f-g;f=ha(n*d-g*a);return ha(d*k-g*h)>f?!1:ha(a*k-n*h)<=f};a.prototype.set=function(a,n,c,b){this.left=a;this.top=n;
this.right=c;this.bottom=b};a.prototype.copy=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};a.prototype.width=function(){return this.right-this.left};a.prototype.height=function(){return this.bottom-this.top};a.prototype.offset=function(a,n){this.left+=a;this.top+=n;this.right+=a;this.bottom+=n;return this};a.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=
this.bottom,this.bottom=a)};a.prototype.Af=function(a,n){return a>=this.left&&a<=this.right&&n>=this.top&&n<=this.bottom};a.prototype.iy=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};oa=a;b.prototype.Vn=function(a){this.Qc=a.left;this.Rc=a.top;this.se=a.right;this.te=a.top;this.de=a.right;this.ee=a.bottom;this.ae=a.left;this.be=a.bottom};b.prototype.qv=function(a,n){if(0===n)this.Vn(a);else{var c=Math.sin(n),b=Math.cos(n),d=a.left*c,g=a.top*
c,e=a.right*c,c=a.bottom*c,f=a.left*b,h=a.top*b,k=a.right*b,b=a.bottom*b;this.Qc=f-g;this.Rc=h+d;this.se=k-g;this.te=h+e;this.de=k-c;this.ee=b+e;this.ae=f-c;this.be=b+d}};b.prototype.offset=function(a,n){this.Qc+=a;this.Rc+=n;this.se+=a;this.te+=n;this.de+=a;this.ee+=n;this.ae+=a;this.be+=n;return this};var m=0,n=0;b.prototype.et=function(a){c(this.Qc,this.se,this.de,this.ae);a.left=m;a.right=n;c(this.Rc,this.te,this.ee,this.be);a.top=m;a.bottom=n};b.prototype.Af=function(a,n){var c=this.se-this.Qc,
b=this.te-this.Rc,d=this.de-this.Qc,g=this.ee-this.Rc,e=a-this.Qc,f=n-this.Rc,h=c*c+b*b,k=c*d+b*g,b=c*e+b*f,q=d*d+g*g,p=d*e+g*f,l=1/(h*q-k*k),c=(q*b-k*p)*l,h=(h*p-k*b)*l;if(0<=c&&0<h&&1>c+h)return!0;c=this.ae-this.Qc;b=this.be-this.Rc;h=c*c+b*b;k=c*d+b*g;b=c*e+b*f;l=1/(h*q-k*k);c=(q*b-k*p)*l;h=(h*p-k*b)*l;return 0<=c&&0<h&&1>c+h};b.prototype.Kj=function(){return(this.Qc+this.se+this.de+this.ae)/4};b.prototype.Lj=function(){return(this.Rc+this.te+this.ee+this.be)/4};qa=b;ra=function(a,n){for(var c in n)n.hasOwnProperty(c)&&
(a[c]=n[c]);return a};sa=function(a,n){var c,b;n=la(n);if(!(0>n||n>=a.length))if(0===n)a.shift();else if(n===a.length-1)a.pop();else{c=n;for(b=a.length-1;c<b;c++)a[c]=a[c+1];a.length=b}};ta=function(a,n){a.length=n.length;var c,b;c=0;for(b=n.length;c<b;c++)a[c]=n[c]};ua=function(a,n){var c=a.indexOf(n);-1!==c&&sa(a,c)};va=function(a,n,c){return a<n?n:a>c?c:a};J=function(a){return a/(180/ja)};wa=function(a){return a*(180/ja)};xa=function(a){a%=360;0>a&&(a+=360);return a};ya=function(a){a%=2*ja;0>a&&
(a+=2*ja);return a};Ba=function(a){return xa(wa(a))};Ca=function(a){return ya(J(a))};Da=function(a,n,c,b){return Math.atan2(b-n,c-a)};Ea=function(a,n){if(a===n)return 0;var c=Math.sin(a),b=Math.cos(a),d=Math.sin(n),g=Math.cos(n),c=c*d+b*g;return 1<=c?0:-1>=c?ja:Math.acos(c)};Fa=function(a,n,c){var b=Math.sin(a),d=Math.cos(a),g=Math.sin(n),e=Math.cos(n);return Math.acos(b*g+d*e)>c?0<d*g-b*e?ya(a+c):ya(a-c):ya(n)};Ga=function(a,n){var c=Math.sin(a),b=Math.cos(a),d=Math.sin(n),g=Math.cos(n);return 0>=
b*d-c*g};Ja=function(a,n,c,b){a=c-a;n=b-n;return Math.sqrt(a*a+n*n)};Ka=function(a,n){return!a!==!n};La=function(a){for(var n in a)if(a.hasOwnProperty(n))return!0;return!1};Ma=function(a){for(var n in a)a.hasOwnProperty(n)&&delete a[n]};var q=+new Date;Na=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==
typeof a.msNow)return a.msNow()}return Date.now()-q};var p="undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;d.prototype.contains=function(a){return p?this.nf.has(a):this.Kf.hasOwnProperty(a.toString())};d.prototype.add=function(a){if(p)this.nf.has(a)||(this.nf.add(a),this.ei=!1);else{var n=a.toString();this.Kf.hasOwnProperty(n)||(this.Kf[n]=a,this.tj++,this.ei=!1)}return this};d.prototype.remove=function(a){p?this.nf.has(a)&&(this.nf["delete"](a),this.ei=!1):(a=a.toString(),this.Kf.hasOwnProperty(a)&&
(delete this.Kf[a],this.tj--,this.ei=!1));return this};d.prototype.clear=function(){p?this.nf.clear():(this.Kf={},this.tj=0);this.Ui.length=0;this.ei=!0;return this};d.prototype.mh=function(){return p?0===this.nf.size:0===this.tj};d.prototype.count=function(){return p?this.nf.size:this.tj};var t=null,r=0;d.prototype.VA=function(){if(!this.ei){if(p)this.Ui.length=this.nf.size,t=this.Ui,r=0,this.nf.forEach(e),t=null,r=0;else{this.Ui.length=this.tj;var a,n=0;for(a in this.Kf)this.Kf.hasOwnProperty(a)&&
(this.Ui[n++]=this.Kf[a])}this.ei=!0}};d.prototype.Ti=function(){this.VA();return this.Ui};ca=d;g.prototype.add=function(a){this.y=a-this.r;this.Zn=this.td+this.y;this.r=this.Zn-this.td-this.y;this.td=this.Zn};g.prototype.reset=function(){this.td=this.Zn=this.y=this.r=0};Oa=g;Pa=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};h.prototype.Hl=function(a){this.$u=a;this.Tj=a.length/2;this.Ch.length=a.length;this.Wo=this.Xo=-1;this.gt=0};h.prototype.$t=function(){return!this.$u.length};
h.prototype.Qb=function(){for(var a=this.Ch,n=a[0],c=n,b=a[1],d=b,g,e,f=1,h=this.Tj;f<h;++f)e=2*f,g=a[e],e=a[e+1],g<n&&(n=g),g>c&&(c=g),e<b&&(b=e),e>d&&(d=e);this.Zs=n;this.$s=c;this.bt=b;this.Ys=d};h.prototype.Vn=function(a,n,c){this.Ch.length=8;this.Tj=4;var b=this.Ch;b[0]=a.left-n;b[1]=a.top-c;b[2]=a.right-n;b[3]=a.top-c;b[4]=a.right-n;b[5]=a.bottom-c;b[6]=a.left-n;b[7]=a.bottom-c;this.Xo=a.right-a.left;this.Wo=a.bottom-a.top;this.Qb()};h.prototype.ht=function(a,n,c){if(this.Xo!==a||this.Wo!==
n||this.gt!==c){this.Xo=a;this.Wo=n;this.gt=c;var b,d,g,e,f,h=0,k=1,q=this.$u,p=this.Ch;0!==c&&(h=Math.sin(c),k=Math.cos(c));c=0;for(g=this.Tj;c<g;c++)b=2*c,d=b+1,e=q[b]*a,f=q[d]*n,p[b]=e*k-f*h,p[d]=f*k+e*h;this.Qb()}};h.prototype.Af=function(a,n){var c=this.Ch;if(a===c[0]&&n===c[1])return!0;var b,d,g,e=this.Tj,f=this.Zs-110,h=this.bt-101,k=this.$s+131,q=this.Ys+120,p,l,m=0,x=0;for(b=0;b<e;b++)d=2*b,g=2*((b+1)%e),p=c[d],d=c[d+1],l=c[g],g=c[g+1],na(f,h,a,n,p,d,l,g)&&m++,na(k,q,a,n,p,d,l,g)&&x++;return 1===
m%2||1===x%2};Qa=h;f.prototype.Ft=function(a,n,c){var b;b=this.cells[a];return b?(b=b[n])?b:c?(b=k(this,a,n),this.cells[a][n]=b):null:c?(b=k(this,a,n),this.cells[a]={},this.cells[a][n]=b):null};f.prototype.Fs=function(a){return la(a/this.Ax)};f.prototype.Hs=function(a){return la(a/this.zx)};f.prototype.update=function(a,n,c){var b,d,g,e,f;if(n)for(b=n.left,d=n.right;b<=d;++b)for(g=n.top,e=n.bottom;g<=e;++g)if(!c||!c.Af(b,g))if(f=this.Ft(b,g,!1))f.remove(a),f.mh()&&(f.In.clear(),1E3>x.length&&x.push(f),
this.cells[b][g]=null);if(c)for(b=c.left,d=c.right;b<=d;++b)for(g=c.top,e=c.bottom;g<=e;++g)n&&n.Af(b,g)||this.Ft(b,g,!0).pz(a)};Ra=f;var x=[];l.prototype.mh=function(){return this.In.mh()};l.prototype.pz=function(a){this.In.add(a)};l.prototype.remove=function(a){this.In.remove(a)};ba=l;var y="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");Sa=function(a){return 0>=a||11<=a?"source-over":y[a-1]};Ta=function(a,n,c){if(c)switch(a.Nc=
c.ONE,a.Hc=c.ONE_MINUS_SRC_ALPHA,n){case 1:a.Nc=c.ONE;a.Hc=c.ONE;break;case 3:a.Nc=c.ONE;a.Hc=c.ZERO;break;case 4:a.Nc=c.ONE_MINUS_DST_ALPHA;a.Hc=c.ONE;break;case 5:a.Nc=c.DST_ALPHA;a.Hc=c.ZERO;break;case 6:a.Nc=c.ZERO;a.Hc=c.SRC_ALPHA;break;case 7:a.Nc=c.ONE_MINUS_DST_ALPHA;a.Hc=c.ZERO;break;case 8:a.Nc=c.ZERO;a.Hc=c.ONE_MINUS_SRC_ALPHA;break;case 9:a.Nc=c.DST_ALPHA;a.Hc=c.ONE_MINUS_SRC_ALPHA;break;case 10:a.Nc=c.ONE_MINUS_DST_ALPHA,a.Hc=c.SRC_ALPHA}};Ua=function(a){return ka(1E6*a)/1E6};Va=function(a,
n){return"string"!==typeof a||"string"!==typeof n||a.length!==n.length?!1:a===n?!0:a.toLowerCase()===n.toLowerCase()}})();var Jb="undefined"!==typeof Float32Array?Float32Array:Array;function Kb(a){var b=new Jb(3);a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2]);return b}function Lb(a){var b=new Jb(16);a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]);return b}
function Mb(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15]}function Nb(a,b){var c=b[0],d=b[1];b=b[2];a[0]*=c;a[1]*=c;a[2]*=c;a[3]*=c;a[4]*=d;a[5]*=d;a[6]*=d;a[7]*=d;a[8]*=b;a[9]*=b;a[10]*=b;a[11]*=b}
function Ob(a,b,c,d){d||(d=Lb());var e,g,h,f,k,l,m,n,q=a[0],p=a[1];a=a[2];g=c[0];h=c[1];e=c[2];c=b[1];l=b[2];q===b[0]&&p===c&&a===l?(a=d,a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1):(c=q-b[0],l=p-b[1],m=a-b[2],n=1/Math.sqrt(c*c+l*l+m*m),c*=n,l*=n,m*=n,b=h*m-e*l,e=e*c-g*m,g=g*l-h*c,(n=Math.sqrt(b*b+e*e+g*g))?(n=1/n,b*=n,e*=n,g*=n):g=e=b=0,h=l*g-m*e,f=m*b-c*g,k=c*e-l*b,(n=Math.sqrt(h*h+f*f+k*k))?(n=1/n,h*=n,f*=n,k*=n):k=f=h=0,
d[0]=b,d[1]=h,d[2]=c,d[3]=0,d[4]=e,d[5]=f,d[6]=l,d[7]=0,d[8]=g,d[9]=k,d[10]=m,d[11]=0,d[12]=-(b*q+e*p+g*a),d[13]=-(h*q+f*p+k*a),d[14]=-(c*q+l*p+m*a),d[15]=1)}
(function(){function a(a){this.cn=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.it=Kb([0,0,100]);this.pu=Kb([0,0,0]);this.Lv=Kb([0,1,0]);this.Jr=Kb([1,1,1]);this.Hq=Lb();this.Ie=Lb();this.gu=Lb();this.np=Lb();this.T=a;this.Rt()}function b(a,c,b){this.T=a;this.Il=c;this.name=b;this.Ee=a.getAttribLocation(c,"aPos");this.uh=a.getAttribLocation(c,"aTex");this.nu=a.getUniformLocation(c,"matP");this.yj=a.getUniformLocation(c,"matMV");this.zj=a.getUniformLocation(c,
"opacity");this.ou=a.getUniformLocation(c,"samplerFront");this.fl=a.getUniformLocation(c,"samplerBack");this.yi=a.getUniformLocation(c,"destStart");this.xi=a.getUniformLocation(c,"destEnd");this.pq=a.getUniformLocation(c,"seconds");this.oq=a.getUniformLocation(c,"pixelWidth");this.nq=a.getUniformLocation(c,"pixelHeight");this.mq=a.getUniformLocation(c,"layerScale");this.zj&&a.uniform1f(this.zj,1);this.ou&&a.uniform1i(this.ou,0);this.fl&&a.uniform1i(this.fl,1);this.yi&&a.uniform2f(this.yi,0,0);this.xi&&
a.uniform2f(this.xi,1,1);this.oi=!1}function c(a,c){this.type=a;this.da=c;this.T=c.T;this.If=this.Me=this.Nu=0;this.ka=this.of=null;this.rr=[]}a.prototype.Rt=function(){var a=this.T,c;this.hu=1;this.ti=this.rh=null;this.st=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.DEPTH_TEST);this.iu=a.ONE;this.fu=a.ONE_MINUS_SRC_ALPHA;this.Wq=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Wq);this.Ql=Array(4);
this.Kl=Array(4);for(c=0;4>c;c++)this.Ql[c]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Ql[c]),this.Kl[c]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Kl[c]);this.rg=0;this.oz=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.oz);this.Ir=new Float32Array(16E3);this.yr=new Float32Array(16E3);this.oA=new Float32Array(32E3);for(var b=new Uint16Array(12E3),d=c=0;12E3>c;)b[c++]=d,b[c++]=d+1,b[c++]=d+2,b[c++]=d,b[c++]=d+2,b[c++]=d+3,d+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,b,a.STATIC_DRAW);
this.Xq=this.fg=0;this.jc=[];c=this.jp({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}","<default>");this.jc.push(c);
c=this.jp({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.jc.push(c);for(var e in Pb)Pb.hasOwnProperty(e)&&this.jc.push(this.jp(Pb[e],
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",e));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.fh=[];this.og=0;this.Fd=!1;this.tt=this.$k=-1;this.Gk=null;this.Jy=a.createFramebuffer();this.hv=null;this.Kh=Kb([0,0,0]);this.bg(0)};a.prototype.jp=function(a,c,d){var e=this.T,l=e.createShader(e.FRAGMENT_SHADER);
e.shaderSource(l,a.src);e.compileShader(l);if(!e.getShaderParameter(l,e.COMPILE_STATUS))return e.deleteShader(l),null;var m=e.createShader(e.VERTEX_SHADER);e.shaderSource(m,c);e.compileShader(m);if(!e.getShaderParameter(m,e.COMPILE_STATUS))return e.deleteShader(l),e.deleteShader(m),null;c=e.createProgram();e.attachShader(c,l);e.attachShader(c,m);e.linkProgram(c);if(!e.getProgramParameter(c,e.LINK_STATUS))return e.deleteShader(l),e.deleteShader(m),e.deleteProgram(c),null;e.useProgram(c);e.deleteShader(l);
e.deleteShader(m);d=new b(e,c,d);d.tp=a.tp||0;d.up=a.up||0;d.pt=!!a.pt;d.Rs=!!a.Rs;d.ba=a.ba||[];a=0;for(l=d.ba.length;a<l;a++)d.ba[a][1]=e.getUniformLocation(c,d.ba[a][0]),e.uniform1f(d.ba[a][1],0);return d};a.prototype.Gp=function(a){var c,b;c=0;for(b=this.jc.length;c<b;c++)if(this.jc[c].name===a)return c;return-1};a.prototype.Zu=function(a,c,b){var d=this.Ie,e=this.Hq,m=[0,0,0,0,0,0,0,0];m[0]=d[0]*a+d[4]*c+d[12];m[1]=d[1]*a+d[5]*c+d[13];m[2]=d[2]*a+d[6]*c+d[14];m[3]=d[3]*a+d[7]*c+d[15];m[4]=e[0]*
m[0]+e[4]*m[1]+e[8]*m[2]+e[12]*m[3];m[5]=e[1]*m[0]+e[5]*m[1]+e[9]*m[2]+e[13]*m[3];m[6]=e[2]*m[0]+e[6]*m[1]+e[10]*m[2]+e[14]*m[3];m[7]=-m[2];0!==m[7]&&(m[7]=1/m[7],m[4]*=m[7],m[5]*=m[7],m[6]*=m[7],b[0]=(0.5*m[4]+0.5)*this.width,b[1]=(0.5*m[5]+0.5)*this.height)};a.prototype.Xj=function(a,c,b){if(this.width!==a||this.height!==c||b){this.jh();this.width=a;this.height=c;this.T.viewport(0,0,a,c);c=a/c;var d=this.Hq,e;e=1*Math.tan(45*Math.PI/360);c*=e;a=-c;b=-e;d||(d=Lb());var m=c-a,n=e-b;d[0]=2/m;d[1]=
0;d[2]=0;d[3]=0;d[4]=0;d[5]=2/n;d[6]=0;d[7]=0;d[8]=(c+a)/m;d[9]=(e+b)/n;d[10]=-1001/999;d[11]=-1;d[12]=0;d[13]=0;d[14]=-2E3/999;d[15]=0;Ob(this.it,this.pu,this.Lv,this.Ie);a=[0,0];c=[0,0];this.Zu(0,0,a);this.Zu(1,1,c);this.Jr[0]=1/(c[0]-a[0]);this.Jr[1]=-1/(c[1]-a[1]);a=0;for(c=this.jc.length;a<c;a++)b=this.jc[a],b.oi=!1,b.nu&&(this.T.useProgram(b.Il),this.T.uniformMatrix4fv(b.nu,!1,this.Hq));this.T.useProgram(this.jc[this.$k].Il);this.T.bindTexture(this.T.TEXTURE_2D,null);this.T.activeTexture(this.T.TEXTURE1);
this.T.bindTexture(this.T.TEXTURE_2D,null);this.T.activeTexture(this.T.TEXTURE0);this.ti=this.rh=null}};a.prototype.Zf=function(){Ob(this.it,this.pu,this.Lv,this.Ie);Nb(this.Ie,this.Jr)};a.prototype.translate=function(a,c){if(0!==a||0!==c){this.Kh[0]=a;this.Kh[1]=c;this.Kh[2]=0;var b=this.Ie,d=this.Kh,e=d[0],m=d[1],d=d[2];b[12]=b[0]*e+b[4]*m+b[8]*d+b[12];b[13]=b[1]*e+b[5]*m+b[9]*d+b[13];b[14]=b[2]*e+b[6]*m+b[10]*d+b[14];b[15]=b[3]*e+b[7]*m+b[11]*d+b[15]}};a.prototype.scale=function(a,c){if(1!==a||
1!==c)this.Kh[0]=a,this.Kh[1]=c,this.Kh[2]=1,Nb(this.Ie,this.Kh)};a.prototype.kr=function(a){if(0!==a){var c=this.Ie,b,d=Math.sin(a);a=Math.cos(a);var e=c[0],m=c[1],n=c[2],q=c[3],p=c[4],t=c[5],r=c[6],x=c[7];b?c!==b&&(b[8]=c[8],b[9]=c[9],b[10]=c[10],b[11]=c[11],b[12]=c[12],b[13]=c[13],b[14]=c[14],b[15]=c[15]):b=c;b[0]=e*a+p*d;b[1]=m*a+t*d;b[2]=n*a+r*d;b[3]=q*a+x*d;b[4]=e*-d+p*a;b[5]=m*-d+t*a;b[6]=n*-d+r*a;b[7]=q*-d+x*a}};a.prototype.eg=function(){for(var a=!1,c=0;16>c;c++)if(this.gu[c]!==this.Ie[c]){a=
!0;break}a&&(a=this.lf(),a.type=5,a.ka?Mb(this.Ie,a.ka):a.ka=Lb(this.Ie),Mb(this.Ie,this.gu),this.Fd=!1)};c.prototype.Vx=function(){this.T.bindTexture(this.T.TEXTURE_2D,this.of)};c.prototype.Wx=function(){var a=this.T;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.of);a.activeTexture(a.TEXTURE0)};c.prototype.Sx=function(){var a=this.Nu,c=this.da;c.st=a;c=c.Gk;c.zj&&this.T.uniform1f(c.zj,a)};c.prototype.Px=function(){this.T.drawElements(this.T.TRIANGLES,this.If,this.T.UNSIGNED_SHORT,2*
this.Me)};c.prototype.Rx=function(){this.T.blendFunc(this.Me,this.If)};c.prototype.Xx=function(){var a,c,b,d=this.da.jc,e=this.da.tt;a=0;for(c=d.length;a<c;a++)b=d[a],a===e&&b.yj?(this.T.uniformMatrix4fv(b.yj,!1,this.ka),b.oi=!0):b.oi=!1;Mb(this.ka,this.da.np)};c.prototype.Qx=function(){var a=this.T,c=this.da;this.of?(c.ti===this.of&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),c.ti=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,c.Jy),a.framebufferTexture2D(a.FRAMEBUFFER,
a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.of,0)):(a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};c.prototype.Kx=function(){var a=this.T;0===this.Me?(a.clearColor(this.ka[0],this.ka[1],this.ka[2],this.ka[3]),a.clear(a.COLOR_BUFFER_BIT)):(a.enable(a.SCISSOR_TEST),a.scissor(this.ka[0],this.ka[1],this.ka[2],this.ka[3]),a.clearColor(0,0,0,0),a.clear(this.T.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST))};c.prototype.Ox=function(){var a=this.T,
c=this.da,b=c.jc[1];a.useProgram(b.Il);!b.oi&&b.yj&&(a.uniformMatrix4fv(b.yj,!1,c.np),b.oi=!0);a.enableVertexAttribArray(b.Ee);a.bindBuffer(a.ARRAY_BUFFER,c.Wq);a.vertexAttribPointer(b.Ee,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.Me/4,this.If);b=c.Gk;a.useProgram(b.Il);0<=b.Ee&&(a.enableVertexAttribArray(b.Ee),a.bindBuffer(a.ARRAY_BUFFER,c.Ql[c.rg]),a.vertexAttribPointer(b.Ee,2,a.FLOAT,!1,0,0));0<=b.uh&&(a.enableVertexAttribArray(b.uh),a.bindBuffer(a.ARRAY_BUFFER,c.Kl[c.rg]),a.vertexAttribPointer(b.uh,
2,a.FLOAT,!1,0,0))};c.prototype.Tx=function(){var a=this.T,c=this.da,b=c.jc[this.Me];c.tt=this.Me;c.Gk=b;a.useProgram(b.Il);!b.oi&&b.yj&&(a.uniformMatrix4fv(b.yj,!1,c.np),b.oi=!0);b.zj&&a.uniform1f(b.zj,c.st);0<=b.Ee&&(a.enableVertexAttribArray(b.Ee),a.bindBuffer(a.ARRAY_BUFFER,c.Ql[c.rg]),a.vertexAttribPointer(b.Ee,2,a.FLOAT,!1,0,0));0<=b.uh&&(a.enableVertexAttribArray(b.uh),a.bindBuffer(a.ARRAY_BUFFER,c.Kl[c.rg]),a.vertexAttribPointer(b.uh,2,a.FLOAT,!1,0,0))};c.prototype.Ux=function(){var a,c,b=
this.da.Gk,d=this.T;b.fl&&this.da.ti!==this.of&&(d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,this.of),this.da.ti=this.of,d.activeTexture(d.TEXTURE0));b.oq&&d.uniform1f(b.oq,this.ka[0]);b.nq&&d.uniform1f(b.nq,this.ka[1]);b.yi&&d.uniform2f(b.yi,this.ka[2],this.ka[3]);b.xi&&d.uniform2f(b.xi,this.ka[4],this.ka[5]);b.mq&&d.uniform1f(b.mq,this.ka[6]);b.pq&&d.uniform1f(b.pq,Na()/1E3);if(b.ba.length)for(a=0,c=b.ba.length;a<c;a++)d.uniform1f(b.ba[a][1],this.rr[a])};a.prototype.lf=function(){this.og===
this.fh.length&&this.fh.push(new c(0,this));return this.fh[this.og++]};a.prototype.jh=function(){if(0!==this.og&&!this.T.isContextLost()){var a=this.T;0<this.Xq&&(a.bindBuffer(a.ARRAY_BUFFER,this.Wq),a.bufferData(a.ARRAY_BUFFER,this.oA.subarray(0,this.Xq),a.STREAM_DRAW),c&&0<=c.Ee&&"<point>"===c.name&&a.vertexAttribPointer(c.Ee,4,a.FLOAT,!1,0,0));if(0<this.fg){var c=this.Gk;a.bindBuffer(a.ARRAY_BUFFER,this.Ql[this.rg]);a.bufferData(a.ARRAY_BUFFER,this.Ir.subarray(0,this.fg),a.STREAM_DRAW);c&&0<=c.Ee&&
"<point>"!==c.name&&a.vertexAttribPointer(c.Ee,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Kl[this.rg]);a.bufferData(a.ARRAY_BUFFER,this.yr.subarray(0,this.fg),a.STREAM_DRAW);c&&0<=c.uh&&"<point>"!==c.name&&a.vertexAttribPointer(c.uh,2,a.FLOAT,!1,0,0)}for(var b,a=0,c=this.og;a<c;a++)switch(b=this.fh[a],b.type){case 1:b.Px();break;case 2:b.Vx();break;case 3:b.Sx();break;case 4:b.Rx();break;case 5:b.Xx();break;case 6:b.Qx();break;case 7:b.Kx();break;case 8:b.Ox();break;case 9:b.Tx();break;case 10:b.Ux();
break;case 11:b.Wx()}this.Xq=this.fg=this.og=0;this.Fd=!1;this.rg++;4<=this.rg&&(this.rg=0)}};a.prototype.Vj=function(a){if(a!==this.hu){var c=this.lf();c.type=3;this.hu=c.Nu=a;this.Fd=!1}};a.prototype.pe=function(a){if(a!==this.rh){var c=this.lf();c.type=2;this.rh=c.of=a;this.Fd=!1}};a.prototype.Gh=function(a,c){if(a!==this.iu||c!==this.fu){var b=this.lf();b.type=4;b.Me=a;b.If=c;this.iu=a;this.fu=c;this.Fd=!1}};a.prototype.pv=function(){this.Gh(this.T.ONE,this.T.ONE_MINUS_SRC_ALPHA)};a.prototype.On=
function(a,c,b,d,e,m,n,q){15992<=this.fg&&this.jh();var p=this.fg,t=this.Ir,r=this.yr;if(this.Fd)this.fh[this.og-1].If+=6;else{var x=this.lf();x.type=1;x.Me=3*(p/4);x.If=6;this.Fd=!0}t[p]=a;r[p++]=0;t[p]=c;r[p++]=0;t[p]=b;r[p++]=1;t[p]=d;r[p++]=0;t[p]=e;r[p++]=1;t[p]=m;r[p++]=1;t[p]=n;r[p++]=0;t[p]=q;r[p++]=1;this.fg=p};a.prototype.Dh=function(a,c,b,d,e,m,n,q,p){15992<=this.fg&&this.jh();var t=this.fg,r=this.Ir,x=this.yr;if(this.Fd)this.fh[this.og-1].If+=6;else{var y=this.lf();y.type=1;y.Me=3*(t/
4);y.If=6;this.Fd=!0}var y=p.left,C=p.top,F=p.right;p=p.bottom;r[t]=a;x[t++]=y;r[t]=c;x[t++]=C;r[t]=b;x[t++]=F;r[t]=d;x[t++]=C;r[t]=e;x[t++]=F;r[t]=m;x[t++]=p;r[t]=n;x[t++]=y;r[t]=q;x[t++]=p;this.fg=t};a.prototype.bg=function(a){if(this.$k!==a){if(!this.jc[a]){if(0===this.$k)return;a=0}var c=this.lf();c.type=9;this.$k=c.Me=a;this.Fd=!1}};a.prototype.Dl=function(a){a=this.jc[a];return!(!a.yi&&!a.xi)};a.prototype.Zq=function(a){a=this.jc[a];return!!(a.yi||a.xi||a.pt)};a.prototype.tA=function(a){a=this.jc[a];
return 0!==a.tp||0!==a.up};a.prototype.Uy=function(a){return this.jc[a].tp};a.prototype.Vy=function(a){return this.jc[a].up};a.prototype.Wy=function(a,c){return this.jc[a].ba[c][2]};a.prototype.Nn=function(a){return this.jc[a].Rs};a.prototype.Wj=function(a,c,b,d,e,m,n,q,p){var t=this.jc[this.$k];if(t.oq||t.nq||t.pq||t.fl||t.yi||t.xi||t.mq||p.length){var r=this.lf();r.type=10;r.ka?Mb(this.Ie,r.ka):r.ka=Lb();r.ka[0]=c;r.ka[1]=b;r.ka[2]=d;r.ka[3]=e;r.ka[4]=m;r.ka[5]=n;r.ka[6]=q;r.of=t.fl?a:null;if(p.length)for(r.rr.length=
p.length,a=0,c=p.length;a<c;a++)r.rr[a]=p[a];this.Fd=!1}};a.prototype.clear=function(a,c,b,d){var e=this.lf();e.type=7;e.Me=0;e.ka||(e.ka=Lb());e.ka[0]=a;e.ka[1]=c;e.ka[2]=b;e.ka[3]=d;this.Fd=!1};a.prototype.clearRect=function(a,c,b,d){var e=this.lf();e.type=7;e.Me=1;e.ka||(e.ka=Lb());e.ka[0]=a;e.ka[1]=c;e.ka[2]=b;e.ka[3]=d;this.Fd=!1};a.prototype.rA=function(){this.jh();this.T.flush()};var d=[],e={};a.prototype.mu=function(a,c,b){var k;k=!1;c=!!c;var l=a.src+","+k+","+c+(k?",undefined":""),m=null;
if("undefined"!==typeof a.src&&e.hasOwnProperty(l))return m=e[l],m.rm++,m;this.jh();var n=this.T,q=fa(a.width)&&fa(a.height),m=n.createTexture();n.bindTexture(n.TEXTURE_2D,m);n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var p=n.RGBA,t=n.RGBA,r=n.UNSIGNED_BYTE;if(b&&!this.cn)switch(b){case 1:t=p=n.RGB;break;case 2:r=n.UNSIGNED_SHORT_4_4_4_4;break;case 3:r=n.UNSIGNED_SHORT_5_5_5_1;break;case 4:t=p=n.RGB,r=n.UNSIGNED_SHORT_5_6_5}!q&&k?(b=document.createElement("canvas"),b.width=ga(a.width),b.height=
ga(a.height),b.getContext("2d").drawImage(a,0,0,a.width,a.height,0,0,b.width,b.height),n.texImage2D(n.TEXTURE_2D,0,p,t,r,b)):n.texImage2D(n.TEXTURE_2D,0,p,t,r,a);k?(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.REPEAT),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.REPEAT)):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE));c?(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),q?(n.texParameteri(n.TEXTURE_2D,
n.TEXTURE_MIN_FILTER,n.LINEAR_MIPMAP_LINEAR),n.generateMipmap(n.TEXTURE_2D)):n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR)):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST));n.bindTexture(n.TEXTURE_2D,null);this.rh=null;m.Dk=a.width;m.Ck=a.height;m.rm=1;m.ft=l;d.push(m);return e[l]=m};a.prototype.qg=function(a,c,b,e){this.jh();var l=this.T;this.cn&&(e=!1);var m=l.createTexture();l.bindTexture(l.TEXTURE_2D,m);l.texImage2D(l.TEXTURE_2D,
0,l.RGBA,a,c,0,l.RGBA,e?l.UNSIGNED_SHORT_4_4_4_4:l.UNSIGNED_BYTE,null);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,b?l.LINEAR:l.NEAREST);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,b?l.LINEAR:l.NEAREST);l.bindTexture(l.TEXTURE_2D,null);this.rh=null;m.Dk=a;m.Ck=c;d.push(m);return m};a.prototype.$A=function(a,c,b){this.jh();var d=this.T;this.cn&&(b=!1);d.bindTexture(d.TEXTURE_2D,
c);d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,b?d.UNSIGNED_SHORT_4_4_4_4:d.UNSIGNED_BYTE,a);d.bindTexture(d.TEXTURE_2D,null);this.rh=null};a.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.rm&&1<a.rm?a.rm--:(this.jh(),a===this.rh&&(this.T.bindTexture(this.T.TEXTURE_2D,null),this.rh=null),a===this.ti&&(this.T.activeTexture(this.T.TEXTURE1),this.T.bindTexture(this.T.TEXTURE_2D,null),this.T.activeTexture(this.T.TEXTURE0),this.ti=null),ua(d,a),"undefined"!==typeof a.ft&&delete e[a.ft],this.T.deleteTexture(a)))};
a.prototype.ag=function(a){if(a!==this.hv){var c=this.lf();c.type=6;this.hv=c.of=a;this.Fd=!1}};Wa=a})();
(function(){function a(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var c=this;this.Wt=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk);this.Xk=!this.Wt&&"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap);this.zg=!!a.dc;this.Vk="undefined"!==typeof window.AppMobi||this.zg;if(this.Jf=!!window.c2cocoonjs)CocoonJS.App.onSuspended.addEventListener(function(){c.setSuspended(!0)}),
CocoonJS.App.onActivated.addEventListener(function(){c.setSuspended(!1)});this.rd=this.zg||this.Jf;this.Xt=/tizen/i.test(navigator.userAgent);this.Vt=/android/i.test(navigator.userAgent)&&!this.Xt;this.cn=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.du=/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent);this.cu=/ipad/i.test(navigator.userAgent);this.zz=this.du||this.cu;this.Op=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent);
this.sz=/amazonwebappplatform/i.test(navigator.userAgent);this.wz=/firefox/i.test(navigator.userAgent);this.ph="undefined"!==typeof window.c2nodewebkit||/nodewebkit/i.test(navigator.userAgent);this.Yt=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Zt=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.uz=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.tz=this.Vt&&!this.Op&&!this.wz&&!this.sz&&!this.rd;this.devicePixelRatio=
1;this.oh=this.Xk||this.Wt||this.Vk||this.Jf||this.Vt||this.zz||this.Zt||this.uz||this.Xt;this.oh||(this.oh=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet)/i.test(navigator.userAgent));"undefined"===typeof cr_is_preview||this.ph||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)||(this.ph=!0);this.vz="undefined"!==typeof cr_is_preview&&-1<window.location.search.indexOf("debug");this.canvas=a;this.jt=document.getElementById("c2canvasdiv");this.ab=
this.da=this.T=null;this.Ap="";this.Nm=!1;this.Gu=this.Hu=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.zg&&(window.c2runtime=this);this.ph&&(window.DC=function(a){a.preventDefault();return!1},window.EC=function(a){a.preventDefault();return!1},require("nw.gui").App.clearCache());this.width=a.width;this.height=a.height;this.Ha=this.width;this.Ga=this.height;this.zm=this.width;
this.ym=this.height;this.bl=window.innerWidth;this.al=window.innerHeight;this.cb=!0;this.Yk=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.U=[];this.Sb=[];this.hq={};this.bf=[];this.sp={};this.li=[];this.Mh=[];this.ko=[];this.mx=[];this.nx=[];this.Bf=new ca;this.Pp=!1;this.$e=0;this.Rp=!1;this.Bd=[];this.Cg=this.$c=this.sn=this.qr="";this.Jl=this.sv=!1;this.hp=this.gl=this.hh=this.xa=0;this.Ri=1;this.wj=new Oa;this.mn=0;this.Au=!0;this.Hn=this.Qm=this.Km=this.Oe=
this.cl=this.zp=0;this.$o=null;this.Fm=[];this.rp=[];this.Im=-1;this.qq=[[]];this.Cr=this.vn=0;this.br(null);this.Jk=this.Eu=this.wl=0;this.Yn=[];this.fo=this.Qn=0;this.jn=!0;this.un=0;this.Wk=!1;this.HA=0;this.lz=!1;this.$p=0;this.nh=this.$m=this.dr=!1;this.Nq=new ca;this.Oq=new ca;this.dv=[];new Qa([]);new Qa([]);this.hj=[];this.lm={};this.kj={};this.gj={};this.bk={};this.dt={};this.lu=this.rn=this.Id=this.he=this.ku=this.qn=this.$a=null;this.ak=this.Tp=!1;this.Bp=[null,null];this.ni=0;this.Ni=
{};this.Wn=this.xj=null;this.load();this.devicePixelRatio=(this.si=!this.rd&&this.WA&&!this.tz)?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.Ec();var b,d=this.So&&!(this.ph||this.Yt||this.Zt);0<this.Cd&&this.setSize(window.innerWidth,window.innerHeight,!0);try{!this.fy||!this.Jf&&this.rd||(b={alpha:d,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.T=a.getContext("webgl",b)||a.getContext("experimental-webgl",b))}catch(e){}if(this.T){this.rd||
(this.Bc=document.createElement("canvas"),jQuery(this.Bc).appendTo(this.canvas.parentNode),this.Bc.oncontextmenu=w(!1),this.Bc.onselectstart=w(!1),this.Bc.width=this.zm,this.Bc.height=this.ym,jQuery(this.Bc).css({width:this.zm+"px",height:this.ym+"px"}),this.Vu(),this.Uq=this.Bc.getContext("2d"));this.da=new Wa(this.T,this.oh);this.da.Xj(a.width,a.height);this.ab=null;this.canvas.addEventListener("webglcontextlost",function(a){a.preventDefault();c.gA();console.log("[Construct 2] WebGL context lost");
window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){c.da.Rt();c.da.Xj(c.da.width,c.da.height,!0);c.he=null;c.Id=null;c.Bp[0]=null;c.Bp[1]=null;c.hA();c.cb=!0;console.log("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);var g,f,h,k,l,m;a=0;for(b=this.U.length;a<b;a++)for(f=this.U[a],d=0,g=f.qa.length;d<g;d++)k=f.qa[d],k.Cc=this.da.Gp(k.id),this.ak=this.ak||this.da.Dl(k.Cc);a=0;for(b=this.bf.length;a<b;a++){l=this.bf[a];d=0;for(g=l.qa.length;d<
g;d++)k=l.qa[d],k.Cc=this.da.Gp(k.id);d=0;for(g=l.La.length;d<g;d++)for(m=l.La[d],f=0,h=m.qa.length;f<h;f++)k=m.qa[f],k.Cc=this.da.Gp(k.id),this.ak=this.ak||this.da.Dl(k.Cc)}}else{if(0<this.Cd&&this.zg){this.canvas=null;document.oncontextmenu=w(!1);document.onselectstart=w(!1);this.ab=AppMobi.canvas.getContext("2d");try{this.ab.samplingMode=this.Za?"smooth":"sharp",this.ab.globalScale=1,this.ab.HTML5CompatibilityMode=!0,this.ab.imageSmoothingEnabled=this.Za}catch(A){}0!==this.width&&0!==this.height&&
(this.ab.width=this.width,this.ab.height=this.height)}this.ab||(b=this.Jf?{antialias:!!this.Za,alpha:d}:{alpha:d},this.ab=a.getContext("2d",b),this.ab.webkitImageSmoothingEnabled=this.Za,this.ab.mozImageSmoothingEnabled=this.Za,this.ab.msImageSmoothingEnabled=this.Za,this.ab.imageSmoothingEnabled=this.Za);this.Uq=this.Bc=null}this.eo=function(){c.pf()};window==window.top||this.rd||this.Yt||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",
function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.Jf&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(H("Reloading for continuous preview"),this.sn="__c2_continuouspreview",this.Jl=!0),this.nA&&!this.oh&&(jQuery(window).focus(function(){c.setSuspended(!1)}),jQuery(window).blur(function(){c.setSuspended(!0)})));0===this.Cd&&this.si&&1<this.devicePixelRatio&&this.setSize(this.tc,this.sc,!0);this.Gv();this.go();
this.za={}}}function b(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function c(a,c,d,e){var g=indexedDB.open("_C2SaveStates");g.onupgradeneeded=b;g.onerror=e;g.onsuccess=function(b){b=b.target.result;b.onerror=e;b.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:c}).onsuccess=d}}function d(a,c,d){var e=indexedDB.open("_C2SaveStates");e.onupgradeneeded=b;e.onerror=d;e.onsuccess=function(b){b=b.target.result;b.onerror=d;var e=b.transaction(["saves"]).objectStore("saves").get(a);
e.onsuccess=function(){e.result?c(e.result.data):c(null)}}}function e(){H("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location+="?continuous"}function g(a){var c,b={};for(c in a)!a.hasOwnProperty(c)||a[c]instanceof ca||a[c]&&"undefined"!==typeof a[c].yf||(b[c]=a[c]);return b}a.prototype.setSize=function(a,c,b){var d=0,e=0,g=0,f=0,f=0;if(this.bl!==a||this.al!==c||b){this.bl=a;this.al=c;
var h=this.Cd,k=document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.Wk;if(k||0!==this.Cd||b)k&&0<this.ni&&(h=this.ni),4<=h?(b=this.tc/this.sc,a/c>b?(g=c*b,5===h?(f=g/this.tc,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),g=this.tc*f,f*=this.sc,d=(a-g)/2,e=(c-f)/2,a=g,c=f):(d=(a-g)/2,a=g)):(f=a/b,5===h?(f/=this.sc,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),g=this.tc*f,f*=this.sc,d=(a-g)/2,e=(c-f)/2,a=g):e=(c-f)/2,c=f),k&&!this.ph&&(e=d=0),
d=Math.floor(d),e=Math.floor(e),a=Math.floor(a),c=Math.floor(c)):this.ph&&this.Wk&&0===this.Dt&&(d=Math.floor((a-this.tc)/2),e=Math.floor((c-this.sc)/2),a=this.tc,c=this.sc),2>h&&(this.Bk=this.devicePixelRatio),this.si&&this.cu&&1<this.devicePixelRatio&&(1024<=a&&(a=1023),1024<=c&&(c=1023)),k=this.devicePixelRatio,this.zm=a,this.ym=c,this.width=Math.round(a*k),this.height=Math.round(c*k),this.cb=!0,this.Qv?(this.Ha=this.width,this.Ga=this.height,this.De=!0):this.width<this.tc&&this.height<this.sc||
1===h?(this.Ha=this.width,this.Ga=this.height,this.De=!0):(this.Ha=this.tc,this.Ga=this.sc,this.De=!1,2===h?(b=this.tc/this.sc,h=this.bl/this.al,h<b?this.Ha=this.Ga*h:h>b&&(this.Ga=this.Ha/h)):3===h&&(b=this.tc/this.sc,h=this.bl/this.al,h>b?this.Ha=this.Ga*h:h<b&&(this.Ga=this.Ha/h))),this.jt&&!this.rd&&(jQuery(this.jt).css({width:a+"px",height:c+"px","margin-left":d,"margin-top":e}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:a+"px",height:c+"px"})),this.canvas&&(this.canvas.width=
Math.round(a*k),this.canvas.height=Math.round(c*k),this.si&&jQuery(this.canvas).css({width:a+"px",height:c+"px"})),this.Bc&&(this.Bc.width=a,this.Bc.height=c,jQuery(this.Bc).css({width:a+"px",height:c+"px"})),this.da&&this.da.Xj(Math.round(a*k),Math.round(c*k)),this.zg&&this.ab&&(this.ab.width=a,this.ab.height=c),this.ab&&(this.ab.webkitImageSmoothingEnabled=this.Za,this.ab.mozImageSmoothingEnabled=this.Za,this.ab.msImageSmoothingEnabled=this.Za,this.ab.imageSmoothingEnabled=this.Za),this.Gv()}};
a.prototype.Gv=function(){if(this.qx&&0!==this.Tq){var a="portrait";2===this.Tq&&(a="landscape");screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}};a.prototype.gA=function(){this.Tp=!0;var a,c,b;a=0;for(c=this.U.length;a<c;a++)b=this.U[a],b.Rq&&b.Rq()};a.prototype.hA=function(){this.Tp=!1;var a,c,b;a=0;for(c=this.U.length;a<c;a++)b=
this.U[a],b.Ku&&b.Ku()};a.prototype.Vu=function(){if(!this.rd){var a=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.Wk?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.Bc).css(a)}};var h=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;a.prototype.setSuspended=function(a){var c;if(a&&!this.Yk)for(H("[Construct 2] Suspending"),
this.Yk=!0,0!==this.Qn&&h&&h(this.Qn),0!==this.fo&&clearTimeout(this.fo),a=0,c=this.Yn.length;a<c;a++)this.Yn[a](!0);else if(!a&&this.Yk){H("[Construct 2] Resuming");this.Yk=!1;this.mn=Na();this.cl=Na();a=this.gl=this.Qm=0;for(c=this.Yn.length;a<c;a++)this.Yn[a](!1);this.pf()}};a.prototype.load=function(){var a=Qb();this.name=a[0];this.Ct=a[1];this.Cd=a[11];this.Dt=a[11];this.tc=a[9];this.sc=a[10];this.Ou=this.tc/2;this.Pu=this.sc/2;this.rd&&(4<=a[11]||0===a[11])&&(H("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),
this.Dt=this.Cd=3);this.Gr=a[17];this.el=a[18];0===this.el&&(this.xj=new Image,this.xj.src="loading-logo.png");this.wl=a[20];this.cg=new N(this);var c,b,d,e,g,f,h,k,l;c=0;for(b=a[2].length;c<b;c++)h=a[2][c],Xa(h),l=new h[0](this),l.tr=h[1],l.qh=h[2],l.Bu=h[9],l.xb&&l.xb(),this.plugins.push(l);a=Qb();c=0;for(b=a[3].length;c<b;c++){h=a[3][c];g=h[1];l=null;d=0;for(e=this.plugins.length;d<e;d++)if(this.plugins[d]instanceof g){l=this.plugins[d];break}var m=new l.hd(l);m.name=h[0];m.Da=h[2];m.Np=h[3].slice(0);
m.ZA=h[3].length;m.wx=h[4];m.Ly=h[5];m.Ia=h[11];m.Da?(m.Gn=[],m.Ef=this.Jk++,m.mb=null):(m.Gn=null,m.Ef=-1,m.mb=[]);m.Lm=null;m.oj=null;m.yt=null;m.ge=!1;m.qd=null;h[6]?(m.Av=h[6][0],m.Bv=h[6][1],m.NA=h[6][2]):(m.Av=null,m.Bv=0,m.NA=0);m.yd=h[7]?h[7]:null;m.index=c;m.C=[];m.Dm=[];m.Jh=[new Ya(m)];m.sg=0;m.Be=null;m.Zj=!0;m.lo=Za;m.It=$a;m.Ty=ab;m.fb=bb;m.Fl=cb;m.$q=db;m.Sj=eb;m.Sm=fb;m.Tm=gb;m.Ep=hb;m.dh=ib;m.Jt=jb;m.kt=new Ra(this.tc,this.sc);m.Ss=!0;m.Ts=!1;m.za={};m.toString=kb;m.Sb=[];d=0;for(e=
h[8].length;d<e;d++){k=h[8][d];var A=k[1],B=null;g=0;for(f=this.Sb.length;g<f;g++)if(this.Sb[g]instanceof A){B=this.Sb[g];break}B||(B=new A(this),B.Cu=[],B.Mq=new ca,B.xb&&B.xb(),this.Sb.push(B));-1===B.Cu.indexOf(m)&&B.Cu.push(m);g=new B.hd(B,m);g.name=k[0];g.Ia=k[2];g.xb();m.Sb.push(g)}m.global=h[9];m.Qp=h[10];m.qa=[];d=0;for(e=h[12].length;d<e;d++)m.qa.push({id:h[12][d][0],name:h[12][d][1],Cc:-1,Yd:!0,index:d});m.LC=h[13];this.Gr&&!m.Da&&!m.Qp&&l.qh||m.xb();m.name&&(this.types[m.name]=m);this.U.push(m);
l.tr&&(d=new l.yc(m),d.uid=this.wl++,d.av=this.Eu++,d.pi=0,d.Qk=lb,d.toString=mb,d.Oa=h[14],d.xb(),m.C.push(d),this.Ni[d.uid.toString()]=d)}c=0;for(b=a[4].length;c<b;c++)for(g=a[4][c],f=this.U[g[0]],d=1,e=g.length;d<e;d++)h=this.U[g[d]],h.mb.push(f),f.Gn.push(h);c=0;for(b=a[23].length;c<b;c++){g=a[23][c];f=[];d=0;for(e=g.length;d<e;d++)f.push(this.U[g[d]]);d=0;for(e=f.length;d<e;d++)f[d].ge=!0,f[d].qd=f}if(0<this.Jk)for(c=0,b=this.U.length;c<b;c++)if(h=this.U[c],!h.Da&&h.mb.length){h.Lm=Array(this.Jk);
h.oj=Array(this.Jk);h.yt=Array(this.Jk);m=[];d=B=A=k=0;for(e=h.mb.length;d<e;d++)for(l=h.mb[d],h.Lm[l.Ef]=k,k+=l.ZA,h.oj[l.Ef]=A,A+=l.wx,h.yt[l.Ef]=B,B+=l.Ly,g=0,f=l.qa.length;g<f;g++)m.push(ra({},l.qa[g]));h.qa=m.concat(h.qa);d=0;for(e=h.qa.length;d<e;d++)h.qa[d].index=d}c=0;for(b=a[5].length;c<b;c++)h=a[5][c],d=new nb(this,h),this.hq[d.name]=d,this.bf.push(d);c=0;for(b=a[6].length;c<b;c++)h=a[6][c],d=new ob(this,h),this.sp[d.name]=d,this.li.push(d);c=0;for(b=this.li.length;c<b;c++)this.li[c].Ob();
c=0;for(b=this.ko.length;c<b;c++)this.ko[c].Ob();this.ko.length=0;this.Bh=a[8];this.Bk=1;this.fy=a[12];this.Za=a[13];this.So=a[14];this.WA=a[16];this.Tq=a[19];this.qx=0<this.Tq;this.nA=a[21];this.De=this.Qv=a[22];this.Xn=Date.now()};a.prototype.Ky=function(a){var c,b;c=0;for(b=this.Mh.length;c<b;c++)if(this.Mh[c].Ex===a)return this.Mh[c];return null};a.prototype.Us=function(){var a=0,c=0,b=!0,d,e;d=0;for(e=this.Mh.length;d<e;d++){var g=this.Mh[d].Dx;if(!g||0>=g)g=5E4;a+=g;this.Mh[d].complete||this.Mh[d].loaded?
c+=g:b=!1}this.Pi=0==a?0:c/a;return b};a.prototype.go=function(){if(this.ab||this.da){var a=this.ab||this.Uq;this.Bc&&this.Vu();this.Pi=0;this.ju=-1;if(this.Us())this.jz();else{var c=Date.now()-this.Xn;if(a){var b=this.width,d=this.height,e=this.devicePixelRatio;this.Bc&&(b=this.zm,d=this.ym,e=1);if(3!==this.el&&500<=c&&this.ju!=this.Pi){a.clearRect(0,0,b,d);var c=b/2,d=d/2,b=0===this.el&&this.xj.complete,g=40*e,f=0,h=80*e,k;b&&(h=this.xj.width*e,k=this.xj.height*e,g=h/2,f=k/2,a.drawImage(this.xj,
la(c-g),la(d-f),h,k));1>=this.el?(c=la(c-g)+0.5,d=la(d+(f+(b?12*e:0)))+0.5,a.fillStyle="DodgerBlue",a.fillRect(c,d,Math.floor(h*this.Pi),6*e),a.strokeStyle="black",a.strokeRect(c,d,h,6*e),a.strokeStyle="white",a.strokeRect(c-1*e,d-1*e,h+2*e,8*e)):2===this.el&&(a.font="12pt Arial",a.fillStyle="#999",a.KC="middle",e=Math.round(100*this.Pi)+"%",b=a.measureText?a.measureText(e):null,a.fillText(e,c-(b?b.width:0)/2,d))}this.ju=this.Pi}setTimeout(function(a){return function(){a.go()}}(this),100)}}};a.prototype.jz=
function(){this.Bc&&(this.canvas.parentNode.removeChild(this.Bc),this.Bc=this.Uq=null);this.Xn=Date.now();this.cl=Na();var a,c,b;if(this.Gr)for(a=0,c=this.U.length;a<c;a++)b=this.U[a],b.Da||b.Qp||!b.gc.qh||b.xb();else this.jn=!1;a=0;for(c=this.bf.length;a<c;a++)this.bf[a].Fx();2<=this.Cd&&(a=this.tc/this.sc,c=this.width/this.height,this.Bk=2!==this.Cd&&c>a||2===this.Cd&&c<a?this.height/this.sc:this.width/this.tc);this.Ct?this.hq[this.Ct].ur():this.bf[0].ur();this.Gr||(this.un=1,this.trigger(N.prototype.ja.es,
null));navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();this.pf();this.zg&&AppMobi.webview.execute("onGameReady();")};var f=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;a.prototype.pf=function(){if(this.$a){var a=Na();if(this.lz&&this.dr&&29>a-this.$p)this.dr=!1,this.$p=a,f?this.Qn=f(this.eo,this.canvas):this.fo=setTimeout(this.eo,this.oh?1:16);else{this.dr=
!0;this.$p=a;var c=this.Cd,b=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement;(b||this.Wk)&&0<this.ni&&(c=this.ni);if(0<c&&!this.du){var c=window.innerWidth,d=window.innerHeight;this.bl===c&&this.al===d||this.setSize(c,d)}this.rd||(b?(this.Nm||(this.Ap=jQuery(this.canvas).css("margin")||"0",this.Nm=!0),this.Op||this.ph||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+
Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.Nm?(this.Op||this.ph||jQuery(this.canvas).css("margin",this.Ap),this.Ap="",this.Nm=!1,0===this.Cd&&this.setSize(Math.round(this.Hu/this.devicePixelRatio),Math.round(this.Gu/this.devicePixelRatio),!0)):(this.Hu=this.width,this.Gu=this.height));this.jn&&(b=this.Us(),this.un=this.Pi,b&&(this.jn=!1,this.Pi=1,this.trigger(N.prototype.ja.es,null)));this.Ez();!this.cb&&!this.Jf||this.Tp||this.Jl||(this.cb=!1,this.da?this.Ye():this.ug(),
this.Wn&&(this.canvas&&this.canvas.toDataURL&&(this.canvas.toDataURL(this.Wn[0],this.Wn[1]),this.trigger(N.prototype.ja.vw,null)),this.Wn=null));this.BC||(this.Oe++,this.Km++,this.Qm++);this.gl+=Na()-a;this.Yk||(f?this.Qn=f(this.eo,this.canvas):this.fo=setTimeout(this.eo,this.oh?1:16))}}};a.prototype.Ez=function(){var a,c,b,d,e,g,f,h,k;a=Na();1E3<=a-this.cl&&(this.cl+=1E3,this.zp=this.Qm,this.Qm=0,this.hp=this.gl,this.gl=0);this.Au&&(0!==this.mn&&(c=a-this.mn,0!==c||this.vz?(this.hh=c/1E3,0.5<this.hh?
this.hh=0:0.1<this.hh&&(this.hh=0.1)):(10<=this.NC&&(this.Au=!1),this.hh=1/60)),this.mn=a);this.xa=this.hh*this.Ri;this.wj.add(this.xa);a=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.Wk;2<=this.Cd||a&&0<this.ni?(c=this.tc/this.sc,b=this.width/this.height,d=this.Cd,a&&0<this.ni&&(d=this.ni),this.Bk=2!==d&&b>c||2===d&&b<c?this.height/this.sc:this.width/this.tc,this.$a&&(this.$a.nv(this.$a.scrollX),this.$a.ov(this.$a.scrollY))):this.Bk=
this.si?this.devicePixelRatio:1;this.Ec();this.$e++;this.cg.xA();this.$e--;this.Ec();this.$e++;a=0;for(c=this.U.length;a<c;a++)if(f=this.U[a],!f.Da&&(f.Sb.length||f.mb.length))for(b=0,d=f.C.length;b<d;b++)for(h=f.C[b],e=0,g=h.wa.length;e<g;e++)h.wa[e].pf();a=0;for(c=this.U.length;a<c;a++)if(f=this.U[a],!f.Da&&(f.Sb.length||f.mb.length))for(b=0,d=f.C.length;b<d;b++)for(h=f.C[b],e=0,g=h.wa.length;e<g;e++)k=h.wa[e],k.qA&&k.qA();b=this.Nq.Ti();a=0;for(c=b.length;a<c;a++)b[a].pf();this.$e--;this.mz();
for(a=0;this.$o&&10>a++;)this.wt(this.$o);a=0;for(c=this.li.length;a<c;a++)this.li[a].Ip=!1;this.$a.Hm&&this.$a.Hm.ic();this.dv.length=0;this.$e++;a=0;for(c=this.U.length;a<c;a++)if(f=this.U[a],!f.Da&&(f.Sb.length||f.mb.length))for(b=0,d=f.C.length;b<d;b++)for(h=f.C[b],e=0,g=h.wa.length;e<g;e++)k=h.wa[e],k.co&&k.co();b=this.Oq.Ti();a=0;for(c=b.length;a<c;a++)b[a].co();this.$e--};a.prototype.wt=function(a){var c=this.$a;this.$a.JA();var b,d,e,g,f,h,k;if(this.da)for(b=0,d=this.U.length;b<d;b++)f=this.U[b],
f.Da||!f.Kv||f.global&&0!==f.C.length||-1!==a.Tk.indexOf(f)||f.Kv();c==a&&(this.cg.Ud.length=0);a.ur();b=0;for(d=this.U.length;b<d;b++)if(f=this.U[b],f.global||f.gc.tr)for(a=0,c=f.C.length;a<c;a++)if(h=f.C[a],h.Qq&&h.Qq(),h.wa)for(e=0,g=h.wa.length;e<g;e++)k=h.wa[e],k.Qq&&k.Qq();this.cb=!0;this.Ec()};a.prototype.Cv=function(a){this.Nq.add(a)};a.prototype.OA=function(a){this.Oq.add(a)};a.prototype.Cp=function(a){return a&&-1!==a.ul?this.hh*a.ul:this.xa};a.prototype.ug=function(){this.$a.ug(this.ab);
this.zg&&this.ab.present()};a.prototype.Ye=function(){this.$a.Ye(this.da);this.da.rA()};a.prototype.Ms=function(a){a&&this.Fm.push(a)};a.prototype.gv=function(a){ua(this.Fm,a)};a.prototype.qj=function(a){return this.Ni[a.toString()]};a.prototype.Ph=function(a){var c,b;if(!this.Bf.contains(a)){this.Bf.add(a);if(a.ge)for(c=0,b=a.siblings.length;c<b;c++)this.Ph(a.siblings[c]);this.Pp&&this.Bf.Ui.push(a);this.$e++;this.trigger(Object.getPrototypeOf(a.type.gc).ja.ww,a);this.$e--}};a.prototype.Ec=function(){var a,
c,b,d,e,f,g,h,k,l;this.Pp=!0;d=0;for(f=this.Bd.length;d<f;d++)for(a=this.Bd[d],c=a.type,c.C.push(a),e=0,g=c.mb.length;e<g;e++)c.mb[e].C.push(a),c.mb[e].Zj=!0;this.Bd.length=0;f=this.Bf.Ti();for(d=0;d<f.length;d++){a=f[d];c=a.type;b=c.C;e=0;for(g=this.Fm.length;e<g;e++)this.Fm[e](a);ua(b,a);0===b.length&&(c.Ts=!1);a.tm&&c.kt.update(a,a.tm,null);a.M&&(sa(a.M.C,a.fe()),a.M.Vd=!0);e=0;for(g=c.mb.length;e<g;e++)ua(c.mb[e].C,a),c.mb[e].Zj=!0;if(a.wa)for(e=0,g=a.wa.length;e<g;e++)b=a.wa[e],b.Oi&&b.Oi(),
b.Xa.Mq.remove(a);this.Nq.remove(a);this.Oq.remove(a);e=0;for(g=this.cg.Ud.length;e<g;e++)if(k=this.cg.Ud[e],k.Pd.hasOwnProperty(c.index)&&ua(k.Pd[c.index].ri,a),!c.Da)for(b=0,h=c.mb.length;b<h;b++)l=c.mb[b],k.Pd.hasOwnProperty(l.index)&&ua(k.Pd[l.index].ri,a);a.Oi&&a.Oi();this.Ni.hasOwnProperty(a.uid.toString())&&delete this.Ni[a.uid.toString()];this.Hn--;64>c.Dm.length&&c.Dm.push(a);c.Zj=!0}this.Bf.mh()||(this.cb=!0);this.Bf.clear();this.Pp=!1};a.prototype.ot=function(a,c,b,d){if(a.Da){var e=la(Math.random()*
a.Gn.length);return this.ot(a.Gn[e],c,b,d)}return a.Be?this.gh(a.Be,c,!1,b,d,!1):null};var k=[];a.prototype.gh=function(a,c,b,d,e,g){var f,h,l,m;if(!a)return null;var E=this.U[a[1]],A=E.gc.qh;if(this.jn&&A&&!E.Qp||A&&!this.da&&11===a[0][11])return null;var B=c;A||(c=null);var v;E.Dm.length?(v=E.Dm.pop(),v.Od=!0,E.gc.yc.call(v,E)):(v=new E.gc.yc(E),v.Od=!1);v.uid=b&&!g?a[2]:this.wl++;this.Ni[v.uid.toString()]=v;v.av=this.Eu++;v.pi=E.C.length;f=0;for(h=this.Bd.length;f<h;++f)this.Bd[f].type===E&&v.pi++;
v.Qk=lb;l=a[3];if(v.Od)Ma(v.za);else{v.za={};if("undefined"!==typeof cr_is_preview)for(v.Ut=[],v.Ut.length=l.length,f=0,h=l.length;f<h;f++)v.Ut[f]=l[f][1];v.ec=[];v.ec.length=l.length}f=0;for(h=l.length;f<h;f++)v.ec[f]=l[f][0];if(A){var D=a[0];v.x=da(d)?D[0]:d;v.y=da(e)?D[1]:e;v.z=D[2];v.width=D[3];v.height=D[4];v.depth=D[5];v.L=D[6];v.opacity=D[7];v.Gd=D[8];v.Hd=D[9];v.jd=D[10];f=D[11];!this.da&&E.qa.length&&(v.jd=f);v.Ek=Sa(v.jd);this.T&&Ta(v,v.jd,this.T);if(v.Od){f=0;for(h=D[12].length;f<h;f++)for(l=
0,m=D[12][f].length;l<m;l++)v.Db[f][l]=D[12][f][l];v.Yc.set(0,0,0,0);v.tm.set(0,0,-1,-1);v.nc.Vn(v.Yc);v.Vo.length=0}else{v.Db=D[12].slice(0);f=0;for(h=v.Db.length;f<h;f++)v.Db[f]=D[12][f].slice(0);v.Ra=[];v.bh=[];v.bh.length=E.qa.length;v.Yc=new oa(0,0,0,0);v.tm=new oa(0,0,-1,-1);v.nc=new qa;v.Vo=[];v.Bb=pb;v.tC=qb;v.Af=rb;v.Qb=sb;v.fe=tb}v.Ll=!1;v.RA=0;v.QA=0;v.PA=null;14===D.length&&(v.Ll=!0,v.RA=D[13][0],v.QA=D[13][1],v.PA=D[13][2]);f=0;for(h=E.qa.length;f<h;f++)v.bh[f]=!0;v.Ug=ub;v.Ug();v.Nv=
!!v.Ra.length;v.Uo=!0;E.Ss=!0;v.visible=!0;v.ul=-1;v.M=c;v.Vi=c.C.length;"undefined"===typeof v.nd&&(v.nd=null);this.cb=v.fi=!0}v.toString=mb;var G;f=k.length=0;for(h=E.mb.length;f<h;f++)k.push.apply(k,E.mb[f].Sb);k.push.apply(k,E.Sb);if(v.Od)for(f=0,h=k.length;f<h;f++){var M=k[f];G=v.wa[f];G.Od=!0;M.Xa.yc.call(G,M,v);D=a[4][f];l=0;for(m=D.length;l<m;l++)G.Oa[l]=D[l];G.xb();M.Xa.Mq.add(v)}else for(v.wa=[],f=0,h=k.length;f<h;f++)M=k[f],G=new M.Xa.yc(M,v),G.Od=!1,G.Oa=a[4][f].slice(0),G.xb(),v.wa.push(G),
M.Xa.Mq.add(v);D=a[5];if(v.Od)for(f=0,h=D.length;f<h;f++)v.Oa[f]=D[f];else v.Oa=D.slice(0);this.Bd.push(v);c&&(c.C.push(v),1!==c.Og||1!==c.Pg)&&(E.Ts=!0);this.Hn++;if(E.ge){if(v.ge=!0,v.Od?v.siblings.length=0:v.siblings=[],!b&&!g){f=0;for(h=E.qd.length;f<h;f++)if(E.qd[f]!==E){if(!E.qd[f].Be)return null;v.siblings.push(this.gh(E.qd[f].Be,B,!1,A?v.x:d,A?v.y:e,!0))}f=0;for(h=v.siblings.length;f<h;f++)for(v.siblings[f].siblings.push(v),l=0;l<h;l++)f!==l&&v.siblings[f].siblings.push(v.siblings[l])}}else v.ge=
!1,v.siblings=null;v.xb();f=0;for(h=v.wa.length;f<h;f++)v.wa[f].Wu&&v.wa[f].Wu();return v};a.prototype.Fp=function(a){var c,b;c=0;for(b=this.$a.La.length;c<b;c++){var d=this.$a.La[c];if(Va(d.name,a))return d}return null};a.prototype.Ok=function(a){a=la(a);0>a&&(a=0);a>=this.$a.La.length&&(a=this.$a.La.length-1);return this.$a.La[a]};a.prototype.bp=function(a){var c,b;c=0;for(b=a.length;c<b;c++)a[c].fb().Ab=!0};a.prototype.Fl=function(a){var c,b;c=0;for(b=a.length;c<b;c++)a[c].Fl()};a.prototype.$q=
function(a){var c,b;c=0;for(b=a.length;c<b;c++)a[c].$q()};a.prototype.Sj=function(a){var c,b;c=0;for(b=a.length;c<b;c++)a[c].Sj()};a.prototype.MA=function(a,c,b){var d=a.fb(),e,f,g,h,k,l;if(d.Ab)for(d.Ab=!1,e=d.C.length=0,h=a.C.length;e<h;e++)g=a.C[e],g.Qb(),k=g.M.zd(c,b,!0),l=g.M.zd(c,b,!1),g.Af(k,l)&&d.C.push(g);else{e=f=0;for(h=d.C.length;e<h;e++)g=d.C[e],g.Qb(),k=g.M.zd(c,b,!0),l=g.M.zd(c,b,!1),g.Af(k,l)&&(d.C[f]=d.C[e],f++);d.C.length=f}a.dh();return d.Hp()};new qa;new oa(0,0,0,0);a.prototype.Hv=
function(a,c){if(!c)return!1;var b,d,e,f,g;b=0;for(d=a.Sb.length;b<d;b++)if(a.Sb[b].Xa instanceof c)return!0;if(!a.Da)for(b=0,d=a.mb.length;b<d;b++)for(g=a.mb[b],e=0,f=g.Sb.length;e<f;e++)if(g.Sb[e].Xa instanceof c)return!0;return!1};a.prototype.Iv=function(a){return this.Hv(a,Ib.NB)};a.prototype.Dr=function(a){return this.Hv(a,Ib.OB)};a.prototype.vA=function(a,c){a.fi&&c.fi&&this.dv.push([a,c])};var l=[],m=-1;a.prototype.trigger=function(a,c,b){if(!this.$a)return!1;var d=this.$a.Hm;if(!d)return!1;
m++;m===l.length?l.push(new ca):l[m].clear();a=this.Ev(a,c,d,b);m--;return a};a.prototype.Ev=function(a,c,b,d){var e=l[m];if(e.contains(b))return!1;e.add(b);var e=b.Pt.Ti(),f=!1,g,h,k;g=0;for(h=e.length;g<h;g++)e[g].rz()&&(k=this.Ev(a,c,e[g].Sk,d),f=f||k);if(c)for(k=this.Br(a,c,c.type.name,b,d),f=f||k,g=0,h=c.type.mb.length;g<h;g++)k=this.Br(a,c,c.type.mb[g].name,b,d),f=f||k;else k=this.Br(a,c,"system",b,d),f=f||k;return f};a.prototype.Br=function(a,c,b,d,e){var f,g=!1,h=!1,h="undefined"!==typeof e,
k=(h?d.At:d.Fv)[b];if(!k)return g;var l=null;d=0;for(f=k.length;d<f;d++)if(k[d].method==a){l=k[d].Jm;break}if(!l)return g;a=h?l[e]:l;if(!a)return null;d=0;for(f=a.length;d<f;d++)e=a[d][0],h=a[d][1],h=this.Iy(c,b,e,h),g=g||h;return g};a.prototype.Iy=function(a,c,b,d){var e,f,g=!1;this.Cr++;var h=this.Dd().We;h&&this.Fl(h.Hh);var k=1<this.Cr;this.Fl(b.Hh);k&&this.uA();var l=this.br(b);l.We=b;a&&(e=this.types[c].fb(),e.Ab=!1,e.C.length=1,e.C[0]=a,this.types[c].dh());a=!0;if(b.parent){c=l.xv;for(e=b.parent;e;)c.push(e),
e=e.parent;c.reverse();e=0;for(f=c.length;e<f;e++)if(!c[e].zA()){a=!1;break}}a&&(this.Km++,b.Wf?b.yA(d):b.ic(),g=g||l.vi);this.Uu();k&&this.pA();this.Sj(b.Hh);h&&this.Sj(h.Hh);0!==this.$e||0!==m||this.Rp||this.Bf.mh()&&!this.Bd.length||this.Ec();this.Cr--;return g};a.prototype.Oy=function(){var a=this.Dd();return a.We.Lb[a.md]};a.prototype.uA=function(){this.vn++;this.vn>=this.qq.length&&this.qq.push([])};a.prototype.pA=function(){this.vn--};a.prototype.Gt=function(){return this.qq[this.vn]};a.prototype.br=
function(a){this.Im++;this.Im>=this.rp.length&&this.rp.push(new vb);var c=this.Dd();c.reset(a);return c};a.prototype.Uu=function(){this.Im--};a.prototype.Dd=function(){return this.rp[this.Im]};a.prototype.Ht=function(a,c){for(var b,d,e,f,g,h;c;){b=0;for(d=c.Ne.length;b<d;b++)if(h=c.Ne[b],h instanceof wb&&Va(a,h.name))return h;c=c.parent}b=0;for(d=this.li.length;b<d;b++)for(g=this.li[b],e=0,f=g.kh.length;e<f;e++)if(h=g.kh[e],h instanceof wb&&Va(a,h.name))return h;return null};a.prototype.Kt=function(a){var c,
b;c=0;for(b=this.bf.length;c<b;c++)if(this.bf[c].Ia===a)return this.bf[c];return null};a.prototype.Xm=function(a){var c,b;c=0;for(b=this.U.length;c<b;c++)if(this.U[c].Ia===a)return this.U[c];return null};a.prototype.Py=function(a){var c,b;c=0;for(b=this.hj.length;c<b;c++)if(this.hj[c].Ia===a)return this.hj[c];return null};a.prototype.mz=function(){var a=this,b=this.qr,f=this.Cg,g=this.sn,h=!1;this.sv&&(h=!0,b="__c2_continuouspreview",this.sv=!1);if(b.length){this.Ec();f=this.EA();if(window.indexedDB&&
!this.Jf)c(b,f,function(){H("Saved state to IndexedDB storage ("+f.length+" bytes)");a.Cg=f;a.trigger(N.prototype.ja.Fo,null);a.Cg="";h&&e()},function(c){try{localStorage.setItem("__c2save_"+b,f),H("Saved state to WebStorage ("+f.length+" bytes)"),a.Cg=f,a.trigger(N.prototype.ja.Fo,null),a.Cg="",h&&e()}catch(d){H("Failed to save game state: "+c+"; "+d)}});else try{localStorage.setItem("__c2save_"+b,f),H("Saved state to WebStorage ("+f.length+" bytes)"),a.Cg=f,this.trigger(N.prototype.ja.Fo,null),
a.Cg="",h&&e()}catch(k){H("Error saving to WebStorage: "+k)}this.$c=this.sn=this.qr=""}g.length&&(window.indexedDB&&!this.Jf?d(g,function(c){c?(a.$c=c,H("Loaded state from IndexedDB storage ("+a.$c.length+" bytes)")):(a.$c=localStorage.getItem("__c2save_"+g)||"",H("Loaded state from WebStorage ("+a.$c.length+" bytes)"));a.Jl=!1;a.$c.length||a.trigger(N.prototype.ja.Eo,null)},function(){a.$c=localStorage.getItem("__c2save_"+g)||"";H("Loaded state from WebStorage ("+a.$c.length+" bytes)");a.Jl=!1;a.$c.length||
a.trigger(N.prototype.ja.Eo,null)}):(this.$c=localStorage.getItem("__c2save_"+g)||"",H("Loaded state from WebStorage ("+this.$c.length+" bytes)"),this.Jl=!1,a.$c.length||a.trigger(N.prototype.ja.Eo,null)),this.qr=this.sn="");this.$c.length&&(this.Ec(),this.Cz(this.$c),this.Cg=this.$c,this.trigger(N.prototype.ja.yw,null),this.$c=this.Cg="")};a.prototype.EA=function(){var a,c,b,d,e,f,h,k={c2save:!0,version:1,rt:{time:this.wj.td,timescale:this.Ri,tickcount:this.Oe,execcount:this.Km,next_uid:this.wl,
running_layout:this.$a.Ia,start_time_offset:Date.now()-this.Xn},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};a=0;for(c=this.U.length;a<c;a++)if(e=this.U[a],!e.Da&&!this.Iv(e)){f={instances:[]};La(e.za)&&(f.ex=g(e.za));b=0;for(d=e.C.length;b<d;b++)f.instances.push(this.or(e.C[b]));k.types[e.Ia.toString()]=f}a=0;for(c=this.bf.length;a<c;a++)b=this.bf[a],k.layouts[b.Ia.toString()]=b.gd();d=k.events.groups;a=0;for(c=this.hj.length;a<c;a++)b=this.hj[a],d[b.Ia.toString()]=!!this.lm[b.Rk];
c=k.events.cnds;for(h in this.kj)this.kj.hasOwnProperty(h)&&(a=this.kj[h],La(a.za)&&(c[h]={ex:g(a.za)}));c=k.events.acts;for(h in this.gj)this.gj.hasOwnProperty(h)&&(a=this.gj[h],La(a.za)&&(c[h]={ex:a.za}));c=k.events.vars;for(h in this.bk)this.bk.hasOwnProperty(h)&&(a=this.bk[h],a.dn||a.parent&&!a.Zk||(c[h]=a.data));k.system=this.cg.gd();return JSON.stringify(k)};a.prototype.cv=function(){var a,c,b,d,e,f;this.Ni={};a=0;for(c=this.U.length;a<c;a++)if(b=this.U[a],!b.Da)for(d=0,e=b.C.length;d<e;d++)f=
b.C[d],this.Ni[f.uid.toString()]=f};a.prototype.Cz=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){var c=a.rt;this.wj.reset();this.wj.td=c.time;this.Ri=c.timescale;this.Oe=c.tickcount;this.Km=c.execcount;this.Xn=Date.now()-c.start_time_offset;var b=c.running_layout;if(b!==this.$a.Ia)if(b=this.Kt(b))this.wt(b);else return;var d,e,f,h,g,k,l;k=a.types;for(e in k)if(k.hasOwnProperty(e)&&(h=this.Xm(parseInt(e,10)))&&!h.Da&&!this.Iv(h)){k[e].ex?h.za=k[e].ex:Ma(h.za);g=h.C;f=k[e].instances;b=0;
for(d=ia(g.length,f.length);b<d;b++)this.tn(g[b],f[b]);b=f.length;for(d=g.length;b<d;b++)this.Ph(g[b]);b=g.length;for(d=f.length;b<d;b++){g=null;if(h.gc.qh&&(g=this.$a.Wm(f[b].w.l),!g))continue;g=this.gh(h.Be,g,!1,0,0,!0);this.tn(g,f[b])}h.Zj=!0}this.Ec();this.cv();d=a.layouts;for(e in d)d.hasOwnProperty(e)&&(b=this.Kt(parseInt(e,10)))&&b.Jd(d[e]);d=a.events.groups;for(e in d)d.hasOwnProperty(e)&&(b=this.Py(parseInt(e,10)))&&(this.lm[b.Rk]=d[e]);b=a.events.cnds;for(e in b)b.hasOwnProperty(e)&&this.kj.hasOwnProperty(e)&&
(this.kj[e].za=b[e].ex);b=a.events.acts;for(e in b)b.hasOwnProperty(e)&&this.gj.hasOwnProperty(e)&&(this.gj[e].za=b[e].ex);b=a.events.vars;for(e in b)b.hasOwnProperty(e)&&this.bk.hasOwnProperty(e)&&(this.bk[e].data=b[e]);this.wl=c.next_uid;this.cg.Jd(a.system);b=0;for(d=this.U.length;b<d;b++)if(h=this.U[b],!h.Da)for(e=0,a=h.C.length;e<a;e++){g=h.C[e];if(h.ge)for(k=g.Qk(),c=g.siblings.length=0,f=h.qd.length;c<f;c++)l=h.qd[c],h!==l&&g.siblings.push(l.C[k]);g.mg&&g.mg();if(g.wa)for(c=0,f=g.wa.length;c<
f;c++)k=g.wa[c],k.mg&&k.mg()}this.cb=!0}};a.prototype.or=function(a,c){var b,d,e,f,h;f=a.type;e=f.gc;var k={};c?k.c2=!0:k.uid=a.uid;La(a.za)&&(k.ex=g(a.za));if(a.ec&&a.ec.length)for(k.ivs={},b=0,d=a.ec.length;b<d;b++)k.ivs[a.type.Np[b].toString()]=a.ec[b];if(e.qh){e={x:a.x,y:a.y,w:a.width,h:a.height,l:a.M.Ia,zi:a.fe()};0!==a.L&&(e.a=a.L);1!==a.opacity&&(e.o=a.opacity);0.5!==a.Gd&&(e.hX=a.Gd);0.5!==a.Hd&&(e.hY=a.Hd);0!==a.jd&&(e.bm=a.jd);a.visible||(e.v=a.visible);a.fi||(e.ce=a.fi);-1!==a.ul&&(e.mts=
a.ul);if(f.qa.length)for(e.fx=[],b=0,d=f.qa.length;b<d;b++)h=f.qa[b],e.fx.push({name:h.name,active:a.bh[h.index],params:a.Db[h.index]});k.w=e}if(a.wa&&a.wa.length)for(k.behs={},b=0,d=a.wa.length;b<d;b++)f=a.wa[b],f.gd&&(k.behs[f.type.Ia.toString()]=f.gd());a.gd&&(k.data=a.gd());return k};a.prototype.Ry=function(a,c){var b,d;b=0;for(d=a.Np.length;b<d;b++)if(a.Np[b]===c)return b;return-1};a.prototype.Ny=function(a,c){var b,d;b=0;for(d=a.wa.length;b<d;b++)if(a.wa[b].type.Ia===c)return b;return-1};a.prototype.tn=
function(a,c,b){var d,e,f,h,g;g=a.type;f=g.gc;if(b){if(!c.c2)return}else a.uid=c.uid;c.ex?a.za=c.ex:Ma(a.za);if(e=c.ivs)for(d in e)e.hasOwnProperty(d)&&(b=this.Ry(g,parseInt(d,10)),0>b||b>=a.ec.length||(a.ec[b]=e[d]));if(f.qh){f=c.w;a.M.Ia!==f.l&&(b=a.M,a.M=this.$a.Wm(f.l),a.M?(a.M.C.push(a),a.M.Vd=!0,ua(b.C,a),b.Vd=!0):(a.M=b,this.Ph(a)));a.x=f.x;a.y=f.y;a.width=f.w;a.height=f.h;a.Vi=f.zi;a.L=f.hasOwnProperty("a")?f.a:0;a.opacity=f.hasOwnProperty("o")?f.o:1;a.Gd=f.hasOwnProperty("hX")?f.hX:0.5;a.Hd=
f.hasOwnProperty("hY")?f.hY:0.5;a.visible=f.hasOwnProperty("v")?f.v:!0;a.fi=f.hasOwnProperty("ce")?f.ce:!0;a.ul=f.hasOwnProperty("mts")?f.mts:-1;a.jd=f.hasOwnProperty("bm")?f.bm:0;a.Ek=Sa(a.jd);this.T&&Ta(a,a.jd,this.T);a.Bb();if(f.hasOwnProperty("fx"))for(b=0,e=f.fx.length;b<e;b++)h=g.Ep(f.fx[b].name),0>h||(a.bh[h]=f.fx[b].active,a.Db[h]=f.fx[b].params);a.Ug()}if(g=c.behs)for(d in g)g.hasOwnProperty(d)&&(f=this.Ny(a,parseInt(d,10)),0>f||a.wa[f].Jd(g[d]));c.data&&a.Jd(c.data)};xb=function(c){return new a(document.getElementById(c))};
yb=function(c,b){return new a({dc:!0,width:c,height:b})};window.cr_createRuntime=xb;window.cr_createDCRuntime=yb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var c=document.createElement("screencanvas")||document.createElement("canvas");c.JC=!0;document.body.appendChild(c);c=new a(c);window.c2runtime=c;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);
return c}})();window.cr_getC2Runtime=function(){var a=document.getElementById("c2canvas");return a?a.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_sizeCanvas=function(a,b){if(0!==a&&0!==b){var c=window.cr_getC2Runtime();c&&c.setSize(a,b)}};window.cr_setSuspended=function(a){var b=window.cr_getC2Runtime();b&&b.setSuspended(a)};
(function(){function a(a,c){this.g=a;this.Hm=null;this.scrollX=this.g.tc/2;this.scrollY=this.g.sc/2;this.scale=1;this.L=0;this.Lk=!0;this.name=c[0];this.width=c[1];this.height=c[2];this.Jv=c[3];this.rv=c[4];this.Ia=c[5];var b=c[6],d,k;this.La=[];this.Tk=[];d=0;for(k=b.length;d<k;d++){var l=new zb(this,b[d]);l.Fu=d;this.La.push(l)}b=c[7];this.qi=[];d=0;for(k=b.length;d<k;d++){var l=b[d],m=this.g.U[l[1]];m.Be||(m.Be=l);this.qi.push(l);-1===this.Tk.indexOf(m)&&this.Tk.push(m)}this.qa=[];this.Ra=[];this.Db=
[];d=0;for(k=c[8].length;d<k;d++)this.qa.push({id:c[8][d][0],name:c[8][d][1],Cc:-1,Yd:!0,index:d}),this.Db.push(c[8][d][2].slice(0));this.Ug();this.Uj=new oa(0,0,1,1);this.er=new oa(0,0,1,1);this.Ah={}}function b(a,c){this.bb=a;this.g=a.g;this.C=[];this.scale=1;this.L=0;this.ii=!1;this.Tg=new oa(0,0,0,0);this.Dv=new qa;this.Qd=this.Td=this.Sd=this.Rd=0;this.Vd=!1;this.name=c[0];this.index=c[1];this.Ia=c[2];this.visible=c[3];this.eh=c[4];this.Si=c[5];this.Og=c[6];this.Pg=c[7];this.opacity=c[8];this.yp=
c[9];this.Wg=c[10];this.jd=c[11];this.ey=c[12];this.Ek="source-over";this.Hc=this.Nc=0;this.Fh=!1;var b=c[13],d,k;this.rj=[];d=0;for(k=b.length;d<k;d++){var l=b[d],m=this.g.U[l[1]];m.Be||(m.Be=l);this.rj.push(l);-1===this.bb.Tk.indexOf(m)&&this.bb.Tk.push(m)}this.qa=[];this.Ra=[];this.Db=[];d=0;for(k=c[14].length;d<k;d++)this.qa.push({id:c[14][d][0],name:c[14][d][1],Cc:-1,Yd:!0,index:d}),this.Db.push(c[14][d][2].slice(0));this.Ug();this.Uj=new oa(0,0,1,1);this.er=new oa(0,0,1,1)}function c(a,c){return a.Vi-
c.Vi}a.prototype.DA=function(a){var c=a.type.Ia.toString();this.Ah.hasOwnProperty(c)||(this.Ah[c]=[]);this.Ah[c].push(this.g.or(a))};a.prototype.Nt=function(){var a=this.La[0];return!a.Si&&1===a.opacity&&!a.yp&&a.visible};a.prototype.Ug=function(){this.Ra.length=0;var a,c,b;a=0;for(c=this.qa.length;a<c;a++)b=this.qa[a],b.Yd&&this.Ra.push(b)};a.prototype.Dp=function(a){var c,b,d;c=0;for(b=this.qa.length;c<b;c++)if(d=this.qa[c],d.name===a)return d;return null};var d=[];a.prototype.ur=function(){this.rv&&
(this.Hm=this.g.sp[this.rv]);this.g.$a=this;this.scrollX=this.g.tc/2;this.scrollY=this.g.sc/2;var a,b,h,f,k,l,m;a=0;for(h=this.g.U.length;a<h;a++)if(b=this.g.U[a],!b.Da)for(k=b.C,b=0,f=k.length;b<f;b++)if(l=k[b],l.M){var n=l.M.Fu;n>=this.La.length&&(n=this.La.length-1);l.M=this.La[n];l.M.C.push(l);l.M.Vd=!0}d.length=0;this.xx();a=0;for(h=this.La.length;a<h;a++)l=this.La[a],l.Gx(),l.ii=!0,b=l.zd(0,0,!0,!0),f=l.zd(0,0,!1,!0),l.ii=!1,this.g.Bh&&(b=b+0.5|0,f=f+0.5|0),l.jr(b,f,null);k=!1;if(!this.Lk){for(m in this.Ah)if(this.Ah.hasOwnProperty(m)&&
(b=this.g.Xm(parseInt(m,10)))&&!b.Da&&this.g.Dr(b)){f=this.Ah[m];a=0;for(h=f.length;a<h;a++){l=null;if(b.gc.qh&&(l=this.Wm(f[a].w.l),!l))continue;l=this.g.gh(b.Be,l,!1,0,0,!0);this.g.tn(l,f[a]);k=!0;d.push(l)}f.length=0}a=0;for(h=this.La.length;a<h;a++)this.La[a].C.sort(c),this.La[a].Vd=!0}k&&(this.g.Ec(),this.g.cv());for(a=0;a<d.length;a++)if(l=d[a],l.type.ge)for(h=l.Qk(),b=0,f=l.type.qd.length;b<f;b++)m=l.type.qd[b],l.type!==m&&(m.C.length>h?l.siblings.push(m.C[h]):m.Be&&(k=this.g.gh(m.Be,l.M,!0,
l.x,l.y,!0),this.g.Ec(),m.lo(),l.siblings.push(k),d.push(k)));a=0;for(h=this.qi.length;a<h;a++)this.g.gh(this.qi[a],null,!0);this.g.$o=null;this.g.Ec();if(this.g.ab&&!this.g.rd)for(a=0,h=this.g.U.length;a<h;a++)m=this.g.U[a],!m.Da&&m.C.length&&m.Xu&&m.Xu(this.g.ab);a=0;for(h=d.length;a<h;a++)l=d[a],this.g.trigger(Object.getPrototypeOf(l.type.gc).ja.Do,l);d.length=0;this.g.trigger(N.prototype.ja.ds,null);this.Lk=!1};a.prototype.Fx=function(){var a,c,b,d,k;c=a=0;for(b=this.qi.length;a<b;a++)d=this.qi[a],
k=this.g.U[d[1]],k.global?this.g.gh(d,null,!0):(this.qi[c]=d,c++);this.qi.length=c};a.prototype.JA=function(){this.g.trigger(N.prototype.ja.xw,null);this.g.cg.Ud.length=0;var a,c,b,d,k,l;a=0;for(c=this.La.length;a<c;a++){k=this.La[a].C;b=0;for(d=k.length;b<d;b++)l=k[b],l.type.global||(this.g.Dr(l.type)&&this.DA(l),this.g.Ph(l));this.g.Ec();k.length=0;this.La[a].Vd=!0}a=0;for(c=this.g.U.length;a<c;a++)if(k=this.g.U[a],!(k.global||k.gc.qh||k.gc.tr||k.Da)){b=0;for(d=k.C.length;b<d;b++)this.g.Ph(k.C[b]);
this.g.Ec()}};a.prototype.ug=function(a){var c,b=a,d=!1,k=!this.g.De;k&&(this.g.rn||(this.g.rn=document.createElement("canvas"),c=this.g.rn,c.width=this.g.Ha,c.height=this.g.Ga,this.g.lu=c.getContext("2d"),d=!0),c=this.g.rn,b=this.g.lu,c.width!==this.g.Ha&&(c.width=this.g.Ha,d=!0),c.height!==this.g.Ga&&(c.height=this.g.Ga,d=!0),d&&(b.webkitImageSmoothingEnabled=this.g.Za,b.mozImageSmoothingEnabled=this.g.Za,b.msImageSmoothingEnabled=this.g.Za,b.imageSmoothingEnabled=this.g.Za));b.globalAlpha=1;b.globalCompositeOperation=
"source-over";this.g.So&&!this.Nt()&&b.clearRect(0,0,this.g.Ha,this.g.Ga);var l,m,d=0;for(l=this.La.length;d<l;d++)m=this.La[d],m.visible&&0<m.opacity&&11!==m.jd&&m.ug(b);k&&a.drawImage(c,0,0,this.g.width,this.g.height)};a.prototype.Ye=function(a){var c=0<this.Ra.length||this.g.ak||!this.g.De;if(c){this.g.Id||(this.g.Id=a.qg(this.g.Ha,this.g.Ga,this.g.Za));if(this.g.Id.Dk!==this.g.Ha||this.g.Id.Ck!==this.g.Ga)a.deleteTexture(this.g.Id),this.g.Id=a.qg(this.g.Ha,this.g.Ga,this.g.Za);a.ag(this.g.Id);
this.g.De||a.Xj(this.g.Ha,this.g.Ga)}else this.g.Id&&(a.ag(null),a.deleteTexture(this.g.Id),this.g.Id=null);this.g.So&&!this.Nt()&&a.clear(0,0,0,0);var b,d;b=0;for(d=this.La.length;b<d;b++)this.La[b].visible&&0<this.La[b].opacity&&this.La[b].Ye(a);c&&(0===this.Ra.length||1===this.Ra.length&&this.g.De?(1===this.Ra.length?(c=this.Ra[0].index,a.bg(this.Ra[0].Cc),a.Wj(null,1/this.g.Ha,1/this.g.Ga,0,0,1,1,this.scale,this.Db[c]),a.Nn(this.Ra[0].Cc)&&(this.g.cb=!0)):a.bg(0),this.g.De||a.Xj(this.g.width,
this.g.height),a.ag(null),a.Vj(1),a.pe(this.g.Id),a.pv(),a.Zf(),a.eg(),c=this.g.width/2,b=this.g.height/2,a.On(-c,b,c,b,c,-b,-c,-b),a.pe(null)):this.hr(a,null,null,null))};a.prototype.Pk=function(){return 0<this.Ra.length||this.g.ak||!this.g.De?this.g.Id:null};a.prototype.Lt=function(){var a=this.La[0].Ed(),c,b,d;c=1;for(b=this.La.length;c<b;c++)d=this.La[c],(0!==d.Og||0!==d.Pg)&&d.Ed()<a&&(a=d.Ed());return a};a.prototype.nv=function(a){if(!this.Jv){var c=this.g.Ha*(1/this.Lt())/2;a>this.width-c&&
(a=this.width-c);a<c&&(a=c)}this.scrollX!==a&&(this.scrollX=a,this.g.cb=!0)};a.prototype.ov=function(a){if(!this.Jv){var c=this.g.Ga*(1/this.Lt())/2;a>this.height-c&&(a=this.height-c);a<c&&(a=c)}this.scrollY!==a&&(this.scrollY=a,this.g.cb=!0)};a.prototype.xx=function(){this.nv(this.scrollX);this.ov(this.scrollY)};a.prototype.hr=function(a,c,b,d){var k=b?b.Ra:c?c.Ra:this.Ra,l=b?b.M.Ed():c?c.Ed():1,m=this.g.Bp,n,q,p,t,r=0,x=1,y,C=this.g.Ha,F=this.g.Ga,L=C/2,E=F/2,A=c?c.Uj:this.Uj,B=c?c.er:this.er,v=
0,D=0,G=0,M=0,Q=C,za=C,P=F,Aa=F,pa=p=0,Ha=b?b.M.wg():0;if(b){n=0;for(q=k.length;n<q;n++)p+=a.Uy(k[n].Cc),pa+=a.Vy(k[n].Cc);t=b.Yc;v=c.fc(t.left,t.top,!0);G=c.fc(t.left,t.top,!1);Q=c.fc(t.right,t.bottom,!0);P=c.fc(t.right,t.bottom,!1);0!==Ha&&(n=c.fc(t.right,t.top,!0),q=c.fc(t.right,t.top,!1),D=c.fc(t.left,t.bottom,!0),M=c.fc(t.left,t.bottom,!1),t=Math.min(v,Q,n,D),Q=Math.max(v,Q,n,D),v=t,t=Math.min(G,P,q,M),P=Math.max(G,P,q,M),G=t);v-=p;G-=pa;Q+=p;P+=pa;B.left=v/C;B.top=1-G/F;B.right=Q/C;B.bottom=
1-P/F;D=v=la(v);M=G=la(G);za=Q=ma(Q);Aa=P=ma(P);D-=p;M-=pa;za+=p;Aa+=pa;0>v&&(v=0);0>G&&(G=0);Q>C&&(Q=C);P>F&&(P=F);0>D&&(D=0);0>M&&(M=0);za>C&&(za=C);Aa>F&&(Aa=F);A.left=v/C;A.top=1-G/F;A.right=Q/C;A.bottom=1-P/F}else A.left=B.left=0,A.top=B.top=0,A.right=B.right=1,A.bottom=B.bottom=1;pa=b&&((b.L||Ha)&&a.Dl(k[0].Cc)||0!==p||0!==pa||1!==b.opacity||b.type.gc.Bu)||c&&!b&&1!==c.opacity;a.pv();if(pa){m[r]||(m[r]=a.qg(C,F,this.g.Za));if(m[r].Dk!==C||m[r].Ck!==F)a.deleteTexture(m[r]),m[r]=a.qg(C,F,this.g.Za);
a.bg(0);a.ag(m[r]);y=Aa-M;a.clearRect(D,F-M-y,za-D,y);b?b.Ye(a):(a.pe(this.g.he),a.Vj(c.opacity),a.Zf(),a.translate(-L,-E),a.eg(),a.Dh(v,P,Q,P,Q,G,v,G,A));B.left=B.top=0;B.right=B.bottom=1;b&&(t=A.top,A.top=A.bottom,A.bottom=t);r=1;x=0}a.Vj(1);p=k.length-1;var Ha=a.Zq(k[p].Cc)||!c&&!b&&!this.g.De,Ia=0;n=0;for(q=k.length;n<q;n++){m[r]||(m[r]=a.qg(C,F,this.g.Za));if(m[r].Dk!==C||m[r].Ck!==F)a.deleteTexture(m[r]),m[r]=a.qg(C,F,this.g.Za);a.bg(k[n].Cc);Ia=k[n].index;a.Nn(k[n].Cc)&&(this.g.cb=!0);0!=n||
pa?(a.Wj(d,1/C,1/F,B.left,B.top,B.right,B.bottom,l,b?b.Db[Ia]:c?c.Db[Ia]:this.Db[Ia]),a.pe(null),n!==p||Ha?(a.ag(m[r]),y=Aa-M,t=F-M-y,a.clearRect(D,t,za-D,y)):(b?a.Gh(b.Nc,b.Hc):c&&a.Gh(c.Nc,c.Hc),a.ag(d)),a.pe(m[x]),a.Zf(),a.translate(-L,-E),a.eg(),a.Dh(v,P,Q,P,Q,G,v,G,A),n!==p||Ha||a.pe(null)):(a.ag(m[r]),y=Aa-M,t=F-M-y,a.clearRect(D,t,za-D,y),b?(a.Wj(d,1/b.width,1/b.height,B.left,B.top,B.right,B.bottom,l,b.Db[Ia]),b.Ye(a)):(a.Wj(d,1/C,1/F,0,0,1,1,l,c?c.Db[Ia]:this.Db[Ia]),a.pe(c?this.g.he:this.g.Id),
a.Zf(),a.translate(-L,-E),a.eg(),a.Dh(v,P,Q,P,Q,G,v,G,A)),B.left=B.top=0,B.right=B.bottom=1,b&&!Ha&&(t=P,P=G,G=t));r=0===r?1:0;x=0===r?1:0}Ha&&(a.bg(0),b?a.Gh(b.Nc,b.Hc):c?a.Gh(c.Nc,c.Hc):this.g.De||(a.Xj(this.g.width,this.g.height),L=this.g.width/2,E=this.g.height/2,G=v=0,Q=this.g.width,P=this.g.height),a.ag(d),a.pe(m[x]),a.Zf(),a.translate(-L,-E),a.eg(),b&&1===k.length&&!pa?a.Dh(v,G,Q,G,Q,P,v,P,A):a.Dh(v,P,Q,P,Q,G,v,G,A),a.pe(null))};a.prototype.Wm=function(a){var c,b;c=0;for(b=this.La.length;c<
b;c++)if(this.La[c].Ia===a)return this.La[c];return null};a.prototype.gd=function(){var a,c,b,d={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.L,w:this.width,h:this.height,fv:this.Lk,persist:this.Ah,fx:[],layers:{}};a=0;for(c=this.qa.length;a<c;a++)b=this.qa[a],d.fx.push({name:b.name,active:b.Yd,params:this.Db[b.index]});a=0;for(c=this.La.length;a<c;a++)b=this.La[a],d.layers[b.Ia.toString()]=b.gd();return d};a.prototype.Jd=function(a){var c,b,d,k;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=
a.s;this.L=a.a;this.width=a.w;this.height=a.h;this.Ah=a.persist;"undefined"!==typeof a.fv&&(this.Lk=a.fv);var l=a.fx;c=0;for(b=l.length;c<b;c++)if(d=this.Dp(l[c].name))d.Yd=l[c].active,this.Db[d.index]=l[c].params;this.Ug();c=a.layers;for(k in c)c.hasOwnProperty(k)&&(a=this.Wm(parseInt(k,10)))&&a.Jd(c[k])};nb=a;b.prototype.Ug=function(){this.Ra.length=0;var a,c,b;a=0;for(c=this.qa.length;a<c;a++)b=this.qa[a],b.Yd&&this.Ra.push(b)};b.prototype.Dp=function(a){var c,b,d;c=0;for(b=this.qa.length;c<b;c++)if(d=
this.qa[c],d.name===a)return d;return null};b.prototype.Gx=function(){var a,c,b,f,k,l;c=a=0;for(b=this.rj.length;a<b;a++){f=this.rj[a];k=this.g.U[f[1]];l=this.g.Dr(k);k=!0;if(!l||this.bb.Lk)f=this.g.gh(f,this,!0),d.push(f),f.type.global&&(k=!1);k&&(this.rj[c]=this.rj[a],c++)}this.rj.length=c;this.g.Ec();!this.g.da&&this.qa.length&&(this.jd=this.ey);this.Ek=Sa(this.jd);this.g.T&&Ta(this,this.jd,this.g.T)};b.prototype.UA=function(){if(this.Vd){var a,c;a=0;for(c=this.C.length;a<c;a++)this.C[a].Vi=a;
this.Vd=!1}};b.prototype.Ed=function(a){return this.Sy()*(this.g.De||a?this.g.Bk:1)};b.prototype.Sy=function(){return(this.scale*this.bb.scale-1)*this.Wg+1};b.prototype.wg=function(){return this.ii?0:ya(this.bb.L+this.L)};b.prototype.ug=function(a){this.Fh=this.yp||1!==this.opacity||0!==this.jd;var c=this.g.canvas,b=a,d=!1;a.globalAlpha=1;a.globalCompositeOperation="source-over";this.Fh&&(this.g.qn||(this.g.qn=document.createElement("canvas"),c=this.g.qn,c.width=this.g.Ha,c.height=this.g.Ga,this.g.ku=
c.getContext("2d"),d=!0),c=this.g.qn,b=this.g.ku,c.width!==this.g.Ha&&(c.width=this.g.Ha,d=!0),c.height!==this.g.Ga&&(c.height=this.g.Ga,d=!0),d&&(b.webkitImageSmoothingEnabled=this.g.Za,b.mozImageSmoothingEnabled=this.g.Za,b.msImageSmoothingEnabled=this.g.Za,b.imageSmoothingEnabled=this.g.Za),this.Si&&b.clearRect(0,0,this.g.Ha,this.g.Ga));this.Si||(b.fillStyle="rgb("+this.eh[0]+","+this.eh[1]+","+this.eh[2]+")",b.fillRect(0,0,this.g.Ha,this.g.Ga));b.save();this.ii=!0;var d=this.zd(0,0,!0,!0),k=this.zd(0,
0,!1,!0);this.ii=!1;this.g.Bh&&(d=d+0.5|0,k=k+0.5|0);this.jr(d,k,b);var l=this.Ed();b.scale(l,l);b.translate(-d,-k);for(var m,d=0,k=this.C.length;d<k;d++)l=this.C[d],l.visible&&0!==l.width&&0!==l.height&&(l.Qb(),m=l.Yc,m.right<this.Rd||m.bottom<this.Td||m.left>this.Sd||m.top>this.Qd||(b.globalCompositeOperation=l.Ek,l.ug(b)));b.restore();this.Fh&&(a.globalCompositeOperation=this.Ek,a.globalAlpha=this.opacity,a.drawImage(c,0,0))};b.prototype.jr=function(a,c,b){var d=this.Ed();this.Rd=a;this.Td=c;this.Sd=
a+this.g.Ha*(1/d);this.Qd=c+this.g.Ga*(1/d);a=this.wg();0!==a&&(b&&(b.translate(this.g.Ha/2,this.g.Ga/2),b.rotate(-a),b.translate(this.g.Ha/-2,this.g.Ga/-2)),this.Tg.set(this.Rd,this.Td,this.Sd,this.Qd),this.Tg.offset((this.Rd+this.Sd)/-2,(this.Td+this.Qd)/-2),this.Dv.qv(this.Tg,a),this.Dv.et(this.Tg),this.Tg.offset((this.Rd+this.Sd)/2,(this.Td+this.Qd)/2),this.Rd=this.Tg.left,this.Td=this.Tg.top,this.Sd=this.Tg.right,this.Qd=this.Tg.bottom)};b.prototype.Ye=function(a){var c=this.g.Ha,b=this.g.Ga,
d=0,k=0;if(this.Fh=this.yp||1!==this.opacity||0<this.Ra.length||0!==this.jd){this.g.he||(this.g.he=a.qg(this.g.Ha,this.g.Ga,this.g.Za));if(this.g.he.Dk!==this.g.Ha||this.g.he.Ck!==this.g.Ga)a.deleteTexture(this.g.he),this.g.he=a.qg(this.g.Ha,this.g.Ga,this.g.Za);a.ag(this.g.he);this.Si&&a.clear(0,0,0,0)}this.Si||a.clear(this.eh[0]/255,this.eh[1]/255,this.eh[2]/255,1);this.ii=!0;var k=this.zd(0,0,!0,!0),l=this.zd(0,0,!1,!0);this.ii=!1;this.g.Bh&&(k=k+0.5|0,l=l+0.5|0);this.jr(k,l,null);l=this.Ed();
a.Zf();a.scale(l,l);a.kr(-this.wg());a.translate((this.Rd+this.Sd)/-2,(this.Td+this.Qd)/-2);a.eg();var m,n,q;m=0;for(n=this.C.length;m<n;m++)if(q=this.C[m],q.visible&&0!==q.width&&0!==q.height&&(q.Qb(),d=q.Yc,!(d.right<this.Rd||d.bottom<this.Td||d.left>this.Sd||d.top>this.Qd)))if(q.Nv)if(d=q.Ra[0].Cc,k=q.Ra[0].index,1!==q.Ra.length||a.Zq(d)||a.tA(d)||(q.L||q.M.wg())&&a.Dl(d)||1!==q.opacity||q.type.gc.Bu)this.bb.hr(a,this,q,this.Fh?this.g.he:this.bb.Pk()),a.Zf(),a.scale(l,l),a.kr(-this.wg()),a.translate((this.Rd+
this.Sd)/-2,(this.Td+this.Qd)/-2),a.eg();else{a.bg(d);a.Gh(q.Nc,q.Hc);a.Nn(d)&&(this.g.cb=!0);var p=0,t=0,r=0,x=0;a.Dl(d)&&(d=q.Yc,p=this.fc(d.left,d.top,!0),t=this.fc(d.left,d.top,!1),r=this.fc(d.right,d.bottom,!0),d=this.fc(d.right,d.bottom,!1),p/=c,t=1-t/b,r/=c,x=1-d/b);a.Wj(this.Fh?this.g.he:this.bb.Pk(),1/q.width,1/q.height,p,t,r,x,this.Ed(),q.Db[k]);q.Ye(a)}else a.bg(0),a.Gh(q.Nc,q.Hc),q.Ye(a);this.Fh&&(d=this.Ra.length?this.Ra[0].Cc:0,k=this.Ra.length?this.Ra[0].index:0,0===this.Ra.length||
1===this.Ra.length&&!a.Zq(d)&&1===this.opacity?(1===this.Ra.length?(a.bg(d),a.Wj(this.bb.Pk(),1/this.g.Ha,1/this.g.Ga,0,0,1,1,this.Ed(),this.Db[k]),a.Nn(d)&&(this.g.cb=!0)):a.bg(0),a.ag(this.bb.Pk()),a.Vj(this.opacity),a.pe(this.g.he),a.Gh(this.Nc,this.Hc),a.Zf(),a.eg(),c=this.g.Ha/2,b=this.g.Ga/2,a.On(-c,b,c,b,c,-b,-c,-b),a.pe(null)):this.bb.hr(a,this,null,this.bb.Pk()))};b.prototype.zd=function(a,c,b,d){var k=this.g.devicePixelRatio;this.g.si&&(a*=k,c*=k);var k=this.g.Ou,l=this.g.Pu,k=(this.bb.scrollX-
k)*this.Og+k,l=(this.bb.scrollY-l)*this.Pg+l,m=1/this.Ed(!d);d?(k-=this.g.Ha*m/2,l-=this.g.Ga*m/2):(k-=this.g.width*m/2,l-=this.g.height*m/2);k+=a*m;l+=c*m;c=this.wg();0!==c&&(k-=this.bb.scrollX,l-=this.bb.scrollY,a=Math.cos(c),c=Math.sin(c),d=k*a-l*c,l=l*a+k*c,k=d+this.bb.scrollX,l+=this.bb.scrollY);return b?k:l};b.prototype.fc=function(a,c,b){var d=this.wg();if(0!==d){a-=this.bb.scrollX;c-=this.bb.scrollY;var k=Math.cos(-d),d=Math.sin(-d),l=a*k-c*d;c=c*k+a*d;a=l+this.bb.scrollX;c+=this.bb.scrollY}k=
this.g.Ou;d=this.g.Pu;k=(this.bb.scrollX-k)*this.Og+k;d=(this.bb.scrollY-d)*this.Pg+d;l=1/this.Ed(!1);k-=this.g.Ha*l/2;d-=this.g.Ga*l/2;k=(a-k)/l;d=(c-d)/l;a=this.g.devicePixelRatio;this.g.si&&(k/=a,d/=a);return b?k:d};b.prototype.gd=function(){var a,c,b,d={s:this.scale,a:this.L,vl:this.Rd,vt:this.Td,vr:this.Sd,vb:this.Qd,v:this.visible,bc:this.eh,t:this.Si,px:this.Og,py:this.Pg,o:this.opacity,zr:this.Wg,fx:[],instances:[]};a=0;for(c=this.qa.length;a<c;a++)b=this.qa[a],d.fx.push({name:b.name,active:b.Yd,
params:this.Db[b.index]});return d};b.prototype.Jd=function(a){var b,d;this.scale=a.s;this.L=a.a;this.Rd=a.vl;this.Td=a.vt;this.Sd=a.vr;this.Qd=a.vb;this.visible=a.v;this.eh=a.bc;this.Si=a.t;this.Og=a.px;this.Pg=a.py;this.opacity=a.o;this.Wg=a.zr;var f=a.fx;a=0;for(b=f.length;a<b;a++)if(d=this.Dp(f[a].name))d.Yd=f[a].active,this.Db[d.index]=f[a].params;this.Ug();this.C.sort(c);this.Vd=!0};zb=b})();
(function(){function a(a,c){var b,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===c[0];case 2:return a[0]===c[0]&&a[1]===c[1];default:for(b=0;b<d;b++)if(a[b]!==c[b])return!1;return!0}}function b(a,c){return a.index-c.index}function c(c){var d,n,e,f;2===c.length?c[0].index>c[1].index&&(d=c[0],c[0]=c[1],c[1]=d):2<c.length&&c.sort(b);c.length>=p.length&&(p.length=c.length+1);p[c.length]||(p[c.length]=[]);f=p[c.length];d=0;for(n=f.length;d<n;d++)if(e=f[d],a(c,e))return e;f.push(c);return c}
function d(a,c){this.g=a;this.Fv={};this.At={};this.Ip=!1;this.Pt=new ca;this.name=c[0];var b=c[1];this.kh=[];var d,n;d=0;for(n=b.length;d<n;d++)this.St(b[d],null,this.kh)}function e(a){this.type=a;this.C=[];this.Ya=[];this.Ab=!0}function g(a,c,b){this.sheet=a;this.parent=c;this.g=a.g;this.Pb=[];this.Hh=[];this.Ot=this.ho=this.Ar=this.Mp=this.group=this.tv=!1;this.Lb=[];this.Ue=[];this.Ne=[];b[1]?(this.Rk=b[1][1].toLowerCase(),this.group=!0,this.Mp=!!b[1][0],this.g.hj.push(this),this.g.lm[this.Rk.toLowerCase()]=
this.Mp):(this.Rk="",this.Mp=this.group=!1);this.Wf=b[2];this.Ia=b[4];this.group||(this.g.dt[this.Ia.toString()]=this);var d=b[5];a=0;for(c=d.length;a<c;a++){var n=new Ab(this,d[a]);n.index=a;this.Lb.push(n);this.Ns(n.type)}d=b[6];a=0;for(c=d.length;a<c;a++)n=new Bb(this,d[a]),n.index=a,this.Ue.push(n);if(8===b.length)for(b=b[7],a=0,c=b.length;a<c;a++)this.sheet.St(b[a],this,this.Ne);this.gn=!1;this.Lb.length&&(this.gn=null==this.Lb[0].type&&this.Lb[0].Ub==N.prototype.ja.ew)}function h(a,c){var b,
d,n;if(a&&(-1===c.indexOf(a)&&c.push(a),a.ge))for(b=0,d=a.qd.length;b<d;b++)n=a.qd[b],a!==n&&-1===c.indexOf(n)&&c.push(n)}function f(a,c){this.$d=a;this.sheet=a.sheet;this.g=a.g;this.ba=[];this.ya=[];this.za={};this.index=-1;this.Ub=c[1];this.trigger=0<c[3];this.zt=2===c[3];this.Uk=c[5];this.Az=c[6];this.Ia=c[7];this.g.kj[this.Ia.toString()]=this;-1===c[0]?(this.type=null,this.ic=this.nr,this.ci=null,this.Ac=-1):(this.type=this.g.U[c[0]],this.ic=this.Az?this.AA:this.mr,c[2]?(this.ci=this.type.Sm(c[2]),
this.Ac=this.type.Tm(c[2])):(this.ci=null,this.Ac=-1),this.$d.parent&&this.$d.parent.Un());this.zt&&(this.ic=this.BA);if(10===c.length){var b,d,n=c[9];b=0;for(d=n.length;b<d;b++){var e=new Cb(this,n[b]);this.ba.push(e)}this.ya.length=n.length}}function k(a,c){this.$d=a;this.sheet=a.sheet;this.g=a.g;this.ba=[];this.ya=[];this.za={};this.index=-1;this.Ub=c[1];-1===c[0]?(this.type=null,this.ic=this.nr,this.ci=null,this.Ac=-1):(this.type=this.g.U[c[0]],this.ic=this.mr,c[2]?(this.ci=this.type.Sm(c[2]),
this.Ac=this.type.Tm(c[2])):(this.ci=null,this.Ac=-1));this.Ia=c[3];this.g.gj[this.Ia.toString()]=this;if(6===c.length){var b,d,n=c[5];b=0;for(d=n.length;b<d;b++){var e=new Cb(this,n[b]);this.ba.push(e)}this.ya.length=n.length}}function l(a,c){this.ia=a;this.$d=a.$d;this.sheet=a.sheet;this.g=a.g;this.type=c[0];this.Df=null;this.mt=this.Ih=0;this.bb=null;this.key=0;this.object=null;this.index=0;this.no=this.$j=this.Bt=this.mi=this.Nl=null;var b,d,n;switch(c[0]){case 0:case 7:this.Df=new Db(this,c[1]);
this.Ih=0;this.get=this.az;break;case 1:this.Df=new Db(this,c[1]);this.Ih=0;this.get=this.bz;break;case 5:this.Df=new Db(this,c[1]);this.Ih=0;this.get=this.fz;break;case 3:case 8:this.mt=c[1];this.get=this.Zy;break;case 6:this.bb=this.g.hq[c[1]];this.get=this.gz;break;case 9:this.key=c[1];this.get=this.ez;break;case 4:this.object=this.g.U[c[1]];this.get=this.hz;this.$d.Ns(this.object);this.ia instanceof Bb?this.$d.Un():this.$d.parent&&this.$d.parent.Un();break;case 10:this.index=c[1];this.get=a.type.Da?
this.cz:this.dz;break;case 11:this.Nl=c[1];this.mi=null;this.get=this.$y;break;case 2:case 12:this.Bt=c[1];this.get=this.Yy;break;case 13:for(this.get=this.iz,this.$j=[],this.no=[],b=1,d=c.length;b<d;b++)n=new Cb(this.ia,c[b]),this.$j.push(n),this.no.push(0)}}function m(a,c,b){this.sheet=a;this.parent=c;this.g=a.g;this.Pb=[];this.name=b[1];this.Lp=b[3];this.Zk=!!b[4];this.dn=!!b[5];this.Ia=b[6];this.g.bk[this.Ia.toString()]=this;this.data=this.Lp;this.parent?(this.Bi=this.Zk||this.dn?-1:this.g.HA++,
this.g.nx.push(this)):(this.Bi=-1,this.g.mx.push(this))}function n(a,c,b){this.sheet=a;this.parent=c;this.g=a.g;this.Pb=[];this.Sk=null;this.nz=b[1]}function q(){this.xv=[];this.reset(null)}var p=[];d.prototype.toString=u("name");d.prototype.St=function(a,c,b){switch(a[0]){case 0:a=new Eb(this,c,a);if(a.Wf)for(b.push(a),b=0,c=a.Lb.length;b<c;b++)a.Lb[b].trigger&&this.Tt(a,b);else a.bu()?this.Tt(a,0):b.push(a);break;case 1:a=new wb(this,c,a);b.push(a);break;case 2:a=new Fb(this,c,a),b.push(a)}};d.prototype.Ob=
function(){var a,c;a=0;for(c=this.kh.length;a<c;a++)this.kh[a].Ob(a<c-1&&this.kh[a+1].gn)};d.prototype.ic=function(a){this.g.GC||(this.Ip=!0,a||(this.g.Rp=!0));var c,b;c=0;for(b=this.kh.length;c<b;c++){var d=this.kh[c];d.ic();this.g.bp(d.Pb);this.g.Bf.mh()&&!this.g.Bd.length||this.g.Ec()}a||(this.g.Rp=!1)};d.prototype.Tt=function(a,c){a.Wf||this.g.ko.push(a);var b,d,n=a.Lb[c],e;e=n.type?n.type.name:"system";var f=(b=n.zt)?this.At:this.Fv;f[e]||(f[e]=[]);e=f[e];f=n.Ub;if(b){if(n.ba.length&&(n=n.ba[0],
1===n.type&&2===n.Df.type)){n=n.Df.value.toLowerCase();b=0;for(d=e.length;b<d;b++)if(e[b].method==f){b=e[b].Jm;b[n]?b[n].push([a,c]):b[n]=[[a,c]];return}b={};b[n]=[[a,c]];e.push({method:f,Jm:b})}}else{b=0;for(d=e.length;b<d;b++)if(e[b].method==f){e[b].Jm.push([a,c]);return}e.push({method:f,Jm:[[a,c]]})}};ob=d;e.prototype.Hp=function(){return this.Ab?this.type.C.length:this.C.length};e.prototype.Hf=function(){return this.Ab?this.type.C:this.C};e.prototype.Al=function(a){a&&(a.g.Dd().We.Wf?(this.Ab&&
(this.C.length=0,ta(this.Ya,a.type.C),this.Ab=!1),a=this.Ya.indexOf(a),-1!==a&&(this.C.push(this.Ya[a]),this.Ya.splice(a,1))):(this.Ab=!1,this.C.length=1,this.C[0]=a))};Ya=e;window._c2hh_="7D411AF2A209E605333BECE836F523824A3967F9";g.prototype.Ob=function(a){var b,d=this.parent;if(this.group)for(this.ho=!0;d;){if(!d.group){this.ho=!1;break}d=d.parent}this.Ar=!this.bu()&&(!this.parent||this.parent.group&&this.parent.ho);this.Ot=!!a;this.Hh=this.Pb.slice(0);for(d=this.parent;d;){a=0;for(b=d.Pb.length;a<
b;a++)this.kx(d.Pb[a]);d=d.parent}this.Pb=c(this.Pb);this.Hh=c(this.Hh);a=0;for(b=this.Lb.length;a<b;a++)this.Lb[a].Ob();a=0;for(b=this.Ue.length;a<b;a++)this.Ue[a].Ob();a=0;for(b=this.Ne.length;a<b;a++)this.Ne[a].Ob(a<b-1&&this.Ne[a+1].gn)};g.prototype.Ns=function(a){h(a,this.Pb)};g.prototype.kx=function(a){h(a,this.Hh)};g.prototype.Un=function(){this.tv=!0;this.parent&&this.parent.Un()};g.prototype.bu=function(){return this.Lb.length?this.Lb[0].trigger:!1};g.prototype.ic=function(){var a,c=!1,b,
d=this.g.Dd();d.We=this;this.gn||(d.qp=!1);if(this.Wf){0===this.Lb.length&&(c=!0);d.md=0;for(a=this.Lb.length;d.md<a;d.md++)this.Lb[d.md].trigger||(b=this.Lb[d.md].ic())&&(c=!0);(d.vi=c)&&this.lr()}else{d.md=0;for(a=this.Lb.length;d.md<a;d.md++)if(b=this.Lb[d.md].ic(),!b){d.vi=!1;!this.Ar||this.g.Bf.mh()&&!this.g.Bd.length||this.g.Ec();return}d.vi=!0;this.lr()}this.gy(d)};g.prototype.gy=function(a){a.vi&&this.Ot&&(a.qp=!0);!this.Ar||this.g.Bf.mh()&&!this.g.Bd.length||this.g.Ec()};g.prototype.yA=function(a){this.g.Dd().We=
this;this.Lb[a].ic()&&(this.lr(),this.g.Dd().vi=!0)};g.prototype.lr=function(){var a=this.g.Dd(),c;a.ye=0;for(c=this.Ue.length;a.ye<c;a.ye++)if(this.Ue[a.ye].ic())return;this.jv()};g.prototype.wA=function(){var a=this.g.Dd(),c;for(c=this.Ue.length;a.ye<c;a.ye++)if(this.Ue[a.ye].ic())return;this.jv()};g.prototype.jv=function(){if(this.Ne.length){var a,c,b,d,n=this.Ne.length-1;this.g.br(this);if(this.tv)for(a=0,c=this.Ne.length;a<c;a++)b=this.Ne[a],(d=!this.ho||!this.group&&a<n)&&this.g.$q(b.Pb),b.ic(),
d?this.g.Sj(b.Pb):this.g.bp(b.Pb);else for(a=0,c=this.Ne.length;a<c;a++)this.Ne[a].ic();this.g.Uu()}};g.prototype.zA=function(){var a=this.g.Dd();a.We=this;var c=!1,b;a.md=0;for(b=this.Lb.length;a.md<b;a.md++)if(this.Lb[a.md].ic())c=!0;else if(!this.Wf)return!1;return this.Wf?c:!0};g.prototype.xz=function(a){var c=a.index;if(0===c)return!0;for(--c;0<=c;--c)if(this.Lb[c].type===a.type)return!1;return!0};Eb=g;f.prototype.Ob=function(){var a,c;a=0;for(c=this.ba.length;a<c;a++)this.ba[a].Ob()};f.prototype.BA=
w(!0);f.prototype.nr=function(){var a,c;a=0;for(c=this.ba.length;a<c;a++)this.ya[a]=this.ba[a].get();return Ka(this.Ub.apply(this.g.cg,this.ya),this.Uk)};f.prototype.AA=function(){var a,c;a=0;for(c=this.ba.length;a<c;a++)this.ya[a]=this.ba[a].get(a);a=this.Ub.apply(this.ci?this.ci:this.type,this.ya);this.type.dh();return a};f.prototype.mr=function(){var a,c,b,d,n,e,f,k=this.type.fb(),h=this.$d.Wf&&!this.trigger,g=0,l=this.type.ge;if(k.Ab){k.C.length=0;a=k.Ya.length=0;for(b=this.type.C.length;a<b;a++){e=
this.type.C[a];c=0;for(d=this.ba.length;c<d;c++)this.ya[c]=this.ba[c].get(a);-1<this.Ac?(this.type.Da&&(g=e.type.oj[this.type.Ef]),c=this.Ub.apply(e.wa[this.Ac+g],this.ya)):c=this.Ub.apply(e,this.ya);(n=Ka(c,this.Uk))?k.C.push(e):h&&k.Ya.push(e)}this.type.finish&&this.type.finish(!0);k.Ab=!1;this.type.dh();return k.Hp()}var m=0,p=(n=h&&!this.$d.xz(this))?k.Ya:k.C,q=!1;a=0;for(b=p.length;a<b;a++){e=p[a];c=0;for(d=this.ba.length;c<d;c++)this.ya[c]=this.ba[c].get(a);-1<this.Ac?(this.type.Da&&(g=e.type.oj[this.type.Ef]),
c=this.Ub.apply(e.wa[this.Ac+g],this.ya)):c=this.Ub.apply(e,this.ya);if(Ka(c,this.Uk))if(q=!0,n){if(k.C.push(e),l)for(c=0,d=e.siblings.length;c<d;c++)f=e.siblings[c],f.type.fb().C.push(f)}else{p[m]=e;if(l)for(c=0,d=e.siblings.length;c<d;c++)f=e.siblings[c],f.type.fb().C[m]=f;m++}else if(n){p[m]=e;if(l)for(c=0,d=e.siblings.length;c<d;c++)f=e.siblings[c],f.type.fb().Ya[m]=f;m++}else if(h&&(k.Ya.push(e),l))for(c=0,d=e.siblings.length;c<d;c++)f=e.siblings[c],f.type.fb().Ya.push(f)}p.length=m;if(l)for(a=
0,b=this.type.qd.length;a<b;a++)e=this.type.qd[a].fb(),n?e.Ya.length=m:e.C.length=m;g=q;if(n&&!q)for(a=0,b=k.C.length;a<b;a++){e=k.C[a];c=0;for(d=this.ba.length;c<d;c++)this.ya[c]=this.ba[c].get(a);c=-1<this.Ac?this.Ub.apply(e.wa[this.Ac],this.ya):this.Ub.apply(e,this.ya);if(Ka(c,this.Uk)){q=!0;break}}this.type.finish&&this.type.finish(g||h);return h?q:k.Hp()};Ab=f;k.prototype.Ob=function(){var a,c;a=0;for(c=this.ba.length;a<c;a++)this.ba[a].Ob()};k.prototype.nr=function(){var a,c;a=0;for(c=this.ba.length;a<
c;a++)this.ya[a]=this.ba[a].get();return this.Ub.apply(this.g.cg,this.ya)};k.prototype.mr=function(){var a=this.type.fb().Hf(),c,b,d,n,e;c=0;for(d=a.length;c<d;c++){e=a[c];b=0;for(n=this.ba.length;b<n;b++)this.ya[b]=this.ba[b].get(c);-1<this.Ac?(b=0,this.type.Da&&(b=e.type.oj[this.type.Ef]),this.Ub.apply(e.wa[this.Ac+b],this.ya)):this.Ub.apply(e,this.ya)}return!1};Bb=k;var t=[],r=-1;l.prototype.Ob=function(){var a,c;if(11===this.type)this.mi=this.g.Ht(this.Nl,this.$d.parent);else if(13===this.type)for(a=
0,c=this.$j.length;a<c;a++)this.$j[a].Ob();this.Df&&this.Df.Ob()};l.prototype.hc=function(){r++;t.length===r&&t.push(new Gb);return t[r]};l.prototype.Xb=function(){r--};l.prototype.az=function(a){this.Ih=a||0;a=this.hc();this.Df.get(a);this.Xb();return a.data};l.prototype.bz=function(a){this.Ih=a||0;a=this.hc();this.Df.get(a);this.Xb();return I(a.data)?a.data:""};l.prototype.hz=u("object");l.prototype.Zy=u("mt");l.prototype.fz=function(a){this.Ih=a||0;a=this.hc();this.Df.get(a);this.Xb();return a.qc()?
this.g.Ok(a.data):this.g.Fp(a.data)};l.prototype.gz=u("bb");l.prototype.ez=u("key");l.prototype.dz=u("index");l.prototype.cz=function(a){var c=this.ia.type,b=null,b=c.fb(),d=b.Hf(),b=d.length?d[a%d.length].type:b.Ya[a%b.Ya.length].type;return this.index+b.Lm[c.Ef]};l.prototype.$y=u("mi");l.prototype.Yy=u("Bt");l.prototype.iz=function(){var a,c;a=0;for(c=this.$j.length;a<c;a++)this.no[a]=this.$j[a].get();return this.no};Cb=l;m.prototype.Ob=function(){this.Pb=c(this.Pb)};m.prototype.FA=function(a){var c=
this.g.Gt();this.parent&&!this.Zk&&c?(this.Bi>=c.length&&(c.length=this.Bi+1),c[this.Bi]=a):this.data=a};m.prototype.Xy=function(){var a=this.g.Gt();return!this.parent||this.Zk||!a||this.dn?this.data:this.Bi>=a.length||"undefined"===typeof a[this.Bi]?this.Lp:a[this.Bi]};m.prototype.ic=function(){!this.parent||this.Zk||this.dn||this.FA(this.Lp)};wb=m;n.prototype.toString=function(){return"include:"+this.Sk.toString()};n.prototype.Ob=function(){this.Sk=this.g.sp[this.nz];this.sheet.Pt.add(this);this.Pb=
c(this.Pb)};n.prototype.ic=function(){this.parent&&this.g.Fl(this.g.U);this.Sk.Ip||this.Sk.ic(!0);this.parent&&this.g.Sj(this.g.U)};n.prototype.rz=function(){for(var a=this.parent;a;){if(a.group&&!this.g.lm[a.Rk.toLowerCase()])return!1;a=a.parent}return!0};Fb=n;q.prototype.reset=function(a){this.We=a;this.ye=this.md=0;this.xv.length=0;this.qp=this.vi=!1};vb=q})();
(function(){function a(a,b){this.ia=a;this.g=a.g;this.type=b[0];this.get=[this.wy,this.qy,this.Ey,this.Hy,this.jy,this.Fy,this.Ay,this.my,this.zy,this.Dy,this.ky,this.Cy,this.ny,this.By,this.xy,this.yy,this.ry,this.ty,this.ly,this.Gy,this.xt,this.uy,this.xt,this.oy][this.type];var e=null;this.Nd=this.ba=this.ya=this.Ub=this.bo=this.vc=this.first=this.value=null;this.Ac=-1;this.xg=null;this.Hr=-1;this.mi=this.Nl=null;this.Gl=!1;switch(this.type){case 0:case 1:case 2:this.value=b[1];break;case 3:this.first=
new Db(a,b[1]);break;case 18:this.first=new Db(a,b[1]);this.vc=new Db(a,b[2]);this.bo=new Db(a,b[3]);break;case 19:this.Ub=b[1];this.ya=[];this.ba=[];3===b.length?(e=b[2],this.ya.length=e.length+1):this.ya.length=1;break;case 20:this.Nd=this.g.U[b[1]];this.Ac=-1;this.Ub=b[2];this.Gl=b[3];this.xg=b[4]?new Db(a,b[4]):null;this.ya=[];this.ba=[];6===b.length?(e=b[5],this.ya.length=e.length+1):this.ya.length=1;break;case 21:this.Nd=this.g.U[b[1]];this.Gl=b[2];this.xg=b[3]?new Db(a,b[3]):null;this.Hr=b[4];
break;case 22:this.Nd=this.g.U[b[1]];this.Nd.Sm(b[2]);this.Ac=this.Nd.Tm(b[2]);this.Ub=b[3];this.Gl=b[4];this.xg=b[5]?new Db(a,b[5]):null;this.ya=[];this.ba=[];7===b.length?(e=b[6],this.ya.length=e.length+1):this.ya.length=1;break;case 23:this.Nl=b[1],this.mi=null}4<=this.type&&17>=this.type&&(this.first=new Db(a,b[1]),this.vc=new Db(a,b[2]));if(e){var g,h;g=0;for(h=e.length;g<h;g++)this.ba.push(new Db(a,e[g]))}}function b(a,b){this.type=a||K.ej;this.data=b||0;this.Oj=null;this.type==K.ej&&(this.data=
Math.floor(this.data))}a.prototype.Ob=function(){23===this.type&&(this.mi=this.ia.g.Ht(this.Nl,this.ia.$d.parent));this.first&&this.first.Ob();this.vc&&this.vc.Ob();this.bo&&this.bo.Ob();this.xg&&this.xg.Ob();if(this.ba){var a,b;a=0;for(b=this.ba.length;a<b;a++)this.ba[a].Ob()}};a.prototype.Gy=function(a){this.ya[0]=a;a=this.ia.hc();var b,e;b=0;for(e=this.ba.length;b<e;b++)this.ba[b].get(a),this.ya[b+1]=a.data;this.ia.Xb();this.Ub.apply(this.g.cg,this.ya)};a.prototype.xt=function(a){var b=this.Nd.fb(),
e=b.Hf();if(!e.length)if(b.Ya.length)e=b.Ya;else{this.Gl?a.qe(""):a.jb(0);return}this.ya[0]=a;a.Oj=this.Nd;a=this.ia.hc();var g,b=0;for(g=this.ba.length;b<g;b++)this.ba[b].get(a),this.ya[b+1]=a.data;b=this.ia.Ih;this.xg&&(this.xg.get(a),a.qc()&&(b=a.data,e=this.Nd.C));this.ia.Xb();b%=e.length;0>b&&(b+=e.length);e=e[b];-1<this.Ac?(a=0,this.Nd.Da&&(a=e.type.oj[this.Nd.Ef]),this.Ub.apply(e.wa[this.Ac+a],this.ya)):this.Ub.apply(e,this.ya)};a.prototype.uy=function(a){var b=this.Nd.fb(),e=b.Hf();if(!e.length)if(b.Ya.length)e=
b.Ya;else{this.Gl?a.qe(""):a.jb(0);return}b=this.ia.Ih;if(this.xg){var g=this.ia.hc();this.xg.get(g);if(g.qc()){b=g.data;e=this.Nd.C;b%=e.length;0>b&&(b+=e.length);e=e[b].ec[this.Hr];I(e)?a.qe(e):a.ca(e);this.ia.Xb();return}this.ia.Xb()}b%=e.length;0>b&&(b+=e.length);e=e[b];b=0;this.Nd.Da&&(b=e.type.Lm[this.Nd.Ef]);e=e.ec[this.Hr+b];I(e)?a.qe(e):a.ca(e)};a.prototype.wy=function(a){a.type=K.ej;a.data=this.value};a.prototype.qy=function(a){a.type=K.$i;a.data=this.value};a.prototype.Ey=function(a){a.type=
K.km;a.data=this.value};a.prototype.Hy=function(a){this.first.get(a);a.qc()&&(a.data=-a.data)};a.prototype.jy=function(a){this.first.get(a);var b=this.ia.hc();this.vc.get(b);a.qc()&&b.qc()&&(a.data+=b.data,b.sj()&&a.Ij());this.ia.Xb()};a.prototype.Fy=function(a){this.first.get(a);var b=this.ia.hc();this.vc.get(b);a.qc()&&b.qc()&&(a.data-=b.data,b.sj()&&a.Ij());this.ia.Xb()};a.prototype.Ay=function(a){this.first.get(a);var b=this.ia.hc();this.vc.get(b);a.qc()&&b.qc()&&(a.data*=b.data,b.sj()&&a.Ij());
this.ia.Xb()};a.prototype.my=function(a){this.first.get(a);var b=this.ia.hc();this.vc.get(b);a.qc()&&b.qc()&&(a.data/=b.data,a.Ij());this.ia.Xb()};a.prototype.zy=function(a){this.first.get(a);var b=this.ia.hc();this.vc.get(b);a.qc()&&b.qc()&&(a.data%=b.data,b.sj()&&a.Ij());this.ia.Xb()};a.prototype.Dy=function(a){this.first.get(a);var b=this.ia.hc();this.vc.get(b);a.qc()&&b.qc()&&(a.data=Math.pow(a.data,b.data),b.sj()&&a.Ij());this.ia.Xb()};a.prototype.ky=function(a){this.first.get(a);var b=this.ia.hc();
this.vc.get(b);a.qc()?b.hn()?a.qe(a.data.toString()+b.data):a.data&&b.data?a.jb(1):a.jb(0):a.hn()&&(a.data=b.hn()?a.data+b.data:a.data+(Math.round(1E10*b.data)/1E10).toString());this.ia.Xb()};a.prototype.Cy=function(a){this.first.get(a);var b=this.ia.hc();this.vc.get(b);a.qc()&&b.qc()&&(a.data||b.data?a.jb(1):a.jb(0));this.ia.Xb()};a.prototype.ly=function(a){this.first.get(a);a.data?this.vc.get(a):this.bo.get(a)};a.prototype.ny=function(a){this.first.get(a);var b=this.ia.hc();this.vc.get(b);a.jb(a.data===
b.data?1:0);this.ia.Xb()};a.prototype.By=function(a){this.first.get(a);var b=this.ia.hc();this.vc.get(b);a.jb(a.data!==b.data?1:0);this.ia.Xb()};a.prototype.xy=function(a){this.first.get(a);var b=this.ia.hc();this.vc.get(b);a.jb(a.data<b.data?1:0);this.ia.Xb()};a.prototype.yy=function(a){this.first.get(a);var b=this.ia.hc();this.vc.get(b);a.jb(a.data<=b.data?1:0);this.ia.Xb()};a.prototype.ry=function(a){this.first.get(a);var b=this.ia.hc();this.vc.get(b);a.jb(a.data>b.data?1:0);this.ia.Xb()};a.prototype.ty=
function(a){this.first.get(a);var b=this.ia.hc();this.vc.get(b);a.jb(a.data>=b.data?1:0);this.ia.Xb()};a.prototype.oy=function(a){var b=this.mi.Xy();ea(b)?a.ca(b):a.qe(b)};Db=a;b.prototype.sj=function(){return this.type===K.$i};b.prototype.qc=function(){return this.type===K.ej||this.type===K.$i};b.prototype.hn=function(){return this.type===K.km};b.prototype.Ij=function(){this.sj()||(this.hn()&&(this.data=parseFloat(this.data)),this.type=K.$i)};b.prototype.jb=function(a){this.type=K.ej;this.data=Math.floor(a)};
b.prototype.ca=function(a){this.type=K.$i;this.data=a};b.prototype.qe=function(a){this.type=K.km;this.data=a};b.prototype.GA=function(a){ea(a)?(this.type=K.$i,this.data=a):I(a)?(this.type=K.km,this.data=a.toString()):(this.type=K.ej,this.data=0)};Gb=b;K={ej:0,$i:1,km:2}})();function N(a){this.g=a;this.Ud=[]}
N.prototype.gd=function(){var a={},b,c,d,e,g,h,f,k;a.waits=[];var l=a.waits,m;b=0;for(c=this.Ud.length;b<c;b++){h=this.Ud[b];m={t:h.time,ev:h.Ik.Ia,sm:[],sols:{}};h.Ik.Ue[h.ye]&&(m.act=h.Ik.Ue[h.ye].Ia);d=0;for(e=h.Pb.length;d<e;d++)m.sm.push(h.Pb[d].Ia);for(g in h.Pd)if(h.Pd.hasOwnProperty(g)){f=this.g.U[parseInt(g,10)];k={sa:h.Pd[g].mv,insts:[]};d=0;for(e=h.Pd[g].ri.length;d<e;d++)k.insts.push(h.Pd[g].ri[d].uid);m.sols[f.Ia.toString()]=k}l.push(m)}return a};
N.prototype.Jd=function(a){a=a.waits;var b,c,d,e,g,h,f,k,l,m,n;b=this.Ud.length=0;for(c=a.length;b<c;b++)if(h=a[b],k=this.g.dt[h.ev.toString()]){l=-1;d=0;for(e=k.Ue.length;d<e;d++)if(k.Ue[d].Ia===h.act){l=d;break}if(-1!==l){f={Pd:{},Pb:[],ut:!1};f.time=h.t;f.Ik=k;f.ye=l;d=0;for(e=h.sm.length;d<e;d++)(k=this.g.Xm(h.sm[d]))&&f.Pb.push(k);for(g in h.sols)if(h.sols.hasOwnProperty(g)&&(k=this.g.Xm(parseInt(g,10)))){l=h.sols[g];m={mv:l.sa,ri:[]};d=0;for(e=l.insts.length;d<e;d++)(n=this.g.qj(l.insts[d]))&&
m.ri.push(n);f.Pd[k.index.toString()]=m}this.Ud.push(f)}}};
(function(){function a(){}function b(){}function c(){}var d=N.prototype;a.prototype.fw=w(!0);a.prototype.ds=w(!0);a.prototype.xw=w(!0);a.prototype.ew=function(){var a=this.g.Dd();return a.qp?!1:!a.vi};a.prototype.es=w(!0);a.prototype.vw=w(!0);a.prototype.Fo=w(!0);a.prototype.yw=w(!0);a.prototype.Eo=w(!0);d.ja=new a;b.prototype.bw=function(a,b,c,d){if(b&&a&&(b=this.g.ot(a,b,c,d))){this.g.$e++;var e;this.g.trigger(Object.getPrototypeOf(a.gc).ja.Do,b);if(b.ge)for(c=0,d=b.siblings.length;c<d;c++)e=b.siblings[c],
this.g.trigger(Object.getPrototypeOf(e.type.gc).ja.Do,e);this.g.$e--;a=a.fb();a.Ab=!1;a.C.length=1;a.C[0]=b;if(b.ge)for(c=0,d=b.siblings.length;c<d;c++)e=b.siblings[c],a=e.type.fb(),a.Ab=!1,a.C.length=1,a.C[0]=e}};var e=[],g=[];d.xd=new b;c.prototype["int"]=function(a,b){I(b)?(a.jb(parseInt(b,10)),isNaN(a.data)&&(a.data=0)):a.jb(b)};c.prototype["float"]=function(a,b){I(b)?(a.ca(parseFloat(b)),isNaN(a.data)&&(a.data=0)):a.ca(b)};c.prototype.random=function(a,b,c){void 0===c?a.ca(Math.random()*b):a.ca(Math.random()*
(c-b)+b)};c.prototype.sqrt=function(a,b){a.ca(Math.sqrt(b))};c.prototype.abs=function(a,b){a.ca(Math.abs(b))};c.prototype.round=function(a,b){a.jb(Math.round(b))};c.prototype.floor=function(a,b){a.jb(Math.floor(b))};c.prototype.ceil=function(a,b){a.jb(Math.ceil(b))};c.prototype.sin=function(a,b){a.ca(Math.sin(J(b)))};c.prototype.cos=function(a,b){a.ca(Math.cos(J(b)))};c.prototype.tan=function(a,b){a.ca(Math.tan(J(b)))};c.prototype.asin=function(a,b){a.ca(wa(Math.asin(b)))};c.prototype.acos=function(a,
b){a.ca(wa(Math.acos(b)))};c.prototype.max=function(a){var b=arguments[1],c,d;c=2;for(d=arguments.length;c<d;c++)b<arguments[c]&&(b=arguments[c]);a.ca(b)};c.prototype.min=function(a){var b=arguments[1],c,d;c=2;for(d=arguments.length;c<d;c++)b>arguments[c]&&(b=arguments[c]);a.ca(b)};c.prototype.xa=function(a){a.ca(this.g.xa)};c.prototype.Ri=function(a){a.ca(this.g.Ri)};c.prototype.time=function(a){a.ca(this.g.wj.td)};c.prototype.Oe=function(a){a.jb(this.g.Oe)};c.prototype.Hn=function(a){a.jb(this.g.Hn)};
c.prototype.zp=function(a){a.jb(this.g.zp)};c.prototype.tg=function(a,b,c,d,e){a.ca(Ja(b,c,d,e))};c.prototype.L=function(a,b,c,d,e){a.ca(wa(Da(b,c,d,e)))};c.prototype.eA=function(a){a.qe("\n")};c.prototype.left=function(a,b,c){a.qe(I(b)?b.substr(0,c):"")};c.prototype.right=function(a,b,c){a.qe(I(b)?b.substr(b.length-c):"")};c.prototype.replace=function(a,b,c,d){I(b)&&I(c)&&I(d)?a.qe(b.replace(RegExp(Pa(c),"gi"),d)):a.qe(I(b)?b:"")};c.prototype.hp=function(a){a.ca(this.g.hp/1E3)};c.prototype.un=function(a){a.ca(this.g.un)};
d.Ic=new c;d.xA=function(){var a,b,c,d,m,n,q=this.g.Dd();a=0;for(c=this.Ud.length;a<c;a++)if(d=this.Ud[a],!(d.time>this.g.wj.td)){q.We=d.Ik;q.ye=d.ye;q.md=0;for(b in d.Pd)d.Pd.hasOwnProperty(b)&&(m=this.g.U[parseInt(b,10)].fb(),n=d.Pd[b],m.Ab=n.mv,ta(m.C,n.ri),m=n,m.ri.length=0,g.push(m));d.Ik.wA();this.g.bp(d.Pb);d.ut=!0}b=a=0;for(c=this.Ud.length;a<c;a++)d=this.Ud[a],this.Ud[b]=d,d.ut?(Ma(d.Pd),d.Pb.length=0,e.push(d)):b++;this.Ud.length=b}})();
(function(){Xa=function(a){var c=a[0].prototype,d=a[1],e=a[3],g=a[4],h=a[5],f=a[6],k=a[7];a=a[8];c.ja||(c.ja={});c.xd||(c.xd={});c.Ic||(c.Ic={});var l=c.ja,m=c.xd,c=c.Ic;e&&(l.qB=function(a,b){return Hb(this.x,a,b)},l.rB=function(a,b){return Hb(this.y,a,b)},l.zB=function(){var a=this.M;this.Qb();var b=this.Yc;return!(b.right<a.Rd||b.bottom<a.Td||b.left>a.Sd||b.top>a.Qd)},l.AB=function(){this.Qb();var a=this.Yc,b=this.g.$a;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},l.QB=function(a,
b,c){var d=this.fb(),e=d.Hf();if(!e.length)return!1;var f=e[0],k=f,g=Ja(f.x,f.y,b,c),h,l,m;h=1;for(l=e.length;h<l;h++)if(f=e[h],m=Ja(f.x,f.y,b,c),0===a&&m<g||1===a&&m>g)g=m,k=f;d.Al(k);return!0},m.kC=function(a){this.x!==a&&(this.x=a,this.Bb())},m.lC=function(a){this.y!==a&&(this.y=a,this.Bb())},m.fC=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.Bb()},m.gC=function(a,b){var c=a.Ty(this);if(c){var d;c.Gf?(d=c.Gf(b,!0),c=c.Gf(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,
this.y=c,this.Bb()}},m.IB=function(a){0!==a&&(this.x+=Math.cos(this.L)*a,this.y+=Math.sin(this.L)*a,this.Bb())},m.HB=function(a,b){0!==b&&(this.x+=Math.cos(J(a))*b,this.y+=Math.sin(J(a))*b,this.Bb())},c.Es=function(a){a.ca(this.x)},c.Gs=function(a){a.ca(this.y)},c.xa=function(a){a.ca(this.g.Cp(this))});g&&(l.pB=function(a,b){return Hb(this.width,a,b)},l.mB=function(a,b){return Hb(this.height,a,b)},m.Hw=function(a){this.width!==a&&(this.width=a,this.Bb())},m.cC=function(a){this.height!==a&&(this.height=
a,this.Bb())},m.hC=function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.Bb()},c.qC=function(a){a.ca(this.width)},c.tB=function(a){a.ca(this.height)},c.jB=function(a){this.Qb();a.ca(this.Yc.left)},c.lB=function(a){this.Qb();a.ca(this.Yc.top)},c.kB=function(a){this.Qb();a.ca(this.Yc.right)},c.iB=function(a){this.Qb();a.ca(this.Yc.bottom)});h&&(l.cB=function(a,b){return Ea(this.L,J(b))<=J(a)},l.xB=function(a){return Ga(this.L,J(a))},l.vB=function(a,b){var c=Ca(a),d=Ca(b),
e=ya(this.L);return Ga(d,c)?Ga(e,c)&&!Ga(e,d):!(!Ga(e,c)&&Ga(e,d))},m.gm=function(a){a=J(xa(a));isNaN(a)||this.L===a||(this.L=a,this.Bb())},m.WB=function(a){0===a||isNaN(a)||(this.L+=J(a),this.L=ya(this.L),this.Bb())},m.XB=function(a){0===a||isNaN(a)||(this.L-=J(a),this.L=ya(this.L),this.Bb())},m.YB=function(a,b){var c=Fa(this.L,J(b),J(a));isNaN(c)||this.L===c||(this.L=c,this.Bb())},m.ZB=function(a,b,c){a=Fa(this.L,Math.atan2(c-this.y,b-this.x),J(a));isNaN(a)||this.L===a||(this.L=a,this.Bb())},m.iC=
function(a,b){var c=Math.atan2(b-this.y,a-this.x);isNaN(c)||this.L===c||(this.L=c,this.Bb())},c.bB=function(a){a.ca(Ba(this.L))});d||(l.nB=function(a,b,c){return Hb(this.ec[a],b,c)},l.wB=function(a){return this.ec[a]},l.RB=function(a,b){var c=this.fb(),d=c.Hf();if(!d.length)return!1;var e=d[0],f=e,k=e.ec[b],g,h,l;g=1;for(h=d.length;g<h;g++)if(e=d[g],l=e.ec[b],0===a&&l<k||1===a&&l>k)k=l,f=e;c.Al(f);return!0},l.PB=function(a){var b,c,d,e,f;if(this.g.Oy().Uk){f=this.fb();if(f.Ab)for(f.Ab=!1,f.C.length=
0,f.Ya.length=0,d=this.C,b=0,c=d.length;b<c;b++)e=d[b],e.uid===a?f.Ya.push(e):f.C.push(e);else{d=b=0;for(c=f.C.length;b<c;b++)e=f.C[b],f.C[d]=e,e.uid===a?f.Ya.push(e):d++;f.C.length=d}this.dh();return!!f.C.length}e=this.g.qj(a);if(!e)return!1;f=this.fb();if(!f.Ab&&-1===f.C.indexOf(e))return!1;if(this.Da)for(a=e.type.mb,b=0,c=a.length;b<c;b++){if(a[b]===this)return f.Al(e),this.dh(),!0}else if(e.type===this)return f.Al(e),this.dh(),!0;return!1},l.Do=w(!0),l.ww=w(!0),m.dC=function(a,b){var c=this.ec;
ea(c[a])?c[a]=ea(b)?b:parseFloat(b):I(c[a])&&(c[a]=I(b)?b:b.toString())},m.aB=function(a,b){var c=this.ec;ea(c[a])?c[a]=ea(b)?c[a]+b:c[a]+parseFloat(b):I(c[a])&&(c[a]=I(b)?c[a]+b:c[a]+b.toString())},m.mC=function(a,b){var c=this.ec;ea(c[a])&&(c[a]=ea(b)?c[a]-b:c[a]-parseFloat(b))},m.$B=function(a,b){this.ec[a]=b?1:0},m.oC=function(a){this.ec[a]=1-this.ec[a]},m.Sc=function(){this.g.Ph(this)},m.nw||(m.nw=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}this.g.tn(this,b,!0);this.mg&&this.mg();
if(this.wa)for(a=0,b=this.wa.length;a<b;++a)c=this.wa[a],c.mg&&c.mg()}),c.sB=function(a){var b=a.Oj.C.length,c,d,e;c=0;for(d=this.g.Bd.length;c<d;c++)e=this.g.Bd[c],a.Oj.Da?0<=e.type.mb.indexOf(a.Oj)&&b++:e.type===a.Oj&&b++;a.jb(b)},c.TB=function(a){a.jb(a.Oj.fb().Hf().length)},c.pC=function(a){a.jb(this.uid)},c.uB=function(a){a.jb(this.Qk())},c.Vv||(c.Vv=function(a){a.qe(JSON.stringify(this.g.or(this,!0)))}));f&&(l.CB=u("visible"),m.jC=function(a){!a!==!this.visible&&(this.visible=a,this.g.cb=!0)},
l.oB=function(a,b){return Hb(Ua(100*this.opacity),a,b)},m.eC=function(a){a/=100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.g.cb=!0)},c.Opacity=function(a){a.ca(Ua(100*this.opacity))});k&&(l.yB=function(a){return a?this.M===a:!1},l.SB=function(a){var b=this.fb(),c=b.Hf();if(!c.length)return!1;var d=c[0],e=d,f,k;f=1;for(k=c.length;f<k;f++)if(d=c[f],0===a){if(d.M.index>e.M.index||d.M.index===e.M.index&&d.fe()>e.fe())e=d}else if(d.M.index<e.M.index||d.M.index===e.M.index&&d.fe()<e.fe())e=
d;b.Al(e);return!0},m.LB=function(){var a=this.fe();a!==this.M.C.length-1&&(sa(this.M.C,a),this.M.C.push(this),this.g.cb=!0,this.M.Vd=!0)},m.JB=function(){var a=this.fe();0!==a&&(sa(this.M.C,a),this.M.C.unshift(this),this.g.cb=!0,this.M.Vd=!0)},m.KB=function(a){a&&a!=this.M&&(sa(this.M.C,this.fe()),this.M.Vd=!0,this.M=a,this.Vi=a.C.length,a.C.push(this),this.g.cb=!0)},m.sC=function(a,b){var c=0===a;if(b){var d=b.It(this);if(d&&d.uid!==this.uid){this.M.index!==d.M.index&&(sa(this.M.C,this.fe()),this.M.Vd=
!0,this.M=d.M,this.Vi=d.M.C.length,d.M.C.push(this));var e=this.fe(),d=d.fe();sa(this.M.C,e);e<d&&d--;c&&d++;d===this.M.C.length?this.M.C.push(this):this.M.C.splice(d,0,this);this.M.Vd=!0;this.g.cb=!0}}},c.EB=function(a){a.jb(this.M.Fu)},c.DB=function(a){a.qe(this.M.name)},c.rC=function(a){a.jb(this.fe())});a&&(m.aC=function(a,b){if(this.g.da){var c=this.type.Ep(b);if(!(0>c)){var d=1===a;this.bh[c]!==d&&(this.bh[c]=d,this.Ug(),this.g.cb=!0)}}},m.bC=function(a,b,c){if(this.g.da){var d=this.type.Ep(a);
0>d||(a=this.type.qa[d],d=this.Db[d],b=Math.floor(b),0>b||b>=d.length||(1===this.g.da.Wy(a.Cc,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.Yd&&(this.g.cb=!0))))}})};pb=function(){this.Uo=!0;this.type.Ss=!0;this.g.cb=!0;var a,c,d=this.Vo;a=0;for(c=d.length;a<c;++a)d[a](this)};qb=function(a){a&&this.Vo.push(a)};var a=new oa(0,0,0,0);sb=function(){if(this.Uo){var b=this.Yc,c=this.nc;b.set(this.x,this.y,this.x+this.width,this.y+this.height);b.offset(-this.Gd*this.width,-this.Hd*this.height);this.L?(b.offset(-this.x,
-this.y),c.qv(b,this.L),c.offset(this.x,this.y),c.et(b)):c.Vn(b);b.normalize();this.Uo=!1;if(this.fi){var c=this.type.kt,d=this.tm;a.set(c.Fs(b.left),c.Hs(b.top),c.Fs(b.right),c.Hs(b.bottom));d.iy(a)||(d.right<d.left?c.update(this,null,a):c.update(this,d,a),d.copy(a))}}};rb=function(a,c){return this.Yc.Af(a,c)&&this.nc.Af(a,c)?this.nd&&!this.nd.$t()?(this.nd.ht(this.width,this.height,this.L),this.nd.Af(a-this.x,c-this.y)):!0:!1};lb=function(){this.type.lo();return this.pi};tb=function(){this.M.UA();
return this.Vi};ub=function(){this.Ra.length=0;var a,c;a=0;for(c=this.bh.length;a<c;a++)this.bh[a]&&this.Ra.push(this.type.qa[a]);this.Nv=!!this.Ra.length};mb=function(){return"Inst"+this.av};$a=function(a){if(a&&a.ge&&a.type!=this){var c,d,e;c=0;for(d=a.siblings.length;c<d;c++)if(e=a.siblings[c],e.type==this)return e}a=this.fb().Hf();return a.length?a[0]:null};ab=function(a){var c=this.fb().Hf();return c.length?c[a.Qk()%c.length]:null};Za=function(){if(this.Zj&&!this.Da){var a,c;a=0;for(c=this.C.length;a<
c;a++)this.C[a].pi=a;var d=a,e=this.g.Bd;a=0;for(c=e.length;a<c;++a)e[a].type===this&&(e[a].pi=d++);this.Zj=!1}};jb=function(a){if(a<this.C.length)return this.C[a];a-=this.C.length;var c=this.g.Bd,d,e;d=0;for(e=c.length;d<e;++d)if(c[d].type===this){if(0===a)return c[d];--a}return null};bb=function(){return this.Jh[this.sg]};cb=function(){this.sg++;this.sg===this.Jh.length?this.Jh.push(new Ya(this)):this.Jh[this.sg].Ab=!0};db=function(){this.sg++;this.sg===this.Jh.length&&this.Jh.push(new Ya(this));
var a=this.Jh[this.sg],c=this.Jh[this.sg-1];c.Ab?a.Ab=!0:(a.Ab=!1,ta(a.C,c.C),ta(a.Ya,c.Ya))};eb=function(){this.sg--};fb=function(a){var c,d,e,g,h,f=0;if(!this.Da)for(c=0,d=this.mb.length;c<d;c++)for(h=this.mb[c],e=0,g=h.Sb.length;e<g;e++){if(a===h.Sb[e].name)return this.za.eu=f,h.Sb[e];f++}c=0;for(d=this.Sb.length;c<d;c++){if(a===this.Sb[c].name)return this.za.eu=f,this.Sb[c];f++}return null};gb=function(a){return this.Sm(a)?this.za.eu:-1};hb=function(a){var c,d;c=0;for(d=this.qa.length;c<d;c++)if(this.qa[c].name===
a)return c;return-1};ib=function(){if(this.ge&&!this.Da){var a,c,d,e,g,h,f;this.lo();h=this.fb();var k=h.Ab,l=(a=this.g.Dd())&&a.We&&a.We.Wf;a=0;for(c=this.qd.length;a<c;a++)if(g=this.qd[a],g!==this&&(g.lo(),f=g.fb(),f.Ab=k,!k)){f.C.length=h.C.length;d=0;for(e=h.C.length;d<e;d++)f.C[d]=g.Jt(h.C[d].pi);if(l)for(f.Ya.length=h.Ya.length,d=0,e=h.Ya.length;d<e;d++)f.Ya[d]=g.Jt(h.Ya[d].pi)}}};kb=function(){return"Type"+this.Ia};Hb=function(a,c,d){if("undefined"===typeof a||"undefined"===typeof d)return!1;
switch(c){case 0:return a===d;case 1:return a!==d;case 2:return a<d;case 3:return a<=d;case 4:return a>d;case 5:return a>=d;default:return!1}}})();var Pb={};function Rb(a){this.g=a}
(function(){function a(){if(0===this.op.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.Yj?b.drawImage(this.Pc,this.Pj,this.Qj,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.Pc,0,0,this.width,this.height);this.op=a.toDataURL("image/png")}return this.op}function b(){}var c=Rb.prototype;c.hd=function(a){this.gc=a;this.g=a.g};var d=c.hd.prototype;d.xb=function(){if(!this.Da){var b,c,d,e,f,g,h,r,x;this.Ve=[];this.bn=
!1;b=0;for(c=this.yd.length;b<c;b++){f=this.yd[b];h={};h.name=f[0];h.speed=f[1];h.loop=f[2];h.ir=f[3];h.Rn=f[4];h.Su=f[5];h.Ia=f[6];h.frames=[];d=0;for(e=f[7].length;d<e;d++)g=f[7][d],r={},r.Av=g[0],r.Bv=g[1],r.Pj=g[2],r.Qj=g[3],r.width=g[4],r.height=g[5],r.duration=g[6],r.Gd=g[7],r.Hd=g[8],r.Jp=g[9],r.Mn=g[10],r.Tu=g[11],r.Yj=0!==r.width,r.op="",r.yC=a,x={left:0,top:0,right:1,bottom:1},r.sr=x,r.Nh=null,(x=this.g.Ky(g[0]))?r.Pc=x:(r.Pc=new Image,r.Pc.idtkLoadDisposed=!0,r.Pc.src=g[0],r.Pc.Ex=g[0],
r.Pc.Dx=g[1],r.Pc.yx=null,this.g.Mh.push(r.Pc)),h.frames.push(r),this.Ve.push(r);this.yd[b]=h}}};d.TA=function(){var a,b,c;a=0;for(b=this.C.length;a<b;a++)c=this.C[a],c.Am=c.Ae.Nh};d.Rq=function(){if(!this.Da){var a,b,c;a=0;for(b=this.Ve.length;a<b;++a)c=this.Ve[a],c.Pc.yx=null,c.Nh=null}};d.Ku=function(){if(!this.Da&&this.C.length){var a,b,c;a=0;for(b=this.Ve.length;a<b;++a)c=this.Ve[a],c.Nh=this.g.da.mu(c.Pc,this.g.Za,c.Tu);this.TA()}};d.Dz=function(){if(!this.Da&&!this.bn&&this.g.da){var a,b,c;
a=0;for(b=this.Ve.length;a<b;++a)c=this.Ve[a],c.Nh=this.g.da.mu(c.Pc,this.g.Za,c.Tu);this.bn=!0}};d.Kv=function(){if(!this.Da&&!this.C.length&&this.bn){var a,b,c;a=0;for(b=this.Ve.length;a<b;++a)c=this.Ve[a],this.g.da.deleteTexture(c.Nh);this.bn=!1}};var e=[];d.Xu=function(a){var b,c,d;b=e.length=0;for(c=this.Ve.length;b<c;++b)d=this.Ve[b].Pc,-1===e.indexOf(d)&&(a.drawImage(d,0,0),e.push(d))};c.yc=function(a){this.type=a;this.g=a.g;a=this.type.yd[0].frames[0].Mn;this.Od?this.nd.Hl(a):this.nd=new Qa(a)};
var g=c.yc.prototype;g.xb=function(){this.visible=0===this.Oa[0];this.fi=0!==this.Oa[3];1===this.type.yd.length&&1===this.type.yd[0].frames.length||0===this.type.yd[0].speed||this.g.Cv(this);this.lb=this.Et(this.Oa[1])||this.type.yd[0];this.W=this.Oa[2];0>this.W&&(this.W=0);this.W>=this.lb.frames.length&&(this.W=this.lb.frames.length-1);var a=this.lb.frames[this.W];this.nd.Hl(a.Mn);this.Gd=a.Gd;this.Hd=a.Hd;this.Fk=this.lb.speed;this.Od?this.xf.reset():this.xf=new Oa;this.vg=this.xf.td;this.bi=!0;
this.ng=0;this.ai=!0;this.Zo=this.Qs="";this.Bx=0;this.Yo=-1;this.type.Dz();var b,c,d,e,f,g,h,a=0;for(b=this.type.yd.length;a<b;a++)for(e=this.type.yd[a],c=0,d=e.frames.length;c<d;c++)f=e.frames[c],0===f.width&&(f.width=f.Pc.width,f.height=f.Pc.height),f.Yj&&(h=f.Pc,g=f.sr,g.left=f.Pj/h.width,g.top=f.Qj/h.height,g.right=(f.Pj+f.width)/h.width,g.bottom=(f.Qj+f.height)/h.height,0===f.Pj&&0===f.Qj&&f.width===h.width&&f.height===h.height&&(f.Yj=!1));this.Ae=this.lb.frames[this.W];this.Am=this.Ae.Nh};
g.gd=function(){var a={a:this.lb.Ia,f:this.W,cas:this.Fk,fs:this.vg,ar:this.ng,at:this.xf.td};this.bi||(a.ap=this.bi);this.ai||(a.af=this.ai);return a};g.Jd=function(a){var b=this.My(a.a);b&&(this.lb=b);this.W=a.f;0>this.W&&(this.W=0);this.W>=this.lb.frames.length&&(this.W=this.lb.frames.length-1);this.Fk=a.cas;this.vg=a.fs;this.ng=a.ar;this.xf.reset();this.xf.td=a.at;this.bi=a.hasOwnProperty("ap")?a.ap:!0;this.ai=a.hasOwnProperty("af")?a.af:!0;this.Ae=this.lb.frames[this.W];this.Am=this.Ae.Nh;this.nd.Hl(this.Ae.Mn);
this.Gd=this.Ae.Gd;this.Hd=this.Ae.Hd};g.To=function(a){this.W=a?0:this.lb.frames.length-1;this.bi=!1;this.Qs=this.lb.name;this.g.trigger(Rb.prototype.ja.uw,this);this.g.trigger(Rb.prototype.ja.sw,this);this.ng=0};g.AC=function(){return this.xf.td};g.pf=function(){this.xf.add(this.g.Cp(this));this.Zo.length&&this.Ix();0<=this.Yo&&this.Jx();var a=this.xf.td,b=this.lb,c=b.frames[this.W],d=c.duration/this.Fk;this.bi&&a>=this.vg+d&&(this.ai?this.W++:this.W--,this.vg+=d,this.W>=b.frames.length&&(b.Su?
(this.ai=!1,this.W=b.frames.length-2):b.loop?this.W=b.Rn:(this.ng++,this.ng>=b.ir?this.To(!1):this.W=b.Rn)),0>this.W&&(b.Su?(this.W=1,this.ai=!0,b.loop||(this.ng++,this.ng>=b.ir&&this.To(!0))):b.loop?this.W=b.Rn:(this.ng++,this.ng>=b.ir?this.To(!0):this.W=b.Rn)),0>this.W?this.W=0:this.W>=b.frames.length&&(this.W=b.frames.length-1),a>this.vg+b.frames[this.W].duration/this.Fk&&(this.vg=a),a=b.frames[this.W],this.sk(c,a),this.g.cb=!0)};g.Et=function(a){var b,c,d;b=0;for(c=this.type.yd.length;b<c;b++)if(d=
this.type.yd[b],Va(d.name,a))return d;return null};g.My=function(a){var b,c,d;b=0;for(c=this.type.yd.length;b<c;b++)if(d=this.type.yd[b],d.Ia===a)return d;return null};g.Ix=function(){var a=this.lb.frames[this.W],b=this.Et(this.Zo);this.Zo="";!b||Va(b.name,this.lb.name)&&this.bi||(this.lb=b,this.Fk=b.speed,0>this.W&&(this.W=0),this.W>=this.lb.frames.length&&(this.W=this.lb.frames.length-1),1===this.Bx&&(this.W=0),this.bi=!0,this.vg=this.xf.td,this.ai=!0,this.sk(a,this.lb.frames[this.W]),this.g.cb=
!0)};g.Jx=function(){var a=this.lb.frames[this.W],b=this.W;this.W=la(this.Yo);0>this.W&&(this.W=0);this.W>=this.lb.frames.length&&(this.W=this.lb.frames.length-1);b!==this.W&&(this.sk(a,this.lb.frames[this.W]),this.vg=this.xf.td,this.g.cb=!0);this.Yo=-1};g.sk=function(a,b){var c=a.width,d=a.height,e=b.width,f=b.height;c!=e&&(this.width*=e/c);d!=f&&(this.height*=f/d);this.Gd=b.Gd;this.Hd=b.Hd;this.nd.Hl(b.Mn);this.Bb();this.Ae=b;this.Am=b.Nh;c=0;for(d=this.wa.length;c<d;c++)e=this.wa[c],e.lA&&e.lA(a,
b);this.g.trigger(Rb.prototype.ja.sk,this)};g.ug=function(a){a.globalAlpha=this.opacity;var b=this.Ae,c=b.Yj,d=b.Pc,e=this.x,f=this.y,g=this.width,h=this.height;if(0===this.L&&0<=g&&0<=h)e-=this.Gd*g,f-=this.Hd*h,this.g.Bh&&(e=e+0.5|0,f=f+0.5|0),c?a.drawImage(d,b.Pj,b.Qj,b.width,b.height,e,f,g,h):a.drawImage(d,e,f,g,h);else{this.g.Bh&&(e=e+0.5|0,f=f+0.5|0);a.save();var x=0<g?1:-1,y=0<h?1:-1;a.translate(e,f);1===x&&1===y||a.scale(x,y);a.rotate(this.L*x*y);e=0-this.Gd*ha(g);f=0-this.Hd*ha(h);c?a.drawImage(d,
b.Pj,b.Qj,b.width,b.height,e,f,ha(g),ha(h)):a.drawImage(d,e,f,ha(g),ha(h));a.restore()}};g.Ye=function(a){a.pe(this.Am);a.Vj(this.opacity);var b=this.Ae,c=this.nc;if(this.g.Bh){var d=(this.x+0.5|0)-this.x,e=(this.y+0.5|0)-this.y;b.Yj?a.Dh(c.Qc+d,c.Rc+e,c.se+d,c.te+e,c.de+d,c.ee+e,c.ae+d,c.be+e,b.sr):a.On(c.Qc+d,c.Rc+e,c.se+d,c.te+e,c.de+d,c.ee+e,c.ae+d,c.be+e)}else b.Yj?a.Dh(c.Qc,c.Rc,c.se,c.te,c.de,c.ee,c.ae,c.be,b.sr):a.On(c.Qc,c.Rc,c.se,c.te,c.de,c.ee,c.ae,c.be)};g.Qy=function(a){var b=this.Ae,
c,d;c=0;for(d=b.Jp.length;c<d;c++)if(Va(a,b.Jp[c][0]))return c;return-1};g.Gf=function(a,b){var c=this.Ae,d=c.Jp,e;e=I(a)?this.Qy(a):a-1;e=la(e);if(0>e||e>=d.length)return b?this.x:this.y;var f=(d[e][1]-c.Gd)*this.width,d=d[e][2],d=(d-c.Hd)*this.height,c=Math.cos(this.L);e=Math.sin(this.L);var g=f*c-d*e,d=d*c+f*e,f=g+this.x,d=d+this.y;return b?f:d};var h=new ca,f=!1;d.finish=function(a){if(f){if(a){var b=this.g.Dd().We.Wf;a=null.fb();var c=h.Ti(),d,e;if(a.Ab){a.Ab=!1;a.C.length=c.length;d=0;for(e=
c.length;d<e;d++)a.C[d]=c[d];if(b)for(d=a.Ya.length=0,e=null.C.length;d<e;d++)c=null.C[d],h.contains(c)||a.Ya.push(c)}else if(b)for(b=a.C.length,a.C.length=b+c.length,d=0,e=c.length;d<e;d++)a.C[b+d]=c[d],ua(a.Ya,c[d]);else ta(a.C,c);null.dh()}h.clear();f=!1}};b.prototype.sw=function(a){return Va(this.Qs,a)};b.prototype.uw=w(!0);b.prototype.sk=w(!0);c.ja=new b;c.xd=new (s());c.Ic=new (s())})();function Sb(a){this.g=a}
(function(){function a(){return h.length?h.pop():{}}function b(a){var b,c;b=0;for(c=a.length;b<c;b++)h.push(a[b]);a.length=0}function c(){}var d=Sb.prototype;d.xb=function(){d.xd.Hw=function(a){this.width!==a&&(this.width=a,this.Qi=!0,this.Bb())}};d.hd=function(a){this.gc=a;this.g=a.g};var e=d.hd.prototype;e.xb=s();e.Rq=function(){if(!this.Da){var a,b,c;a=0;for(b=this.C.length;a<b;a++)c=this.C[a],c.Vf=null,c.Mi=null,c.Md=null}};d.yc=function(a){this.type=a;this.g=a.g;this.Od?this.sh.length=0:this.sh=
[];this.Qi=!0};e=d.yc.prototype;e.xb=function(){this.text=this.Oa[0];this.visible=0===this.Oa[1];this.font=this.Oa[2];this.color=this.Oa[3];this.an=this.Oa[4];this.mo=this.Oa[5];this.Kr=0===this.Oa[7];this.dq=this.pn=this.width;this.nn=this.height;this.kq=this.Oa[8];this.Pm=this.nj="";this.yv=this.zv=this.El=0;this.mA();this.Md=this.Mi=this.Vf=null;this.Du=!1;this.dl=this.g.Oe;this.Od?this.Uj.set(0,0,1,1):this.Uj=new oa(0,0,1,1);this.g.da&&this.g.Cv(this)};e.mA=function(){var a=this.font.split(" "),
b;for(b=0;b<a.length;b++)if("pt"===a[b].substr(a[b].length-2,2)){this.El=parseInt(a[b].substr(0,a[b].length-2));this.cr=Math.ceil(96*(this.El/72))+4;0<b&&(this.Pm=a[b-1]);this.nj=a[b+1];for(b+=2;b<a.length;b++)this.nj+=" "+a[b];break}};e.gd=function(){return{t:this.text,f:this.font,c:this.color,ha:this.an,va:this.mo,wr:this.Kr,lho:this.kq,fn:this.nj,fs:this.Pm,ps:this.El,pxh:this.cr,tw:this.zv,th:this.yv,lrt:this.dl}};e.Jd=function(a){this.text=a.t;this.font=a.f;this.color=a.c;this.an=a.ha;this.mo=
a.va;this.Kr=a.wr;this.kq=a.lho;this.nj=a.fn;this.Pm=a.fs;this.El=a.ps;this.cr=a.pxh;this.zv=a.tw;this.yv=a.th;this.dl=a.lrt;this.Qi=!0;this.dq=this.pn=this.width;this.nn=this.height};e.pf=function(){if(this.g.da&&this.Md&&300<=this.g.Oe-this.dl){var a=this.M;this.Qb();var b=this.Yc;if(b.right<a.Rd||b.bottom<a.Td||b.left>a.Sd||b.top>a.Qd)this.g.da.deleteTexture(this.Md),this.Vf=this.Mi=this.Md=null}};e.Oi=function(){this.Vf=this.Mi=null;this.g.da&&this.Md&&this.g.da.deleteTexture(this.Md);this.Md=
null};e.MC=function(){this.font=this.Pm+" "+this.El.toString()+"pt "+this.nj;this.Qi=!0;this.g.cb=!0};e.ug=function(a,b){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=b?1:this.opacity;var c=1;b&&(c=this.M.Ed(),a.save(),a.scale(c,c));if(this.Qi||this.width!==this.dq)this.type.gc.Qw(this.text,this.sh,a,this.width,this.Kr),this.Qi=!1,this.dq=this.width;this.Qb();var c=b?0:this.nc.Qc,d=b?0:this.nc.Rc;this.g.Bh&&(c=c+0.5|0,d=d+0.5|0);0===this.L||b||(a.save(),a.translate(c,
d),a.rotate(this.L),d=c=0);var e=d+this.height,g=this.cr,g=g+this.kq,h,t;1===this.mo?d+=Math.max(this.height/2-this.sh.length*g/2,0):2===this.mo&&(d+=Math.max(this.height-this.sh.length*g-2,0));for(t=0;t<this.sh.length&&!(h=c,1===this.an?h=c+(this.width-this.sh[t].width)/2:2===this.an&&(h=c+(this.width-this.sh[t].width)),a.fillText(this.sh[t].text,h,d),d+=g,d>=e-g);t++);(0!==this.L||b)&&a.restore();this.dl=this.g.Oe};e.Ye=function(a){if(!(1>this.width||1>this.height)){var b=this.Qi||this.Du;this.Du=
!1;var c=this.M.Ed(),d=this.M.wg(),e=this.Uj,g=c*this.width,h=c*this.height,t=Math.ceil(g),r=Math.ceil(h),x=this.g.Ha/2,y=this.g.Ga/2;this.Mi||(this.Vf=document.createElement("canvas"),this.Vf.width=t,this.Vf.height=r,this.pn=t,this.nn=r,b=!0,this.Mi=this.Vf.getContext("2d"));if(t!==this.pn||r!==this.nn)this.Vf.width=t,this.Vf.height=r,this.Md&&(a.deleteTexture(this.Md),this.Md=null),b=!0;b&&(this.Mi.clearRect(0,0,t,r),this.ug(this.Mi,!0),this.Md||(this.Md=a.qg(t,r,this.g.Za,this.g.oh)),a.$A(this.Vf,
this.Md,this.g.oh));this.pn=t;this.nn=r;a.pe(this.Md);a.Vj(this.opacity);a.Zf();a.translate(-x,-y);a.eg();var C=this.nc,F=this.g.devicePixelRatio;this.g.devicePixelRatio=1;var b=this.M.fc(C.Qc,C.Rc,!0),x=this.M.fc(C.Qc,C.Rc,!1),y=this.M.fc(C.se,C.te,!0),L=this.M.fc(C.se,C.te,!1),E=this.M.fc(C.de,C.ee,!0),A=this.M.fc(C.de,C.ee,!1),B=this.M.fc(C.ae,C.be,!0),C=this.M.fc(C.ae,C.be,!1);this.g.devicePixelRatio=F;if(this.g.Bh||0===this.L&&0===d)var F=(b+0.5|0)-b,v=(x+0.5|0)-x,b=b+F,x=x+v,y=y+F,L=L+v,E=E+
F,A=A+v,B=B+F,C=C+v;0===this.L&&0===d?(y=b+t,L=x,E=y,A=x+r,B=b,C=A,e.right=1,e.bottom=1):(e.right=g/t,e.bottom=h/r);a.Dh(b,x,y,L,E,A,B,C,e);a.Zf();a.scale(c,c);a.kr(-this.M.wg());a.translate((this.M.Rd+this.M.Sd)/-2,(this.M.Td+this.M.Qd)/-2);a.eg();this.dl=this.g.Oe}};var g=[];d.Nw=function(a){g.length=0;for(var b="",c,d=0;d<a.length;)if(c=a.charAt(d),"\n"===c)b.length&&(g.push(b),b=""),g.push("\n"),++d;else if(" "===c||"\t"===c||"-"===c){do b+=a.charAt(d),d++;while(d<a.length&&(" "===a.charAt(d)||
"\t"===a.charAt(d)));g.push(b);b=""}else d<a.length&&(b+=c,d++);b.length&&g.push(b)};var h=[];d.Qw=function(c,d,e,g,n){if(c&&c.length)if(2>=g)b(d);else{if(100>=c.length&&-1===c.indexOf("\n")){var h=e.measureText(c).width;if(h<=g){b(d);d.push(a());d[0].text=c;d[0].width=h;return}}this.Rw(c,d,e,g,n)}else b(d)};d.Rw=function(b,c,d,e,n){n&&(this.Nw(b),b=g);var q="",p,t,r,x=0;for(r=0;r<b.length;r++)"\n"===b[r]?(x>=c.length&&c.push(a()),t=c[x],t.text=q,t.width=d.measureText(q).width,x++,q=""):(p=q,q+=b[r],
t=d.measureText(q).width,t>=e&&(x>=c.length&&c.push(a()),t=c[x],t.text=p,t.width=d.measureText(p).width,x++,q=b[r],n||" "!==q||(q="")));q.length&&(x>=c.length&&c.push(a()),t=c[x],t.text=q,t.width=d.measureText(q).width,x++);for(r=x;r<c.length;r++)h.push(c[r]);c.length=x};d.ja=new (s());c.prototype.Gw=function(a){ea(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.Qi=!0,this.g.cb=!0)};d.xd=new c;d.Ic=new (s())})();function O(a){this.g=a}
(function(){function a(a){f=a.x;k=a.y;l=a.z}function b(a){m=a.x;n=a.y;q=a.z}function c(){}function d(){}var e=O.prototype;e.hd=function(a){this.gc=a;this.g=a.g};e.hd.prototype.xb=s();e.yc=function(a){this.type=a;this.g=a.g;this.touches=[];this.Lq=!1};var g=e.yc.prototype,h={left:0,top:0};g.Kk=function(a){var b,c;b=0;for(c=this.touches.length;b<c;b++)if(this.touches[b].id===a)return b;return-1};var f=0,k=0,l=0,m=0,n=0,q=0;g.xb=function(){this.yz=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);
this.Lh=this.mp=this.lp=this.Ls=this.Ks=this.Js=this.jx=this.ix=this.hx=this.zl=this.yl=this.xl=0;this.XA=0!==this.Oa[0];var c=0<this.g.Cd?document:this.g.canvas,d=document;this.g.zg?d=c=window.Canvas:this.g.Jf&&(d=c=window);var e=this;window.navigator.pointerEnabled?(c.addEventListener("pointerdown",function(a){e.Ju(a)},!1),c.addEventListener("pointermove",function(a){e.Iu(a)},!1),d.addEventListener("pointerup",function(a){e.Kn(a)},!1),d.addEventListener("pointercancel",function(a){e.Kn(a)},!1),
this.g.canvas&&(this.g.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.g.canvas.addEventListener("gesturehold",function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",function(a){a.preventDefault()},!1))):window.navigator.msPointerEnabled?(c.addEventListener("MSPointerDown",function(a){e.Ju(a)},!1),c.addEventListener("MSPointerMove",function(a){e.Iu(a)},!1),d.addEventListener("MSPointerUp",
function(a){e.Kn(a)},!1),d.addEventListener("MSPointerCancel",function(a){e.Kn(a)},!1),this.g.canvas&&(this.g.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1))):(c.addEventListener("touchstart",function(a){e.Mu(a)},!1),c.addEventListener("touchmove",function(a){e.Lu(a)},!1),d.addEventListener("touchend",function(a){e.Sq(a)},!1),d.addEventListener("touchcancel",function(a){e.Sq(a)},!1));if(this.yz){var n=
function(a){a=a.reading;e.Js=a.accelerationX;e.Ks=a.accelerationY;e.Ls=a.accelerationZ},f=function(a){a=a.reading;e.xl=a.yawDegrees;e.yl=a.pitchDegrees;e.zl=a.rollDegrees},g=Windows.Devices.Sensors.Accelerometer.getDefault();g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),g.addEventListener("readingchanged",n));var h=Windows.Devices.Sensors.Inclinometer.getDefault();h&&(h.reportInterval=Math.max(h.minimumReportInterval,16),h.addEventListener("readingchanged",f));document.addEventListener("visibilitychange",
function(){document.hidden||document.msHidden?(g&&g.removeEventListener("readingchanged",n),h&&h.removeEventListener("readingchanged",f)):(g&&g.addEventListener("readingchanged",n),h&&h.addEventListener("readingchanged",f))},!1)}else window.addEventListener("deviceorientation",function(a){e.xl=a.alpha||0;e.yl=a.beta||0;e.zl=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(e.hx=a.accelerationIncludingGravity.x,e.ix=a.accelerationIncludingGravity.y,
e.jx=a.accelerationIncludingGravity.z);a.acceleration&&(e.Js=a.acceleration.x,e.Ks=a.acceleration.y,e.Ls=a.acceleration.z)},!1);this.XA&&!this.g.rd&&(jQuery(document).mousemove(function(a){e.jA(a)}),jQuery(document).mousedown(function(a){e.iA(a)}),jQuery(document).mouseup(function(a){e.kA(a)}));this.g.Vk&&!this.g.zg&&AppMobi.accelerometer.watchAcceleration(a,{frequency:40,adjustForRotation:!0});this.g.Xk&&navigator.accelerometer.watchAcceleration(b,null,{frequency:40});this.g.OA(this)};g.Iu=function(a){if(a.pointerType!==
a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&a.preventDefault();var b=this.Kk(a.pointerId),c=Na();if(0<=b){var d=this.g.rd?h:jQuery(this.g.canvas).offset(),b=this.touches[b];2>c-b.time||(b.on=b.time,b.fq=b.x,b.gq=b.y,b.time=c,b.x=a.pageX-d.left,b.y=a.pageY-d.top)}}};g.Ju=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&a.preventDefault();var b=this.g.rd?h:jQuery(this.g.canvas).offset(),c=a.pageX-b.left,b=a.pageY-b.top,d=Na();this.Lh=
this.touches.length;this.touches.push({time:d,x:c,y:b,on:d,fq:c,gq:b,id:a.pointerId,xr:this.Lh});this.g.nh=!0;this.g.trigger(O.prototype.ja.hs,this);this.g.trigger(O.prototype.ja.ls,this);this.lp=c;this.mp=b;this.g.trigger(O.prototype.ja.ks,this);this.g.nh=!1}};g.Kn=function(a){a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType&&(a.preventDefault&&a.preventDefault(),a=this.Kk(a.pointerId),this.Lh=0<=a?this.touches[a].xr:-1,this.g.nh=!0,this.g.trigger(O.prototype.ja.gs,this),this.g.trigger(O.prototype.ja.js,
this),this.g.nh=!1,0<=a&&this.touches.splice(a,1))};g.Lu=function(a){a.preventDefault&&a.preventDefault();var b=Na(),c,d,e,n;c=0;for(d=a.changedTouches.length;c<d;c++)if(e=a.changedTouches[c],n=this.Kk(e.identifier),0<=n){var f=this.g.rd?h:jQuery(this.g.canvas).offset();n=this.touches[n];2>b-n.time||(n.on=n.time,n.fq=n.x,n.gq=n.y,n.time=b,n.x=e.pageX-f.left,n.y=e.pageY-f.top)}};g.Mu=function(a){a.preventDefault&&a.preventDefault();var b=this.g.rd?h:jQuery(this.g.canvas).offset(),c=Na();this.g.nh=
!0;var d,e,n,f;d=0;for(e=a.changedTouches.length;d<e;d++)if(n=a.changedTouches[d],f=this.Kk(n.identifier),-1===f){f=n.pageX-b.left;var g=n.pageY-b.top;this.Lh=this.touches.length;this.touches.push({time:c,x:f,y:g,on:c,fq:f,gq:g,id:n.identifier,xr:this.Lh});this.g.trigger(O.prototype.ja.hs,this);this.g.trigger(O.prototype.ja.ls,this);this.lp=f;this.mp=g;this.g.trigger(O.prototype.ja.ks,this)}this.g.nh=!1};g.Sq=function(a){a.preventDefault&&a.preventDefault();this.g.nh=!0;var b,c,d;b=0;for(c=a.changedTouches.length;b<
c;b++)d=a.changedTouches[b],d=this.Kk(d.identifier),0<=d&&(this.Lh=this.touches[d].xr,this.g.trigger(O.prototype.ja.gs,this),this.g.trigger(O.prototype.ja.js,this),this.touches.splice(d,1));this.g.nh=!1};g.wC=function(){return this.g.Vk&&0===this.xl&&0!==l?90*l:this.g.Xk&&0===this.xl&&0!==q?90*q:this.xl};g.xC=function(){return this.g.Vk&&0===this.yl&&0!==k?-90*k:this.g.Xk&&0===this.yl&&0!==n?-90*n:this.yl};g.zC=function(){return this.g.Vk&&0===this.zl&&0!==f?90*f:this.g.Xk&&0===this.zl&&0!==m?90*
m:this.zl};g.iA=function(a){a.preventDefault&&this.g.$m&&a.preventDefault();this.Mu({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.Lq=!0};g.jA=function(a){a.preventDefault&&this.g.$m&&a.preventDefault();this.Lq&&this.Lu({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};g.kA=function(a){a.preventDefault&&this.g.$m&&a.preventDefault();this.g.$m=!0;this.Sq({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.Lq=!1};g.co=function(){var a,b,c,d=Na();a=
0;for(b=this.touches.length;a<b;a++)c=this.touches[a],c.time<=d-50&&(c.on=d)};c.prototype.ls=w(!0);c.prototype.js=w(!0);c.prototype.mw=function(){return this.touches.length};c.prototype.ks=function(a){return a?this.g.MA(a,this.lp,this.mp):!1};c.prototype.hs=function(a){a=Math.floor(a);return a===this.Lh};c.prototype.gs=function(a){a=Math.floor(a);return a===this.Lh};e.ja=new c;d.prototype.Es=function(a,b){if(this.touches.length){var c,d,e,n,f;da(b)?(c=this.g.Ok(0),d=c.scale,e=c.Wg,n=c.Og,f=c.L,c.scale=
this.g.$a.scale,c.Wg=1,c.Og=1,c.L=this.g.$a.L,a.ca(c.zd(this.touches[0].x,this.touches[0].y,!0)),c.scale=d,c.Wg=e,c.Og=n,c.L=f):(c=ea(b)?this.g.Ok(b):this.g.Fp(b))?a.ca(c.zd(this.touches[0].x,this.touches[0].y,!0)):a.ca(0)}else a.ca(0)};d.prototype.Gs=function(a,b){if(this.touches.length){var c,d,e,n,f;da(b)?(c=this.g.Ok(0),d=c.scale,e=c.Wg,n=c.Pg,f=c.L,c.scale=this.g.$a.scale,c.Wg=1,c.Pg=1,c.L=this.g.$a.L,a.ca(c.zd(this.touches[0].x,this.touches[0].y,!1)),c.scale=d,c.Wg=e,c.Pg=n,c.L=f):(c=ea(b)?
this.g.Ok(b):this.g.Fp(b))?a.ca(c.zd(this.touches[0].x,this.touches[0].y,!1)):a.ca(0)}else a.ca(0)};e.Ic=new d})();function R(a,b){for(var c in b.prototype)b.prototype.hasOwnProperty(c)&&(a.prototype[c]=b.prototype[c])}
if(navigator.isCocoonJS&&"undefined"!==typeof window.cr_cjs_accelerated_physics)H("Using CocoonJS native physics"),window.ext&&"undefined"!==typeof window.ext.IDTK_SRV_BOX2D?function(){function a(a,c,d,e){this.type=b.lj;this.gb=new m;this.hb=new m;this.qf=null;void 0!==a&&(this.H=a);void 0!==c&&(this.J=c);void 0!==d&&this.gb.D(d);void 0!==e&&this.hb.D(e);this.Mj=this.zu=this.Er=this.rq=this.Yf=0;this.mj=this.ji=!1}function b(a){this.H=a.H;this.J=a.J;this.qf=a.qf;this.type=a.type;this.next=null}function c(a,
b){this.wn=[];this.pb=[];this.Ei=[];this.Eg=null;this.Qz=[];this.Gb=window.ext.IDTK_SRV_BOX2D.makeCall("createWorld",a.x,a.y,b)}function d(){}function e(a,b,c){this.sb=a;this.ob=b;this.Xz=c}function g(a,b){var c=a.qf;a.qf=null;this.Ba=b;this.u=new k(a.position,l.aj(a.L));this.ll=[];this.hl=a.Yd;a.type===g.Zd&&(a.Xe=0);this.Vb=window.ext.IDTK_SRV_BOX2D.makeCall("createBody",b.Gb,a);a.qf=c}function h(a,b,c,d){this.jl=a;this.wq=c;this.Lg={};this.Lg.bd=m.q(0,0);this.zn=!1;this.xn=d.Xe;this.yq=d.Ff;this.rl=
d.$f;this.zn=d.Sp}function f(){}function k(a,b){this.position=m.q(0,0);this.n=new l;void 0===a&&(a=null);void 0===b&&(b=null);a&&(this.position.D(a),this.n.Re(b))}function l(){this.i=m.q(0,0);this.j=m.q(0,0);this.$g()}function m(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.x=a;this.y=b}S=m;m.lg=[];m.q=function(a,b){if(0<S.lg.length){var c=S.lg.pop();c.Set(a,b);return c}return new S(a,b)};m.Jb=function(a){1E4>S.lg.length&&S.lg.push(a)};m.prototype.Z=function(){this.y=this.x=0};m.prototype.Set=function(a,
b){void 0===a&&(a=0);void 0===b&&(b=0);this.x=a;this.y=b};m.prototype.D=function(a){this.x=a.x;this.y=a.y};m.GB=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return m.q(a,b)};m.prototype.Rb=function(){return m.q(this.x,this.y)};m.prototype.hg=function(a){this.x+=a.x;this.y+=a.y};m.prototype.Mo=function(a){this.x-=a.x;this.y-=a.y};m.prototype.Vc=function(a){void 0===a&&(a=0);this.x*=a;this.y*=a};m.prototype.vf=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};m.prototype.fm=function(){return this.x*
this.x+this.y*this.y};m.prototype.Wc=function(){var a=Math.sqrt(this.x*this.x+this.y*this.y);if(a<Number.MIN_VALUE)return 0;var b=1/a;this.x*=b;this.y*=b;return a};m.prototype.Co=function(){this.x=-this.x;this.y=-this.y};T=l;l.aj=function(a){void 0===a&&(a=0);var b=new l;b.Set(a);return b};l.uf=function(a,b){var c=new l;c.Ko(a,b);return c};l.prototype.Set=function(a){void 0===a&&(a=0);var b=Math.cos(a);a=Math.sin(a);this.i.x=b;this.j.x=-a;this.i.y=a;this.j.y=b};l.prototype.Ko=function(a,b){this.i.D(a);
this.j.D(b)};l.prototype.Rb=function(){var a=new l;a.Re(this);return a};l.prototype.Re=function(a){this.i.D(a.i);this.j.D(a.j)};l.prototype.Rl=function(a){this.i.x+=a.i.x;this.i.y+=a.i.y;this.j.x+=a.j.x;this.j.y+=a.j.y};l.prototype.$g=function(){this.i.x=1;this.j.x=0;this.i.y=0;this.j.y=1};l.prototype.Z=function(){this.i.x=0;this.j.x=0;this.i.y=0;this.j.y=0};l.prototype.Tc=function(){return Math.atan2(this.i.y,this.i.x)};l.prototype.vo=function(a){var b=this.i.x,c=this.j.x,d=this.i.y,e=this.j.y,f=
b*e-c*d;0!==f&&(f=1/f);a.i.x=f*e;a.j.x=-f*c;a.i.y=-f*d;a.j.y=f*b;return a};l.prototype.ah=function(a,b,c){void 0===b&&(b=0);void 0===c&&(c=0);var d=this.i.x,e=this.j.x,f=this.i.y,g=this.j.y,h=d*g-e*f;0!==h&&(h=1/h);a.x=h*(g*b-e*c);a.y=h*(d*c-f*b);return a};l.prototype.gg=function(){this.i.gg();this.j.gg()};Tb=k;k.prototype.Kb=function(a,b){this.position.D(a);this.n.Re(b)};k.prototype.$g=function(){this.position.Z();this.n.$g()};k.prototype.Set=function(a){this.position.D(a.position);this.n.Re(a.n)};
k.prototype.gm=function(){return Math.atan2(this.n.i.y,this.n.i.x)};U=f;f.em=function(a){void 0===a&&(a=0);return isFinite(a)};f.qb=function(a,b){return a.x*b.x+a.y*b.y};f.Oh=function(a,b){return a.x*b.y-a.y*b.x};f.ig=function(a,b){void 0===b&&(b=0);return m.q(b*a.y,-b*a.x)};f.ro=function(a,b){void 0===a&&(a=0);return m.q(-a*b.y,a*b.x)};f.Cb=function(a,b){return m.q(a.i.x*b.x+a.j.x*b.y,a.i.y*b.x+a.j.y*b.y)};f.jg=function(a,b){return m.q(f.qb(b,a.i),f.qb(b,a.j))};f.Zb=function(a,b){var c=f.Cb(a.n,
b);c.x+=a.position.x;c.y+=a.position.y;return c};f.Ao=function(a,b){var c=f.eb(b,a.position),d=c.x*a.n.i.x+c.y*a.n.i.y;c.y=c.x*a.n.j.x+c.y*a.n.j.y;c.x=d;return c};f.fk=function(a,b){return m.q(a.x+b.x,a.y+b.y)};f.eb=function(a,b){return m.q(a.x-b.x,a.y-b.y)};f.dw=function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)};f.Sr=function(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d};f.pw=function(a,b){void 0===a&&(a=0);return m.q(a*b.x,a*b.y)};f.Tv=function(a,b){return l.uf(f.fk(a.i,b.i),f.fk(a.j,
b.j))};f.qw=function(a,b){return l.uf(f.Cb(a,b.i),f.Cb(a,b.j))};f.rw=function(a,b){var c=m.q(f.qb(a.i,b.i),f.qb(a.j,b.i)),d=m.q(f.qb(a.i,b.j),f.qb(a.j,b.j));return l.uf(c,d)};f.gg=function(a){void 0===a&&(a=0);return 0<a?a:-a};f.ck=function(a){return m.q(f.gg(a.x),f.gg(a.y))};f.Rv=function(a){return l.uf(f.ck(a.i),f.ck(a.j))};f.bs=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return a<b?a:b};f.cs=function(a,b){return m.q(f.bs(a.x,b.x),f.bs(a.y,b.y))};f.$r=function(a,b){void 0===a&&(a=0);void 0===
b&&(b=0);return a>b?a:b};f.as=function(a,b){return m.q(f.$r(a.x,b.x),f.$r(a.y,b.y))};f.kb=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);return a<b?b:a>c?c:a};f.Wv=function(a,b,c){return f.as(b,f.cs(a,c))};f.nC=function(a,b){var c=a[0];a[0]=b[0];b[0]=c};f.UB=function(){return 2*Math.random()-1};f.VB=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);var c=Math.random();return(b-a)*c+a};f.MB=function(a){void 0===a&&(a=0);a|=a>>1&2147483647;a|=a>>2&1073741823;a|=a>>4&268435455;
a|=a>>8&16777215;return(a|a>>16&65535)+1};f.BB=function(a){void 0===a&&(a=0);return 0<a&&0===(a&a-1)};f.tx=new m(0,0);f.rx=l.uf(new m(1,0),new m(0,1));f.uC=new k(f.tx,f.rx);V=function(){this.position=m.q(0,0);this.lq=m.q(0,0);this.qf=null;this.L=0;this.lq.Set(0,0);this.$h=this.wi=this.Ps=0;this.Vs=this.Os=!0;this.di=this.vp=!1;this.type=g.Zd;this.Yd=!0;this.Qt=1};Ub=h;h.prototype.Ja=u("jl");h.prototype.Yb=function(){console.log("fixture.GetShape not yet supported in CocoonJS Box2D binding");return null};
h.prototype.Uh=u("zn");Vb=g;g.prototype.Zi=function(a){var b=a.qf;a.qf=null;var c=window.ext.IDTK_SRV_BOX2D.makeCall("createFixture",this.Ba.Gb,this.Vb,a);a.qf=b;a=new h(this,0,c,a);this.Ba.Ei[c]=a;this.ll.push(a);return a};g.prototype.uo=function(){return 0===this.ll.length?null:this.ll[0]};g.prototype.Rr=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("deleteFixture",this.Ba.Gb,a.wq);delete this.Ba.Ei[a.wq]};g.prototype.yk=function(a,b){window.ext.IDTK_SRV_BOX2D.makeCall("setBodyTransform",this.Ba.Gb,
this.Vb,a.x,a.y,b);this.u.n.Set(b);this.u.position.D(a)};g.prototype.Jo=function(a){this.yk(a,this.Tc())};g.prototype.Qh=function(){var a=window.ext.IDTK_SRV_BOX2D.makeCall("getLinearVelocity",this.Ba.Gb,this.Vb);return m.q(a[0],a[1])};g.prototype.cj=function(){var a=window.ext.IDTK_SRV_BOX2D.makeCall("getWorldCenter",this.Ba.Gb,this.Vb);return m.q(a[0],a[1])};g.prototype.Rh=function(){var a=window.ext.IDTK_SRV_BOX2D.makeCall("getLocalCenter",this.Ba.Gb,this.Vb);return m.q(a[0],a[1])};g.prototype.Fc=
function(a){return f.Ao(this.u,a)};g.prototype.bj=function(){return window.ext.IDTK_SRV_BOX2D.makeCall("getMass",this.Ba.Gb,this.Vb)};g.prototype.Gc=function(){return window.ext.IDTK_SRV_BOX2D.makeCall("isAwake",this.Ba.Gb,this.Vb)};g.prototype.kk=function(){return window.ext.IDTK_SRV_BOX2D.makeCall("getAngularVelocity",this.Ba.Gb,this.Vb)};g.prototype.zc=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setAwake",this.Ba.Gb,this.Vb,a)};g.prototype.Wh=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setLinearVelocity",
this.Ba.Gb,this.Vb,a.x,a.y)};g.prototype.rf=function(a,b,c){window.ext.IDTK_SRV_BOX2D.makeCall("applyForce",this.Ba.Gb,this.Vb,a.x,a.y,b.x,b.y,c)};g.prototype.gk=function(a,b){window.ext.IDTK_SRV_BOX2D.makeCall("applyTorque",this.Ba.Gb,this.Vb,a,b)};g.prototype.wk=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setAngularVelocity",this.Ba.Gb,this.Vb,a)};g.prototype.Th=u("hl");g.prototype.Tc=function(){return this.u.n.Tc()};g.prototype.gm=function(a){void 0===a&&(a=0);this.yk(this.u.position,a)};g.prototype.Yg=
function(){for(var a=window.ext.IDTK_SRV_BOX2D.makeCall("getObjectContacts",this.Ba.Gb,this.Vb),b=[],c=0;c<a.length;c++)b.push(this.Ba.wn[a[c]]);return b};Vb.Zd=0;Vb.Xs=1;Vb.$b=2;e.prototype.yo=u("Xz");Wb=d;d.prototype.Sl=s();Wb.Ws=new d;Xb=s();W=c;c.prototype.vs=aa("Eg");c.prototype.us=function(a){var b=this;window.ext.IDTK_SRV_BOX2D.makeCall("setContactFilter",this.Gb,function(c,d){return a.Xh(b.Ei[c],b.Ei[d])})};c.prototype.qo=function(a){a=new g(a,this);return this.wn[a.Vb]=a};c.prototype.Xl=
function(a){window.ext.IDTK_SRV_BOX2D.makeCall("deleteBody",this.Gb,a.Vb);delete this.wn[a.Vb];for(var b=0;b<a.ll.length;++b)delete this.Ei[a.ll[b].wq]};c.prototype.Wl=function(a){if(a.H.Vb!==a.J.Vb){var c=a.H,d=a.J;a.H=c.Vb;a.J=d.Vb;var e="createDistanceJoint";a.type===b.lj&&(e="createRevoluteJoint");var f=new b(a);f.Pz=window.ext.IDTK_SRV_BOX2D.makeCall(e,this.Gb,a);a.H=c;a.J=d;this.Qz.push(f);return f}};c.prototype.Yl=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("destroyJoint",this.Gb,a.Pz)};
c.prototype.kg=function(a,b,c){c=window.ext.IDTK_SRV_BOX2D.makeCall("step",this.Gb,a,b,c);b=c[0];for(a=1;a<=4*b;a+=4){var d=this.wn[c[a+0]];if(null===d)break;d.u.position.Set(c[a+1],c[a+2]);d.u.n.Set(c[a+3])}if(null!==this.Eg)for(c=window.ext.IDTK_SRV_BOX2D.makeCall("getLastContacts",this.Gb),b=c[0],a=1;a<=3*b;a+=3){var d=c[a+2],f=this.Ei[c[a+0]],g=this.Ei[c[a+1]];"undefined"===typeof f||"undefined"===typeof g?console.log("One of the fixtures in a contact DOESN'T EXIST!!"):this.Eg.Sl(new e(f,g,d))}};
c.prototype.Qr=function(){window.ext.IDTK_SRV_BOX2D.makeCall("clearForces",this.Gb)};Yb=function(a){this.Pn=a;this.type="circle"};X=s();X.prototype.hm=function(a,b){this.type="box";this.width=a;this.height=b};X.prototype.rs=function(){this.type="edge"};X.prototype.xk=function(a,b){this.type="polygon";this.Pv=[];for(var c=0;c<b;c++)this.Pv.push(a[c].x),this.Pv.push(a[c].y)};Zb=function(){this.qf=this.shape=null;this.Ff=0.2;this.Xe=this.$f=0;this.Sp=!1;this.filter={jj:1,Jj:65535,lh:0}};Y=b;b.prototype.lk=
u("H");b.prototype.to=u("J");b.prototype.kc=u("type");b.pp=0;b.lj=1;$b=function(a,c,d,e){this.type=b.pp;this.gb=m.q(0,0);this.hb=m.q(0,0);this.qf=null;void 0!==a&&(this.H=a);void 0!==c&&(this.J=c);void 0!==d&&this.gb.D(d);void 0!==e&&this.hb.D(e);void 0!==d&&void 0!==e&&(a=e.x-d.x,d=e.y-d.y,this.length=Math.sqrt(a*a+d*d));this.Cm=this.Rm=0};a.prototype.Kb=function(a,b,c){this.H=a;this.J=b;this.gb=this.H.Fc(c);this.hb=this.J.Fc(c);this.Yf=this.J.Tc()-this.H.Tc()};ac=a}():console.log("The CocoonJS binding for Box2D has been ignored because ext.IDTK_SRV_BOX2D is not available");
else{var U={},bc=2/180*Math.PI,cc=8/180*Math.PI,dc=0.5*Math.PI,ec=dc*dc,fc=2/180*Math.PI,gc=Number.MIN_VALUE*Number.MIN_VALUE;U.qb=function(a,b){return a.x*b.x+a.y*b.y};U.Oh=function(a,b){return a.x*b.y-a.y*b.x};U.ig=function(a,b){return S.q(b*a.y,-b*a.x)};U.ro=function(a,b){return S.q(-a*b.y,a*b.x)};U.Cb=function(a,b){return S.q(a.i.x*b.x+a.j.x*b.y,a.i.y*b.x+a.j.y*b.y)};U.jg=function(a,b){return S.q(U.qb(b,a.i),U.qb(b,a.j))};U.Zb=function(a,b){var c=U.Cb(a.n,b);c.x+=a.position.x;c.y+=a.position.y;
return c};U.Ao=function(a,b){var c=U.eb(b,a.position),d=c.x*a.n.i.x+c.y*a.n.i.y;c.y=c.x*a.n.j.x+c.y*a.n.j.y;c.x=d;return c};U.fk=function(a,b){return S.q(a.x+b.x,a.y+b.y)};U.eb=function(a,b){return S.q(a.x-b.x,a.y-b.y)};U.dw=function(a,b){return Math.sqrt(U.Sr(a,b))};U.Sr=function(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d};U.pw=function(a,b){return S.q(a*b.x,a*b.y)};U.Tv=function(a,b){return T.uf(U.fk(a.i,b.i),U.fk(a.j,b.j))};U.qw=function(a,b){return T.uf(U.Cb(a,b.i),U.Cb(a,b.j))};U.rw=function(a,
b){var c=S.q(U.qb(a.i,b.i),U.qb(a.j,b.i)),d=S.q(U.qb(a.i,b.j),U.qb(a.j,b.j));return T.uf(c,d)};U.ck=function(a){return S.q(Math.abs(a.x),Math.abs(a.y))};U.Rv=function(a){return T.uf(U.ck(a.i),U.ck(a.j))};U.kb=function(a,b,c){return a<b?b:a>c?c:a};U.Wv=function(a,b,c){return S.q(U.kb(a.x,b.x,c.x),U.kb(a.y,b.y,c.y))};var T=function(){this.i=S.q(0,0);this.j=S.q(0,0);this.$g()};T.aj=function(a){var b=new T;b.Set(a);return b};T.uf=function(a,b){var c=new T;c.Ko(a,b);return c};z=T.prototype;z.Set=function(a){var b=
Math.cos(a);a=Math.sin(a);this.i.Set(b,a);this.j.Set(-a,b)};z.Ko=function(a,b){this.i.D(a);this.j.D(b)};z.Rb=function(){var a=new T;a.Re(this);return a};z.Re=function(a){this.i.D(a.i);this.j.D(a.j)};z.Rl=function(a){this.i.hg(a.i);this.j.hg(a.j)};z.$g=function(){this.i.Set(1,0);this.j.Set(0,1)};z.Z=function(){this.i.Set(0,0);this.j.Set(0,0)};z.Tc=function(){return Math.atan2(this.i.y,this.i.x)};z.vo=function(a){var b=this.i.x*this.j.y-this.j.x*this.i.y;0!==b&&(b=1/b);a.i.x=b*this.j.y;a.j.x=-b*this.j.x;
a.i.y=-b*this.i.y;a.j.y=b*this.i.x;return a};z.ah=function(a,b,c){var d=this.i.x*this.j.y-this.j.x*this.i.y;0!==d&&(d=1/d);a.x=d*(this.j.y*b-this.j.x*c);a.y=d*(this.i.x*c-this.i.y*b);return a};z.gg=function(){this.i.gg();this.j.gg()};var ic=function(a,b,c){this.i=new hc(0,0,0);this.j=new hc(0,0,0);this.la=new hc(0,0,0);a&&this.i.D(a);b&&this.j.D(b);c&&this.la.D(c)};z=ic.prototype;z.Rb=function(){return new ic(this.i,this.j,this.la)};z.Re=function(a){this.i.D(a.i);this.j.D(a.j);this.la.D(a.la)};z.Rl=
function(a){this.i.x+=a.i.x;this.i.y+=a.i.y;this.i.z+=a.i.z;this.j.x+=a.j.x;this.j.y+=a.j.y;this.j.z+=a.j.z;this.la.x+=a.la.x;this.la.y+=a.la.y;this.la.z+=a.la.z};z.$g=function(){this.i.Set(1,0,0);this.j.Set(0,1,0);this.la.Set(0,0,1)};z.Z=function(){this.i.Set(0,0,0);this.j.Set(0,0,0);this.la.Set(0,0,0)};z.fj=function(a,b,c){var d=this.i.x,e=this.j.x,g=this.i.y,h=this.j.y,f=d*h-e*g;0!=f&&(f=1/f);a.x=f*(h*b-e*c);a.y=f*(d*c-g*b);return a};z.zk=function(a,b,c,d){var e=this.i.x,g=this.i.y,h=this.i.z,
f=this.j.x,k=this.j.y,l=this.j.z,m=this.la.x,n=this.la.y,q=this.la.z,p=e*(k*q-l*n)+g*(l*m-f*q)+h*(f*n-k*m);0!=p&&(p=1/p);a.x=p*(b*(k*q-l*n)+c*(l*m-f*q)+d*(f*n-k*m));a.y=p*(e*(c*q-d*n)+g*(d*m-b*q)+h*(b*n-c*m));a.z=p*(e*(k*d-l*c)+g*(l*b-f*d)+h*(f*c-k*b));return a};var jc=function(){this.K=S.q(0,0);this.oc=S.q(0,0);this.r=S.q(0,0)};jc.prototype.Set=function(a){this.K.D(a.K);this.oc.D(a.oc);this.r.D(a.r);this.xe=a.xe;this.I=a.I;this.Oc=a.Oc};jc.prototype.Rb=function(){var a=new jc;a.K.D(this.K);a.oc.D(this.oc);
a.r.D(this.r);a.xe=this.xe;a.I=this.I;a.Oc=this.Oc;return a};jc.prototype.vd=function(a,b){void 0===b&&(b=0);a.position.x=(1-b)*this.oc.x+b*this.r.x;a.position.y=(1-b)*this.oc.y+b*this.r.y;a.n.Set((1-b)*this.xe+b*this.I);var c=a.n;a.position.x-=c.i.x*this.K.x+c.j.x*this.K.y;a.position.y-=c.i.y*this.K.x+c.j.y*this.K.y};jc.prototype.Xg=function(a){void 0===a&&(a=0);if(this.Oc<a&&1-this.Oc>Number.MIN_VALUE){var b=(a-this.Oc)/(1-this.Oc);this.oc.x=(1-b)*this.oc.x+b*this.r.x;this.oc.y=(1-b)*this.oc.y+
b*this.r.y;this.xe=(1-b)*this.xe+b*this.I;this.Oc=a}};var Tb=function(a,b){this.position=S.q(0,0);this.n=new T;a&&this.position.D(a);b&&this.n.Re(b)};Tb.prototype.Kb=function(a,b){this.position.D(a);this.n.Re(b)};Tb.prototype.$g=function(){this.position.Z();this.n.$g()};Tb.prototype.Set=function(a){this.position.D(a.position);this.n.Re(a.n)};Tb.prototype.Tc=function(){return Math.atan2(this.n.i.y,this.n.i.x)};var S=function(a,b){this.x=a;this.y=b};S.lg=[];S.q=function(a,b){if(0<S.lg.length){var c=
S.lg.pop();c.Set(a,b);return c}return new S(a,b)};S.Jb=function(a){S.lg.push(a)};z=S.prototype;z.Z=function(){this.y=this.x=0};z.Set=function(a,b){this.x=a;this.y=b};z.D=function(a){this.x=a.x;this.y=a.y};z.Zg=function(){return S.q(-this.x,-this.y)};z.Co=function(){this.x=-this.x;this.y=-this.y};z.Rb=function(){return S.q(this.x,this.y)};z.hg=function(a){this.x+=a.x;this.y+=a.y};z.Mo=function(a){this.x-=a.x;this.y-=a.y};z.Vc=function(a){this.x*=a;this.y*=a};z.ig=function(a){var b=this.x;this.x=a*
this.y;this.y=-a*b};z.ro=function(a){var b=this.x;this.x=-a*this.y;this.y=a*b};z.cs=function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y)};z.as=function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y)};z.gg=function(){this.x=Math.abs(this.x);this.y=Math.abs(this.y)};z.vf=function(){return Math.sqrt(this.fm())};z.fm=function(){return this.x*this.x+this.y*this.y};z.Wc=function(){var a=this.vf();if(a<Number.MIN_VALUE)return 0;var b=1/a;this.x*=b;this.y*=b;return a};z.em=function(){return isFinite(this.x)&&
isFinite(this.y)};var hc=function(a,b,c){this.x=a;this.y=b;this.z=c};z=hc.prototype;z.Z=function(){this.z=this.y=this.x=0};z.Set=function(a,b,c){this.x=a;this.y=b;this.z=c};z.D=function(a){this.x=a.x;this.y=a.y;this.z=a.z};z.Zg=function(){return new hc(-this.x,-this.y,-this.z)};z.Co=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z};z.Rb=function(){return new hc(this.x,this.y,this.z)};z.hg=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z};z.Mo=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z};
z.Vc=function(a){this.x*=a;this.y*=a;this.z*=a};var kc=function(){this.Ma=0.0050};z=kc.prototype;z.Sh=s();z.Rb=s();z.Set=function(a){this.Ma=a.Ma};z.Yi=s();z.hk=s();z.Vl=s();z.Io=s();var Yb=function(a){this.Ma=0.0050;this.Ma=a;this.Gj=a*a;this.Ua=S.q(0,0)};R(Yb,kc);z=Yb.prototype;z.Sh=function(){return Yb.Qe};z.Rb=function(){var a=new Yb(this.Ma);a.Set(this);return a};z.Set=function(a){kc.prototype.Set.call(this,a);a instanceof Yb&&this.Ua.D(a.Ua)};z.Yi=function(a,b){var c=b.n,d=b.position.x+(c.i.x*
this.Ua.x+c.j.x*this.Ua.y),c=b.position.y+(c.i.y*this.Ua.x+c.j.y*this.Ua.y);a.ta.Set(d-this.Ma,c-this.Ma);a.ua.Set(d+this.Ma,c+this.Ma)};z.hk=function(a,b){a.Uf=b*Math.PI*this.Gj;a.pg.D(this.Ua);a.dj=a.Uf*(0.5*this.Gj+(this.Ua.x*this.Ua.x+this.Ua.y*this.Ua.y))};z.Vl=function(a,b,c,d){c=U.Zb(c,this.Ua);var e=-(U.qb(a,c)-b);if(e<-this.Ma+Number.MIN_VALUE)return 0;if(e>this.Ma)return d.D(c),Math.PI*this.Gj;b=e*e;e=this.Gj*(Math.asin(e/this.Ma)+Math.PI/2)+e*Math.sqrt(this.Gj-b);b=-2/3*Math.pow(this.Gj-
b,1.5)/e;d.x=c.x+a.x*b;d.y=c.y+a.y*b;return e};z.Io=function(a){a.G=[this.Ua];a.fa=1;a.Ma=this.Ma};Yb.Qe="b2CircleShape";var lc=function(a,b){this.Ma=0.0050;this.ga=a;this.Aa=b;this.Di=S.q(this.Aa.x-this.ga.x,this.Aa.y-this.ga.y);this.zq=this.Di.Wc();this.na=S.q(this.Di.y,-this.Di.x);S.q(-0.04*(this.na.x-this.Di.x)+this.ga.x,-0.04*(this.na.y-this.Di.y)+this.ga.y);S.q(-0.04*(this.na.x+this.Di.x)+this.Aa.x,-0.04*(this.na.y+this.Di.y)+this.Aa.y);S.q(-this.na.x,-this.na.y)};R(lc,kc);lc.prototype.Sh=w("b2EdgeShape");
lc.prototype.Yi=function(a,b){var c=b.n,d=b.position.x+(c.i.x*this.ga.x+c.j.x*this.ga.y),e=b.position.y+(c.i.y*this.ga.x+c.j.y*this.ga.y),g=b.position.x+(c.i.x*this.Aa.x+c.j.x*this.Aa.y),c=b.position.y+(c.i.y*this.Aa.x+c.j.y*this.Aa.y);d<g?(a.ta.x=d,a.ua.x=g):(a.ta.x=g,a.ua.x=d);e<c?(a.ta.y=e,a.ua.y=c):(a.ta.y=c,a.ua.y=e)};lc.prototype.hk=function(a){a.Uf=0;a.pg.D(this.ga);a.dj=0};lc.prototype.Vl=function(a,b,c,d){void 0===b&&(b=0);var e=S.q(a.x*b,a.y*b),g=U.Zb(c,this.ga);c=U.Zb(c,this.Aa);var h=
U.qb(a,g)-b;a=U.qb(a,c)-b;if(0<h){if(0<a)return 0;g.x=-a/(h-a)*g.x+h/(h-a)*c.x;g.y=-a/(h-a)*g.y+h/(h-a)*c.y}else 0<a&&(c.x=-a/(h-a)*g.x+h/(h-a)*c.x,c.y=-a/(h-a)*g.y+h/(h-a)*c.y);d.x=(e.x+g.x+c.x)/3;d.y=(e.y+g.y+c.y)/3;return 0.5*((g.x-e.x)*(c.y-e.y)-(g.y-e.y)*(c.x-e.x))};var mc=function(){this.Uf=0;this.pg=S.q(0,0);this.dj=0},X=function(){this.Ma=0.0050;this.bd=S.q(0,0);this.G=[];this.oa=[]};R(X,kc);X.prototype.Sh=function(){return X.Qe};X.prototype.Rb=function(){var a=new X;a.Set(this);return a};
X.prototype.Set=function(a){kc.prototype.Set.call(this,a);if(a instanceof X){this.bd.D(a.bd);this.Fa=a.Fa;this.vk(this.Fa);for(var b=0;b<this.Fa;b++)this.G[b].D(a.G[b]),this.oa[b].D(a.oa[b])}};X.prototype.xk=function(a){this.ss(a)};X.dB=function(a){var b=new X;b.xk(a);return b};X.prototype.ss=function(a){var b=a.length;this.Fa=b;this.vk(b);for(b=b=0;b<this.Fa;b++)this.G[b].D(a[b]);for(b=0;b<this.Fa;++b)a=U.eb(this.G[b+1<this.Fa?b+1:0],this.G[b]),this.oa[b].D(U.ig(a,1)),this.oa[b].Wc();this.bd=X.$v(this.G,
this.Fa)};X.hB=function(a){var b=new X;b.ss(a);return b};X.prototype.hm=function(a,b){this.Fa=4;this.vk(4);this.G[0].Set(-a,-b);this.G[1].Set(a,-b);this.G[2].Set(a,b);this.G[3].Set(-a,b);this.oa[0].Set(0,-1);this.oa[1].Set(1,0);this.oa[2].Set(0,1);this.oa[3].Set(-1,0);this.bd.Z()};X.eB=function(a,b){var c=new X;c.hm(a,b);return c};X.prototype.Ew=function(a,b,c,d){this.Fa=4;this.vk(4);this.G[0].Set(-a,-b);this.G[1].Set(a,-b);this.G[2].Set(a,b);this.G[3].Set(-a,b);this.oa[0].Set(0,-1);this.oa[1].Set(1,
0);this.oa[2].Set(0,1);this.oa[3].Set(-1,0);this.bd=c;a=new T;a.Set(d);c=new Tb(c,a);for(d=0;d<this.Fa;++d)this.G[d]=U.Zb(c,this.G[d]),this.oa[d]=U.Cb(c.n,this.oa[d])};X.gB=function(a,b,c,d){var e=new X;e.Ew(a,b,c,d);return e};X.prototype.rs=function(a,b){this.Fa=2;this.vk(2);this.G[0].D(a);this.G[1].D(b);this.bd.x=0.5*(a.x+b.x);this.bd.y=0.5*(a.y+b.y);this.oa[0]=U.ig(U.eb(b,a),1);this.oa[0].Wc();this.oa[1].x=-this.oa[0].x;this.oa[1].y=-this.oa[0].y};X.fB=function(a,b){var c=new X;c.rs(a,b);return c};
z=X.prototype;z.Yi=function(a,b){for(var c=b.n,d=this.G[0],e=b.position.x+(c.i.x*d.x+c.j.x*d.y),g=b.position.y+(c.i.y*d.x+c.j.y*d.y),h=e,f=g,k=1;k<this.Fa;++k)var d=this.G[k],l=b.position.x+(c.i.x*d.x+c.j.x*d.y),d=b.position.y+(c.i.y*d.x+c.j.y*d.y),e=e<l?e:l,g=g<d?g:d,h=h>l?h:l,f=f>d?f:d;a.ta.x=e-this.Ma;a.ta.y=g-this.Ma;a.ua.x=h+this.Ma;a.ua.y=f+this.Ma};z.hk=function(a,b){if(2==this.Fa)a.pg.x=0.5*(this.G[0].x+this.G[1].x),a.pg.y=0.5*(this.G[0].y+this.G[1].y),a.Uf=0,a.dj=0;else{for(var c=0,d=0,e=
0,g=0,h=1/3,f=0;f<this.Fa;++f)var k=this.G[f],l=f+1<this.Fa?this.G[f+1]:this.G[0],m=k.x-0,n=k.y-0,q=l.x-0,p=l.y-0,t=m*p-n*q,r=0.5*t,e=e+r,c=c+r*h*(0+k.x+l.x),d=d+r*h*(0+k.y+l.y),k=m,g=g+t*(h*(0.25*(k*k+q*k+q*q)+(0*k+0*q))+0+(h*(0.25*(n*n+p*n+p*p)+(0*n+0*p))+0));a.Uf=b*e;a.pg.Set(c*(1/e),d*(1/e));a.dj=b*g}};z.Vl=function(a,b,c,d){var e=U.jg(c.n,a),g=b-U.qb(a,c.position),h=[],f=0,k=-1;b=-1;var l=!1;for(a=a=0;a<this.Fa;++a){h[a]=U.qb(e,this.G[a])-g;var m=h[a]<-Number.MIN_VALUE;0<a&&(m?l||(k=a-1,f++):
l&&(b=a-1,f++));l=m}switch(f){case 0:return l?(a=new mc,this.hk(a,1),d.D(U.Zb(c,a.pg)),a.Uf):0;case 1:-1==k?k=this.Fa-1:b=this.Fa-1}a=(k+1)%this.Fa;e=(b+1)%this.Fa;g=(0-h[k])/(h[a]-h[k]);h=(0-h[b])/(h[e]-h[b]);k=S.q(this.G[k].x*(1-g)+this.G[a].x*g,this.G[k].y*(1-g)+this.G[a].y*g);b=S.q(this.G[b].x*(1-h)+this.G[e].x*h,this.G[b].y*(1-h)+this.G[e].y*h);h=0;g=S.q(0,0);for(f=this.G[a];a!=e;)a=(a+1)%this.Fa,l=a==e?b:this.G[a],m=0.5*((f.x-k.x)*(l.y-k.y)-(f.y-k.y)*(l.x-k.x)),h+=m,g.x+=m*(k.x+f.x+l.x)/3,g.y+=
m*(k.y+f.y+l.y)/3,f=l;g.Vc(1/h);d.D(U.Zb(c,g));return h};z.Io=function(a){a.G=this.G;a.fa=this.Fa;a.Ma=this.Ma};z.cm=function(a){for(var b=0,c=this.G[0].x*a.x+this.G[0].y*a.y,d=1;d<this.Fa;++d){var e=this.G[d].x*a.x+this.G[d].y*a.y;e>c&&(b=d,c=e)}return b};z.ok=function(a){for(var b=0,c=this.G[0].x*a.x+this.G[0].y*a.y,d=1;d<this.Fa;++d){var e=this.G[d].x*a.x+this.G[d].y*a.y;e>c&&(b=d,c=e)}return this.G[b]};z.vk=function(a){this.G=[];this.oa=[];for(var b=this.G.length;b<a;b++)this.G[b]=S.q(0,0),this.oa[b]=
S.q(0,0)};X.$v=function(a,b){for(var c=S.q(0,0),d=0,e=1/3,g=0;g<b;++g){var h=a[g],f=g+1<b?a[g+1]:a[0],k=0.5*((h.x-0)*(f.y-0)-(h.y-0)*(f.x-0)),d=d+k;c.x+=k*e*(0+h.x+f.x);c.y+=k*e*(0+h.y+f.y)}c.x*=1/d;c.y*=1/d;return c};X.HC=new T;X.Qe="b2PolygonShape";var nc=function(){this.Po=this.Oo=this.Qo=this.Xc=0};z=nc.prototype;z.Vh=function(a){this.Xc=a;this.Qo=this.Xc&255;this.Oo=(this.Xc&65280)>>8&255;this.Po=(this.Xc&16711680)>>16&255;this.Is=(this.Xc&4278190080)>>24&255};z.Set=function(a){this.Vh(a.Xc)};
z.ys=function(a){this.Qo=a;this.Xc=this.Xc&4294967040|this.Qo&255};z.ws=function(a){this.Oo=a;this.Xc=this.Xc&4294902015|this.Oo<<8&65280};z.xs=function(a){this.Po=a;this.Xc=this.Xc&4278255615|this.Po<<16&16711680};z.Fw=function(a){this.Is=a;this.Xc=this.Xc&16777215|this.Is<<24&4278190080};z.Rb=function(){var a=new nc;a.Set(this);return a};var oc=function(){this.ue=S.q(0,0);this.id=new nc};oc.prototype.Set=function(a){this.ue.D(a.ue);this.id.Set(a.id)};var pc=function(){this.ta=S.q(0,0);this.ua=S.q(0,
0)},qc=[],rc=function(){if(0<qc.length){var a=qc.pop();a.Z();return a}return new pc};z=pc.prototype;z.Z=function(){this.ta.Set(0,0);this.ua.Set(0,0)};z.em=function(){return 0>this.ua.x-this.ta.x||0>this.ua.y-this.ta.y?!1:this.ta.em()&&this.ua.em()};z.iw=function(){return S.q((this.ta.x+this.ua.x)/2,(this.ta.y+this.ua.y)/2)};z.po=function(a){var b;return b=(b=(b=(b=this.ta.x<=a.ta.x)&&this.ta.y<=a.ta.y)&&a.ua.x<=this.ua.x)&&a.ua.y<=this.ua.y};z.Ak=function(a){return 0<a.ta.x-this.ua.x||0<a.ta.y-this.ua.y||
0<this.ta.x-a.ua.x||0<this.ta.y-a.ua.y?!1:!0};z.Ul=function(a,b){this.ta.x=Math.min(a.ta.x,b.ta.x);this.ta.y=Math.min(a.ta.y,b.ta.y);this.ua.x=Math.max(a.ua.x,b.ua.x);this.ua.y=Math.max(a.ua.y,b.ua.y)};var sc=function(a,b,c,d){var e=0,g=b[0].ue,h=b[1].ue,f=c.x*g.x+c.y*g.y-d;c=c.x*h.x+c.y*h.y-d;0>=f&&a[e++].Set(b[0]);0>=c&&a[e++].Set(b[1]);0>f*c&&(c=f/(f-c),d=a[e].ue,d.x=g.x+c*(h.x-g.x),d.y=g.y+c*(h.y-g.y),a[e].id=0<f?b[0].id:b[1].id,e++);return e},tc=function(a,b,c,d,e){for(var g=b.n.i.x*a.oa[c].x+
b.n.j.x*a.oa[c].y,h=b.n.i.y*a.oa[c].x+b.n.j.y*a.oa[c].y,f=e.n.i.x*g+e.n.i.y*h,k=e.n.j.x*g+e.n.j.y*h,l=0,m=Number.MAX_VALUE,n=0;n<d.Fa;n++){var q=d.G[n].x*f+d.G[n].y*k;q<m&&(m=q,l=n)}return(e.position.x+(e.n.i.x*d.G[l].x+e.n.j.x*d.G[l].y)-(b.position.x+(b.n.i.x*a.G[c].x+b.n.j.x*a.G[c].y)))*g+(e.position.y+(e.n.i.y*d.G[l].x+e.n.j.y*d.G[l].y)-(b.position.y+(b.n.i.y*a.G[c].x+b.n.j.y*a.G[c].y)))*h},uc=function(a,b,c,d){for(var e=d.position.x+(d.n.i.x*c.bd.x+d.n.j.x*c.bd.y),g=d.position.y+(d.n.i.y*c.bd.x+
d.n.j.y*c.bd.y),e=e-(b.position.x+(b.n.i.x*a.bd.x+b.n.j.x*a.bd.y)),g=g-(b.position.y+(b.n.i.y*a.bd.x+b.n.j.y*a.bd.y)),h=e*b.n.i.x+g*b.n.i.y,g=e*b.n.j.x+g*b.n.j.y,e=0,f=-Number.MAX_VALUE,k=0;k<a.Fa;++k){var l=a.oa[k].x*h+a.oa[k].y*g;l>f&&(f=l,e=k)}h=tc(a,b,e,c,d);g=e-1;0>g&&(g=a.Fa-1);f=tc(a,b,g,c,d);k=e+1;k>=a.Fa&&(k=0);var l=tc(a,b,k,c,d),m=0,n=0;if(f>h&&f>l)for(m=g,n=f;;)if(e=m-1,0>e&&(e=a.Fa-1),h=tc(a,b,e,c,d),h>n)m=e,n=h;else break;else if(l>h)for(m=k,n=l;;)if(e=m+1,e>=a.Fa&&(e=0),h=tc(a,b,e,
c,d),h>n)m=e,n=h;else break;else m=e,n=h;return{ct:m,Tn:n}},wc=function(a,b,c){var d=new vc;d.Bw(b,c.Rg,c.io,c.Sg,c.jo);for(var e=0;20>e;){for(var g=[],h=0;h<d.fa;h++)g[h]={},g[h].Mb=d.G[h].Mb,g[h].Nb=d.G[h].Nb;2==d.fa?d.Iw():3==d.fa&&d.Jw();if(3==d.fa)break;h=d.kw();if(h.fm()<gc)break;var f=h.Zg();d.G[d.fa].Mb=c.Rg.cm(U.jg(c.io.n,f));d.G[d.fa].Dc=U.Zb(c.io,c.Rg.xc(d.G[d.fa].Mb));d.G[d.fa].Nb=c.Sg.cm(U.jg(c.jo.n,h));d.G[d.fa].Pe=U.Zb(c.jo,c.Sg.xc(d.G[d.fa].Nb));d.G[d.fa].wc=U.eb(d.G[d.fa].Pe,d.G[d.fa].Dc);
S.Jb(h);S.Jb(f);e++;f=!1;for(h=0;h<g.length;h++)if(d.G[d.fa].Mb==g[h].Mb&&d.G[d.fa].Nb==g[h].Nb){f=!0;break}if(f)break;d.fa++}d.lw(a.jf,a.kf);a.tg=U.eb(a.jf,a.kf).vf();d.Sw(b);c.Mv&&(b=c.Rg.Ma,c=c.Sg.Ma,a.tg>b+c&&a.tg>Number.MIN_VALUE?(a.tg-=b+c,d=U.eb(a.kf,a.jf),d.Wc(),a.jf.x+=b*d.x,a.jf.y+=b*d.y,a.kf.x-=c*d.x,a.kf.y-=c*d.y,S.Jb(d)):(c=S.q(0,0),c.x=0.5*(a.jf.x+a.kf.x),c.y=0.5*(a.jf.y+a.kf.y),a.jf.x=a.kf.x=c.x,a.jf.y=a.kf.y=c.y,a.tg=0,S.Jb(c)))},xc=s(),yc=function(){this.jf=S.q(0,0);this.kf=S.q(0,
0);this.tg=0},zc=s();zc.prototype.Set=function(a){a.Io(this)};zc.prototype.cm=function(a){for(var b=0,c=this.G[0].x*a.x+this.G[0].y*a.y,d=1;d<this.fa;d++){var e=this.G[d].x*a.x+this.G[d].y*a.y;e>c&&(b=d,c=e)}return b};zc.prototype.ok=function(a){return this.G[this.cm(a)]};zc.prototype.xc=function(a){void 0===a&&(a=0);return this.G[a]};var Ac=function(){this.Tf=null};z=Ac.prototype;z.ik=function(a,b){var c=Bc(b);c.Ka.ta.x=a.ta.x-0.1;c.Ka.ta.y=a.ta.y-0.1;c.Ka.ua.x=a.ua.x+0.1;c.Ka.ua.y=a.ua.y+0.1;this.Yr(c);
return c};z.jk=function(a){this.ns(a);a.Sc()};z.zo=function(a,b,c){if(a.Ka.po(b))return!1;this.ns(a);var d=0.1+2*Math.abs(c.x);c=0.1+2*Math.abs(c.y);a.Ka.ta.x=b.ta.x-d;a.Ka.ta.y=b.ta.y-c;a.Ka.ua.x=b.ua.x+d;a.Ka.ua.y=b.ua.y+c;this.Yr(a);return!0};z.mk=function(a){return a.Ka};z.Go=function(a,b){if(null!==this.Tf){var c=[];for(c.push(this.Tf);0<c.length;){var d=c.pop();if(d.Ka.Ak(b))if(d.Zr()){if(!a(d.Ce))break}else c.push(d.Ad),c.push(d.zf)}}};z.Yr=function(a){if(null===this.Tf)this.Tf=a,this.Tf.parent=
null;else{var b=this.hw(a),c=b.parent,d=Bc();d.parent=c;d.Ka.Ul(a.Ka,b.Ka);if(c)for(b.parent.Ad==b?c.Ad=d:c.zf=d,d.Ad=b,d.zf=a,b.parent=d,a.parent=d;c&&!c.Ka.po(d.Ka);)c.Ka.Ul(c.Ad.Ka,c.zf.Ka),d=c,c=c.parent;else d.Ad=b,d.zf=a,b.parent=d,this.Tf=a.parent=d}};z.hw=function(a){a=a.Ka.iw();for(var b=this.Tf;!b.Zr();)var c=b.Ad,b=b.zf,d=Math.abs((c.Ka.ta.x+c.Ka.ua.x)/2-a.x)+Math.abs((c.Ka.ta.y+c.Ka.ua.y)/2-a.y),e=Math.abs((b.Ka.ta.x+b.Ka.ua.x)/2-a.x)+Math.abs((b.Ka.ta.y+b.Ka.ua.y)/2-a.y),b=d<e?c:b;S.Jb(a);
return b};z.ns=function(a){if(a==this.Tf)this.Tf=null;else{var b=a.parent,c=b.parent;a=b.Ad==a?b.zf:b.Ad;if(c)for(c.Ad==b?c.Ad=a:c.zf=a,a.parent=c;c;){a=c.Ka;c.Ka.Ul(c.Ad.Ka,c.zf.Ka);if(a.po(c.Ka))break;c=c.parent}else this.Tf=a,a.parent=null;b.Sc()}};var Cc=function(){this.Mg=new Ac;this.Dn=[]};z=Cc.prototype;z.ik=function(a,b){var c=this.Mg.ik(a,b);this.Pr(c);return c};z.jk=function(a){this.Ow(a);this.Mg.jk(a)};z.zo=function(a,b,c){this.Mg.zo(a,b,c)&&this.Pr(a)};z.Ak=function(a,b){return this.Mg.mk(a).Ak(this.Mg.mk(b))};
z.mk=function(a){return this.Mg.mk(a)};z.Pw=function(a){for(var b=[];0<this.Dn.length;){var c=this.Dn.pop();this.Mg.Go(function(a){a!=c.Ce&&b.push(new Dc(c.Ce,a));return!0},this.Mg.mk(c))}for(var d=0;d<b.length;){var e=b[d];a(e.Mk,e.Nk);for(d++;d<b.length;){var g=b[d];if(!(g.Mk==e.Mk&&g.Nk==e.Nk||g.Mk==e.Nk&&g.Nk==e.Mk))break;d++}}};z.Go=function(a,b){this.Mg.Go(a,b)};z.Pr=function(a){this.Dn.push(a)};z.Ow=function(a){ua(this.Dn,a)};var Ec=function(a){this.Ka=rc();this.Ce=this.parent=this.zf=this.Ad=
null;"undefined"!=typeof a&&(this.Ce=a)},Fc=[],Bc=function(a){if(0<Fc.length){var b=Fc.pop();"undefined"!=typeof a&&(b.Ce=a);b.Ka.Z();return b}return new Ec(a)};Ec.prototype.Sc=function(){this.Ce=this.parent=this.zf=this.Ad=null;Fc.push(this)};Ec.prototype.Zr=function(){return null===this.Ad};var Dc=function(a,b){this.Mk=a;this.Nk=b},Hc=function(){this.Na=this.Fb=0;this.aa=[];for(var a=0;2>a;a++)this.aa[a]=new Gc;this.rc=S.q(0,0);this.ma=S.q(0,0)};Hc.prototype.lc=function(){for(var a=0;2>a;a++)this.aa[a].lc();
this.rc.Z();this.ma.Z();this.Fb=this.Na=0};Hc.prototype.Set=function(a){this.Fb=a.Fb;for(var b=0;2>b;b++)this.aa[b].Set(a.aa[b]);this.rc.D(a.rc);this.ma.D(a.ma);this.Na=a.Na};Hc.prototype.Rb=function(){var a=new Hc;a.Set(this);return a};var Gc=function(){this.ma=S.q(0,0);this.He=new nc;this.lc()};Gc.prototype.lc=function(){this.ma.Z();this.Ki=this.Gi=0;this.He.Vh(0)};Gc.prototype.Set=function(a){this.ma.D(a.ma);this.Gi=a.Gi;this.Ki=a.Ki;this.He.Set(a.He)};var Ic=function(){this.ma=S.q(0,0);this.O=
S.q(0,0)};Ic.prototype.Kb=function(a,b,c,d,e){this.yh=b;this.zh=d;var g,h,f,k=f=h=0,l=0;d=b=0;var m,n,k=0;1==a.count?(this.Na=Jc,g=this.yh.xc(a.Mb[0]),a=this.zh.xc(a.Nb[0]),n=g,m=c.n,h=c.position.x+(m.i.x*n.x+m.j.x*n.y),f=c.position.y+(m.i.y*n.x+m.j.y*n.y),n=a,m=e.n,k=e.position.x+(m.i.x*n.x+m.j.x*n.y),l=e.position.y+(m.i.y*n.x+m.j.y*n.y),this.O.x=k-h,this.O.y=l-f,this.O.Wc()):(a.Nb[0]==a.Nb[1]?(this.Na=Kc,b=this.yh.xc(a.Mb[0]),d=this.yh.xc(a.Mb[1]),a=this.zh.xc(a.Nb[0]),this.ma.x=0.5*(b.x+d.x),this.ma.y=
0.5*(b.y+d.y),this.O=U.ig(U.eb(d,b),1),this.O.Wc(),n=this.O,m=c.n,b=m.i.x*n.x+m.j.x*n.y,d=m.i.y*n.x+m.j.y*n.y,n=this.ma,m=c.n,h=c.position.x+(m.i.x*n.x+m.j.x*n.y),f=c.position.y+(m.i.y*n.x+m.j.y*n.y),n=a,m=e.n,k=e.position.x+(m.i.x*n.x+m.j.x*n.y),l=e.position.y+(m.i.y*n.x+m.j.y*n.y),k=(k-h)*b+(l-f)*d):a.Mb[0]==a.Mb[0]?(this.Na=Lc,h=this.zh.xc(a.Nb[0]),f=this.zh.xc(a.Nb[1]),g=this.yh.xc(a.Mb[0]),this.ma.x=0.5*(h.x+f.x),this.ma.y=0.5*(h.y+f.y),this.O=U.ig(U.eb(f,h),1),this.O.Wc(),n=this.O,m=e.n,b=m.i.x*
n.x+m.j.x*n.y,d=m.i.y*n.x+m.j.y*n.y,n=this.ma,m=e.n,k=e.position.x+(m.i.x*n.x+m.j.x*n.y),l=e.position.y+(m.i.y*n.x+m.j.y*n.y),n=g,m=c.n,h=c.position.x+(m.i.x*n.x+m.j.x*n.y),f=c.position.y+(m.i.y*n.x+m.j.y*n.y),k=(h-k)*b+(f-l)*d):(b=this.yh.xc(a.Mb[0]),d=this.yh.xc(a.Mb[1]),h=this.zh.xc(a.Nb[0]),f=this.zh.xc(a.Nb[1]),k=U.Cb(c.n,U.eb(d,b)),l=U.Cb(e.n,U.eb(f,h)),e=k.x*k.x+k.y*k.y,c=l.x*l.x+l.y*l.y,g=U.eb(l,k),a=k.x*g.x+k.y*g.y,g=l.x*g.x+l.y*g.y,l=k.x*l.x+k.y*l.y,m=e*c-l*l,k=0,0!=m&&(k=U.kb((l*g-a*c)/
m,0,1)),0>(l*k+g)/c&&(k=U.kb((l-a)/e,0,1)),g=S.q(0,0),g.x=b.x+k*(d.x-b.x),g.y=b.y+k*(d.y-b.y),a=S.q(0,0),a.x=h.x+k*(f.x-h.x),a.y=h.y+k*(f.y-h.y),0==k||1==k?(this.Na=Lc,this.O=U.ig(U.eb(f,h),1),this.O.Wc(),this.ma=a):(this.Na=Kc,this.O=U.ig(U.eb(d,b),1),this.ma=g)),0>k&&this.O.Co())};Ic.prototype.tf=function(a,b){var c,d,e=0;switch(this.Na){case Jc:c=U.jg(a.n,this.O);d=U.jg(b.n,this.O.Zg());c=this.yh.ok(c);d=this.zh.ok(d);c=U.Zb(a,c);d=U.Zb(b,d);e=(d.x-c.x)*this.O.x+(d.y-c.y)*this.O.y;break;case Kc:e=
U.Cb(a.n,this.O);c=U.Zb(a,this.ma);d=U.jg(b.n,e.Zg());d=this.zh.ok(d);d=U.Zb(b,d);e=(d.x-c.x)*e.x+(d.y-c.y)*e.y;break;case Lc:e=U.Cb(b.n,this.O),d=U.Zb(b,this.ma),c=U.jg(a.n,e.Zg()),c=this.yh.ok(c),c=U.Zb(a,c),e=(c.x-d.x)*e.x+(c.y-d.y)*e.y}return e};var Jc=1,Kc=2,Lc=4,vc=function(){this.ga=new Mc;this.Aa=new Mc;this.Kd=new Mc;this.G=[this.ga,this.Aa,this.Kd]};z=vc.prototype;z.Bw=function(a,b,c,d,e){var g,h;this.fa=a.count;for(var f=this.G,k=0;k<this.fa;k++){var l=f[k];l.Mb=a.Mb[k];l.Nb=a.Nb[k];g=
b.xc(l.Mb);h=d.xc(l.Nb);l.Dc=U.Zb(c,g);l.Pe=U.Zb(e,h);l.wc=U.eb(l.Pe,l.Dc);l.I=0}1<this.fa&&(a=a.bA,g=this.Xr(),g<0.5*a||2*a<g||g<Number.MIN_VALUE)&&(this.fa=0);0==this.fa&&(l=f[0],l.Mb=0,l.Nb=0,g=b.xc(0),h=d.xc(0),l.Dc=U.Zb(c,g),l.Pe=U.Zb(e,h),l.wc=U.eb(l.Pe,l.Dc),this.fa=1)};z.Sw=function(a){a.bA=this.Xr();a.count=this.fa;for(var b=this.G,c=0;c<this.fa;c++)a.Mb[c]=b[c].Mb,a.Nb[c]=b[c].Nb};z.kw=function(){if(1==this.fa)return this.ga.wc.Zg();if(2==this.fa){var a=U.eb(this.Aa.wc,this.ga.wc);return 0<
U.Oh(a,this.ga.wc.Zg())?U.ro(1,a):U.ig(a,1)}return S.q(0,0)};z.lw=function(a,b){1==this.fa?(a.D(this.ga.Dc),b.D(this.ga.Pe)):2==this.fa?(a.x=this.ga.I*this.ga.Dc.x+this.Aa.I*this.Aa.Dc.x,a.y=this.ga.I*this.ga.Dc.y+this.Aa.I*this.Aa.Dc.y,b.x=this.ga.I*this.ga.Pe.x+this.Aa.I*this.Aa.Pe.x,b.y=this.ga.I*this.ga.Pe.y+this.Aa.I*this.Aa.Pe.y):3==this.fa&&(b.x=a.x=this.ga.I*this.ga.Dc.x+this.Aa.I*this.Aa.Dc.x+this.Kd.I*this.Kd.Dc.x,b.y=a.y=this.ga.I*this.ga.Dc.y+this.Aa.I*this.Aa.Dc.y+this.Kd.I*this.Kd.Dc.y)};
z.Xr=function(){return 1==this.fa?0:2==this.fa?U.eb(this.ga.wc,this.Aa.wc).vf():3==this.fa?U.Oh(U.eb(this.Aa.wc,this.ga.wc),U.eb(this.Kd.wc,this.ga.wc)):0};z.Iw=function(){var a=this.ga.wc,b=this.Aa.wc,c=U.eb(b,a),a=-(a.x*c.x+a.y*c.y);0>=a?this.fa=this.ga.I=1:(b=b.x*c.x+b.y*c.y,0>=b?(this.fa=this.Aa.I=1,this.ga.Set(this.Aa)):(c=1/(b+a),this.ga.I=b*c,this.Aa.I=a*c,this.fa=2))};z.Jw=function(){var a=this.ga.wc,b=this.Aa.wc,c=this.Kd.wc,d=U.eb(b,a),e=U.qb(b,d),g=-U.qb(a,d),h=U.eb(c,a),f=U.qb(c,h),k=
-U.qb(a,h),l=U.eb(c,b),m=U.qb(c,l),l=-U.qb(b,l),h=U.Oh(d,h),d=h*U.Oh(b,c),c=h*U.Oh(c,a),a=h*U.Oh(a,b);0>=g&&0>=k?this.fa=this.ga.I=1:0<e&&0<g&&0>=a?(f=1/(e+g),this.ga.I=e*f,this.Aa.I=g*f,this.fa=2):0<f&&0<k&&0>=c?(e=1/(f+k),this.ga.I=f*e,this.Kd.I=k*e,this.fa=2,this.Aa.Set(this.Kd)):0>=e&&0>=l?(this.fa=this.Aa.I=1,this.ga.Set(this.Aa)):0>=f&&0>=m?(this.fa=this.Kd.I=1,this.ga.Set(this.Kd)):0<m&&0<l&&0>=d?(e=1/(m+l),this.Aa.I=m*e,this.Kd.I=l*e,this.fa=2,this.ga.Set(this.Kd)):(e=1/(d+c+a),this.ga.I=
d*e,this.Aa.I=c*e,this.Kd.I=a*e,this.fa=3)};var Nc=function(){this.Mb=[0,0,0];this.Nb=[0,0,0]},Mc=s();Mc.prototype.Set=function(a){this.Dc.D(a.Dc);this.Pe.D(a.Pe);this.wc.D(a.wc);this.I=a.I;this.Mb=a.Mb;this.Nb=a.Nb};var Oc=function(){this.Rg=new zc;this.Sg=new zc;this.vv=new jc;this.wv=new jc},Pc=function(){this.na=S.q(0,0);this.aa=[];for(var a=this.Fb=0;2>a;a++)this.aa[a]=S.q(0,0)};Pc.prototype.Kb=function(a,b,c,d,e){if(0!=a.Fb){var g=0,h,f,k=0,l=0,m=0,n=0,q=0;h=0;switch(a.Na){case 1:f=b.n;h=a.ma;
g=b.position.x+f.i.x*h.x+f.j.x*h.y;b=b.position.y+f.i.y*h.x+f.j.y*h.y;f=d.n;h=a.aa[0].ma;a=d.position.x+f.i.x*h.x+f.j.x*h.y;d=d.position.y+f.i.y*h.x+f.j.y*h.y;h=a-g;f=d-b;k=h*h+f*f;k>gc?(k=Math.sqrt(k),this.na.x=h/k,this.na.y=f/k):(this.na.x=1,this.na.y=0);h=b+c*this.na.y;d-=e*this.na.y;this.aa[0].x=0.5*(g+c*this.na.x+(a-e*this.na.x));this.aa[0].y=0.5*(h+d);break;case 2:f=b.n;h=a.rc;k=f.i.x*h.x+f.j.x*h.y;l=f.i.y*h.x+f.j.y*h.y;f=b.n;h=a.ma;m=b.position.x+f.i.x*h.x+f.j.x*h.y;n=b.position.y+f.i.y*h.x+
f.j.y*h.y;this.na.x=k;this.na.y=l;for(g=0;g<a.Fb;g++)f=d.n,h=a.aa[g].ma,q=d.position.x+f.i.x*h.x+f.j.x*h.y,h=d.position.y+f.i.y*h.x+f.j.y*h.y,this.aa[g].x=q+0.5*(c-(q-m)*k-(h-n)*l-e)*k,this.aa[g].y=h+0.5*(c-(q-m)*k-(h-n)*l-e)*l;break;case 4:for(f=d.n,h=a.rc,k=f.i.x*h.x+f.j.x*h.y,l=f.i.y*h.x+f.j.y*h.y,f=d.n,h=a.ma,m=d.position.x+f.i.x*h.x+f.j.x*h.y,n=d.position.y+f.i.y*h.x+f.j.y*h.y,this.na.x=-k,this.na.y=-l,g=0;g<a.Fb;g++)f=b.n,h=a.aa[g].ma,q=b.position.x+f.i.x*h.x+f.j.x*h.y,h=b.position.y+f.i.y*
h.x+f.j.y*h.y,this.aa[g].x=q+0.5*(e-(q-m)*k-(h-n)*l-c)*k,this.aa[g].y=h+0.5*(e-(q-m)*k-(h-n)*l-c)*l}}};var Vb=function(a,b){this.Uc="Body"+Vb.Bo++;this.u=new Tb;this.u.position.D(a.position);this.u.n.Set(a.L);this.k=new jc;this.k.K.Z();this.k.Oc=1;this.k.xe=this.k.I=a.L;this.k.r.x=this.u.n.i.x*this.k.K.x+this.u.n.j.x*this.k.K.y;this.k.r.y=this.u.n.i.y*this.k.K.x+this.u.n.j.y*this.k.K.y;this.k.r.x+=this.u.position.x;this.k.r.y+=this.u.position.y;this.k.oc.D(this.k.r);this.p=a.lq.Rb();this.Gg=S.q(0,
0);this.Bj=a.di;this.Kz=a.vp;this.tq=a.Os;this.uq=a.Vs;this.hl=a.Yd;this.Ba=b;this.pb=null;this.od=new Qc;this.hi=new Rc;this.B=a.Ps;this.Rz=a.wi;this.Fz=a.$h;this.sl=this.Li=0;this.Na=a.type;this.P=this.Na==V.$b?1:0;this.F=this.Na==V.$b?1:0;this.N=this.Fe=0;this.Oz=a.Qt;this.pj=new Sc;this.Bn=[]};z=Vb.prototype;z.Zi=function(a){a=new Ub(this,this.u,a);this.hl&&a.ik(this.Ba.cd.Aj,this.u);this.pj.Sv(a);a.jl=this;0<a.xn&&this.qs();this.Ba.Eq=!0;return a};z.Sc=function(){S.Jb(this.p);S.Jb(this.Gg)};
z.Rr=function(a){this.pj.Cw(a);for(var b=this.od.Ca(Tc);b;b=b.next)a!=b.ac.sb&&a!=b.ac.ob||this.Ba.cd.Sc(b.ac);this.hl&&a.jk(this.Ba.cd.Aj);a.Sc();a.jl=null;this.qs()};z.yk=function(a,b){this.u.n.Set(b);this.u.position.D(a);var c=this.u.n,d=this.k.K;this.k.r.x=c.i.x*d.x+c.j.x*d.y;this.k.r.y=c.i.y*d.x+c.j.y*d.y;this.k.r.x+=this.u.position.x;this.k.r.y+=this.u.position.y;this.k.oc.D(this.k.r);this.k.xe=this.k.I=b;c=this.Ba.cd.Aj;for(d=this.pj.Ca();d;d=d.next)d.Ce.zs(c,this.u,this.u);this.Ba.cd.Zl()};
z.vd=u("u");z.Jo=function(a){this.yk(a,this.Tc())};z.Tc=function(){return this.k.I};z.gm=function(a){this.yk(this.u.position,a)};z.cj=function(){return this.k.r};z.Rh=function(){return this.k.K};z.Wh=function(a){this.Na!=V.Zd&&this.p.D(a)};z.Qh=u("p");z.wk=function(a){void 0===a&&(a=0);this.Na!=V.Zd&&(this.B=a)};z.kk=u("B");z.rf=function(a,b){this.Na==V.$b&&(this.zc(!0),this.Gg.x+=a.x,this.Gg.y+=a.y,this.Li+=(b.x-this.k.r.x)*a.y-(b.y-this.k.r.y)*a.x)};z.gk=function(a){void 0===a&&(a=0);this.Na==V.$b&&
(this.zc(!0),this.Li+=a)};z.bj=u("P");z.Wr=function(a){a||(a=new mc);a.Uf=this.P;a.dj=this.Fe;a.pg.D(this.k.K);return a};z.qs=function(){this.N=this.Fe=this.F=this.P=0;this.k.K.Z();if(this.Na!=V.Zd&&this.Na!=V.Xs){for(var a=S.q(0,0),b=this.pj.Ca();b;b=b.next){var c=b.Ce;0!=c.xn&&(c=c.Wr(),this.P+=c.Uf,a.x+=c.pg.x*c.Uf,a.y+=c.pg.y*c.Uf,this.Fe+=c.dj)}0<this.P?(this.F=1/this.P,a.x*=this.F,a.y*=this.F):this.F=this.P=1;0<this.Fe&&!this.Kz?(this.Fe-=this.P*(a.x*a.x+a.y*a.y),this.Fe*=this.Oz,this.N=1/this.Fe):
this.N=this.Fe=0;b=this.k.r.Rb();this.k.K.D(a);this.k.oc.D(U.Zb(this.u,this.k.K));this.k.r.D(this.k.oc);this.p.x+=this.B*-(this.k.r.y-b.y);this.p.y+=this.B*+(this.k.r.x-b.x);S.Jb(a);S.Jb(b)}};z.dm=function(a){var b=this.u.n;a=S.q(b.i.x*a.x+b.j.x*a.y,b.i.y*a.x+b.j.y*a.y);a.x+=this.u.position.x;a.y+=this.u.position.y;return a};z.xo=function(a){return U.Cb(this.u.n,a)};z.Fc=function(a){return U.Ao(this.u,a)};z.wo=function(a){return U.jg(this.u.n,a)};z.jw=function(a){return S.q(this.p.x-this.B*(a.y-this.k.r.y),
this.p.y+this.B*(a.x-this.k.r.x))};z.kc=u("Na");z.zc=function(a){if(this.uq!=a)for(this.uq=a,this.sl=0,a||(this.p.Z(),this.B=0,this.Gg.Z(),this.Li=0),a=0;a<this.Bn.length;a++)this.Bn[a].Cs(this)};z.Gc=u("uq");z.Th=u("hl");z.uo=u("pj");z.dk=function(a){this.hi.dk(a)};z.uk=function(a){this.hi.uk(a)};z.Yg=u("od");z.As=function(){var a=Vb.CA;a.n.Set(this.k.xe);var b=a.n,c=this.k.K;a.position.x=this.k.oc.x-(b.i.x*c.x+b.j.x*c.y);a.position.y=this.k.oc.y-(b.i.y*c.x+b.j.y*c.y);b=this.Ba.cd.Aj;for(c=this.pj.Ca();c;c=
c.next)c.Ce.zs(b,a,this.u)};z.rb=function(){this.u.n.Set(this.k.I);var a=this.u.n,b=this.k.K;this.u.position.x=this.k.r.x-(a.i.x*b.x+a.j.x*b.y);this.u.position.y=this.k.r.y-(a.i.y*b.x+a.j.y*b.y)};z.Xh=function(a){if(this.Na!=V.$b&&a.Na!=V.$b)return!1;for(var b=this.pb;b;b=b.next)if(b.oe==a&&!1==b.Bg.ru)return!1;return!0};z.Xg=function(a){this.k.Xg(a);this.k.r.D(this.k.oc);this.k.I=this.k.xe;this.rb()};Vb.Bo=0;var V=function(){this.position=S.q(0,0);this.lq=S.q(0,0);this.$h=this.wi=this.Ps=this.L=
0;this.Vs=this.Os=!0;this.di=this.vp=!1;this.type=V.Zd;this.Yd=!0;this.Qt=1};V.Zd=0;V.Xs=1;V.$b=2;var Vc=function(){this.pm=[];for(var a=0;a<=Uc;a++)this.pm[a]=null;this.qm=[];for(a=0;a<=Uc;a++)this.qm[a]=null;this.ij={}};z=Vc.prototype;z.Ca=function(a){return this.pm[a]};z.Wi=function(a){var b=a.Uc;null==this.ij[b]&&(this.sf(a,b,Uc),this.Cs(a),a.Bn.push(this))};z.Cs=function(a){var b=a.kc(),c=a.Uc,d=a.Gc(),e=a.Th();b==V.$b?this.sf(a,c,Wc):this.wf(c,Wc);b!=V.Zd?this.sf(a,c,Xc):this.wf(c,Xc);b!=V.Zd&&
e&&d?this.sf(a,c,Yc):this.wf(c,Yc);d?this.sf(a,c,Zc):this.wf(c,Zc);e?this.sf(a,c,$c):this.wf(c,$c)};z.tk=function(a){var b=a.Uc;if(null!=this.ij[b]){ua(a.Bn,this);for(a=0;a<=Uc;a++)this.wf(b,a);delete this.ij[b]}};z.wf=function(a,b){var c=this.ij[a];if(null!=c){var d=c[b];null!=d&&(c[b]=null,c=d.Le,d=d.next,null==c?this.pm[b]=d:c.Se(d),null==d?this.qm[b]=c:d.Te(c))}};z.sf=function(a,b,c){var d=this.ij[b];if(null==d){for(var d=[],e=0;e<=Uc;e++)d[e]=null;this.ij[b]=d}null==d[c]&&(d[c]=new ad(a),a=this.qm[c],
null!=a?a.Se(d[c]):this.pm[c]=d[c],d[c].Te(a),this.qm[c]=d[c])};var Wc=0,Xc=1,$c=2,Yc=3,Zc=4,Uc=5,ad=function(a){this.body=a;this.Le=this.next=null};ad.prototype.Se=aa("next");ad.prototype.Te=aa("Le");ad.prototype.Ja=u("body");var Xb=s();Xb.prototype.Xh=function(a,b){var c=a.Vr(),d=b.Vr();return c.lh==d.lh&&0!=c.lh?0<c.lh:0!=(c.Jj&d.jj)&&0!=(c.jj&d.Jj)};Xb.ux=new Xb;var bd=function(){this.fA=[];this.KA=[]},Wb=s();Wb.prototype.Sl=s();var dd=function(a){this.Ba=a;this.vq=Xb.ux;this.Eg=Wb.Ws;this.su=
new cd;this.Aj=new Cc};dd.prototype.Uv=function(a,b){var c=a.Ja(),d=b.Ja();if(c!=d&&d.Xh(c)&&this.vq.Xh(a,b)){for(c=d.od.Ca(Tc);c;c=c.next)if(d=c.ac.sb,d==a){if(d=c.ac.ob,d==b)return}else if(d==b&&(d=c.ac.ob,d==a))return;this.su.ve(a,b)}};dd.prototype.Zl=function(){var a=this;this.Aj.Pw(function(b,c){a.Uv(b,c)})};dd.prototype.Sc=function(a){0<a.me.Fb&&(a.sb.Ja().zc(!0),a.ob.Ja().zc(!0));a.Dw();this.su.Sc(a)};dd.prototype.Yv=function(){for(var a=this.Ba.od.Ca(Tc);a;a=a.next){var b=a.ac,c=b.sb,d=b.ob,
e=c.Ja(),g=d.Ja();if(!1!=e.Gc()||!1!=g.Gc()){if(b.Mm){if(!1==g.Xh(e)){this.Sc(b);continue}if(!1==this.vq.Xh(c,d)){this.Sc(b);continue}b.Xv()}!1==this.Aj.Ak(c.Hi,d.Hi)?this.Sc(b):b.Bs(this.Eg)}}};var ed=function(){this.jj=1;this.Jj=65535;this.lh=0};ed.prototype.Rb=function(){var a=new ed;a.jj=this.jj;a.Jj=this.Jj;a.lh=this.lh;return a};var Ub=function(a,b,c){this.Uc="Fixture"+Ub.Bo++;this.Jz=c.filter.Rb();this.Ci=rc();this.jl=a;this.Lg=c.shape.Rb();this.xn=c.Xe;this.yq=c.Ff;this.rl=c.$f;this.zn=c.Sp};
z=Ub.prototype;z.Yb=u("Lg");z.Uh=u("zn");z.Vr=function(){return this.Jz.Rb()};z.Ja=u("jl");z.Wr=function(a){a||(a=new mc);this.Lg.hk(a,this.xn);return a};z.Sc=function(){qc.push(this.Ci)};z.ik=function(a,b){this.Lg.Yi(this.Ci,b);this.Hi=a.ik(this.Ci,this)};z.jk=function(a){null!=this.Hi&&(a.jk(this.Hi),this.Hi=null)};z.zs=function(a,b,c){if(this.Hi){var d=rc(),e=rc();this.Lg.Yi(d,b);this.Lg.Yi(e,c);this.Ci.Ul(d,e);qc.push(d);qc.push(e);b=U.eb(c.position,b.position);a.zo(this.Hi,this.Ci,b);S.Jb(b)}};
Ub.Bo=0;var Zb=function(){this.filter=new ed;this.filter.jj=1;this.filter.Jj=65535;this.filter.lh=0;this.shape=null;this.Ff=0.2;this.Xe=this.$f=0;this.Sp=!1},Sc=function(){this.xp=this.wp=null;this.Om={}};Sc.prototype.Ca=u("wp");Sc.prototype.Sv=function(a){var b=a.Uc;if(null==this.Om[b]){a=new fd(a);var c=this.xp;null!=c?c.Se(a):this.wp=a;a.Te(c);this.xp=a;this.Om[b]=a}};Sc.prototype.Cw=function(a){a=a.Uc;var b=this.Om[a];if(null!=b){var c=b.Le,b=b.next;null==c?this.wp=b:c.Se(b);null==b?this.xp=c:
b.Te(c);delete this.Om[a]}};var fd=function(a){this.Ce=a;this.Le=this.next=null};fd.prototype.Se=aa("next");fd.prototype.Te=aa("Le");var gd=function(a,b){this.Sz=a;this.ef=b;this.Nf=[];this.yn=[];this.xh=[];this.Fg=[];this.Lc=[]};z=gd.prototype;z.Tl=function(){this.Nf=[];this.yn=[];this.xh=[];this.Fg=[];this.Lc=[]};z.ah=function(a,b,c){this.Ww(a,b);this.ef.Kb(a,this.Fg,this.Fg.length);this.bx(a);this.Yw(a);this.Zw(a);this.os(this.ef.Of);c&&this.Xw(a)};z.Ww=function(a,b){for(var c=0;c<this.yn.length;c++){var d=
this.yn[c];d.p.x+=a.xa*(b.x+d.F*d.Gg.x);d.p.y+=a.xa*(b.y+d.F*d.Gg.y);d.B+=a.xa*d.N*d.Li;d.p.Vc(U.kb(1-a.xa*d.Rz,0,1));d.B*=U.kb(1-a.xa*d.Fz,0,1)}};z.bx=function(a){this.ef.we(a);for(var b=0;b<this.Lc.length;b++)this.Lc[b].we(a);for(b=0;b<a.Pl;b++){for(var c=0;c<this.Lc.length;c++)this.Lc[c].Xd(a);this.ef.Xd()}for(a=0;a<this.Lc.length;a++)this.Lc[a].so();this.ef.so()};z.Yw=function(a){for(var b=0;b<this.xh.length;++b){var c=this.xh[b],d=a.xa*c.p.x,e=a.xa*c.p.y;4<d*d+e*e&&(c.p.Wc(),c.p.x=2*c.p.x*a.yg,
c.p.y=2*c.p.y*a.yg);d=a.xa*c.B;d*d>ec&&(c.B=0>c.B?-dc*a.yg:dc*a.yg);c.k.oc.D(c.k.r);c.k.xe=c.k.I;c.k.r.x+=a.xa*c.p.x;c.k.r.y+=a.xa*c.p.y;c.k.I+=a.xa*c.B;c.rb()}};z.Zw=function(a){for(var b=0;b<a.Cl;b++){for(var c=this.ef.Wd(0.2),d=!0,e=0;e<this.Lc.length;e++)var g=this.Lc[e].Wd(0.2),d=d&&g;if(c&&d)break}};z.Xw=function(a){for(var b=Number.MAX_VALUE,c=0;c<this.xh.length;c++){var d=this.xh[c];!d.tq||Math.abs(d.B)>fc||1E-4<U.qb(d.p,d.p)?b=d.sl=0:(d.sl+=a.xa,b=Math.min(b,d.sl))}if(0.5<=b)for(a=0;a<this.Nf.length;a++)this.Nf[a].zc(!1)};
z.Lo=function(a){var b=0,c=0;this.ef.Kb(a,this.Fg,this.Fg.length);for(var d=this.ef,b=0;b<this.Lc.length;++b)this.Lc[b].we(a);for(b=0;b<a.Pl;++b)for(d.Xd(),c=0;c<this.Lc.length;++c)this.Lc[c].Xd(a);for(b=0;b<this.xh.length;++b){var c=this.xh[b],e=a.xa*c.p.x,g=a.xa*c.p.y;4<e*e+g*g&&(c.p.Wc(),c.p.x=2*c.p.x*a.yg,c.p.y=2*c.p.y*a.yg);e=a.xa*c.B;e*e>ec&&(c.B=0>c.B?-dc*a.yg:dc*a.yg);c.k.oc.D(c.k.r);c.k.xe=c.k.I;c.k.r.x+=a.xa*c.p.x;c.k.r.y+=a.xa*c.p.y;c.k.I+=a.xa*c.B;c.rb()}for(b=0;b<a.Cl;++b){e=d.Wd(0.75);
g=!0;for(c=0;c<this.Lc.length;++c)var h=this.Lc[c].Wd(0.2),g=g&&h;if(e&&g)break}this.os(d.Of)};z.os=function(a){if(null!=this.Sz)for(var b=0;b<this.Fg.length;++b)for(var c=a[b],d=new bd,e=0;e<c.Ke;++e)d.fA[e]=c.Ib[e].Hb,d.KA[e]=c.Ib[e].dg};z.Wi=function(a){this.Nf.push(a);a.kc()!=V.Zd&&(this.xh.push(a),a.kc()==V.$b&&this.yn.push(a))};z.Xi=function(a){this.Fg.push(a)};z.Mr=function(a){this.Lc.push(a)};var hd=function(a,b,c,d,e){this.xa=a;var g=0;0<a&&(g=1/a);this.yg=g;this.Tb=b;this.Cl=c;this.Pl=d;
this.Vg=e},W=function(a,b){this.cd=new dd(this);this.ef=new id;this.Eq=!1;this.mc=new Vc;this.od=new Qc;this.pb=null;this.hi=new Rc;this.An=0;this.Hz=this.Yz=!0;this.tq=b;this.tu=a;this.uu=0;this.Nz=this.qo(new V)};W.ow=1-100*Number.MIN_VALUE;z=W.prototype;z.us=function(a){this.cd.vq=a};z.vs=function(a){this.cd.Eg=a};z.qo=function(a){a=new Vb(a,this);this.mc.Wi(a);return a};z.Xl=function(a){for(var b=a.pb;b;){var c=b,b=b.next;this.Yl(c.Bg)}for(b=a.hi.Ca();b;b=b.next)b.nt.tk(a);for(b=a.od.Ca(Tc);b;b=
b.next)this.cd.Sc(b.ac);for(b=a.uo().Ca();b;b=b.next)a.Rr(b.Ce);a.Sc();this.mc.tk(a)};z.Wl=function(a){var b=Y.ve(a);b.Dj=null;if(b.wh=this.pb)this.pb.Dj=b;this.pb=b;this.An++;b.dd.Bg=b;b.dd.oe=b.R;b.dd.prev=null;if(b.dd.next=b.Q.pb)b.Q.pb.prev=b.dd;b.Q.pb=b.dd;b.ed.Bg=b;b.ed.oe=b.Q;b.ed.prev=null;if(b.ed.next=b.R.pb)b.R.pb.prev=b.ed;b.R.pb=b.ed;var c=a.H,d=a.J;if(!a.cp)for(a=d.od.Ca(Tc);a;a=a.next)a.ac.am(d)==c&&a.ac.Tr();return b};z.Yl=function(a){var b=a.ru;a.Dj&&(a.Dj.wh=a.wh);a.wh&&(a.wh.Dj=
a.Dj);a==this.pb&&(this.pb=a.wh);var c=a.Q,d=a.R;c.zc(!0);d.zc(!0);a.dd.prev&&(a.dd.prev.next=a.dd.next);a.dd.next&&(a.dd.next.prev=a.dd.prev);a.dd==c.pb&&(c.pb=a.dd.next);a.dd.prev=null;a.dd.next=null;a.ed.prev&&(a.ed.prev.next=a.ed.next);a.ed.next&&(a.ed.next.prev=a.ed.prev);a.ed==d.pb&&(d.pb=a.ed.next);a.ed.prev=null;a.ed.next=null;this.An--;if(!b)for(a=d.od.Ca(Tc);a;a=a.next)a.ac.am(d)==c&&a.ac.Tr()};z.dk=function(a){if(null!==a.Ba&&a.Ba!=this)throw Error("Controller can only be a member of one world");
this.hi.dk(a);a.Ba=this;return a};z.uk=function(a){this.hi.uk(a);a.Ba=null;a.Tl()};z.kg=function(a,b,c){this.Eq&&(this.cd.Zl(),this.Eq=!1);a=new hd(a,this.uu*a,b,c,this.Yz);this.cd.Yv();0<a.xa&&(this.ah(a),this.Hz&&this.Lo(a),this.uu=a.yg)};z.Qr=function(){for(var a=this.mc.Ca(Wc);a;a=a.next)a.body.Gg.Z(),a.body.Li=0};z.Yg=u("od");var jd=[];W.prototype.ah=function(a){for(var b=this.hi.Ca();b;b=b.next)b.nt.kg(a);for(var b=new gd(this.cd.Eg,this.ef),c=this.mc.Ca(Uc);c;c=c.next)c.body.ib=!1;for(var d=
this.od.Ca(Tc);d;d=d.next)d.ac.ib=!1;for(c=this.pb;c;c=c.wh)c.ib=!1;for(c=this.mc.Ca(Yc);c;c=c.next)if(d=c.body,!d.ib){b.Tl();jd.length=0;var e=jd;e.push(d);for(d.ib=!0;0<e.length;){var g=e.pop();b.Wi(g);g.Gc()||g.zc(!0);if(g.kc()!=V.Zd){for(d=g.od.Ca(kd);d;d=d.next){var h=d.ac;h.ib||(b.Xi(h),h.ib=!0,h=h.am(g),h.ib||(e.push(h),h.ib=!0))}for(d=g.pb;d;d=d.next)!d.Bg.ib&&d.oe.Th()&&(b.Mr(d.Bg),d.Bg.ib=!0,d.oe.ib||(e.push(d.oe),d.oe.ib=!0))}}b.ah(a,this.tu,this.tq)}for(c=this.mc.Ca(Yc);c;c=c.next)c.body.As();
this.cd.Zl()};W.prototype.Lo=function(a){for(var b=new gd(this.cd.Eg,this.ef),c=this.mc.Ca(Uc);c;c=c.next){var d=c.body;d.ib=!1;d.k.Oc=0}for(var e=this.od.Ca(Tc);e;e=e.next)e.ac.ib=!1,e.ac.Hj=null;for(c=this.pb;c;c=c.wh)c.ib=!1;for(;;){var c=this.$w(),g=c.cA,c=c.dA;if(null===g||W.ow<c)break;e=g.sb.Ja();d=g.ob.Ja();W.kv.Set(e.k);W.lv.Set(d.k);e.Xg(c);d.Xg(c);g.Bs(this.cd.Eg);g.Hj=null;if(g.Sn||!g.enabled)e.k.Set(W.kv),d.k.Set(W.lv),e.rb(),d.rb();else if(g.Ml){e.kc()!=V.$b&&(e=d);b.Tl();jd.length=0;
g=jd;g.push(e);for(e.ib=!0;0<g.length;)if(d=g.pop(),b.Wi(d),d.Gc()||d.zc(!0),d.kc()==V.$b){for(e=d.od.Ca(kd);e&&32!=b.Gz;e=e.next){var h=e.ac;h.ib||(b.Xi(h),h.ib=!0,h=h.am(d),h.ib||(h.kc()!=V.Zd&&(h.Xg(c),h.zc(!0),g.push(h)),h.ib=!0))}for(d=d.pb;d;d=d.next)32!=b.An&&!d.Bg.ib&&d.oe.Th()&&(b.Mr(d.Bg),d.Bg.ib=!0,d.oe.ib||(d.oe.kc()!=V.Zd&&(d.oe.Xg(c),d.oe.zc(!0),g.push(d.oe)),d.oe.ib=!0))}b.Lo(new hd((1-c)*a.xa,0,a.Pl,a.Cl,!1));for(c=0;c<b.Nf.length;c++)if(b.Nf[c].ib=!1,b.Nf[c].Gc()&&b.Nf[c].kc()==V.$b)for(b.Nf[c].As(),
e=b.Nf[c].od.Ca(Tc);e;e=e.next)e.ac.Hj=null;for(c=0;c<b.Gz;c++)b.Fg[c].ib=!1,b.Fg[c].Hj=null;for(c=0;c<b.An;c++)b.Lc[c].ib=!1;this.cd.Zl()}}};W.prototype.$w=function(){for(var a=null,b=1,c=this.od.Ca(ld);c;c=c.next){var d=c.ac;if(!this.ax(d)){var e=1;if(null!=d.Hj)e=d.Hj;else{if(d.Ml)e=1;else{var e=d.sb.Ja(),g=d.ob.Ja(),h=e.k.Oc;e.k.Oc<g.k.Oc?(h=g.k.Oc,e.k.Xg(h)):g.k.Oc<e.k.Oc&&(h=e.k.Oc,g.k.Xg(h));e=d.aw(e.k,g.k);0<e&&1>e&&(e=(1-e)*h+e)}d.Hj=e}Number.MIN_VALUE<e&&e<b&&(a=d,b=e)}}return{cA:a,dA:b}};
W.prototype.ax=function(a){var b=a.sb.Ja();a=a.ob.Ja();return b.kc()==V.$b&&b.Gc()||a.kc()==V.$b&&a.Gc()?!1:!0};var Z=function(a,b){this.Uc="Contact"+md++;this.me=new Hc;this.pl=new Hc;this.Ml=!1;var c=a.Ja(),d=b.Ja();this.dp=c.kc()!=V.$b||c.Bj||d.kc()!=V.$b||d.Bj;this.Sn=a.Uh()||b.Uh();this.Mm=!1;this.sb=a;this.ob=b;this.enabled=!0;this.mm=c.Yg();this.nm=d.Yg();this.oo=d.Ba.Yg();this.Nr()};z=Z.prototype;z.lc=function(a,b){this.me.lc();this.pl.lc();this.Ml=!1;var c=a.Ja(),d=b.Ja();this.dp=c.kc()!=
V.$b||c.Bj||d.kc()!=V.$b||d.Bj;this.Sn=a.Uh()||b.Uh();this.Mm=!1;this.sb=a;this.ob=b;this.enabled=!0;this.mm=c.Yg();this.nm=d.Yg();this.oo=d.Ba.Yg();this.Nr()};z.Nr=function(){this.mm.Xi(this);this.nm.Xi(this);this.oo.Xi(this);this.Ds()};z.Ds=function(){var a=!1,b=!1;!this.Uh()&&this.enabled&&(this.yo()&&(a=!0),this.dp&&(b=!0));this.mm.No(this,a,b);this.nm.No(this,a,b);this.oo.No(this,a,b)};z.Dw=function(){this.mm.Ho(this);this.nm.Ho(this);this.oo.Ho(this)};z.yo=u("Ml");z.Uh=u("Sn");z.am=function(a){var b=
this.sb.Ja();return b!=a?b:this.ob.Ja()};z.Tr=function(){this.Mm=!0};z.Xv=function(){this.Mm=!1};z.Bs=function(a){var b=this.pl;this.pl=this.me;this.me=b;this.enabled=!0;var c=!1,b=this.yo(),d=this.sb.Ja(),e=this.ob.Ja(),g=this.sb.Ci.Ak(this.ob.Ci);if(this.Sn){if(g){var c=this.sb.Yb(),d=d.vd(),g=this.ob.Yb(),h=e.vd(),e=new xc;e.Rg=new zc;e.Rg.Set(c);e.Sg=new zc;e.Sg.Set(g);e.io=d;e.jo=h;e.Mv=!0;d=new Nc;d.count=0;c=new yc;wc(c,d,e);c=c.tg<10*Number.MIN_VALUE}this.me.Fb=0}else{this.dp=d.kc()!=V.$b||
d.Bj||e.kc()!=V.$b||e.Bj?!0:!1;if(g)for(this.tf(),c=0<this.me.Fb,g=0;g<this.me.Fb;g++){h=this.me.aa[g];h.Gi=0;for(var f=h.Ki=0;f<this.pl.Fb;f++){var k=this.pl.aa[f];if(k.He.Xc==h.He.Xc){h.Gi=k.Gi;h.Ki=k.Ki;break}}}else this.me.Fb=0;c!=b&&(d.zc(!0),e.zc(!0))}this.Ml=c;c!=b&&this.Ds();!b&&c&&a.Sl(this)};z.tf=s();z.aw=function(a,b){nd.Rg.Set(this.sb.Yb());nd.Sg.Set(this.ob.Yb());nd.vv=a;nd.wv=b;nd.SA=0.0050;var c=nd;od++;var d=c.Rg,e=c.Sg,g=c.vv,h=c.wv,f=d.Ma+e.Ma,c=c.SA,k=0,l=0,m=0;pd.count=0;for(qd.Mv=
!1;;){g.vd(rd,k);h.vd(sd,k);qd.Rg=d;qd.Sg=e;qd.io=rd;qd.jo=sd;wc(td,pd,qd);if(0>=td.tg){k=1;break}ud.Kb(pd,d,rd,e,sd);var n=ud.tf(rd,sd);if(0>=n){k=1;break}0==l&&(m=n>f?Math.max(f-c,0.75*f):Math.max(n-c,0.02*f));if(n-m<0.5*c){if(0==l){k=1;break}break}var q=k,p=k,t=1;g.vd(rd,t);h.vd(sd,t);var r=ud.tf(rd,sd);if(r>=m){k=1;break}for(var x=0;;){var y=0,y=x&1?p+(m-n)*(t-p)/(r-n):0.5*(p+t);g.vd(rd,y);h.vd(sd,y);var C=ud.tf(rd,sd);if(Math.abs(C-m)<0.025*c){q=y;break}C>m?(p=y,n=C):(t=y,r=C);x++;vd++;if(50==
x)break}wd=Math.max(wd,x);if(q<(1+100*Number.MIN_VALUE)*k)break;k=q;l++;xd++;if(1E3==l)break}yd=Math.max(yd,l);return k};var nd=new Oc,md=0,zd=function(a,b){Z.call(this,a,b)};R(zd,Z);zd.prototype.lc=function(a,b){Z.prototype.lc.call(this,a,b)};zd.prototype.tf=function(){var a=this.me,b=this.sb.Yb(),c=this.sb.Ja().u,d=this.ob.Yb(),e=this.ob.Ja().u;a.Fb=0;var g=e.position.x+(e.n.i.x*d.Ua.x+e.n.j.x*d.Ua.y)-(c.position.x+(c.n.i.x*b.Ua.x+c.n.j.x*b.Ua.y)),c=e.position.y+(e.n.i.y*d.Ua.x+e.n.j.y*d.Ua.y)-
(c.position.y+(c.n.i.y*b.Ua.x+c.n.j.y*b.Ua.y)),e=b.Ma+d.Ma;g*g+c*c>e*e||(a.Na=1,a.ma.D(b.Ua),a.rc.Z(),a.Fb=1,a.aa[0].ma.D(d.Ua),a.aa[0].He.Vh(0))};var Bd=function(){this.Mf=S.q(0,0);this.Eb=S.q(0,0);this.Mc=S.q(0,0);this.Ng=new T;this.wd=new T;this.Ib=[];for(var a=0;2>a;a++)this.Ib[a]=new Ad},Ad=function(){this.Eb=S.q(0,0);this.yb=S.q(0,0);this.zb=S.q(0,0)};Ad.prototype.lc=function(){this.Eb.Set(0,0);this.yb.Set(0,0);this.zb.Set(0,0)};var cd=function(){this.gf={};this.Hg={};this.ek(zd,Yb.Qe,Yb.Qe);
this.ek(Cd,X.Qe,Yb.Qe);this.ek(Dd,X.Qe,X.Qe);this.ek(Ed,"b2EdgeShape",Yb.Qe);this.ek(Fd,X.Qe,"b2EdgeShape")};cd.prototype.ek=function(a,b,c){this.Hg[b]=this.Hg[b]||{};this.Hg[b][c]=this.Hg[b][c]||[];this.gf[b]=this.gf[b]||{};this.gf[b][c]=new Gd;this.gf[b][c].qt=a;this.gf[b][c].Yu=!0;b!=c&&(this.gf[c]=this.gf[c]||{},this.gf[c][b]=new Gd,this.gf[c][b].qt=a,this.gf[c][b].Yu=!1)};cd.prototype.ve=function(a,b){var c=a.Yb().Sh(),d=b.Yb().Sh(),e=this.gf[c][d],g=e.qt;return null!=g?e.Yu?0<this.Hg[c][d].length?
(c=this.Hg[c][d].pop(),c.lc(a,b),c):new g(a,b):0<this.Hg[d][c].length?(c=this.Hg[d][c].pop(),c.lc(b,a),c):new g(b,a):null};cd.prototype.Sc=function(a){var b=a.sb.Yb().Sh(),c=a.ob.Yb().Sh();this.Hg[b][c].push(a)};var Qc=function(){this.um=[];for(var a=0;a<=Tc;a++)this.um[a]=null;this.vm=[];for(a=0;a<=Tc;a++)this.vm[a]=null;this.gi={}};z=Qc.prototype;z.Ca=function(a){return this.um[a]};z.Xi=function(a){var b=a.Uc;if(null==this.gi[b]){this.gi[b]=[];for(var c=0;c<=Tc;c++)this.gi[b][c]=null;this.sf(a,
b,Tc)}};z.No=function(a,b,c){b?this.sf(a,a.Uc,kd):this.wf(a.Uc,kd);c?this.sf(a,a.Uc,ld):this.wf(a.Uc,ld)};z.Ho=function(a){a=a.Uc;if(null!=this.gi[a]){for(var b=0;b<=Tc;b++)this.wf(a,b);delete this.gi[a]}};z.wf=function(a,b){var c=this.gi[a];if(null!=c){var d=c[b];if(null!=d){c[b]=null;var c=d.Le,e=d.next;null==c?this.um[b]=e:c.Se(e);null==e?this.vm[b]=c:e.Te(c);Hd.push(d)}}};z.sf=function(a,b,c){b=this.gi[b];if(null==b[c]){if(0<Hd.length){var d=Hd.pop();d.next=null;d.Le=null;d.ac=a;a=d}else a=new Id(a);
b[c]=a;a=this.vm[c];null!=a?(a.Se(b[c]),b[c].Te(a)):this.um[c]=b[c];this.vm[c]=b[c]}};var kd=0,ld=1,Tc=2,Id=function(a){this.ac=a;this.Le=this.next=null},Hd=[];Id.prototype.Se=aa("next");Id.prototype.Te=aa("Le");var Gd=s(),Jd=function(){this.na=S.q(0,0);this.Fn=[];this.aa=[];for(var a=0;2>a;a++)this.aa[a]=S.q(0,0)};Jd.prototype.Kb=function(a){switch(a.type){case 1:this.Tw(a);break;case 2:this.Uw(a);break;case 4:this.Vw(a)}};Jd.prototype.Tw=function(a){var b=a.H.u.n,c=a.Eb,d=a.H.u.position.x+(b.i.x*
c.x+b.j.x*c.y),e=a.H.u.position.y+(b.i.y*c.x+b.j.y*c.y),b=a.J.u.n,c=a.Ib[0].Eb,g=a.J.u.position.x+(b.i.x*c.x+b.j.x*c.y),b=a.J.u.position.y+(b.i.y*c.x+b.j.y*c.y),c=g-d,h=b-e,f=c*c+h*h;f>gc?(f=Math.sqrt(f),this.na.x=c/f,this.na.y=h/f):(this.na.x=1,this.na.y=0);this.aa[0].x=0.5*(d+g);this.aa[0].y=0.5*(e+b);this.Fn[0]=c*this.na.x+h*this.na.y-a.Pn};Jd.prototype.Uw=function(a){this.na.x=a.H.u.n.i.x*a.Mf.x+a.H.u.n.j.x*a.Mf.y;this.na.y=a.H.u.n.i.y*a.Mf.x+a.H.u.n.j.y*a.Mf.y;for(var b=a.H.u.position.x+(a.H.u.n.i.x*
a.Eb.x+a.H.u.n.j.x*a.Eb.y),c=a.H.u.position.y+(a.H.u.n.i.y*a.Eb.x+a.H.u.n.j.y*a.Eb.y),d=0;d<a.Ke;d++){var e=a.J.u.position.x+(a.J.u.n.i.x*a.Ib[d].Eb.x+a.J.u.n.j.x*a.Ib[d].Eb.y),g=a.J.u.position.y+(a.J.u.n.i.y*a.Ib[d].Eb.x+a.J.u.n.j.y*a.Ib[d].Eb.y);this.Fn[d]=(e-b)*this.na.x+(g-c)*this.na.y-a.Pn;this.aa[d].x=e;this.aa[d].y=g}};Jd.prototype.Vw=function(a){this.na.x=a.J.u.n.i.x*a.Mf.x+a.J.u.n.j.x*a.Mf.y;this.na.y=a.J.u.n.i.y*a.Mf.x+a.J.u.n.j.y*a.Mf.y;for(var b=a.J.u.position.x+(a.J.u.n.i.x*a.Eb.x+a.J.u.n.j.x*
a.Eb.y),c=a.J.u.position.y+(a.J.u.n.i.y*a.Eb.x+a.J.u.n.j.y*a.Eb.y),d=0;d<a.Ke;d++){var e=a.H.u.position.x+(a.H.u.n.i.x*a.Ib[d].Eb.x+a.H.u.n.j.x*a.Ib[d].Eb.y),g=a.H.u.position.y+(a.H.u.n.i.y*a.Ib[d].Eb.x+a.H.u.n.j.y*a.Ib[d].Eb.y);this.Fn[d]=(e-b)*this.na.x+(g-c)*this.na.y-a.Pn;this.aa[d].Set(e,g)}this.na.x*=-1;this.na.y*=-1};var id=function(){this.Of=[]};z=id.prototype;z.Kb=function(a,b,c){for(this.kl=c;this.Of.length<this.kl;)this.Of[this.Of.length]=new Bd;for(a=0;a<c;a++){var d=b[a],e=d.sb,g=d.ob,
h=e.Lg.Ma,f=g.Lg.Ma,k=e.Ja(),l=g.Ja(),m=d.me,n=Math.sqrt(e.yq*g.yq),q=e.rl>g.rl?e.rl:g.rl,p=k.p.x,t=k.p.y,r=l.p.x,x=l.p.y,y=k.B,C=l.B;Kd.Kb(m,k.u,h,l.u,f);g=Kd.na.x;d=Kd.na.y;e=this.Of[a];e.H=k;e.J=l;e.Zz=m;e.Mc.x=g;e.Mc.y=d;e.Ke=m.Fb;e.Ff=n;e.$f=q;e.Mf.x=m.rc.x;e.Mf.y=m.rc.y;e.Eb.x=m.ma.x;e.Eb.y=m.ma.y;e.Pn=h+f;e.type=m.Na;for(h=0;h<e.Ke;++h){n=m.aa[h];f=e.Ib[h];f.Hb=n.Gi;f.dg=n.Ki;f.Eb.D(n.ma);var n=f.yb.x=Kd.aa[h].x-k.k.r.x,q=f.yb.y=Kd.aa[h].y-k.k.r.y,F=f.zb.x=Kd.aa[h].x-l.k.r.x,L=f.zb.y=Kd.aa[h].y-
l.k.r.y,E=n*d-q*g,A=F*d-L*g,E=E*E,A=A*A;f.Ng=1/(k.F+l.F+k.N*E+l.N*A);var B=k.P*k.F+l.P*l.F,B=B+(k.P*k.N*E+l.P*l.N*A);f.hy=1/B;A=d;B=-g;E=n*B-q*A;A=F*B-L*A;E*=E;A*=A;f.LA=1/(k.F+l.F+k.N*E+l.N*A);f.Ol=0;n=e.Mc.x*(r+-C*L-p- -y*q)+e.Mc.y*(x+C*F-t-y*n);-1>n&&(f.Ol+=-e.$f*n)}2==e.Ke&&(x=e.Ib[0],r=e.Ib[1],m=k.F,k=k.N,p=l.F,l=l.N,t=x.yb.x*d-x.yb.y*g,x=x.zb.x*d-x.zb.y*g,y=r.yb.x*d-r.yb.y*g,r=r.zb.x*d-r.zb.y*g,g=m+p+k*t*t+l*x*x,d=m+p+k*y*y+l*r*r,l=m+p+k*t*y+l*x*r,g*g<100*(g*d-l*l)?(e.wd.i.Set(g,l),e.wd.j.Set(l,
d),e.wd.vo(e.Ng)):e.Ke=1)}};z.we=function(a){for(var b=0;b<this.kl;++b){var c=this.Of[b],d=c.H,e=c.J,g=d.F,h=d.N,f=e.F,k=e.N,l=c.Mc.x,m=c.Mc.y,n=m,q=-l,p=0,t=0;if(a.Vg)for(t=c.Ke,p=0;p<t;++p){var r=c.Ib[p];r.Hb*=a.Tb;r.dg*=a.Tb;var x=r.Hb*l+r.dg*n,y=r.Hb*m+r.dg*q;d.B-=h*(r.yb.x*y-r.yb.y*x);d.p.x-=g*x;d.p.y-=g*y;e.B+=k*(r.zb.x*y-r.zb.y*x);e.p.x+=f*x;e.p.y+=f*y}else for(t=c.Ke,p=0;p<t;++p)d=c.Ib[p],d.Hb=0,d.dg=0}};z.Xd=function(){for(var a=0;a<this.kl;a++)this.Kw(this.Of[a])};z.Kw=function(a){for(var b=
a.Mc.x,c=a.Mc.y,d=0;d<a.Ke;d++)id.prototype.Lw(a,a.Ib[d]);if(1==a.Ke){var d=a.Ib[0],e=d.Hb-d.Ng*((a.J.p.x-a.J.B*d.zb.y-a.H.p.x+a.H.B*d.yb.y)*b+(a.J.p.y+a.J.B*d.zb.x-a.H.p.y-a.H.B*d.yb.x)*c-d.Ol),e=0<e?e:0,g=e-d.Hb,h=g*b,c=g*c;a.H.p.x-=a.H.F*h;a.H.p.y-=a.H.F*c;a.H.B-=a.H.N*(d.yb.x*c-d.yb.y*h);a.J.p.x+=a.J.F*h;a.J.p.y+=a.J.F*c;a.J.B+=a.J.N*(d.zb.x*c-d.zb.y*h);d.Hb=e}else for(var d=a.Ib[0],e=a.Ib[1],g=d.Hb,h=e.Hb,f=(a.J.p.x-a.J.B*d.zb.y-a.H.p.x+a.H.B*d.yb.y)*b+(a.J.p.y+a.J.B*d.zb.x-a.H.p.y-a.H.B*d.yb.x)*
c-d.Ol,c=(a.J.p.x-a.J.B*e.zb.y-a.H.p.x+a.H.B*e.yb.y)*b+(a.J.p.y+a.J.B*e.zb.x-a.H.p.y-a.H.B*e.yb.x)*c-e.Ol,f=f-(a.wd.i.x*g+a.wd.j.x*h),c=c-(a.wd.i.y*g+a.wd.j.y*h);;){b=-(a.Ng.i.x*f+a.Ng.j.x*c);if(0<=b){var k=-(a.Ng.i.y*f+a.Ng.j.y*c);if(0<=k){this.jm(a,d,e,b-g,k-h);d.Hb=b;e.Hb=k;break}}b=-d.Ng*f;if(0<=b&&0<=a.wd.i.y*b+c){this.jm(a,d,e,b-g,-h);d.Hb=b;e.Hb=0;break}b=-e.Ng*c;if(0<=b&&0<=a.wd.j.x*b+f){this.jm(a,d,e,-g,b-h);d.Hb=0;e.Hb=b;break}if(0<=f&&0<=c){this.jm(a,d,e,-g,-h);d.Hb=0;e.Hb=0;break}break}};
z.Lw=function(a,b){var c=a.Mc.y,d=-a.Mc.x,e=a.Ff*b.Hb,e=U.kb(b.dg-b.LA*((a.J.p.x-a.J.B*b.zb.y-a.H.p.x+a.H.B*b.yb.y)*c+(a.J.p.y+a.J.B*b.zb.x-a.H.p.y-a.H.B*b.yb.x)*d),-e,e),g=e-b.dg,c=g*c,d=g*d;a.H.p.x-=a.H.F*c;a.H.p.y-=a.H.F*d;a.H.B-=a.H.N*(b.yb.x*d-b.yb.y*c);a.J.p.x+=a.J.F*c;a.J.p.y+=a.J.F*d;a.J.B+=a.J.N*(b.zb.x*d-b.zb.y*c);b.dg=e};z.jm=function(a,b,c,d,e){var g=d*a.Mc.x;d*=a.Mc.y;var h=e*a.Mc.x;e*=a.Mc.y;a.H.p.x-=a.H.F*(g+h);a.H.p.y-=a.H.F*(d+e);a.H.B-=a.H.N*(b.yb.x*d-b.yb.y*g+c.yb.x*e-c.yb.y*h);
a.J.p.x+=a.J.F*(g+h);a.J.p.y+=a.J.F*(d+e);a.J.B+=a.J.N*(b.zb.x*d-b.zb.y*g+c.zb.x*e-c.zb.y*h);b.Hb=0;c.Hb=0};z.so=function(){for(var a=0;a<this.kl;++a)for(var b=this.Of[a],c=b.Zz,d=0;d<b.Ke;++d){var e=c.aa[d],g=b.Ib[d];e.Gi=g.Hb;e.Ki=g.dg}};z.Wd=function(a){void 0===a&&(a=0);for(var b=0,c=0;c<this.kl;c++){var d=this.Of[c],e=d.H,g=d.J,h=e.P*e.F,f=e.P*e.N,k=g.P*g.F,l=g.P*g.N;Ld.Kb(d);for(var m=Ld.na,n=0;n<d.Ke;n++){var q=d.Ib[n],p=Ld.aa[n],t=Ld.Fn[n],r=p.x-e.k.r.x,x=p.y-e.k.r.y,y=p.x-g.k.r.x,p=p.y-g.k.r.y,
b=b<t?b:t,t=-q.hy*U.kb(a*(t+0.0050),-0.2,0),q=t*m.x,t=t*m.y;e.k.r.x-=h*q;e.k.r.y-=h*t;e.k.I-=f*(r*t-x*q);e.rb();g.k.r.x+=k*q;g.k.r.y+=k*t;g.k.I+=l*(y*t-p*q);g.rb()}}return-0.0075<b};var Ed=function(a,b){Z.call(this,a,b)};R(Ed,Z);Ed.prototype.lc=function(a,b){Z.prototype.lc.call(this,a,b)};Ed.prototype.tf=function(){this.sb.Yb();this.ob.Yb()};var Cd=function(a,b){Z.call(this,a,b)};R(Cd,Z);Cd.prototype.lc=function(a,b){Z.prototype.lc.call(this,a,b)};Cd.prototype.tf=function(){a:{var a=this.me,b=this.sb.Yb(),
c=this.sb.Ja().u,d=this.ob.Yb(),e=this.ob.Ja().u;a.Fb=0;for(var g=e.position.x+(e.n.i.x*d.Ua.x+e.n.j.x*d.Ua.y)-c.position.x,h=e.position.y+(e.n.i.y*d.Ua.x+e.n.j.y*d.Ua.y)-c.position.y,e=g*c.n.i.x+h*c.n.i.y,c=g*c.n.j.x+h*c.n.j.y,g=0,h=-Number.MAX_VALUE,f=b.Ma+d.Ma,k=0;k<b.Fa;++k){var l=b.oa[k].x*(e-b.G[k].x)+b.oa[k].y*(c-b.G[k].y);if(l>f)break a;l>h&&(h=l,g=k)}l=g+1;l>=b.Fa&&(l=0);var k=b.G[g],m=b.G[l];h<Number.MIN_VALUE?(a.Fb=1,a.Na=2,a.rc.D(b.oa[g]),a.ma.x=0.5*(k.x+m.x),a.ma.y=0.5*(k.y+m.y),a.aa[0].ma.D(d.Ua),
a.aa[0].He.Vh(0)):0>=(e-k.x)*(m.x-k.x)+(c-k.y)*(m.y-k.y)?(e-k.x)*(e-k.x)+(c-k.y)*(c-k.y)>f*f||(a.Fb=1,a.Na=2,a.rc.x=e-k.x,a.rc.y=c-k.y,a.rc.Wc(),a.ma.D(k),a.aa[0].ma.D(d.Ua),a.aa[0].He.Vh(0)):0>=(e-m.x)*(k.x-m.x)+(c-m.y)*(k.y-m.y)?(e-m.x)*(e-m.x)+(c-m.y)*(c-m.y)>f*f||(a.Fb=1,a.Na=2,a.rc.x=e-m.x,a.rc.y=c-m.y,a.rc.Wc(),a.ma.D(m),a.aa[0].ma.D(d.Ua),a.aa[0].He.Vh(0)):(l=0.5*(k.x+m.x),k=0.5*(k.y+m.y),h=(e-l)*b.oa[g].x+(c-k)*b.oa[g].y,h>f||(a.Fb=1,a.Na=2,a.rc.x=b.oa[g].x,a.rc.y=b.oa[g].y,a.rc.Wc(),a.ma.Set(l,
k),a.aa[0].ma.D(d.Ua),a.aa[0].He.Vh(0)))}};var Fd=function(a,b){Z.call(this,a,b)};R(Fd,Z);Fd.prototype.lc=function(a,b){Z.prototype.lc.call(this,a,b)};Fd.prototype.tf=function(){this.sb.Yb();this.ob.Yb()};var Dd=function(a,b){Z.call(this,a,b)};R(Dd,Z);Dd.prototype.lc=function(a,b){Z.prototype.lc.call(this,a,b)};Dd.prototype.tf=function(){var a=this.me,b=this.sb.Yb(),c=this.sb.Ja().u,d=this.ob.Yb(),e=this.ob.Ja().u;a.Fb=0;var g=b.Ma+d.Ma,h=uc(b,c,d,e),f=h.ct;if(!(h.Tn>g)){var k=uc(d,e,b,c);if(!(k.Tn>
g)){var l=b,m=d,n=c,q=e,p=0;a.Na=2;k.Tn>0.98*h.Tn+0.0010&&(l=d,m=b,n=e,q=c,f=k.ct,a.Na=4,p=1);b=f;c=q;d=Md;void 0===b&&(b=0);for(var e=n.n.i.x*l.oa[b].x+n.n.j.x*l.oa[b].y,h=n.n.i.y*l.oa[b].x+n.n.j.y*l.oa[b].y,k=c.n.i.x*e+c.n.i.y*h,h=c.n.j.x*e+c.n.j.y*h,e=k,k=0,t=Number.MAX_VALUE,r=0;r<m.Fa;r++){var x=e*m.oa[r].x+h*m.oa[r].y;x<t&&(t=x,k=r)}e=k+1;e>=m.Fa&&(e=0);d[0].ue.x=c.position.x+(c.n.i.x*m.G[k].x+c.n.j.x*m.G[k].y);d[0].ue.y=c.position.y+(c.n.i.y*m.G[k].x+c.n.j.y*m.G[k].y);d[0].id.ys(b);d[0].id.ws(k);
d[0].id.xs(0);d[1].ue.x=c.position.x+(c.n.i.x*m.G[e].x+c.n.j.x*m.G[e].y);d[1].ue.y=c.position.y+(c.n.i.y*m.G[e].x+c.n.j.y*m.G[e].y);d[1].id.ys(b);d[1].id.ws(e);d[1].id.xs(1);b=l.G[f];f=f+1<l.Fa?l.G[f+1]:l.G[0];Nd.Set(f.x-b.x,f.y-b.y);Nd.Wc();Od.x=Nd.y;Od.y=-Nd.x;Pd.Set(0.5*(b.x+f.x),0.5*(b.y+f.y));Qd.x=n.n.i.x*Nd.x+n.n.j.x*Nd.y;Qd.y=n.n.i.y*Nd.x+n.n.j.y*Nd.y;Rd.x=-Qd.x;Rd.y=-Qd.y;Sd.x=Qd.y;Sd.y=-Qd.x;Td.x=n.position.x+(n.n.i.x*b.x+n.n.j.x*b.y);Td.y=n.position.y+(n.n.i.y*b.x+n.n.j.y*b.y);Ud.x=n.position.x+
(n.n.i.x*f.x+n.n.j.x*f.y);Ud.y=n.position.y+(n.n.i.y*f.x+n.n.j.y*f.y);if(!(2>sc(Vd,Md,Rd,-Qd.x*Td.x-Qd.y*Td.y+g)||2>sc(Wd,Vd,Qd,Qd.x*Ud.x+Qd.y*Ud.y+g))){a.rc.D(Od);a.ma.D(Pd);n=Sd.x*Td.x+Sd.y*Td.y;for(l=f=0;2>l;++l)Sd.x*Wd[l].ue.x+Sd.y*Wd[l].ue.y-n<=g&&(b=Wd[l].ue.x-q.position.x,m=Wd[l].ue.y-q.position.y,a.aa[f].ma.x=b*q.n.i.x+m*q.n.i.y,a.aa[f].ma.y=b*q.n.j.x+m*q.n.j.y,a.aa[f].He.Set(Wd[l].id),a.aa[f].He.Fw(p),f++);a.Fb=f}}}};var Yd=function(){this.Uc="Controller"+Xd++;this.Ba=null;this.mc=new Vc};
Yd.prototype.kg=s();Yd.prototype.Wi=function(a){this.mc.Wi(a);a.dk(this)};Yd.prototype.tk=function(a){this.mc.tk(a);a.uk(this)};Yd.prototype.Tl=function(){for(var a=this.mc.Ca(Uc);a;a=a.next)this.tk(a.body)};var Xd=0,Zd=function(){Yd.call(this);this.Mc=S.q(0,-1);this.Xe=this.offset=0;this.Ov=S.q(0,0);this.Bz=2;this.ox=1;this.YA=!0;this.Mt=null};R(Zd,Yd);Zd.prototype.kg=function(){this.YA&&(this.Mt=this.Ba.tu.Rb());for(var a=this.mc.Ca(Zc);a;a=a.next){for(var b=a.body,c=S.q(0,0),d=S.q(0,0),e=0,g=0,
h=b.uo().Ca();h;h=h.next){var f=S.q(0,0),k=h.Ce.Yb().Vl(this.Mc,this.offset,b.vd(),f),e=e+k;c.x+=k*f.x;c.y+=k*f.y;var l=0,l=1,g=g+k*l;d.x+=k*f.x*l;d.y+=k*f.y*l}e<Number.MIN_VALUE||(c.x/=e,c.y/=e,d.x/=g,d.y/=g,g=this.Mt.Zg(),g.Vc(this.Xe*e),b.rf(g,d),g=b.jw(c),g.Mo(this.Ov),g.Vc(-this.Bz*e),b.rf(g,c),b.gk(-b.Fe/b.bj()*e*b.kk()*this.ox),S.Jb(c),S.Jb(d))}};var $d=function(){Yd.call(this);this.Lr=S.q(0,0)};R($d,Yd);$d.prototype.kg=function(a){a=S.q(this.Lr.x*a.xa,this.Lr.y*a.xa);for(var b=this.mc.Ca(Zc);b;b=
b.next){var c=b.body,d=c.Qh();c.Wh(S.q(d.x+a.x,d.y+a.y))}S.Jb(a)};var ae=function(){Yd.call(this);this.gw=S.q(0,0)};R(ae,Yd);ae.prototype.kg=function(){for(var a=this.mc.Ca(Zc);a;a=a.next){var b=a.body;b.rf(this.gw,b.cj())}};var Rc=function(){this.gp=this.fp=null;this.wm={}};Rc.prototype.Ca=u("fp");Rc.prototype.dk=function(a){var b=a.Uc;if(null==this.wm[b]){a=new be(a);var c=this.gp;null!=c?c.Se(a):this.fp=a;a.Te(c);this.gp=a;this.wm[b]=a}};Rc.prototype.uk=function(a){a=a.Uc;var b=this.wm[a];if(null!=
b){var c=b.Le,b=b.next;null==c?this.fp=b:c.Se(b);null==b?this.gp=c:b.Te(c);delete this.wm[a]}};var be=function(a){this.nt=a;this.Le=this.next=null};be.prototype.Se=aa("next");be.prototype.Te=aa("Le");var ce=function(){Yd.call(this);this.Ur=1;this.qz=!0};R(ce,Yd);ce.prototype.kg=function(){var a=null,b=null,c=0,d=null,e=null,g=0,h=0,f=0,g=null;if(this.qz)for(var k=this.mc.Ca(Uc);k;k=k.next)for(var a=k.body,b=a.cj(),c=a.bj(),l=this.mc.Ca(Uc);l;l=l.next){if(d=l.body,a.Gc()||d.Gc())e=d.cj(),g=e.x-b.x,
h=e.y-b.y,f=g*g+h*h,f<Number.MIN_VALUE||(g=S.q(g,h),g.Vc(this.Ur/f/Math.sqrt(f)*c*d.bj()),a.Gc()&&a.rf(g,b),g.Vc(-1),d.Gc()&&d.rf(g,e),S.Jb(g))}else for(k=this.mc.Ca(Uc);k;k=k.next)for(a=bodyNode.body,b=a.cj(),c=a.bj(),l=this.mc.Ca(Uc);l;l=l.next)if(d=bodyNode.body,a.Gc()||d.Gc())e=d.cj(),g=e.x-b.x,h=e.y-b.y,f=g*g+h*h,f<Number.MIN_VALUE||(g=S.q(g,h),g.Vc(this.Ur/f*c*d.bj()),a.Gc()&&a.rf(g,b),g.Vc(-1),d.Gc()&&d.rf(g,e),S.Jb(g))};var de=function(){Yd.call(this);this.Mw=new T;this.Jq=0};R(de,Yd);de.prototype.kg=
function(a){a=a.xa;if(!(a<=Number.MIN_VALUE)){a>this.Jq&&0<this.Jq&&(a=this.Jq);for(var b=this.mc.Ca(Zc);b;b=b.next){var c=b.body,d=c.xo(U.Cb(this.Mw,c.wo(c.Qh())));c.Wh(S.q(c.Qh().x+d.x*a,c.Qh().y+d.y*a))}}};var Y=function(a){this.dd=new ee;this.ed=new ee;this.Rf=S.q(0,0);this.Sf=S.q(0,0);this.Na=a.type;this.wh=this.Dj=null;this.Q=a.H;this.R=a.J;this.ru=a.cp};Y.prototype.kc=u("Na");Y.prototype.lk=u("Q");Y.prototype.to=u("R");Y.prototype.Th=function(){return this.Q.Th()&&this.R.Th()};Y.ve=function(a){return a.ve()};
Y.prototype.we=s();Y.prototype.Xd=s();Y.prototype.so=s();Y.prototype.Wd=w(!1);Y.cy=0;Y.lj=1;Y.ay=2;Y.pp=3;Y.by=4;Y.vC=5;Y.Zx=6;Y.$x=7;Y.dy=8;Y.Yx=9;Y.Zc=0;Y.Cf=1;Y.pc=2;Y.ih=3;var fe=function(){this.type=Y.cy;this.J=this.H=null;this.cp=!1},ee=s(),ge=function(a){Y.call(this,a);this.X=S.q(0,0);this.Y=S.q(0,0);this.Wb=S.q(0,0);this.X.D(a.gb);this.Y.D(a.hb);this.zq=a.length;this.xq=a.Rm;this.Iz=a.Cm;this.qu=this.Fi=this.A=0};R(ge,Y);ge.prototype.we=function(a){var b,c=0,d=this.Q,e=this.R;b=d.u.n;var g=
this.X.x-d.k.K.x,h=this.X.y-d.k.K.y,c=b.i.x*g+b.j.x*h,h=b.i.y*g+b.j.y*h,g=c;b=e.u.n;var f=this.Y.x-e.k.K.x,k=this.Y.y-e.k.K.y,c=b.i.x*f+b.j.x*k,k=b.i.y*f+b.j.y*k,f=c;this.Wb.x=e.k.r.x+f-d.k.r.x-g;this.Wb.y=e.k.r.y+k-d.k.r.y-h;c=Math.sqrt(this.Wb.x*this.Wb.x+this.Wb.y*this.Wb.y);0.0050<c?this.Wb.Vc(1/c):this.Wb.Z();b=g*this.Wb.y-h*this.Wb.x;var l=f*this.Wb.y-k*this.Wb.x;b=d.F+d.N*b*b+e.F+e.N*l*l;this.P=0!=b?1/b:0;if(0<this.xq){var c=c-this.zq,l=2*Math.PI*this.xq,m=this.P*l*l;this.Fi=a.xa*(2*this.P*
this.Iz*l+a.xa*m);this.Fi=0!=this.Fi?1/this.Fi:0;this.qu=c*a.xa*m*this.Fi;this.P=b+this.Fi;this.P=0!=this.P?1/this.P:0}a.Vg?(this.A*=a.Tb,a=this.A*this.Wb.x,b=this.A*this.Wb.y,d.p.x-=d.F*a,d.p.y-=d.F*b,d.B-=d.N*(g*b-h*a),e.p.x+=e.F*a,e.p.y+=e.F*b,e.B+=e.N*(f*b-k*a)):this.A=0};ge.prototype.Xd=function(){var a=this.X.x-this.Q.k.K.x,b=this.X.y-this.Q.k.K.y,c=this.Q.u.n.i.x*a+this.Q.u.n.j.x*b,b=this.Q.u.n.i.y*a+this.Q.u.n.j.y*b,a=c,d=this.Y.x-this.R.k.K.x,e=this.Y.y-this.R.k.K.y,c=this.R.u.n.i.x*d+this.R.u.n.j.x*
e,e=this.R.u.n.i.y*d+this.R.u.n.j.y*e,d=c,g=-this.P*(this.Wb.x*(this.R.p.x-this.R.B*e-(this.Q.p.x-this.Q.B*b))+this.Wb.y*(this.R.p.y+this.R.B*d-(this.Q.p.y+this.Q.B*a))+this.qu+this.Fi*this.A);this.A+=g;c=g*this.Wb.x;g*=this.Wb.y;this.Q.p.x-=this.Q.F*c;this.Q.p.y-=this.Q.F*g;this.Q.B-=this.Q.N*(a*g-b*c);this.R.p.x+=this.R.F*c;this.R.p.y+=this.R.F*g;this.R.B+=this.R.N*(d*g-e*c)};ge.prototype.Wd=function(){if(0<this.xq)return!0;var a=this.X.x-this.Q.k.K.x,b=this.X.y-this.Q.k.K.y,c=this.Q.u.n.i.x*a+
this.Q.u.n.j.x*b,b=this.Q.u.n.i.y*a+this.Q.u.n.j.y*b,a=c,d=this.Y.x-this.R.k.K.x,e=this.Y.y-this.R.k.K.y,c=this.R.u.n.i.x*d+this.R.u.n.j.x*e,e=this.R.u.n.i.y*d+this.R.u.n.j.y*e,d=c,g=this.R.k.r.x+d-this.Q.k.r.x-a,h=this.R.k.r.y+e-this.Q.k.r.y-b,f=Math.sqrt(g*g+h*h),c=U.kb(f-this.zq,-0.2,0.2),k=-this.P*c;this.Wb.Set(g/f,h/f);g=k*this.Wb.x;k*=this.Wb.y;this.Q.k.r.x-=this.Q.F*g;this.Q.k.r.y-=this.Q.F*k;this.Q.k.I-=this.Q.N*(a*k-b*g);this.R.k.r.x+=this.R.F*g;this.R.k.r.y+=this.R.F*k;this.R.k.I+=this.R.N*
(d*k-e*g);this.Q.rb();this.R.rb();return 0.0050>Math.abs(c)};var $b=function(){fe.call(this);this.gb=S.q(0,0);this.hb=S.q(0,0);this.type=Y.pp;this.length=1;this.Cm=this.Rm=0};R($b,fe);$b.prototype.Kb=function(a,b,c,d){this.H=a;this.J=b;this.gb.D(this.H.Fc(c));this.hb.D(this.J.Fc(d));a=d.x-c.x;c=d.y-c.y;this.length=Math.sqrt(a*a+c*c);this.Cm=this.Rm=0};$b.prototype.ve=function(){return new ge(this)};var he=function(a){Y.call(this,a);this.je=S.q(0,0);this.ke=S.q(0,0);this.Cq=new T;this.ie=S.q(0,0);
this.je.D(a.gb);this.ke.D(a.hb);this.Cq.Z();this.il=0;this.ie.Z();this.Dg=0;this.Tz=a.$z;this.Vz=a.aA};R(he,Y);he.prototype.we=function(a){var b,c=0,d=this.Q,e=this.R;b=d.u.n;var g=this.je.x-d.k.K.x,h=this.je.y-d.k.K.y,c=b.i.x*g+b.j.x*h,h=b.i.y*g+b.j.y*h,g=c;b=e.u.n;var f=this.ke.x-e.k.K.x,k=this.ke.y-e.k.K.y,c=b.i.x*f+b.j.x*k,k=b.i.y*f+b.j.y*k,f=c;b=d.F;var c=e.F,l=d.N,m=e.N,n=new T;n.i.x=b+c;n.j.x=0;n.i.y=0;n.j.y=b+c;n.i.x+=l*h*h;n.j.x+=-l*g*h;n.i.y+=-l*g*h;n.j.y+=l*g*g;n.i.x+=m*k*k;n.j.x+=-m*f*
k;n.i.y+=-m*f*k;n.j.y+=m*f*f;n.vo(this.Cq);this.il=l+m;0<this.il&&(this.il=1/this.il);a.Vg?(this.ie.x*=a.Tb,this.ie.y*=a.Tb,this.Dg*=a.Tb,a=this.ie,d.p.x-=b*a.x,d.p.y-=b*a.y,d.B-=l*(g*a.y-h*a.x+this.Dg),e.p.x+=c*a.x,e.p.y+=c*a.y,e.B+=m*(f*a.y-k*a.x+this.Dg)):(this.ie.Z(),this.Dg=0)};he.prototype.Xd=function(a){var b,c=0,d=this.Q,e=this.R,g=d.p,h=d.B,f=e.p,k=e.B,l=d.F,m=e.F,n=d.N,q=e.N;b=d.u.n;var p=this.je.x-d.k.K.x,t=this.je.y-d.k.K.y,c=b.i.x*p+b.j.x*t,t=b.i.y*p+b.j.y*t,p=c;b=e.u.n;var r=this.ke.x-
e.k.K.x,x=this.ke.y-e.k.K.y,c=b.i.x*r+b.j.x*x,x=b.i.y*r+b.j.y*x,r=c;b=0;var c=-this.il*(k-h),y=this.Dg;b=a.xa*this.Vz;this.Dg=U.kb(this.Dg+c,-b,b);c=this.Dg-y;h-=n*c;k+=q*c;b=U.Cb(this.Cq,S.q(-(f.x-k*x-g.x+h*t),-(f.y+k*r-g.y-h*p)));c=this.ie.Rb();this.ie.hg(b);b=a.xa*this.Tz;this.ie.fm()>b*b&&(this.ie.Wc(),this.ie.Vc(b));b=U.eb(this.ie,c);g.x-=l*b.x;g.y-=l*b.y;h-=n*(p*b.y-t*b.x);f.x+=m*b.x;f.y+=m*b.y;k+=q*(r*b.y-x*b.x);d.B=h;e.B=k};he.prototype.Wd=w(!0);var ie=function(){fe.call(this);this.gb=S.q(0,
0);this.hb=S.q(0,0);this.type=Y.Yx;this.aA=this.$z=0};R(ie,fe);ie.prototype.Kb=function(a,b,c){this.H=a;this.J=b;this.gb.D(this.H.Fc(c));this.hb.D(this.J.Fc(c))};ie.prototype.ve=function(){return new he(this)};var ke=function(a){Y.call(this,a);this.Ig=S.q(0,0);this.Jg=S.q(0,0);this.X=S.q(0,0);this.Y=S.q(0,0);this.nb=new je;var b=a.uj.Na,c=a.vj.Na;this.Fj=this.Ji=this.Ej=this.Ii=null;var d=0,e=0;this.Lz=a.uj.lk();this.Q=a.uj.to();b==Y.lj?(this.Ii=a.uj,this.Ig.D(this.Ii.X),this.X.D(this.Ii.Y),d=this.Ii.$l()):
(this.Ej=a.uj,this.Ig.D(this.Ej.X),this.X.D(this.Ej.Y),d=this.Ej.nk());this.Mz=a.vj.lk();this.R=a.vj.to();c==Y.lj?(this.Ji=a.vj,this.Jg.D(this.Ji.X),this.Y.D(this.Ji.Y),e=this.Ji.$l()):(this.Fj=a.vj,this.Jg.D(this.Fj.X),this.Y.D(this.Fj.Y),e=this.Fj.nk());this.wb=a.Eh;this.Cj=d+this.wb*e;this.A=0};R(ke,Y);ke.prototype.we=function(a){var b=this.Lz,c=this.Mz,d=this.Q,e=this.R,g=0,h=0,f=0,k=0,l=f=0,m=0;this.nb.Z();this.Ii?(this.nb.Yh=-1,m+=d.N):(b=b.u.n,h=this.Ej.sd,g=b.i.x*h.x+b.j.x*h.y,h=b.i.y*h.x+
b.j.y*h.y,b=d.u.n,f=this.X.x-d.k.K.x,k=this.X.y-d.k.K.y,l=b.i.x*f+b.j.x*k,k=b.i.y*f+b.j.y*k,f=l*h-k*g,this.nb.cf.Set(-g,-h),this.nb.Yh=-f,m+=d.F+d.N*f*f);this.Ji?(this.nb.Zh=-this.wb,m+=this.wb*this.wb*e.N):(b=c.u.n,h=this.Fj.sd,g=b.i.x*h.x+b.j.x*h.y,h=b.i.y*h.x+b.j.y*h.y,b=e.u.n,f=this.Y.x-e.k.K.x,k=this.Y.y-e.k.K.y,l=b.i.x*f+b.j.x*k,k=b.i.y*f+b.j.y*k,f=l*h-k*g,this.nb.df.Set(-this.wb*g,-this.wb*h),this.nb.Zh=-this.wb*f,m+=this.wb*this.wb*(e.F+e.N*f*f));this.P=0<m?1/m:0;a.Vg?(d.p.x+=d.F*this.A*this.nb.cf.x,
d.p.y+=d.F*this.A*this.nb.cf.y,d.B+=d.N*this.A*this.nb.Yh,e.p.x+=e.F*this.A*this.nb.df.x,e.p.y+=e.F*this.A*this.nb.df.y,e.B+=e.N*this.A*this.nb.Zh):this.A=0};ke.prototype.Xd=function(){var a=this.Q,b=this.R,c=-this.P*this.nb.Zv(a.p,a.B,b.p,b.B);this.A+=c;a.p.x+=a.F*c*this.nb.cf.x;a.p.y+=a.F*c*this.nb.cf.y;a.B+=a.N*c*this.nb.Yh;b.p.x+=b.F*c*this.nb.df.x;b.p.y+=b.F*c*this.nb.df.y;b.B+=b.N*c*this.nb.Zh};ke.prototype.Wd=function(){var a=this.Q,b=this.R,c=0,d=0,c=this.Ii?this.Ii.$l():this.Ej.nk(),d=this.Ji?
this.Ji.$l():this.Fj.nk(),c=-this.P*(this.Cj-(c+this.wb*d));a.k.r.x+=a.F*c*this.nb.cf.x;a.k.r.y+=a.F*c*this.nb.cf.y;a.k.I+=a.N*c*this.nb.Yh;b.k.r.x+=b.F*c*this.nb.df.x;b.k.r.y+=b.F*c*this.nb.df.y;b.k.I+=b.N*c*this.nb.Zh;a.rb();b.rb();return!0};var le=function(){fe.call(this);this.type=Y.Zx;this.vj=this.uj=null;this.Eh=1};R(le,fe);le.prototype.Kb=function(a,b,c){this.uj=a;this.H=a.lk();this.vj=b;this.J=b.lk();this.Eh=c};le.prototype.ve=function(){return new ke(this)};var je=function(){this.cf=S.q(0,
0);this.df=S.q(0,0)};je.prototype.Z=function(){this.cf.Z();this.Yh=0;this.df.Z();this.Zh=0};je.prototype.Set=function(a,b,c,d){void 0===b&&(b=0);void 0===d&&(d=0);this.cf.D(a);this.Yh=b;this.df.D(c);this.Zh=d};je.prototype.Zv=function(a,b,c,d){void 0===b&&(b=0);void 0===d&&(d=0);return this.cf.x*a.x+this.cf.y*a.y+this.Yh*b+(this.df.x*c.x+this.df.y*c.y)+this.Zh*d};var me=function(a){Y.call(this,a);this.X=S.q(0,0);this.Y=S.q(0,0);this.sd=S.q(0,0);this.Kg=S.q(0,0);this.O=S.q(0,0);this.$=S.q(0,0);this.V=
new T;this.A=S.q(0,0);this.X.D(a.gb);this.Y.D(a.hb);this.sd.D(a.Ai);this.Kg.x=-this.sd.y;this.Kg.y=this.sd.x;this.A.Z();this.Ea=this.fd=0;this.le=a.sq;this.ne=a.Fr;this.Dq=a.Iq;this.ol=a.Mj;this.ff=a.ji;this.vh=a.mj;this.ra=Y.Zc;this.O.Z();this.$.Z()};R(me,Y);me.prototype.nk=function(){var a=this.Q,b=this.R,c=a.dm(this.X),d=b.dm(this.Y),b=d.x-c.x,c=d.y-c.y,a=a.xo(this.sd);return a.x*b+a.y*c};me.prototype.we=function(a){var b=this.Q,c=this.R,d,e=0;this.Rf.D(b.Rh());this.Sf.D(c.Rh());var g=b.vd();c.vd();
d=b.u.n;var h=this.X.x-this.Rf.x,f=this.X.y-this.Rf.y,e=d.i.x*h+d.j.x*f,f=d.i.y*h+d.j.y*f,h=e;d=c.u.n;var k=this.Y.x-this.Sf.x,l=this.Y.y-this.Sf.y,e=d.i.x*k+d.j.x*l,l=d.i.y*k+d.j.y*l,k=e;d=c.k.r.x+k-b.k.r.x-h;e=c.k.r.y+l-b.k.r.y-f;this.tb=b.F;this.ub=c.F;this.Jc=b.N;this.Kc=c.N;this.O.D(U.Cb(g.n,this.sd));this.Pa=(d+h)*this.O.y-(e+f)*this.O.x;this.Qa=k*this.O.y-l*this.O.x;this.fd=this.tb+this.ub+this.Jc*this.Pa*this.Pa+this.Kc*this.Qa*this.Qa;this.fd=this.fd>Number.MIN_VALUE?1/this.fd:0;this.$.D(U.Cb(g.n,
this.Kg));this.Sa=(d+h)*this.$.y-(e+f)*this.$.x;this.Ta=k*this.$.y-l*this.$.x;g=this.tb;h=this.ub;f=this.Jc;k=this.Kc;this.V.i.x=g+h+f*this.Sa*this.Sa+k*this.Ta*this.Ta;this.V.i.y=f*this.Sa*this.Pa+k*this.Ta*this.Qa;this.V.j.x=this.V.i.y;this.V.j.y=g+h+f*this.Pa*this.Pa+k*this.Qa*this.Qa;this.ff?(d=this.O.x*d+this.O.y*e,0.01>Math.abs(this.ne-this.le)?this.ra=Y.ih:d<=this.le?this.ra!=Y.Cf&&(this.ra=Y.Cf,this.A.y=0):d>=this.ne?this.ra!=Y.pc&&(this.ra=Y.pc,this.A.y=0):(this.ra=Y.Zc,this.A.y=0)):this.ra=
Y.Zc;!1==this.vh&&(this.Ea=0);a.Vg?(this.A.x*=a.Tb,this.A.y*=a.Tb,this.Ea*=a.Tb,a=this.A.x*this.$.x+(this.Ea+this.A.y)*this.O.x,d=this.A.x*this.$.y+(this.Ea+this.A.y)*this.O.y,e=this.A.x*this.Sa+(this.Ea+this.A.y)*this.Pa,g=this.A.x*this.Ta+(this.Ea+this.A.y)*this.Qa,b.p.x-=this.tb*a,b.p.y-=this.tb*d,b.B-=this.Jc*e,c.p.x+=this.ub*a,c.p.y+=this.ub*d,c.B+=this.Kc*g):(this.A.Z(),this.Ea=0)};me.prototype.Xd=function(a){var b=this.Q,c=this.R,d=b.p,e=b.B,g=c.p,h=c.B,f=0,k=0,l=0,m=0;this.vh&&this.ra!=Y.ih&&
(m=this.fd*(this.ol-(this.O.x*(g.x-d.x)+this.O.y*(g.y-d.y)+this.Qa*h-this.Pa*e)),f=this.Ea,k=a.xa*this.Dq,this.Ea=U.kb(this.Ea+m,-k,k),m=this.Ea-f,f=m*this.O.x,k=m*this.O.y,l=m*this.Pa,m*=this.Qa,d.x-=this.tb*f,d.y-=this.tb*k,e-=this.Jc*l,g.x+=this.ub*f,g.y+=this.ub*k,h+=this.Kc*m);k=this.$.x*(g.x-d.x)+this.$.y*(g.y-d.y)+this.Ta*h-this.Sa*e;this.ff&&this.ra!=Y.Zc?(l=this.O.x*(g.x-d.x)+this.O.y*(g.y-d.y)+this.Qa*h-this.Pa*e,f=this.A.Rb(),a=this.V.ah(S.q(0,0),-k,-l),this.A.hg(a),this.ra==Y.Cf?this.A.y=
Math.max(this.A.y,0):this.ra==Y.pc&&(this.A.y=Math.min(this.A.y,0)),k=-k-(this.A.y-f.y)*this.V.j.x,l=0,l=0!=this.V.i.x?k/this.V.i.x+f.x:f.x,this.A.x=l,a.x=this.A.x-f.x,a.y=this.A.y-f.y,f=a.x*this.$.x+a.y*this.O.x,k=a.x*this.$.y+a.y*this.O.y,l=a.x*this.Sa+a.y*this.Pa,m=a.x*this.Ta+a.y*this.Qa):(a=0,a=0!=this.V.i.x?-k/this.V.i.x:0,this.A.x+=a,f=a*this.$.x,k=a*this.$.y,l=a*this.Sa,m=a*this.Ta);d.x-=this.tb*f;d.y-=this.tb*k;e-=this.Jc*l;g.x+=this.ub*f;g.y+=this.ub*k;h+=this.Kc*m;b.p.D(d);b.B=e;c.p.D(g);
c.B=h};me.prototype.Wd=function(){var a=this.Q,b=this.R,c=a.k.r,d=a.k.I,e=b.k.r,g=b.k.I,h,f=0,k=0,l=0,m=0,n=h=0,q=0,k=!1,p=0,t=T.aj(d),l=T.aj(g);h=t;var q=this.X.x-this.Rf.x,r=this.X.y-this.Rf.y,f=h.i.x*q+h.j.x*r,r=h.i.y*q+h.j.y*r,q=f;h=l;l=this.Y.x-this.Sf.x;m=this.Y.y-this.Sf.y;f=h.i.x*l+h.j.x*m;m=h.i.y*l+h.j.y*m;l=f;h=e.x+l-c.x-q;f=e.y+m-c.y-r;if(this.ff){this.O=U.Cb(t,this.sd);this.Pa=(h+q)*this.O.y-(f+r)*this.O.x;this.Qa=l*this.O.y-m*this.O.x;var x=this.O.x*h+this.O.y*f;0.01>Math.abs(this.ne-
this.le)?(p=U.kb(x,-0.2,0.2),n=Math.abs(x),k=!0):x<=this.le?(p=U.kb(x-this.le+0.0050,-0.2,0),n=this.le-x,k=!0):x>=this.ne&&(p=U.kb(x-this.ne+0.0050,0,0.2),n=x-this.ne,k=!0)}this.$=U.Cb(t,this.Kg);this.Sa=(h+q)*this.$.y-(f+r)*this.$.x;this.Ta=l*this.$.y-m*this.$.x;t=S.q(0,0);r=this.$.x*h+this.$.y*f;n=Math.max(n,Math.abs(r));q=0;k?(k=this.tb,l=this.ub,m=this.Jc,h=this.Kc,this.V.i.x=k+l+m*this.Sa*this.Sa+h*this.Ta*this.Ta,this.V.i.y=m*this.Sa*this.Pa+h*this.Ta*this.Qa,this.V.j.x=this.V.i.y,this.V.j.y=
k+l+m*this.Pa*this.Pa+h*this.Qa*this.Qa,this.V.ah(t,-r,-p)):(k=this.tb,l=this.ub,m=this.Jc,h=this.Kc,p=k+l+m*this.Sa*this.Sa+h*this.Ta*this.Ta,t.x=0!=p?-r/p:0,t.y=0);p=t.x*this.$.x+t.y*this.O.x;k=t.x*this.$.y+t.y*this.O.y;r=t.x*this.Sa+t.y*this.Pa;t=t.x*this.Ta+t.y*this.Qa;c.x-=this.tb*p;c.y-=this.tb*k;d-=this.Jc*r;e.x+=this.ub*p;e.y+=this.ub*k;g+=this.Kc*t;a.k.I=d;b.k.I=g;a.rb();b.rb();return 0.0050>=n&&q<=bc};var ne=function(){fe.call(this);this.gb=S.q(0,0);this.hb=S.q(0,0);this.Ai=S.q(0,0);this.type=
Y.$x;this.Ai.Set(1,0);this.ji=!1;this.Fr=this.sq=0;this.mj=!1;this.Mj=this.Iq=0};R(ne,fe);ne.prototype.Kb=function(a,b,c,d){this.H=a;this.J=b;this.gb=this.H.Fc(c);this.hb=this.J.Fc(c);this.Ai=this.H.wo(d)};ne.prototype.ve=function(){return new me(this)};var oe=function(a){Y.call(this,a);this.X=S.q(0,0);this.Y=S.q(0,0);this.sd=S.q(0,0);this.Kg=S.q(0,0);this.O=S.q(0,0);this.$=S.q(0,0);this.V=new ic;this.A=new hc(0,0,0);this.X.D(a.gb);this.Y.D(a.hb);this.sd.D(a.Ai);this.Kg.x=-this.sd.y;this.Kg.y=this.sd.x;
this.Wz=a.Yf;this.A.Z();this.Ea=this.fd=0;this.le=a.sq;this.ne=a.Fr;this.Dq=a.Iq;this.ol=a.Mj;this.ff=a.ji;this.vh=a.mj;this.ra=Y.Zc;this.O.Z();this.$.Z()};R(oe,Y);oe.prototype.nk=function(){var a=this.Q,b=this.R,c=a.dm(this.X),d=b.dm(this.Y),b=d.x-c.x,c=d.y-c.y,a=a.xo(this.sd);return a.x*b+a.y*c};oe.prototype.we=function(a){var b=this.Q,c=this.R,d,e=0;this.Rf.D(b.Rh());this.Sf.D(c.Rh());var g=b.vd();c.vd();d=b.u.n;var h=this.X.x-this.Rf.x,f=this.X.y-this.Rf.y,e=d.i.x*h+d.j.x*f,f=d.i.y*h+d.j.y*f,
h=e;d=c.u.n;var k=this.Y.x-this.Sf.x,l=this.Y.y-this.Sf.y,e=d.i.x*k+d.j.x*l,l=d.i.y*k+d.j.y*l,k=e;d=c.k.r.x+k-b.k.r.x-h;e=c.k.r.y+l-b.k.r.y-f;this.tb=b.F;this.ub=c.F;this.Jc=b.N;this.Kc=c.N;this.O.D(U.Cb(g.n,this.sd));this.Pa=(d+h)*this.O.y-(e+f)*this.O.x;this.Qa=k*this.O.y-l*this.O.x;this.fd=this.tb+this.ub+this.Jc*this.Pa*this.Pa+this.Kc*this.Qa*this.Qa;this.fd>Number.MIN_VALUE&&(this.fd=1/this.fd);this.$.D(U.Cb(g.n,this.Kg));this.Sa=(d+h)*this.$.y-(e+f)*this.$.x;this.Ta=k*this.$.y-l*this.$.x;g=
this.tb;h=this.ub;f=this.Jc;k=this.Kc;this.V.i.x=g+h+f*this.Sa*this.Sa+k*this.Ta*this.Ta;this.V.i.y=f*this.Sa+k*this.Ta;this.V.i.z=f*this.Sa*this.Pa+k*this.Ta*this.Qa;this.V.j.x=this.V.i.y;this.V.j.y=f+k;this.V.j.z=f*this.Pa+k*this.Qa;this.V.la.x=this.V.i.z;this.V.la.y=this.V.j.z;this.V.la.z=g+h+f*this.Pa*this.Pa+k*this.Qa*this.Qa;this.ff?(d=this.O.x*d+this.O.y*e,0.01>Math.abs(this.ne-this.le)?this.ra=Y.ih:d<=this.le?this.ra!=Y.Cf&&(this.ra=Y.Cf,this.A.z=0):d>=this.ne?this.ra!=Y.pc&&(this.ra=Y.pc,
this.A.z=0):(this.ra=Y.Zc,this.A.z=0)):this.ra=Y.Zc;!1==this.vh&&(this.Ea=0);a.Vg?(this.A.x*=a.Tb,this.A.y*=a.Tb,this.Ea*=a.Tb,a=this.A.x*this.$.x+(this.Ea+this.A.z)*this.O.x,d=this.A.x*this.$.y+(this.Ea+this.A.z)*this.O.y,e=this.A.x*this.Sa+this.A.y+(this.Ea+this.A.z)*this.Pa,g=this.A.x*this.Ta+this.A.y+(this.Ea+this.A.z)*this.Qa,b.p.x-=this.tb*a,b.p.y-=this.tb*d,b.B-=this.Jc*e,c.p.x+=this.ub*a,c.p.y+=this.ub*d,c.B+=this.Kc*g):(this.A.Z(),this.Ea=0)};oe.prototype.Xd=function(a){var b=this.Q,c=this.R,
d=b.p,e=b.B,g=c.p,h=c.B,f=0,k=0,l=0,m=0;this.vh&&this.ra!=Y.ih&&(m=this.fd*(this.ol-(this.O.x*(g.x-d.x)+this.O.y*(g.y-d.y)+this.Qa*h-this.Pa*e)),f=this.Ea,a=a.xa*this.Dq,this.Ea=U.kb(this.Ea+m,-a,a),m=this.Ea-f,f=m*this.O.x,k=m*this.O.y,l=m*this.Pa,m*=this.Qa,d.x-=this.tb*f,d.y-=this.tb*k,e-=this.Jc*l,g.x+=this.ub*f,g.y+=this.ub*k,h+=this.Kc*m);l=this.$.x*(g.x-d.x)+this.$.y*(g.y-d.y)+this.Ta*h-this.Sa*e;k=h-e;this.ff&&this.ra!=Y.Zc?(a=this.O.x*(g.x-d.x)+this.O.y*(g.y-d.y)+this.Qa*h-this.Pa*e,f=this.A.Rb(),
a=this.V.zk(new hc(0,0,0),-l,-k,-a),this.A.hg(a),this.ra==Y.Cf?this.A.z=Math.max(this.A.z,0):this.ra==Y.pc&&(this.A.z=Math.min(this.A.z,0)),l=-l-(this.A.z-f.z)*this.V.la.x,k=-k-(this.A.z-f.z)*this.V.la.y,k=this.V.fj(S.q(0,0),l,k),k.x+=f.x,k.y+=f.y,this.A.x=k.x,this.A.y=k.y,a.x=this.A.x-f.x,a.y=this.A.y-f.y,a.z=this.A.z-f.z,f=a.x*this.$.x+a.z*this.O.x,k=a.x*this.$.y+a.z*this.O.y,l=a.x*this.Sa+a.y+a.z*this.Pa,m=a.x*this.Ta+a.y+a.z*this.Qa):(a=this.V.fj(S.q(0,0),-l,-k),this.A.x+=a.x,this.A.y+=a.y,f=
a.x*this.$.x,k=a.x*this.$.y,l=a.x*this.Sa+a.y,m=a.x*this.Ta+a.y);d.x-=this.tb*f;d.y-=this.tb*k;e-=this.Jc*l;g.x+=this.ub*f;g.y+=this.ub*k;h+=this.Kc*m;b.p.D(d);b.B=e;c.p.D(g);c.B=h};oe.prototype.Wd=function(){var a=this.Q,b=this.R,c=a.k.r,d=a.k.I,e=b.k.r,g=b.k.I,h,f=0,k=0,l=0,m=f=h=0,n=0,k=!1,q=0,p=T.aj(d),t=T.aj(g);h=p;var n=this.X.x-this.Rf.x,r=this.X.y-this.Rf.y,f=h.i.x*n+h.j.x*r,r=h.i.y*n+h.j.y*r,n=f;h=t;t=this.Y.x-this.Sf.x;l=this.Y.y-this.Sf.y;f=h.i.x*t+h.j.x*l;l=h.i.y*t+h.j.y*l;t=f;h=e.x+t-
c.x-n;f=e.y+l-c.y-r;if(this.ff){this.O=U.Cb(p,this.sd);this.Pa=(h+n)*this.O.y-(f+r)*this.O.x;this.Qa=t*this.O.y-l*this.O.x;var x=this.O.x*h+this.O.y*f;0.01>Math.abs(this.ne-this.le)?(q=U.kb(x,-0.2,0.2),m=Math.abs(x),k=!0):x<=this.le?(q=U.kb(x-this.le+0.0050,-0.2,0),m=this.le-x,k=!0):x>=this.ne&&(q=U.kb(x-this.ne+0.0050,0,0.2),m=x-this.ne,k=!0)}this.$=U.Cb(p,this.Kg);this.Sa=(h+n)*this.$.y-(f+r)*this.$.x;this.Ta=t*this.$.y-l*this.$.x;p=new hc(0,0,0);r=this.$.x*h+this.$.y*f;t=g-d-this.Wz;m=Math.max(m,
Math.abs(r));n=Math.abs(t);k?(k=this.tb,l=this.ub,h=this.Jc,f=this.Kc,this.V.i.x=k+l+h*this.Sa*this.Sa+f*this.Ta*this.Ta,this.V.i.y=h*this.Sa+f*this.Ta,this.V.i.z=h*this.Sa*this.Pa+f*this.Ta*this.Qa,this.V.j.x=this.V.i.y,this.V.j.y=h+f,this.V.j.z=h*this.Pa+f*this.Qa,this.V.la.x=this.V.i.z,this.V.la.y=this.V.j.z,this.V.la.z=k+l+h*this.Pa*this.Pa+f*this.Qa*this.Qa,this.V.zk(p,-r,-t,-q)):(k=this.tb,l=this.ub,h=this.Jc,f=this.Kc,q=h*this.Sa+f*this.Ta,x=h+f,this.V.i.Set(k+l+h*this.Sa*this.Sa+f*this.Ta*
this.Ta,q,0),this.V.j.Set(q,x,0),q=this.V.fj(S.q(0,0),-r,-t),p.x=q.x,p.y=q.y,p.z=0);q=p.x*this.$.x+p.z*this.O.x;k=p.x*this.$.y+p.z*this.O.y;r=p.x*this.Sa+p.y+p.z*this.Pa;p=p.x*this.Ta+p.y+p.z*this.Qa;c.x-=this.tb*q;c.y-=this.tb*k;d-=this.Jc*r;e.x+=this.ub*q;e.y+=this.ub*k;g+=this.Kc*p;a.k.I=d;b.k.I=g;a.rb();b.rb();return 0.0050>=m&&n<=bc};var pe=function(){fe.call(this);this.gb=S.q(0,0);this.hb=S.q(0,0);this.Ai=S.q(0,0);this.type=Y.ay;this.Ai.Set(1,0);this.Yf=0;this.ji=!1;this.Fr=this.sq=0;this.mj=
!1;this.Mj=this.Iq=0};R(pe,fe);pe.prototype.Kb=function(a,b,c,d){this.H=a;this.J=b;this.gb=this.H.Fc(c);this.hb=this.J.Fc(c);this.Ai=this.H.wo(d);this.Yf=this.J.Tc()-this.H.Tc()};pe.prototype.ve=function(){return new oe(this)};var re=function(a){Y.call(this,a);this.Ig=S.q(0,0);this.Jg=S.q(0,0);this.X=S.q(0,0);this.Y=S.q(0,0);this.Va=S.q(0,0);this.Wa=S.q(0,0);this.Ge=this.Q.Ba.Nz;this.Ig.x=a.Ym.x-this.Ge.u.position.x;this.Ig.y=a.Ym.y-this.Ge.u.position.y;this.Jg.x=a.Zm.x-this.Ge.u.position.x;this.Jg.y=
a.Zm.y-this.Ge.u.position.y;this.X.D(a.gb);this.Y.D(a.hb);this.wb=a.Eh;this.Cj=a.iq+this.wb*a.jq;this.vu=Math.min(a.xu,this.Cj-this.wb*qe);this.wu=Math.min(a.yu,(this.Cj-qe)/this.wb);this.Qf=this.Pf=this.A=0};R(re,Y);re.prototype.we=function(a){var b=this.Q,c=this.R,d;d=b.u.n;var e=this.X.x-b.k.K.x,g=this.X.y-b.k.K.y,h=d.i.x*e+d.j.x*g,g=d.i.y*e+d.j.y*g,e=h;d=c.u.n;var f=this.Y.x-c.k.K.x,k=this.Y.y-c.k.K.y,h=d.i.x*f+d.j.x*k,k=d.i.y*f+d.j.y*k,f=h;d=c.k.r.x+f;var h=c.k.r.y+k,l=this.Ge.u.position.x+this.Jg.x,
m=this.Ge.u.position.y+this.Jg.y;this.Va.Set(b.k.r.x+e-(this.Ge.u.position.x+this.Ig.x),b.k.r.y+g-(this.Ge.u.position.y+this.Ig.y));this.Wa.Set(d-l,h-m);d=this.Va.vf();h=this.Wa.vf();0.0050<d?this.Va.Vc(1/d):this.Va.Z();0.0050<h?this.Wa.Vc(1/h):this.Wa.Z();0<this.Cj-d-this.wb*h?(this.Fq=Y.Zc,this.A=0):this.Fq=Y.pc;d<this.vu?(this.Aq=Y.Zc,this.Pf=0):this.Aq=Y.pc;h<this.wu?(this.Bq=Y.Zc,this.Qf=0):this.Bq=Y.pc;d=e*this.Va.y-g*this.Va.x;h=f*this.Wa.y-k*this.Wa.x;this.ml=b.F+b.N*d*d;this.nl=c.F+c.N*h*
h;this.En=this.ml+this.wb*this.wb*this.nl;this.ml=1/this.ml;this.nl=1/this.nl;this.En=1/this.En;a.Vg?(this.A*=a.Tb,this.Pf*=a.Tb,this.Qf*=a.Tb,a=(-this.A-this.Pf)*this.Va.x,d=(-this.A-this.Pf)*this.Va.y,h=(-this.wb*this.A-this.Qf)*this.Wa.x,l=(-this.wb*this.A-this.Qf)*this.Wa.y,b.p.x+=b.F*a,b.p.y+=b.F*d,b.B+=b.N*(e*d-g*a),c.p.x+=c.F*h,c.p.y+=c.F*l,c.B+=c.N*(f*l-k*h)):this.Qf=this.Pf=this.A=0};re.prototype.Xd=function(){var a=this.Q,b=this.R,c;c=a.u.n;var d=this.X.x-a.k.K.x,e=this.X.y-a.k.K.y,g=c.i.x*
d+c.j.x*e,e=c.i.y*d+c.j.y*e,d=g;c=b.u.n;var h=this.Y.x-b.k.K.x,f=this.Y.y-b.k.K.y,g=c.i.x*h+c.j.x*f,f=c.i.y*h+c.j.y*f,h=g,k=g=c=0,l=0;c=l=c=l=k=g=c=0;this.Fq==Y.pc&&(c=a.p.x+-a.B*e,g=a.p.y+a.B*d,k=b.p.x+-b.B*f,l=b.p.y+b.B*h,c=-(this.Va.x*c+this.Va.y*g)-this.wb*(this.Wa.x*k+this.Wa.y*l),l=this.En*-c,c=this.A,this.A=Math.max(0,this.A+l),l=this.A-c,c=-l*this.Va.x,g=-l*this.Va.y,k=-this.wb*l*this.Wa.x,l=-this.wb*l*this.Wa.y,a.p.x+=a.F*c,a.p.y+=a.F*g,a.B+=a.N*(d*g-e*c),b.p.x+=b.F*k,b.p.y+=b.F*l,b.B+=b.N*
(h*l-f*k));this.Aq==Y.pc&&(c=a.p.x+-a.B*e,g=a.p.y+a.B*d,c=-(this.Va.x*c+this.Va.y*g),l=-this.ml*c,c=this.Pf,this.Pf=Math.max(0,this.Pf+l),l=this.Pf-c,c=-l*this.Va.x,g=-l*this.Va.y,a.p.x+=a.F*c,a.p.y+=a.F*g,a.B+=a.N*(d*g-e*c));this.Bq==Y.pc&&(k=b.p.x+-b.B*f,l=b.p.y+b.B*h,c=-(this.Wa.x*k+this.Wa.y*l),l=-this.nl*c,c=this.Qf,this.Qf=Math.max(0,this.Qf+l),l=this.Qf-c,k=-l*this.Wa.x,l=-l*this.Wa.y,b.p.x+=b.F*k,b.p.y+=b.F*l,b.B+=b.N*(h*l-f*k))};re.prototype.Wd=function(){var a=this.Q,b=this.R,c,d=this.Ge.u.position.x+
this.Ig.x,e=this.Ge.u.position.y+this.Ig.y,g=this.Ge.u.position.x+this.Jg.x,h=this.Ge.u.position.y+this.Jg.y,f=0,k=0,l=0,m=0,n=c=0,q=0,p=0,t=n=p=c=n=c=0;this.Fq==Y.pc&&(c=a.u.n,f=this.X.x-a.k.K.x,k=this.X.y-a.k.K.y,n=c.i.x*f+c.j.x*k,k=c.i.y*f+c.j.y*k,f=n,c=b.u.n,l=this.Y.x-b.k.K.x,m=this.Y.y-b.k.K.y,n=c.i.x*l+c.j.x*m,m=c.i.y*l+c.j.y*m,l=n,c=a.k.r.x+f,n=a.k.r.y+k,q=b.k.r.x+l,p=b.k.r.y+m,this.Va.Set(c-d,n-e),this.Wa.Set(q-g,p-h),c=this.Va.vf(),n=this.Wa.vf(),0.0050<c?this.Va.Vc(1/c):this.Va.Z(),0.0050<
n?this.Wa.Vc(1/n):this.Wa.Z(),c=this.Cj-c-this.wb*n,t=Math.max(t,-c),c=U.kb(c+0.0050,-0.2,0),p=-this.En*c,c=-p*this.Va.x,n=-p*this.Va.y,q=-this.wb*p*this.Wa.x,p=-this.wb*p*this.Wa.y,a.k.r.x+=a.F*c,a.k.r.y+=a.F*n,a.k.I+=a.N*(f*n-k*c),b.k.r.x+=b.F*q,b.k.r.y+=b.F*p,b.k.I+=b.N*(l*p-m*q),a.rb(),b.rb());this.Aq==Y.pc&&(c=a.u.n,f=this.X.x-a.k.K.x,k=this.X.y-a.k.K.y,n=c.i.x*f+c.j.x*k,k=c.i.y*f+c.j.y*k,f=n,c=a.k.r.x+f,n=a.k.r.y+k,this.Va.Set(c-d,n-e),c=this.Va.vf(),0.0050<c?(this.Va.x*=1/c,this.Va.y*=1/c):
this.Va.Z(),c=this.vu-c,t=Math.max(t,-c),c=U.kb(c+0.0050,-0.2,0),p=-this.ml*c,c=-p*this.Va.x,n=-p*this.Va.y,a.k.r.x+=a.F*c,a.k.r.y+=a.F*n,a.k.I+=a.N*(f*n-k*c),a.rb());this.Bq==Y.pc&&(c=b.u.n,l=this.Y.x-b.k.K.x,m=this.Y.y-b.k.K.y,n=c.i.x*l+c.j.x*m,m=c.i.y*l+c.j.y*m,l=n,q=b.k.r.x+l,p=b.k.r.y+m,this.Wa.Set(q-g,p-h),n=this.Wa.vf(),0.0050<n?(this.Wa.x*=1/n,this.Wa.y*=1/n):this.Wa.Z(),c=this.wu-n,t=Math.max(t,-c),c=U.kb(c+0.0050,-0.2,0),p=-this.nl*c,q=-p*this.Wa.x,p=-p*this.Wa.y,b.k.r.x+=b.F*q,b.k.r.y+=
b.F*p,b.k.I+=b.N*(l*p-m*q),b.rb());return 0.0050>t};var qe=1,se=function(){fe.call(this);this.Ym=S.q(0,0);this.Zm=S.q(0,0);this.gb=S.q(0,0);this.hb=S.q(0,0);this.type=Y.by;this.Ym.Set(-1,1);this.Zm.Set(1,1);this.gb.Set(-1,0);this.hb.Set(1,0);this.yu=this.jq=this.xu=this.iq=0;this.Eh=1;this.cp=!0};R(se,fe);se.prototype.Kb=function(a,b,c,d,e,g,h){void 0===h&&(h=0);this.H=a;this.J=b;this.Ym.D(c);this.Zm.D(d);this.gb=this.H.Fc(e);this.hb=this.J.Fc(g);a=e.x-c.x;c=e.y-c.y;this.iq=Math.sqrt(a*a+c*c);c=g.x-
d.x;d=g.y-d.y;this.jq=Math.sqrt(c*c+d*d);this.Eh=h;h=this.iq+this.Eh*this.jq;this.xu=h-this.Eh*qe;this.yu=(h-qe)/this.Eh};se.prototype.ve=function(){return new re(this)};var te=function(a){Y.call(this,a);this.wd=new T;this.pk=new T;this.qk=new T;this.rk=new T;this.cc=new hc(0,0,0);this.Ze=S.q(0,0);this.Xf=S.q(0,0);this.X=S.q(0,0);this.Y=S.q(0,0);this.A=new hc(0,0,0);this.P=new ic;this.X.D(a.gb);this.Y.D(a.hb);this.ql=a.Yf;this.A.Z();this.Ea=0;this.Cn=a.rq;this.Gq=a.Er;this.Uz=a.zu;this.ol=a.Mj;this.ff=
a.ji;this.vh=a.mj;this.ra=Y.Zc};R(te,Y);te.prototype.$l=function(){return this.R.k.I-this.Q.k.I-this.ql};te.prototype.we=function(a){var b=this.Q,c=this.R,d,e=0;d=b.u.n;var g=this.X.x-b.k.K.x,h=this.X.y-b.k.K.y,e=d.i.x*g+d.j.x*h,h=d.i.y*g+d.j.y*h,g=e;d=c.u.n;var f=this.Y.x-c.k.K.x,k=this.Y.y-c.k.K.y,e=d.i.x*f+d.j.x*k,k=d.i.y*f+d.j.y*k,f=e;d=b.F;var e=c.F,l=b.N,m=c.N;this.P.i.x=d+e+h*h*l+k*k*m;this.P.j.x=-h*g*l-k*f*m;this.P.la.x=-h*l-k*m;this.P.i.y=this.P.j.x;this.P.j.y=d+e+g*g*l+f*f*m;this.P.la.y=
g*l+f*m;this.P.i.z=this.P.la.x;this.P.j.z=this.P.la.y;this.P.la.z=l+m;this.fd=1/(l+m);this.vh||(this.Ea=0);if(this.ff){var n=c.k.I-b.k.I-this.ql;Math.abs(this.Gq-this.Cn)<2*bc?this.ra=Y.ih:n<=this.Cn?(this.ra!=Y.Cf&&(this.A.z=0),this.ra=Y.Cf):n>=this.Gq?(this.ra!=Y.pc&&(this.A.z=0),this.ra=Y.pc):(this.ra=Y.Zc,this.A.z=0)}else this.ra=Y.Zc;a.Vg?(this.A.x*=a.Tb,this.A.y*=a.Tb,this.Ea*=a.Tb,a=this.A.x,n=this.A.y,b.p.x-=d*a,b.p.y-=d*n,b.B-=l*(g*n-h*a+this.Ea+this.A.z),c.p.x+=e*a,c.p.y+=e*n,c.B+=m*(f*
n-k*a+this.Ea+this.A.z)):(this.A.Z(),this.Ea=0)};te.prototype.Xd=function(a){var b=this.Q,c=this.R,d=0,e=d=0,g=0,h=0,f=0,k=b.p,l=b.B,m=c.p,n=c.B,q=b.F,p=c.F,t=b.N,r=c.N;this.vh&&this.ra!=Y.ih&&(e=this.fd*-(n-l-this.ol),g=this.Ea,h=a.xa*this.Uz,this.Ea=U.kb(this.Ea+e,-h,h),e=this.Ea-g,l-=t*e,n+=r*e);if(this.ff&&this.ra!=Y.Zc){a=b.u.n;e=this.X.x-b.k.K.x;g=this.X.y-b.k.K.y;d=a.i.x*e+a.j.x*g;g=a.i.y*e+a.j.y*g;e=d;a=c.u.n;h=this.Y.x-c.k.K.x;f=this.Y.y-c.k.K.y;d=a.i.x*h+a.j.x*f;f=a.i.y*h+a.j.y*f;h=d;a=
m.x+-n*f-k.x- -l*g;var x=m.y+n*h-k.y-l*e;this.P.zk(this.cc,-a,-x,-(n-l));this.ra==Y.ih?this.A.hg(this.cc):this.ra==Y.Cf?(d=this.A.z+this.cc.z,0>d&&(this.P.fj(this.Xf,-a,-x),this.cc.x=this.Xf.x,this.cc.y=this.Xf.y,this.cc.z=-this.A.z,this.A.x+=this.Xf.x,this.A.y+=this.Xf.y,this.A.z=0)):this.ra==Y.pc&&(d=this.A.z+this.cc.z,0<d&&(this.P.fj(this.Xf,-a,-x),this.cc.x=this.Xf.x,this.cc.y=this.Xf.y,this.cc.z=-this.A.z,this.A.x+=this.Xf.x,this.A.y+=this.Xf.y,this.A.z=0));k.x-=q*this.cc.x;k.y-=q*this.cc.y;
l-=t*(e*this.cc.y-g*this.cc.x+this.cc.z);m.x+=p*this.cc.x;m.y+=p*this.cc.y;n+=r*(h*this.cc.y-f*this.cc.x+this.cc.z)}else a=b.u.n,e=this.X.x-b.k.K.x,g=this.X.y-b.k.K.y,d=a.i.x*e+a.j.x*g,g=a.i.y*e+a.j.y*g,e=d,a=c.u.n,h=this.Y.x-c.k.K.x,f=this.Y.y-c.k.K.y,d=a.i.x*h+a.j.x*f,f=a.i.y*h+a.j.y*f,h=d,this.P.fj(this.Ze,-(m.x+-n*f-k.x- -l*g),-(m.y+n*h-k.y-l*e)),this.A.x+=this.Ze.x,this.A.y+=this.Ze.y,k.x-=q*this.Ze.x,k.y-=q*this.Ze.y,l-=t*(e*this.Ze.y-g*this.Ze.x),m.x+=p*this.Ze.x,m.y+=p*this.Ze.y,n+=r*(h*this.Ze.y-
f*this.Ze.x);b.p.D(k);b.B=l;c.p.D(m);c.B=n};te.prototype.Wd=function(){var a=0,b,c=this.Q,d=this.R,e=0,g=b=0,h=0,f=0;if(this.ff&&this.ra!=Y.Zc){var a=d.k.I-c.k.I-this.ql,k=0;this.ra==Y.ih?(a=U.kb(a-this.Cn,-cc,cc),k=-this.fd*a,e=Math.abs(a)):this.ra==Y.Cf?(a-=this.Cn,e=-a,a=U.kb(a+bc,-cc,0),k=-this.fd*a):this.ra==Y.pc&&(e=a-=this.Gq,a=U.kb(a-bc,0,cc),k=-this.fd*a);c.k.I-=c.N*k;d.k.I+=d.N*k;c.rb();d.rb()}b=c.u.n;k=this.X.x-c.k.K.x;a=this.X.y-c.k.K.y;g=b.i.x*k+b.j.x*a;a=b.i.y*k+b.j.y*a;k=g;b=d.u.n;
var l=this.Y.x-d.k.K.x,m=this.Y.y-d.k.K.y,g=b.i.x*l+b.j.x*m,m=b.i.y*l+b.j.y*m,l=g,h=d.k.r.x+l-c.k.r.x-k,f=d.k.r.y+m-c.k.r.y-a,n=h*h+f*f;b=Math.sqrt(n);var g=c.F,q=d.F,p=c.N,t=d.N;n>0.05*0.05&&(n=1/(g+q),h=n*-h,f=n*-f,c.k.r.x-=0.5*g*h,c.k.r.y-=0.5*g*f,d.k.r.x+=0.5*q*h,d.k.r.y+=0.5*q*f,h=d.k.r.x+l-c.k.r.x-k,f=d.k.r.y+m-c.k.r.y-a);this.pk.i.x=g+q;this.pk.j.x=0;this.pk.i.y=0;this.pk.j.y=g+q;this.qk.i.x=p*a*a;this.qk.j.x=-p*k*a;this.qk.i.y=-p*k*a;this.qk.j.y=p*k*k;this.rk.i.x=t*m*m;this.rk.j.x=-t*l*m;
this.rk.i.y=-t*l*m;this.rk.j.y=t*l*l;this.wd.Re(this.pk);this.wd.Rl(this.qk);this.wd.Rl(this.rk);this.wd.ah(ue,-h,-f);h=ue.x;f=ue.y;c.k.r.x-=c.F*h;c.k.r.y-=c.F*f;c.k.I-=c.N*(k*f-a*h);d.k.r.x+=d.F*h;d.k.r.y+=d.F*f;d.k.I+=d.N*(l*f-m*h);c.rb();d.rb();return 0.0050>=b&&e<=bc};var ue=S.q(0,0),ac=function(){fe.call(this);this.gb=S.q(0,0);this.hb=S.q(0,0);this.type=Y.lj;this.gb.Z();this.hb.Z();this.Mj=this.zu=this.Er=this.rq=this.Yf=0;this.mj=this.ji=!1};R(ac,fe);ac.prototype.Kb=function(a,b,c){this.H=a;
this.J=b;this.gb=this.H.Fc(c);this.hb=this.J.Fc(c);this.Yf=this.J.Tc()-this.H.Tc()};ac.prototype.ve=function(){return new te(this)};var ve=function(a){Y.call(this,a);this.je=S.q(0,0);this.ke=S.q(0,0);this.A=new hc(0,0,0);this.P=new ic;this.je.D(a.gb);this.ke.D(a.hb);this.ql=a.Yf};R(ve,Y);ve.prototype.we=function(a){var b,c=0,d=this.Q,e=this.R;b=d.u.n;var g=this.je.x-d.k.K.x,h=this.je.y-d.k.K.y,c=b.i.x*g+b.j.x*h,h=b.i.y*g+b.j.y*h,g=c;b=e.u.n;var f=this.ke.x-e.k.K.x,k=this.ke.y-e.k.K.y,c=b.i.x*f+b.j.x*
k,k=b.i.y*f+b.j.y*k,f=c;b=d.F;var c=e.F,l=d.N,m=e.N;this.P.i.x=b+c+h*h*l+k*k*m;this.P.j.x=-h*g*l-k*f*m;this.P.la.x=-h*l-k*m;this.P.i.y=this.P.j.x;this.P.j.y=b+c+g*g*l+f*f*m;this.P.la.y=g*l+f*m;this.P.i.z=this.P.la.x;this.P.j.z=this.P.la.y;this.P.la.z=l+m;a.Vg?(this.A.x*=a.Tb,this.A.y*=a.Tb,this.A.z*=a.Tb,d.p.x-=b*this.A.x,d.p.y-=b*this.A.y,d.B-=l*(g*this.A.y-h*this.A.x+this.A.z),e.p.x+=c*this.A.x,e.p.y+=c*this.A.y,e.B+=m*(f*this.A.y-k*this.A.x+this.A.z)):this.A.Z()};ve.prototype.Xd=function(){var a,
b=0,c=this.Q,d=this.R,e=c.p,g=c.B,h=d.p,f=d.B,k=c.F,l=d.F,m=c.N,n=d.N;a=c.u.n;var q=this.je.x-c.k.K.x,p=this.je.y-c.k.K.y,b=a.i.x*q+a.j.x*p,p=a.i.y*q+a.j.y*p,q=b;a=d.u.n;var t=this.ke.x-d.k.K.x,r=this.ke.y-d.k.K.y,b=a.i.x*t+a.j.x*r,r=a.i.y*t+a.j.y*r,t=b;a=new hc(0,0,0);this.P.zk(a,-(h.x-f*r-e.x+g*p),-(h.y+f*t-e.y-g*q),-(f-g));this.A.hg(a);e.x-=k*a.x;e.y-=k*a.y;g-=m*(q*a.y-p*a.x+a.z);h.x+=l*a.x;h.y+=l*a.y;f+=n*(t*a.y-r*a.x+a.z);c.B=g;d.B=f};ve.prototype.Wd=function(){var a,b=0,c=this.Q,d=this.R;a=
c.u.n;var e=this.je.x-c.k.K.x,g=this.je.y-c.k.K.y,b=a.i.x*e+a.j.x*g,g=a.i.y*e+a.j.y*g,e=b;a=d.u.n;var h=this.ke.x-d.k.K.x,f=this.ke.y-d.k.K.y,b=a.i.x*h+a.j.x*f,f=a.i.y*h+a.j.y*f,h=b;a=c.F;var b=d.F,k=c.N,l=d.N,m=d.k.r.x+h-c.k.r.x-e,n=d.k.r.y+f-c.k.r.y-g,q=d.k.I-c.k.I-this.ql,p=Math.sqrt(m*m+n*n),t=Math.abs(q);0.05<p&&(k*=1,l*=1);this.P.i.x=a+b+g*g*k+f*f*l;this.P.j.x=-g*e*k-f*h*l;this.P.la.x=-g*k-f*l;this.P.i.y=this.P.j.x;this.P.j.y=a+b+e*e*k+h*h*l;this.P.la.y=e*k+h*l;this.P.i.z=this.P.la.x;this.P.j.z=
this.P.la.y;this.P.la.z=k+l;var r=new hc(0,0,0);this.P.zk(r,-m,-n,-q);c.k.r.x-=a*r.x;c.k.r.y-=a*r.y;c.k.I-=k*(e*r.y-g*r.x+r.z);d.k.r.x+=b*r.x;d.k.r.y+=b*r.y;d.k.I+=l*(h*r.y-f*r.x+r.z);c.rb();d.rb();return 0.0050>=p&&t<=bc};var we=function(){fe.call(this);this.gb=S.q(0,0);this.hb=S.q(0,0);this.type=Y.dy;this.Yf=0};R(we,fe);we.prototype.Kb=function(a,b,c){this.H=a;this.J=b;this.gb.D(this.H.Fc(c));this.hb.D(this.J.Fc(c));this.Yf=this.J.Tc()-this.H.Tc()};we.prototype.ve=function(){return new ve(this)};
var Md=[new oc,new oc],Vd=[new oc,new oc],Wd=[new oc,new oc],Nd=S.q(0,0),Od=S.q(0,0),Pd=S.q(0,0),Sd=S.q(0,0),Qd=S.q(0,0),Rd=S.q(0,0),Td=S.q(0,0),Ud=S.q(0,0),od=0,xd=0,yd=0,vd=0,wd=0,pd=new Nc,qd=new xc,rd=new Tb,sd=new Tb,ud=new Ic,td=new yc;Vb.CA=new Tb;Wb.Ws=new Wb;new function(){this.position=S.q(0,0);this.Ov=S.q(0,0);this.Mc=S.q(0,0);this.id=new nc};W.IC=new Tb;W.kv=new jc;W.lv=new jc;var nd=new Oc,Kd=new Pc,Ld=new Jd}
function xe(a,b,c,d,e,g){return(c+0.1>=a&&a>=e-0.1||c-0.1<=a&&a<=e+0.1)&&(d+0.1>=b&&b>=g-0.1||d-0.1<=b&&b<=g+0.1)&&(0.1<Math.abs(e-c)?0.1>Math.abs((g-d)/(e-c)*(a-c)+d-b):0.1>Math.abs(a-c))}function ye(a,b){var c=S,d=ze(a),e=[],g,h,f,k,l,m,n,q,p;l=0;for(m=d.length;l<m;l++){h=d[l];g=[];g.length=h.length;n=p=0;for(q=h.length;n<q;n++)f=h[n],k=h[(n+1)%q],p+=f.x*k.y-f.y*k.x,g[n]=c.q(f.x,f.y);p=Math.abs(p/2);p>=0.0010*b&&e.push(g)}return e}
function ze(a){var b=[],c=0,d=0,e=0,g=0,h=0,f=h=0,k=0,l=0,m=0,g=0,n,q,p,t,r,x=g=c=0,y=0,e=[],k=[],C=!1,F=[],L=[];for(L.push(a);L.length;){b=L[0];d=b.length;C=!0;for(c=0;c<d;c++)if(l=c,m=c<d-1?c+1:c+1-d,g=c<d-2?c+2:c+2-d,a=b[l],n=b[m],g=b[g],g=a.x*n.y+n.x*g.y+g.x*a.y-a.y*n.x-n.y*g.x-g.y*a.x,0>g){C=!1;k=1E9;for(e=0;e<d;e++)if(e!==l&&e!==m){c=e;g=e<d-1?e+1:0;q=b[c];p=b[g];f=a.x;t=a.y;var E=n.x,A=n.y,h=q.x;q=q.y;var B=p.x;p=p.y;var v=E-f,D=A-t,G=B-h,M=p-q,G=(G*(q-t)-M*(h-f))/(D*G-v*M),v=f+G*v,D=t+G*D,
f=xe(E,A,f,t,v,D),h=xe(v,D,h,q,B,p);if(t=f&&h?S.q(v,D):null)h=n.x-t.x,f=n.y-t.y,h=h*h+f*f,h<k&&(y=c,x=g,r=t,k=h)}if(1E9===k)return[];e=[];k=[];c=y;g=x;q=b[c];p=b[g];0.1>Math.abs(p.x-r.x)&&0.1>Math.abs(p.y-r.y)||e.push(r);0.1>Math.abs(q.x-r.x)&&0.1>Math.abs(q.y-r.y)||k.push(r);y=-1;for(x=l;;){if(x!==g)e.push(b[x]);else{if(0>y||y>=d)return[];xe(p.x,p.y,b[y].x,b[y].y,a.x,a.y)||e.push(b[x]);break}y=x;0>x-1?x=d-1:x--}e.reverse();y=-1;for(x=m;;){if(x!==c)k.push(b[x]);else{if(0>y||y>=d)return[];x!==c||xe(q.x,
q.y,b[y].x,b[y].y,n.x,n.y)||k.push(b[x]);break}y=x;x+1>d-1?x=0:x++}L.push(e,k);L.shift();break}C&&F.push(L.shift())}return F}
function Ae(a){for(var b=0;4E3>b;b++)S.lg.push(new S(0,0));this.g=a;this.ud=new W(S.q(0,10),!0);this.bq=-1;a=new Wb;a.Xa=this;a.Sl=function(a){this.Xa.g.vA(a.sb.Ja().yf.S,a.ob.Ja().yf.S)};this.ud.vs(a);a=new Xb;a.Xa=this;a.Xh=function(a,b){if(this.Xa.lx)return!0;var e=a.Ja().yf.S.type,g=b.Ja().yf.S.type,h=e.za.zw;return h&&h.contains(g)?!1:(h=g.za.zw)&&h.contains(e)?!1:!0};this.ud.us(a);this.IA=0;this.Pl=8;this.Cl=3;this.lx=!0}
(function(){function a(){}function b(){}var c=S,d=V,e=Zb,g=X,h=Yb,f=$b,k=ac,l=Ae.prototype;l.hd=function(a,b){this.Xa=a;this.Jn=b;this.g=a.g};l.hd.prototype.xb=s();l.yc=function(a,b){this.type=a;this.Xa=a.Xa;this.S=b;this.g=a.g;this.ud=this.Xa.ud};var m=l.yc.prototype;m.xb=function(){this.Kp=0!==this.Oa[0];this.lt=this.Oa[1];this.Yq=0!==this.Oa[2];this.Xe=this.Oa[3];this.Ff=this.Oa[4];this.$f=this.Oa[5];this.wi=this.Oa[6];this.$h=this.Oa[7];this.di=0!==this.Oa[8];this.enabled=0!==this.Oa[9];this.body=
null;this.S.Qb();this.kn=this.S.x;this.ln=this.S.y;this.Lf=this.S.L;this.Zp=this.cq=0;this.bv=this.aq=!1;this.Xp=null;this.Yp=-1;this.Ld?(this.Ld.length=0,this.Je.length=0,this.Ag.clear()):(this.Ld=[],this.Je=[],this.Ag=new ca);var a=this;this.Od||(this.tl=function(b){a.Pq(b)});this.g.Ms(this.tl)};m.Wu=function(){this.S.Qb();this.ip();this.Xp=this.S.lb;this.Yp=this.S.W};m.Oi=function(){this.Em();this.Je.length=0;this.Ag.clear();this.body&&(this.ud.Xl(this.body),this.body=null);this.g.gv(this.tl)};
m.gd=function(){var a={e:this.enabled,im:this.Kp,pr:this.Yq,d:this.Xe,fr:this.Ff,re:this.$f,ld:this.wi,ad:this.$h,b:this.di,mcj:this.Je};if(this.enabled){var b=c.q(0,0);b.D(this.body.Qh());a.vx=b.x;a.vy=b.y;a.om=this.body.kk()}return a};m.Jd=function(a){this.Em();this.Je.length=0;this.Ag.clear();this.body&&(this.ud.Xl(this.body),this.body=null);this.enabled=a.e;this.Kp=a.im;this.Yq=a.pr;this.Xe=a.d;this.Ff=a.fr;this.$f=a.re;this.wi=a.ld;this.$h=a.ad;this.di=a.b;this.kn=this.S.x;this.ln=this.S.y;this.Lf=
this.S.L;this.cq=this.S.width;this.Zp=this.S.height;this.enabled&&(this.ip(),this.body.Wh(c.q(a.vx,a.vy)),this.body.wk(a.om),0===a.vx&&0===a.vy&&0===a.om||this.body.zc(!0),this.Je=a.mcj)};m.mg=function(){this.enabled&&this.gr();this.Xa.bq=this.g.Oe-1};m.Pq=function(a){var b,c,d,e=a.uid;d=b=0;for(c=this.Je.length;b<c;b++)this.Je[d]=this.Je[b],d<this.Ld.length&&(this.Ld[d]=this.Ld[b]),this.Je[b].hf[1]==e?this.ud.Yl(this.Ld[b]):d++;this.Je.length=d;d<this.Ld.length&&(this.Ld.length=d);this.Ag.remove(a)};
m.Em=function(){var a,b;a=0;for(b=this.Ld.length;a<b;a++)this.ud.Yl(this.Ld[a]);this.Ld.length=0};m.gr=function(){var a,b,c;a=0;for(b=this.Je.length;a<b;a++)switch(c=this.Je[a],c.type){case 0:this.Lx(c.hf[0],c.hf[1],c.hf[2],c.hf[3],c.hf[4]);break;case 1:this.Nx(c.hf[0],c.hf[1]);break;case 2:this.Mx(c.hf[0],c.hf[1],c.hf[2],c.hf[3])}};m.Hx=function(){this.body&&(this.Em(),this.ud.Xl(this.body),this.body=null,this.S.za.ze=null)};m.ip=function(){if(this.enabled){var a=this.S,b=!1,f=null,k=null,l,m,y,
C,F,L,E,A,B,v,D,G,M;if(this.body){b=!0;f=c.q(0,0);f.D(this.body.Qh());k=this.body.kk();A=this.Ag.Ti();l=0;for(m=A.length;l<m;l++)B=A[l].za.ze.yf,B.Em();this.Hx()}B=new e;B.Xe=this.Xe;B.Ff=this.Ff;B.$f=this.$f;l=new d;l.type=this.Kp?0:2;a.Qb();l.position.x=0.02*a.nc.Kj();l.position.y=0.02*a.nc.Lj();l.L=a.L;l.vp=this.Yq;l.wi=this.wi;l.$h=this.$h;l.di=this.di;A=this.S.nd&&!this.S.nd.$t();this.body=this.ud.qo(l);this.body.yf=this;l=this.lt;A||this.S.Ll||0!==this.lt||(l=1);m=Math.max(Math.abs(a.width),
1);y=Math.max(Math.abs(a.height),1);v=0>a.width;D=0>a.height;if(0===l)if(a.Ll)for(G=a.nc.Kj()-a.x,E=a.nc.Lj()-a.y,a.CC(),A=[],l=0,m=a.Cx.length;l<m;++l){v=a.Cx[l];D=v.FC;if(v.Rj){if(!v.Rj.xm){F=v.Rj.Ch;C=v.Rj.Tj;for(y=0;y<C;++y)A.push(c.q(F[2*y],F[2*y+1]));y=v.id&3758096384;(-2147483648===y||1073741824===y||536870912===y||y&-2147483648&&y&1073741824&&y&536870912)&&A.reverse();v.Rj.xm=ye(A,(D.right-D.left)*(D.bottom-D.top));y=0;for(C=A.length;y<C;++y)c.Jb(A[y]);A.length=0}y=0;for(C=v.Rj.xm.length;y<
C;++y){M=v.Rj.xm[y];F=0;for(L=M.length;F<L;++F)A.push(c.q(0.02*(D.left+M[F].x-G),0.02*(D.top+M[F].y-E)));B.shape=new g;B.shape.xk(A,A.length);this.body.Zi(B);F=0;for(L=A.length;F<L;++F)c.Jb(A[F]);A.length=0}}else A.push(c.q(0.02*(D.left-G),0.02*(D.top-E))),A.push(c.q(0.02*(D.right-G),0.02*(D.top-E))),A.push(c.q(0.02*(D.right-G),0.02*(D.bottom-E))),A.push(c.q(0.02*(D.left-G),0.02*(D.bottom-E))),B.shape=new g,B.shape.xk(A,A.length),this.body.Zi(B);y=0;for(C=A.length;y<C;++y)c.Jb(A[y]);A.length=0}else{l=
a.L;a.L=0;a.Bb();a.Qb();G=a.nc.Kj()-a.x;E=a.nc.Lj()-a.y;a.L=l;a.Bb();a.nd.ht(v?-m:m,D?-y:y,0);F=a.nd.Ch;C=a.nd.Tj;A=[];A.length=C;for(l=0;l<C;l++)A[l]=c.q(F[2*l]-G,F[2*l+1]-E);v!==D&&A.reverse();G=ye(A,m*y);for(l=0;l<C;l++)c.Jb(A[l]);if(G.length)for(l=0,m=G.length;l<m;l++){A=G[l];y=0;for(C=A.length;y<C;y++)E=A[y],E.x*=0.02,E.y*=0.02;B.shape=new g;B.shape.xk(A,A.length);this.body.Zi(B);y=0;for(C=A.length;y<C;y++)c.Jb(A[y])}else B.shape=new g,B.shape.hm(0.01*m,0.01*y),this.body.Zi(B)}else 1===l?(B.shape=
new g,B.shape.hm(0.01*m,0.01*y)):B.shape=new h(0.01*Math.min(m,y)),this.body.Zi(B);a.za.ze=this.body;this.cq=a.width;this.Zp=a.height;if(b)for(this.body.Wh(f),this.body.wk(k),c.Jb(f),this.gr(),A=this.Ag.Ti(),l=0,m=A.length;l<m;l++)B=A[l].za.ze.yf,B.gr()}};m.pf=function(){if(this.enabled){var a=this.S,b;0===this.Xa.IA?b=this.g.Ri/60:(b=this.g.Cp(this.S),b>1/30&&(b=1/30));this.g.Oe>this.Xa.bq&&0<this.g.Ri&&(this.ud.kg(b,this.Xa.Pl,this.Xa.Cl),this.ud.Qr(),this.Xa.bq=this.g.Oe);if(this.bv||a.width!==
this.cq||a.height!==this.Zp||a.lb!==this.Xp||a.W!==this.Yp||a.Ll&&a.Ru)this.ip(),this.bv=!1,this.Xp=a.lb,this.Yp=a.W,a.Ll&&a.Ru&&(a.Ru=!1);b=a.L!==this.Lf;if(a.x!==this.kn||a.y!==this.ln){a.Qb();var d=a.nc.Kj(),e=a.nc.Lj(),f=d-this.kn,g=e-this.ln;this.body.Jo(c.q(0.02*d,0.02*e));this.body.Wh(c.q(f,g));this.aq=!0;this.body.zc(!0)}else this.aq&&(this.aq=!1,this.body.Wh(c.q(0,0)),this.body.Jo(c.q(0.02*a.nc.Kj(),0.02*a.nc.Lj())));b&&(this.body.gm(a.L),this.body.zc(!0));d=this.body.u.position;b=d.x/0.02;
d=d.y/0.02;e=this.body.Tc();if(b!==a.x||d!==a.y||e!==a.L)if(a.x=b,a.y=d,a.L=e,a.Bb(),a.Qb(),b=a.nc.Kj()-a.x,d=a.nc.Lj()-a.y,0!==b||0!==d)a.x-=b,a.y-=d,a.Bb();this.kn=a.x;this.ln=a.y;this.Lf=a.L}};m.Um=function(a){return-1!==a&&this.S.Gf?0===a&&this.body?(this.body.u.position.x+this.body.Rh().x)/0.02:this.S.Gf(a,!0):this.S.x};m.Vm=function(a){return-1!==a&&this.S.Gf?0===a&&this.body?(this.body.u.position.y+this.body.Rh().y)/0.02:this.S.Gf(a,!1):this.S.y};l.ja=new (s());a.prototype.rf=function(a,b,
d){if(this.enabled){var e=this.Um(d);d=this.Vm(d);this.body.rf(c.q(a,b),c.q(0.02*e,0.02*d))}};a.prototype.gk=function(a){this.enabled&&this.body.gk(J(a))};a.prototype.wk=function(a){this.enabled&&(this.body.wk(J(a)),this.body.zc(!0))};m.Lx=function(a,b,d,e,g){if(this.enabled&&(b=this.g.qj(b))&&b!=this.S&&b.za.ze){b.za.ze.yf.Ag.add(this.S);var h=this.Um(a);a=this.Vm(a);var k;b.Gf?(k=b.Gf(d,!0),d=b.Gf(d,!1)):(k=b.x,d=b.y);var l=h-k,m=a-d,L=new f;L.Kb(this.body,b.za.ze,c.q(0.02*h,0.02*a),c.q(0.02*k,
0.02*d));L.length=0.02*Math.sqrt(l*l+m*m);L.Cm=e;L.Rm=g;this.Ld.push(this.ud.Wl(L))}};m.Nx=function(a,b){if(this.enabled){var d=this.g.qj(b);if(d&&d!=this.S&&d.za.ze){d.za.ze.yf.Ag.add(this.S);var e=this.Um(a),f=this.Vm(a),g=new k;g.Kb(this.body,d.za.ze,c.q(0.02*e,0.02*f));this.Ld.push(this.ud.Wl(g))}}};m.Mx=function(a,b,d,e){if(this.enabled&&(b=this.g.qj(b))&&b!=this.S&&b.za.ze){b.za.ze.yf.Ag.add(this.S);var f=this.Um(a);a=this.Vm(a);var g=new k;g.Kb(this.body,b.za.ze,c.q(0.02*f,0.02*a));g.ji=!0;
g.rq=J(d);g.Er=J(e);this.Ld.push(this.ud.Wl(g))}};l.xd=new a;b.prototype.Or=function(a){a.ca(this.enabled?wa(this.body.kk()):0)};l.Ic=new b})();function Be(a){this.g=a}
(function(){function a(){}var b=Be.prototype;b.hd=function(a,b){this.Xa=a;this.Jn=b;this.g=a.g};b.hd.prototype.xb=s();b.yc=function(a,b){this.type=a;this.Xa=a.Xa;this.S=b;this.g=a.g};var c=b.yc.prototype;c.xb=function(){this.uc=null;this.Ln=-1;this.mode=this.Lf=this.ao=this.Nj=this.Qg=this.Bl=0;var a=this;this.Od||(this.tl=function(b){a.Pq(b)});this.g.Ms(this.tl)};c.gd=function(){return{uid:this.uc?this.uc.uid:-1,pa:this.Bl,pd:this.Qg,msa:this.Nj,tsa:this.ao,lka:this.Lf,m:this.mode}};c.Jd=function(a){this.Ln=
a.uid;this.Bl=a.pa;this.Qg=a.pd;this.Nj=a.msa;this.ao=a.tsa;this.Lf=a.lka;this.mode=a.m};c.mg=function(){this.uc=-1===this.Ln?null:this.g.qj(this.Ln);this.Ln=-1};c.Pq=function(a){this.uc==a&&(this.uc=null)};c.Oi=function(){this.uc=null;this.g.gv(this.tl)};c.pf=s();c.co=function(){if(this.uc){this.Lf!==this.S.L&&(this.Nj=ya(this.Nj+(this.S.L-this.Lf)));var a=this.S.x,b=this.S.y;if(3===this.mode||4===this.mode){var c=Ja(this.S.x,this.S.y,this.uc.x,this.uc.y);if(c>this.Qg||4===this.mode&&c<this.Qg)b=
Da(this.uc.x,this.uc.y,this.S.x,this.S.y),a=this.uc.x+Math.cos(b)*this.Qg,b=this.uc.y+Math.sin(b)*this.Qg}else a=this.uc.x+Math.cos(this.uc.L+this.Bl)*this.Qg,b=this.uc.y+Math.sin(this.uc.L+this.Bl)*this.Qg;this.Lf=c=ya(this.Nj+(this.uc.L-this.ao));0!==this.mode&&1!==this.mode&&3!==this.mode&&4!==this.mode||this.S.x===a&&this.S.y===b||(this.S.x=a,this.S.y=b,this.S.Bb());0!==this.mode&&2!==this.mode||this.S.L===c||(this.S.L=c,this.S.Bb())}};b.ja=new (s());a.prototype.Aw=function(a,b){if(a){var c=a.It(this.S);
c&&(this.uc=c,this.Bl=Da(c.x,c.y,this.S.x,this.S.y)-c.L,this.Qg=Ja(c.x,c.y,this.S.x,this.S.y),this.Lf=this.Nj=this.S.L,this.ao=c.L,this.mode=b)}};b.xd=new a;b.Ic=new (s())})();function Ce(a){this.g=a;this.uv={}}
(function(){function a(){}var b=Ce.prototype;b.hd=function(a,b){this.Xa=a;this.Jn=b;this.g=a.g};b.hd.prototype.xb=s();b.yc=function(a,b){this.type=a;this.Xa=a.Xa;this.S=b;this.g=a.g;this.uv=this.Xa.uv};var c=b.yc.prototype,d={value:0,GA:aa("value"),jb:aa("value"),ca:aa("value")};c.xb=function(){this.Qu=this.gx();this.Ro=1==this.Oa[0];this.$n=this.Oa[1];this.Kq=this.Oa[2];this.Vq=new Ce.ms(this.Oa[3],this.Oa[4],this.Oa[5],this.Oa[6]);this.Bm=0};c.Oi=s();c.gx=function(){var a=this.type.Jn.Tm("Physics");
if(-1!=a)return this.S.wa[a];alert("You should add a physics for gravitation behavior.")};c.pf=function(){var a=this.cx(),a=(this.$n-a)/Math.abs(this.$n),a=this.Vq.sA(a);this.Ro?(this.Bm=a*this.Kq,this.dx(this.Bm)):this.Bm=0};c.dx=function(a){Ae.prototype.xd.gk.call(this.Qu,a)};c.cx=function(){Ae.prototype.Ic.Or.call(this.Qu,d);return d.value};c.gd=function(){return{en:this.Ro,ts:this.$n,mf:this.Kq,pid:this.Vq.gd()}};c.Jd=function(a){this.Ro=a.en;this.$n=a.ts;this.Kq=a.mf;this.Vq.Jd(a.pid)};b.ja=
new (s());b.xd=new (s());b.Ic=new a;a.prototype.cw=function(a){a.ca(this.Bm)}})();
(function(){Ce.ms=function(a,c,d,e){this.Wp=a;this.Vp=c;this.Up=d;this.Gm=this.Hk=0;this.iv=e;this.au=!1};var a=Ce.ms.prototype;a.sA=function(a){this.Hk=(this.au=0<this.iv&&Math.abs(a)>this.iv)?0:this.Hk+a;var c=a-this.Gm;this.Gm=a;a=this.Wp*a+this.Vp*this.Hk+this.Up*c;return a=va(a,-1,1)};a.gd=function(){return{kp:this.Wp,ki:this.Vp,kd:this.Up,ea:this.Hk,ep:this.Gm}};a.Jd=function(a){this.Wp=a.kp;this.Vp=a.ki;this.Up=a.kd;this.Hk=a.ea;this.Gm=a.ep}})();function De(a){this.g=a}
(function(){var a=De.prototype;a.hd=function(a,c){this.Xa=a;this.Jn=c;this.g=a.g};a.hd.prototype.xb=s();a.yc=function(a,c){this.type=a;this.Xa=a.Xa;this.S=c;this.g=a.g};a=a.yc.prototype;a.xb=s();a.pf=function(){this.S.Qb();var a=this.S.Yc,c=this.S.M.bb;(0>a.right||0>a.bottom||a.left>c.width||a.top>c.height)&&this.g.Ph(this.S)}})();
function Qb(){return[null,null,[[Rb,!1,!0,!0,!0,!0,!0,!0,!0,!1],[Sb,!1,!0,!0,!0,!0,!0,!0,!0,!1],[O,!0,!1,!1,!1,!1,!1,!1,!1,!1]],[["t0",Rb,!1,[],3,0,null,[["Default",0,!1,1,0,!1,6712836690537368,[["images/rotater-sheet0.png",99,0,0,250,20,1,0.5,0.5,[],[],1]]]],[["Physics",Ae,8347729865487331],["Pin",Be,8754769542861302],["Torque",Ce,9487723280816086]],!1,!1,0x47596ee746de9,[],null],["t1",O,!1,[],0,0,null,null,[],!1,!1,0x8633bb59e8b68,[],null,[1]],["t2",Rb,!1,[],2,0,null,[["Default",5,!1,1,0,!1,7990350122274357,
[["images/rock-sheet0.png",92,0,0,10,10,1,0.5,0.5,[],[],4]]]],[["Physics",Ae,5211540811321425],["DestroyOutsideLayout",De,0xf72d386ad34f1]],!1,!1,0xbba67b0211d39,[],null],["t3",Rb,!1,[],0,0,null,[["Default",5,!1,1,0,!1,0x72d27afedda2f,[["images/bg-sheet0.png",155,0,0,250,250,1,0,0,[],[],4]]]],[],!1,!1,0xa8a3933740bbd,[],null],["t4",Sb,!1,[],0,0,null,null,[],!1,!1,0x9aa6c2cdafddb,[],null],["t5",Sb,!1,[],0,0,null,null,[],!1,!1,5123204636804583,[],null]],[],[["Layout 1",1280,1024,!1,"Event sheet 1",
0x86540e06b0a77,[["Layer 0",0,4898158352349287,!0,[255,255,255],!1,1,1,1,!1,1,0,0,[[[0,0,0,640,480,0,0,1,0,0,0,0,[]],3,3,[],[],[0,"Default",0,1]],[[315,340,0,250,20,0,0,1,0.5,0.5,0,0,[]],0,0,[],[[0,1,0,1,0.5,0.2,0,0.01,0,1],[],[1,180,300,0.7,0.01,0.5,1]],[0,"Default",0,1]],[[-67,31,0,10,10,0,0,1,0.5,0.5,0,0,[]],2,2,[],[[0,0,0,10,0.5,0.2,0,0.01,0,1],[]],[0,"Default",0,1]],[[10,404,0,194,71,0,0,1,0,0,0,0,[]],4,4,[],[],["",0,"10pt Arial","rgb(0,0,0)",0,0,0,0,0]],[[16,17,0,517,37,0,0,1,0,0,0,0,[]],5,
5,[],[],["Click to create falling object",0,"10pt Arial","rgb(0,0,0)",0,0,0,0,0]]],[]]],[],[]]],[["Event sheet 1",[[0,null,!1,null,7119355559971917,[[-1,N.prototype.ja.ds,null,1,!1,!1,!1,9650589111628376,!1]],[[2,Rb.prototype.xd.Sc,null,9466921273998976,!1],[0,Be.prototype.xd.Aw,"Pin",9582982021548776,!1,[[4,3],[3,1]]]]],[0,null,!1,null,4571633717042518,[[1,O.prototype.ja.mw,null,0,!1,!1,!1,0x600ccba98405d,!1]],[[-1,N.prototype.xd.bw,null,7445398580159453,!1,[[4,2],[5,[0,0]],[0,[20,1,O.prototype.Ic.Es,
!1,null]],[0,[20,1,O.prototype.Ic.Gs,!1,null]]]]]],[0,null,!1,null,7475857839210495,[[-1,N.prototype.ja.fw,null,0,!1,!1,!1,0xe513b13adb529,!1]],[[4,Sb.prototype.xd.Gw,null,894163829642967,!1,[[7,[10,[10,[10,[10,[2,"Speed: "],[19,N.prototype.Ic["int"],[[22,0,"Physics",Ae.prototype.Ic.Or,!1,null]]]],[19,N.prototype.Ic.eA]],[2,"Force: "]],[19,N.prototype.Ic["int"],[[22,0,"Torque",Ce.prototype.Ic.cw,!1,null]]]]]]]]]]]],"media/",!1,640,480,4,!0,!0,!0,"1.0.0.0",!0,!1,0,0,6,!1,!0,[]]};
